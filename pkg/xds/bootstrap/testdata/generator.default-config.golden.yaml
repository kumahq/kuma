admin:
  accessLogPath: /dev/null
  address:
    socketAddress:
      address: 127.0.0.1
      portValue: 1234
dynamicResources:
  adsConfig:
    apiType: GRPC
    grpcServices:
      - envoyGrpc:
          clusterName: ads_cluster
  cdsConfig:
    ads: {}
  ldsConfig:
    ads: {}
node:
  cluster: backend
  id: mesh.name.namespace
  metadata:
    dataplane.admin.port: "1234"
    dataplaneResource: Y3JlYXRpb25UaW1lOiAiMjAxOC0wNy0xN1QxNjowNTozNi45OTVaIgptZXNoOiBtZXNoCm1vZGlmaWNhdGlvblRpbWU6ICIyMDE4LTA3LTE3VDE2OjA1OjM2Ljk5NVoiCm5hbWU6IG5hbWUubmFtZXNwYWNlCm5ldHdvcmtpbmc6CiAgYWRkcmVzczogOC44LjguOAogIGluYm91bmQ6CiAgLSBwb3J0OiA0NDMKICAgIHNlcnZpY2VQb3J0OiA4NDQzCiAgICB0YWdzOgogICAgICBrdW1hLmlvL3NlcnZpY2U6IGJhY2tlbmQKdHlwZTogRGF0YXBsYW5lCg==
    dataplaneTokenPath: /tmp/token
statsConfig:
  statsTags:
    - tagName: name
      regex: '^grpc\.((.+)\.)'
    - tagName: status
      regex: '^grpc.*streams_closed(_([0-9]+))'
    - tagName: worker
      regex: '(worker_([0-9]+)\.)'
    - tagName: listener
      regex: '((.+?)\.)rbac\.'
staticResources:
  clusters:
    - connectTimeout: 1s
      http2ProtocolOptions: {}
      loadAssignment:
        clusterName: ads_cluster
        endpoints:
          - lbEndpoints:
              - endpoint:
                  address:
                    socketAddress:
                      address: 127.0.0.1
                      portValue: 5678
      name: ads_cluster
      type: STRICT_DNS
      upstreamConnectionOptions:
        tcpKeepalive: {}
    - connectTimeout: 1s
      http2ProtocolOptions: {}
      loadAssignment:
        clusterName: access_log_sink
        endpoints:
          - lbEndpoints:
              - endpoint:
                  address:
                    pipe:
                      path: /tmp/kuma-access-logs-name.namespace-mesh.sock
      name: access_log_sink
      type: STATIC
      upstreamConnectionOptions:
        tcpKeepalive: {}
