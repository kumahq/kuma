dynamicResources:
  adsConfig:
    apiType: GRPC
    grpcServices:
      - googleGrpc:
          callCredentials:
            - fromPlugin:
                name: envoy.grpc_credentials.file_based_metadata
                typedConfig:
                  '@type': type.googleapis.com/envoy.config.grpc_credential.v2alpha.FileBasedMetadataConfig
                  secretData:
                    filename: /tmp/token
          credentialsFactoryName: envoy.grpc_credentials.file_based_metadata
          statPrefix: ads
          targetUri: 127.0.0.1:5678
  cdsConfig:
    ads: {}
  ldsConfig:
    ads: {}
node:
  cluster: backend
  id: default.dp-1
  metadata:
    dataplaneTokenPath: /tmp/token
staticResources:
  clusters:
    - connectTimeout: 1s
      http2ProtocolOptions: {}
      loadAssignment:
        clusterName: access_log_sink
        endpoints:
          - lbEndpoints:
              - endpoint:
                  address:
                    pipe:
                      path: /tmp/kuma-access-logs-dp-1-default.sock
      name: access_log_sink
      type: STATIC
      upstreamConnectionOptions:
        tcpKeepalive: {}
statsConfig:
  statsTags:
    - regex: ^grpc\.((.+)\.)
      tagName: name
    - regex: ^grpc.*streams_closed(_([0-9]+))
      tagName: status
    - regex: (worker_([0-9]+)\.)
      tagName: worker
    - regex: ((.+?)\.)rbac\.
      tagName: listener
