openapi: 3.1.0
info:
  version: v1alpha1
  title: Kuma API
  description: Kuma API
paths:
  /hostnamegenerators/{name}:
    get:
      operationId: getHostnameGenerator
      summary: Returns HostnameGenerator entity
      tags: ["HostnameGenerator"]
      parameters:
        - in: path
          name: name
          schema:
            type: string
          required: true
          description: name of the HostnameGenerator
      responses:
        '200':
          $ref: "#/components/responses/HostnameGeneratorItem"
        '404':
          $ref: "../../base/specs/common/error_schema.yaml#/components/responses/NotFound"
    put:
      operationId: putHostnameGenerator
      summary: Creates or Updates HostnameGenerator entity
      tags: ["HostnameGenerator"]
      parameters:
        - in: path
          name: name
          schema:
            type: string
          required: true
          description: name of the HostnameGenerator
      requestBody:
        description: Put request
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HostnameGeneratorItem'
      responses:
        '200':
          $ref: '#/components/responses/HostnameGeneratorCreateOrUpdateSuccessResponse'
        '201':
          $ref: '#/components/responses/HostnameGeneratorCreateOrUpdateSuccessResponse'
    delete:
      operationId: deleteHostnameGenerator
      summary: Deletes HostnameGenerator entity
      tags: ["HostnameGenerator"]
      parameters:
        - in: path
          name: name
          schema:
            type: string
          required: true
          description: name of the HostnameGenerator
      responses:
        '200':
          $ref: '#/components/responses/HostnameGeneratorDeleteSuccessResponse'
        '404':
          $ref: "../../base/specs/common/error_schema.yaml#/components/responses/NotFound"
  /hostnamegenerators:
    get:
      operationId: getHostnameGeneratorList
      summary: Returns a list of HostnameGenerator in the mesh.
      tags: ["HostnameGenerator"]
      parameters:
        - in: query
          name: offset
          description: offset in the list of entities
          required: false
          schema:
            type: integer
          example: 0
        - in: query
          name: size
          description: the number of items per page
          required: false
          schema:
            type: integer
            default: 100
            maximum: 1000
            minimum: 1
        - in: query
          name: filter
          description: filter by labels when multiple filters are present, they are ANDed
          required: false
          schema:
            type: object
            properties:
              key:
                type: string
              value:
                type: string
          example:
            label.k8s.kuma.io/namespace: my-ns
      responses:
        '200':
          $ref: "#/components/responses/HostnameGeneratorList"
components:
  schemas:
    HostnameGeneratorItem:
      type: object
      required: [type, name, spec]
      properties:
        type:
          description: 'the type of the resource'
          type: string
          enum:
            - HostnameGenerator
        kri:
          description: 'A unique identifier for this resource instance used by internal tooling and integrations. Typically derived from resource attributes and may be used for cross-references or indexing'
          type: string
          readOnly: true
          example: 'kri_hg___kuma-system_myresource1_'
        name:
          description: 'Name of the Kuma resource'
          type: string
        labels:
          additionalProperties:
            type: string
          description: 'The labels to help identity resources'
          type: object
        spec:
          description: Spec is the specification of the Kuma HostnameGenerator resource.
          properties:
            extension:
              description: Extension struct for a plugin configuration
              properties:
                config:
                  description: Config freeform configuration for the extension.
                  x-kubernetes-preserve-unknown-fields: true
                type:
                  description: Type of the extension.
                  type: string
              required:
                - type
              type: object
            selector:
              properties:
                meshExternalService:
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      type: object
                  type: object
                meshMultiZoneService:
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      type: object
                  type: object
                meshService:
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      type: object
                  type: object
              type: object
            template:
              type: string
          required:
            - template
          type: object
        creationTime:
          readOnly: true
          type: string
          description: 'Time at which the resource was created'
          format: date-time
          example: '0001-01-01T00:00:00Z'
        modificationTime:
          readOnly: true
          type: string
          description: 'Time at which the resource was updated'
          format: date-time
          example: '0001-01-01T00:00:00Z'
  responses:
    HostnameGeneratorItem:
      description: Successful response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/HostnameGeneratorItem'
    HostnameGeneratorList:
      description: List
      content:
        application/json:
          schema:
            type: object
            properties:
              items:
                type: array
                items:
                  $ref: "#/components/schemas/HostnameGeneratorItem"
              total:
                type: number
                description: The total number of entities
              next:
                type: string
                description: URL to the next page
    HostnameGeneratorCreateOrUpdateSuccessResponse:
      description: Successful response
      content:
        application/json:
          schema:
            type: object
            properties:
              warnings:
                type: array
                readOnly: true
                description: |
                  warnings is a list of warning messages to return to the requesting Kuma API clients.
                  Warning messages describe a problem the client making the API request should correct or be aware of.
                items:
                  type: string
    HostnameGeneratorDeleteSuccessResponse:
      description: Successful response
      content:
        application/json:
          schema:
            type: object
