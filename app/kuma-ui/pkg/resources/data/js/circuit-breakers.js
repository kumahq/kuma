(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["circuit-breakers"],{"1d3a":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n("b0c0"),n("d3b7"),n("96cf");var r=n("c964"),a=n("d0ff"),i=n("c6ec");function s(t){return Object(a["a"])(t).sort((function(t,e){return t.name>e.name||t.name===e.name&&t.mesh>e.mesh?1:-1}))}var o=function(t){return 0!==t.total&&t.items&&t.items.length>0?s(t.items):[]};function l(t){var e=t.getSingleEntity,n=t.getAllEntities,r=t.getAllEntitiesFromMesh,a=t.mesh,i=t.query,s=t.size,o=t.offset,l={size:s,offset:o};return a&&"all"!==a?e&&i&&i.length&&"all"!==a?e(a,i,l):r?r(a,l):Promise.resolve():n(l)}function u(t){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,s,u,c,p,f,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.getSingleEntity,r=e.getAllEntities,a=e.getAllEntitiesFromMesh,s=e.mesh,u=e.query,c=e.size,p=void 0===c?i["e"]:c,f=e.offset,t.next=3,l({getSingleEntity:n,getAllEntities:r,getAllEntitiesFromMesh:a,mesh:s,query:u,size:p,offset:f});case 3:if(d=t.sent,d){t.next=6;break}return t.abrupt("return",{data:[],next:!1});case 6:return t.abrupt("return",{data:d.items?o(d):[d],next:Boolean(d.next)});case 7:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}},"23d6":function(t,e,n){"use strict";n("b91b")},"59e8":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"circuit-breakers"},[n("FrameSkeleton",[n("DataOverview",{attrs:{"page-size":t.pageSize,"has-error":t.hasError,"is-loading":t.isLoading,"empty-state":t.empty_state,"display-data-table":!0,"table-data":t.tableData,"table-data-is-empty":t.tableDataIsEmpty,"table-data-function-text":"View",next:t.next},on:{tableAction:t.tableAction,loadData:function(e){return t.loadData(e)}},scopedSlots:t._u([{key:"additionalControls",fn:function(){return[t.$route.query.ns?n("KButton",{staticClass:"back-button",attrs:{appearance:"primary",size:"small",to:{name:"circuit-breakers"}}},[n("span",{staticClass:"custom-control-icon"},[t._v(" ← ")]),t._v(" View All ")]):t._e()]},proxy:!0}])},[t._v(" > ")]),!1===t.isEmpty?n("Tabs",{attrs:{"has-error":t.hasError,"is-loading":t.isLoading,tabs:t.tabs,"initial-tab-override":"overview"},scopedSlots:t._u([{key:"tabHeader",fn:function(){return[n("div",[n("h3",[t._v(t._s(t.tabGroupTitle))])]),n("div",[n("EntityURLControl",{attrs:{url:t.shareUrl}})],1)]},proxy:!0},{key:"overview",fn:function(){return[n("LabelList",{attrs:{"has-error":t.entityHasError,"is-loading":t.entityIsLoading,"is-empty":t.entityIsEmpty}},[n("div",[n("ul",t._l(t.entity,(function(e,r){return n("li",{key:r},[n("h4",[t._v(t._s(r))]),n("p",[t._v(" "+t._s(e)+" ")])])})),0)])])]},proxy:!0},{key:"yaml",fn:function(){return[n("YamlView",{attrs:{lang:"yaml",title:t.entityOverviewTitle,"has-error":t.entityHasError,"is-loading":t.entityIsLoading,"is-empty":t.entityIsEmpty,content:t.rawEntity}})]},proxy:!0}],null,!1,3472425054)}):t._e()],1)],1)},a=[],i=(n("99af"),n("b0c0"),n("d3b7"),n("96cf"),n("c964")),s=n("bc1e"),o=n("1d3a"),l=n("0f82"),u=n("6663"),c=n("1d10"),p=n("2778"),f=n("251b"),d=n("ff9d"),y=n("0ada"),h=n("c6ec"),m={name:"CircuitBreakers",metaInfo:{title:"Circuit Breakers"},components:{EntityURLControl:u["a"],FrameSkeleton:c["a"],DataOverview:p["a"],Tabs:f["a"],YamlView:d["a"],LabelList:y["a"]},data:function(){return{isLoading:!0,isEmpty:!1,hasError:!1,entityIsLoading:!0,entityIsEmpty:!1,entityHasError:!1,tableDataIsEmpty:!1,empty_state:{title:"No Data",message:"There are no Circuit Breakers present."},tableData:{headers:[{key:"actions",hideLabel:!0},{label:"Name",key:"name"},{label:"Mesh",key:"mesh"},{label:"Type",key:"type"}],data:[]},tabs:[{hash:"#overview",title:"Overview"},{hash:"#yaml",title:"YAML"}],entity:[],rawEntity:null,firstEntity:null,pageSize:h["e"],next:null}},computed:{tabGroupTitle:function(){var t=this.entity;return t?"Circuit Breaker: ".concat(t.name):null},entityOverviewTitle:function(){var t=this.entity;return t?"Entity Overview for ".concat(t.name):null},shareUrl:function(){var t=this,e="".concat(window.location.origin,"#"),n=this.entity,r=function(){return t.$route.query.ns?t.$route.fullPath:"".concat(e).concat(t.$route.fullPath,"?ns=").concat(n.name)};return r()}},watch:{$route:function(t,e){this.init()}},beforeMount:function(){this.init()},methods:{init:function(){this.loadData()},tableAction:function(t){var e=t;this.getEntity(e)},loadData:function(){var t=arguments,e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,i,u,c,p,f,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:"0",e.isLoading=!0,a=e.$route.query.ns||null,i=e.$route.params.mesh||null,n.prev=4,n.next=7,Object(o["a"])({getSingleEntity:l["a"].getCircuitBreaker.bind(l["a"]),getAllEntities:l["a"].getAllCircuitBreakers.bind(l["a"]),getAllEntitiesFromMesh:l["a"].getAllCircuitBreakersFromMesh.bind(l["a"]),mesh:i,query:a,size:e.pageSize,offset:r});case 7:u=n.sent,c=u.data,p=u.next,e.next=p,c.length?(e.tableData.data=c,e.tableDataIsEmpty=!1,e.isEmpty=!1,f=["type","name","mesh"],d=c[0],e.entity=Object(s["d"])(d,f),e.rawEntity=Object(s["j"])(d)):(e.tableData.data=[],e.tableDataIsEmpty=!0,e.isEmpty=!0,e.entityIsEmpty=!0),n.next=19;break;case 14:n.prev=14,n.t0=n["catch"](4),e.hasError=!0,e.isEmpty=!0,console.error(n.t0);case 19:return n.prev=19,e.isLoading=!1,e.entityIsLoading=!1,n.finish(19);case 23:case"end":return n.stop()}}),n,null,[[4,14,19,23]])})))()},getEntity:function(t){var e=this;if(this.entityIsLoading=!0,this.entityIsEmpty=!1,this.entityHasError=!1,t)return l["a"].getCircuitBreaker(t.mesh,t.name).then((function(t){if(t){var n=["type","name","mesh"];e.entity=Object(s["d"])(t,n),e.rawEntity=Object(s["j"])(t)}else e.entity=null,e.entityIsEmpty=!0})).catch((function(t){e.entityHasError=!0,console.error(t)})).finally((function(){e.entityIsLoading=!1}));this.entityIsEmpty=!0,this.entityIsLoading=!1}}},b=m,v=n("2877"),g=Object(v["a"])(b,r,a,!1,null,null,null);e["default"]=g.exports},"62e5":function(t,e){var n;n=function(){function t(t,e){var n,r,a,i,s,o,l,u,c;null==e&&(e=""),a="",s=t.length,o=null,r=0,i=0;while(i<s){if(n=t.charAt(i),"\\"===n)a+=t.slice(i,+(i+1)+1||9e9),i++;else if("("===n)if(i<s-2)if(u=t.slice(i,+(i+2)+1||9e9),"(?:"===u)i+=2,a+=u;else if("(?<"===u){r++,i+=2,l="";while(i+1<s){if(c=t.charAt(i+1),">"===c){a+="(",i++,l.length>0&&(null==o&&(o={}),o[l]=r);break}l+=c,i++}}else a+=n,r++;else a+=n;else a+=n;i++}this.rawRegex=t,this.cleanedRegex=a,this.regex=new RegExp(this.cleanedRegex,"g"+e.replace("g","")),this.mapping=o}return t.prototype.regex=null,t.prototype.rawRegex=null,t.prototype.cleanedRegex=null,t.prototype.mapping=null,t.prototype.exec=function(t){var e,n,r,a;if(this.regex.lastIndex=0,n=this.regex.exec(t),null==n)return null;if(null!=this.mapping)for(r in a=this.mapping,a)e=a[r],n[r]=n[e];return n},t.prototype.test=function(t){return this.regex.lastIndex=0,this.regex.test(t)},t.prototype.replace=function(t,e){return this.regex.lastIndex=0,t.replace(this.regex,e)},t.prototype.replaceAll=function(t,e,n){var r;null==n&&(n=0),this.regex.lastIndex=0,r=0;while(this.regex.test(t)&&(0===n||r<n))this.regex.lastIndex=0,t=t.replace(this.regex,e),r++;return[t,r]},t}(),t.exports=n},6663:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"entity-url-control"},[t.shouldDisplay?n("KClipboardProvider",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.copyToClipboard;return[n("KPop",{attrs:{placement:"bottom"},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",[n("p",[t._v(t._s(t.confirmationText))])])]},proxy:!0}],null,!0)},[n("KButton",{attrs:{appearance:"secondary",size:"small"},on:{click:function(){r(t.url)}},scopedSlots:t._u([{key:"icon",fn:function(){return[n("KIcon",{attrs:{"view-box":"0 0 16 16",icon:"externalLink"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(t.copyButtonText)+" ")])],1)]}}],null,!1,244323940)}):t._e()],1)},a=[],i=n("a026"),s=i["default"].extend({name:"EntityURLControl",props:{url:{type:String,required:!0},copyButtonText:{type:String,default:"Copy URL"},confirmationText:{type:String,default:"URL copied to clipboard!"}},computed:{shouldDisplay:function(){var t=this.$route.params.mesh||null;return!(!t||"all"===t)}}}),o=s,l=n("2877"),u=Object(l["a"])(o,r,a,!1,null,null,null);e["a"]=u.exports},"6d8a":function(t,e,n){var r,a;a=n("62e5"),r=function(){var t;function e(){}return e.LIST_ESCAPEES=["\\","\\\\",'\\"','"',"\0","","","","","","","","\b","\t","\n","\v","\f","\r","","","","","","","","","","","","","","","","","","",(t=String.fromCharCode)(133),t(160),t(8232),t(8233)],e.LIST_ESCAPED=["\\\\",'\\"','\\"','\\"',"\\0","\\x01","\\x02","\\x03","\\x04","\\x05","\\x06","\\a","\\b","\\t","\\n","\\v","\\f","\\r","\\x0e","\\x0f","\\x10","\\x11","\\x12","\\x13","\\x14","\\x15","\\x16","\\x17","\\x18","\\x19","\\x1a","\\e","\\x1c","\\x1d","\\x1e","\\x1f","\\N","\\_","\\L","\\P"],e.MAPPING_ESCAPEES_TO_ESCAPED=function(){var t,n,r,a;for(r={},t=n=0,a=e.LIST_ESCAPEES.length;0<=a?n<a:n>a;t=0<=a?++n:--n)r[e.LIST_ESCAPEES[t]]=e.LIST_ESCAPED[t];return r}(),e.PATTERN_CHARACTERS_TO_ESCAPE=new a("[\\x00-\\x1f]|Â|Â |â¨|â©"),e.PATTERN_MAPPING_ESCAPEES=new a(e.LIST_ESCAPEES.join("|").split("\\").join("\\\\")),e.PATTERN_SINGLE_QUOTING=new a("[\\s'\":{}[\\],&*#?]|^[-?|<>=!%@`]"),e.requiresDoubleQuoting=function(t){return this.PATTERN_CHARACTERS_TO_ESCAPE.test(t)},e.escapeWithDoubleQuotes=function(t){var e;return e=this.PATTERN_MAPPING_ESCAPEES.replace(t,function(t){return function(e){return t.MAPPING_ESCAPEES_TO_ESCAPED[e]}}(this)),'"'+e+'"'},e.requiresSingleQuoting=function(t){return this.PATTERN_SINGLE_QUOTING.test(t)},e.escapeWithSingleQuotes=function(t){return"'"+t.replace(/'/g,"''")+"'"},e}(),t.exports=r},b480:function(t,e,n){"use strict";n("cc16")},b91b:function(t,e,n){},cc16:function(t,e,n){},e80b:function(t,e,n){var r=n("6d8a"),a="  ";function i(t){var e=typeof t;return t instanceof Array?"array":"string"==e?"string":"boolean"==e?"boolean":"number"==e?"number":"undefined"==e||null===t?"null":"hash"}function s(t,e){var n=i(t);switch(n){case"array":o(t,e);break;case"hash":l(t,e);break;case"string":c(t,e);break;case"null":e.push("null");break;case"number":e.push(t.toString());break;case"boolean":e.push(t?"true":"false");break}}function o(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=[];s(r,i);for(var o=0;o<i.length;o++)e.push((0==o?"- ":a)+i[o])}}function l(t,e){for(var n in t){var r=[];if(t.hasOwnProperty(n)){var o=t[n];s(o,r);var l=i(o);if("string"==l||"null"==l||"number"==l||"boolean"==l)e.push(u(n)+": "+r[0]);else{e.push(u(n)+": ");for(var c=0;c<r.length;c++)e.push(a+r[c])}}}}function u(t){return t.match(/^[\w]+$/)?t:r.requiresDoubleQuoting(t)?r.escapeWithDoubleQuotes(t):r.requiresSingleQuoting(t)?r.escapeWithSingleQuotes(t):t}function c(t,e){e.push(u(t))}var p=function(t){"string"==typeof t&&(t=JSON.parse(t));var e=[];return s(t,e),e.join("\n")};t.exports=p},ff9d:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"yaml-view"},[t.isReady?n("div",{staticClass:"yaml-view-content"},[t.isLoading||t.isEmpty?t._e():n("KCard",{attrs:{title:t.title,"border-variant":"noBorder"},scopedSlots:t._u([{key:"body",fn:function(){return[n("KTabs",{key:t.environment,attrs:{tabs:t.tabs},scopedSlots:t._u([{key:"universal",fn:function(){return[n("KClipboardProvider",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.copyToClipboard;return[n("KPop",{attrs:{placement:"bottom"},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",[n("p",[t._v("Entity copied to clipboard!")])])]},proxy:!0}],null,!0)},[n("KButton",{staticClass:"copy-button",attrs:{appearance:"primary",size:"small"},on:{click:function(){r(t.yamlContent.universal)}}},[t._v(" Copy Universal YAML ")])],1)]}}],null,!1,1536634960)}),n("prism",{staticClass:"code-block",attrs:{language:"yaml",code:t.yamlContent.universal}})]},proxy:!0},{key:"kubernetes",fn:function(){return[n("KClipboardProvider",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.copyToClipboard;return[n("KPop",{attrs:{placement:"bottom"},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",[n("p",[t._v("Entity copied to clipboard!")])])]},proxy:!0}],null,!0)},[n("KButton",{staticClass:"copy-button",attrs:{appearance:"primary",size:"small"},on:{click:function(){r(t.yamlContent.kubernetes)}}},[t._v(" Copy Kubernetes YAML ")])],1)]}}],null,!1,2265429040)}),n("prism",{staticClass:"code-block",attrs:{language:"yaml",code:t.yamlContent.kubernetes}})]},proxy:!0}],null,!1,661975406),model:{value:t.activeTab.hash,callback:function(e){t.$set(t.activeTab,"hash",e)},expression:"activeTab.hash"}})]},proxy:!0}],null,!1,2034136171)})],1):t._e(),!0===t.loaders?n("div",[t.isLoading?n("KEmptyState",{attrs:{"cta-is-hidden":""},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"card-icon mb-3"},[n("KIcon",{attrs:{icon:"spinner",color:"rgba(0, 0, 0, 0.1)",size:"42"}})],1),t._v(" Data Loading... ")]},proxy:!0}],null,!1,3263214496)}):t._e(),t.isEmpty&&!t.isLoading?n("KEmptyState",{attrs:{"cta-is-hidden":""},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"card-icon mb-3"},[n("KIcon",{staticClass:"kong-icon--centered",attrs:{color:"var(--yellow-200)",icon:"warning",size:"42"}})],1),t._v(" There is no data to display. ")]},proxy:!0}],null,!1,2335905663)}):t._e(),t.hasError?n("KEmptyState",{attrs:{"cta-is-hidden":""},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"card-icon mb-3"},[n("KIcon",{staticClass:"kong-icon--centered",attrs:{color:"var(--yellow-200)",icon:"warning",size:"42"}})],1),t._v(" An error has occurred while trying to load this data. ")]},proxy:!0}],null,!1,1239662822)}):t._e()],1):t._e()])},a=[],i=(n("caad"),n("a15b"),n("b0c0"),n("4fad"),n("ac1f"),n("2532"),n("1276"),n("f3f3")),s=n("2f62"),o=n("2ccf"),l=n.n(o),u=n("e80b"),c=n.n(u),p={name:"YamlView",components:{prism:l.a},props:{title:{type:String,default:null},content:{type:Object,default:null},loaders:{type:Boolean,default:!0},isLoading:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1}},data:function(){return{tabs:[{hash:"#universal",title:"Universal"},{hash:"#kubernetes",title:"Kubernetes"}]}},computed:Object(i["a"])(Object(i["a"])({},Object(s["c"])({environment:"config/getEnvironment"})),{},{isReady:function(){return!this.isEmpty&&!this.hasError&&!this.isLoading},activeTab:{get:function(){var t=this.environment;return{hash:"#".concat(t),nohash:t}},set:function(t){return{hash:"#".concat(t),nohash:t}}},yamlContent:function(){var t=this,e=this.content,n=function(){var e={},n=Object.assign({},t.content),r=n.name,a=n.mesh,i=n.type,s=function(){var e=Object.assign({},t.content);return delete e.type,delete e.mesh,delete e.name,!!(e&&Object.entries(e).length>0)&&e};if(e.apiVersion="kuma.io/v1alpha1",e.kind=i,void 0!==a&&(e.mesh=n.mesh),null!==r&&void 0!==r&&r.includes(".")){var o=r.split("."),l=o.pop(),u=o.join(".");e.metadata={name:u,namespace:l}}else e.metadata={name:r};return s()&&(e.spec=s()),e},r={universal:c()(e),kubernetes:c()(n())};return r}})},f=p,d=(n("23d6"),n("b480"),n("2877")),y=Object(d["a"])(f,r,a,!1,null,"c38fd576",null);e["a"]=y.exports}}]);