(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["zoneingresses"],{"0f12":function(e,t,n){},"1d3a":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("b0c0"),n("d3b7"),n("96cf");var i=n("c964"),a=n("d0ff"),r=n("c6ec");function s(e){return Object(a["a"])(e).sort((function(e,t){return e.name>t.name||e.name===t.name&&e.mesh>t.mesh?1:-1}))}var o=function(e){return 0!==e.total&&e.items&&e.items.length>0?s(e.items):[]};function c(e){var t=e.getSingleEntity,n=e.getAllEntities,i=e.getAllEntitiesFromMesh,a=e.mesh,r=e.query,s=e.size,o=e.offset,c={size:s,offset:o};return t&&r?t({mesh:a,name:r},c):a&&"all"!==a?i&&a?i({mesh:a},c):Promise.resolve():n(c)}function l(e){return u.apply(this,arguments)}function u(){return u=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,s,l,u,d,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.getSingleEntity,i=t.getAllEntities,a=t.getAllEntitiesFromMesh,s=t.mesh,l=t.query,u=t.size,d=void 0===u?r["f"]:u,f=t.offset,e.next=3,c({getSingleEntity:n,getAllEntities:i,getAllEntitiesFromMesh:a,mesh:s,query:l,size:d,offset:f});case 3:if(p=e.sent,p){e.next=6;break}return e.abrupt("return",{data:[],next:!1});case 6:return e.abrupt("return",{data:p.items?o(p):[p],next:Boolean(p.next)});case 7:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}},"1f94":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.details.globalInstanceId||e.details.connectTime||e.details.disconnectTime?n("div",[n("h5",{staticClass:"overview-tertiary-title"},[e._v(" General Information: ")]),n("ul",[e.details.globalInstanceId?n("li",[n("strong",[e._v("Global Instance ID:")]),e._v(" "),n("span",{staticClass:"mono"},[e._v(e._s(e.details.globalInstanceId))])]):e._e(),e.details.connectTime?n("li",[n("strong",[e._v("Last Connected:")]),e._v(" "+e._s(e._f("readableDate")(e.details.connectTime))+" ")]):e._e(),e.details.disconnectTime?n("li",[n("strong",[e._v("Last Disconnected:")]),e._v(" "+e._s(e._f("readableDate")(e.details.disconnectTime))+" ")]):e._e()])]):e._e(),e.details.status?n("div",[e.details.status.stat?n("ul",{staticClass:"overview-stat-grid"},e._l(e.details.status.stat,(function(t,i){return n("li",{key:i},[n("h6",{staticClass:"overview-tertiary-title"},[e._v(" "+e._s(e._f("humanReadable")(i))+": ")]),n("ul",e._l(t,(function(t,i){return n("li",{key:i},[n("strong",[e._v(e._s(e._f("humanReadable")(i))+":")]),e._v(" "),n("span",{staticClass:"mono"},[e._v(e._s(e._f("formatError")(e._f("formatValue")(t))))])])})),0)])})),0):e._e()]):n("KAlert",{staticClass:"mt-4",attrs:{appearance:"info"},scopedSlots:e._u([{key:"alertIcon",fn:function(){return[n("KIcon",{attrs:{icon:"portal"}})]},proxy:!0},{key:"alertMessage",fn:function(){return[e._v(" There are no Policy statistics for "),n("strong",[e._v(e._s(e.details.id))])]},proxy:!0}])})],1)},a=[],r=(n("d3b7"),n("25f0"),n("bc1e")),s={name:"ZoneInsightSubscriptionDetails",filters:{formatValue:function(e){return e?parseInt(e,10).toLocaleString("en").toString():0},readableDate:function(e){return Object(r["f"])(e)},humanReadable:function(e){return Object(r["b"])(e)},formatError:function(e){return"--"===e?"error calculating":e}},props:{details:{type:Object,required:!0}}},o=s,c=(n("e6cb"),n("2877")),l=Object(c["a"])(o,i,a,!1,null,"29e48e09",null);t["a"]=l.exports},"2ee4":function(e,t,n){"use strict";n("0f12")},"3ddf":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{class:e.accordionItemClasses},[n("button",{staticClass:"accordion-item-header",attrs:{"aria-expanded":e.visible},on:{click:e.open}},[e._t("accordion-header")],2),n("transition",{attrs:{name:"accordion"},on:{enter:e.start,"after-enter":e.end,"before-leave":e.start}},[e.visible?n("div",{staticClass:"px-4"},[e._t("accordion-content")],2):e._e()])],1)},a=[],r=(n("caad"),n("c975"),n("a434"),n("2532"),{name:"AccordionItem",inject:["parentAccordion"],data:function(){return{index:null}},computed:{visible:function(){return this.parentAccordion.multipleOpen?this.parentAccordion.active.includes(this.index):this.index===this.parentAccordion.active},accordionItemClasses:function(){return["relative border-b py-2",{active:this.visible}]}},created:function(){this.index=this.parentAccordion.count++},methods:{hideItem:function(){this.parentAccordion.multipleOpen?this.parentAccordion.active.splice(this.parentAccordion.active.indexOf(this.index),1):this.parentAccordion.active=null},showItem:function(){this.parentAccordion.multipleOpen?this.parentAccordion.active.push(this.index):this.parentAccordion.active=this.index},open:function(){this.visible?this.hideItem():this.showItem()},start:function(e){e.style.height="".concat(e.scrollHeight,"px")},end:function(e){e.style.height="auto"}}}),s=r,o=(n("9cd3"),n("2877")),c=Object(o["a"])(s,i,a,!1,null,"6f89660e",null);t["a"]=c.exports},"3f31":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("KEmptyState",{scopedSlots:e._u([{key:"title",fn:function(){return[n("KIcon",{staticClass:"kong-icon--centered",attrs:{icon:"dangerCircle",size:"42"}}),e._v(" "+e._s(e.productName)+" is running in Standalone mode. ")]},proxy:!0},{key:"message",fn:function(){return[n("p",[e._v(" To access this page, you must be running in "),n("strong",[e._v("Multi-Zone")]),e._v(" mode. ")])]},proxy:!0},{key:"cta",fn:function(){return[n("KButton",{attrs:{to:"https://kuma.io/docs/"+e.version+"/documentation/deployments/",target:"_blank",appearance:"primary"}},[e._v(" Learn More ")])]},proxy:!0}])})},a=[],r=n("f3f3"),s=n("2f62"),o=n("c6ec"),c={name:"MultizoneInfo",data:function(){return{productName:o["h"]}},computed:Object(r["a"])({},Object(s["c"])({version:"config/getVersion"}))},l=c,u=n("2877"),d=Object(u["a"])(l,i,a,!1,null,null,null);t["a"]=d.exports},"4bba":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"zoneingresses"},[!1===e.multicluster?n("MultizoneInfo"):n("FrameSkeleton",[n("DataOverview",{attrs:{"page-size":e.pageSize,"has-error":e.hasError,"is-loading":e.isLoading,"empty-state":e.empty_state,"table-data":e.tableData,"table-data-is-empty":e.tableDataIsEmpty,"show-warnings":e.tableData.data.some((function(e){return e.withWarnings})),next:e.next},on:{tableAction:e.tableAction,loadData:function(t){return e.loadData(t)}}}),!1===e.isEmpty?n("Tabs",{attrs:{"has-error":e.hasError,"is-loading":e.isLoading,tabs:e.tabs,"initial-tab-override":"overview"},scopedSlots:e._u([{key:"tabHeader",fn:function(){return[e.entity?n("h3",[e._v(" Zone Ingress: "+e._s(e.entity.name)+" ")]):e._e()]},proxy:!0},{key:"overview",fn:function(){return[n("LabelList",{attrs:{"has-error":e.entityHasError,"is-loading":e.entityIsLoading,"is-empty":e.entityIsEmpty}},[n("div",[n("ul",e._l(e.entity,(function(t,i){return n("li",{key:i},[t?n("h4",[e._v(" "+e._s(i)+" ")]):e._e(),"status"===i?n("p",[n("KBadge",{attrs:{appearance:"Offline"===t?"danger":"success"}},[e._v(" "+e._s(t)+" ")])],1):n("p",[e._v(" "+e._s(t)+" ")])])})),0)])])]},proxy:!0},{key:"insights",fn:function(){return[n("KCard",{attrs:{"border-variant":"noBorder"},scopedSlots:e._u([{key:"body",fn:function(){return[n("Accordion",{attrs:{"initially-open":0}},e._l(e.zoneIngressInsightSubscriptionsReversed,(function(t,i){return n("AccordionItem",{key:i,scopedSlots:e._u([{key:"accordion-header",fn:function(){return[n("ZoneInsightSubscriptionHeader",{attrs:{details:t}})]},proxy:!0},{key:"accordion-content",fn:function(){return[n("ZoneInsightSubscriptionDetails",{attrs:{details:t}})]},proxy:!0}],null,!0)})})),1)]},proxy:!0}],null,!1,783680012)})]},proxy:!0}],null,!1,2458590413)}):e._e()],1)],1)},a=[],r=(n("a630"),n("d81d"),n("b0c0"),n("3ca3"),n("96cf"),n("c964")),s=n("f3f3"),o=n("9b02"),c=n.n(o),l=n("2f62"),u=n("1d3a"),d=n("bc1e"),f=n("0f82"),p=n("1d10"),m=n("2778"),h=n("251b"),b=n("0ada"),v=n("dbf3"),g=n("c6ec"),y=n("520d"),_=n("3ddf"),I=n("1f94"),x=n("9c68"),E=n("3f31"),O={name:"ZoneIngresses",components:{FrameSkeleton:p["a"],DataOverview:m["a"],Tabs:h["a"],LabelList:b["a"],Accordion:y["a"],AccordionItem:_["a"],ZoneInsightSubscriptionDetails:I["a"],ZoneInsightSubscriptionHeader:x["a"],MultizoneInfo:E["a"]},metaInfo:{title:"ZoneIngresses"},data:function(){return{isLoading:!0,isEmpty:!1,hasError:!1,entityIsLoading:!0,entityIsEmpty:!1,entityHasError:!1,tableDataIsEmpty:!1,empty_state:{title:"No Data",message:"There are no Zone Ingresses present."},tableData:{headers:[{key:"actions",hideLabel:!0},{label:"Status",key:"status"},{label:"Name",key:"name"}],data:[]},tabs:[{hash:"#overview",title:"Overview"},{hash:"#insights",title:"Zone Ingress Insights"}],entity:{},pageSize:g["f"],next:null,zoneIngressInsightSubscriptionsReversed:[]}},computed:Object(s["a"])(Object(s["a"])({},Object(l["c"])({multicluster:"config/getMulticlusterStatus"})),{},{pageTitle:function(){return this.$route.meta.title}}),watch:{$route:function(){this.init()}},beforeMount:function(){this.init()},methods:{init:function(){this.multicluster&&this.loadData()},tableAction:function(e){var t=e;this.getEntity(t)},loadData:function(){var e=arguments,t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:"0",t.isLoading=!0,t.isEmpty=!1,n.prev=3,n.next=6,Object(u["a"])({getAllEntities:f["a"].getAllZoneIngressOverviews.bind(f["a"]),size:t.pageSize,offset:i});case 6:a=n.sent,r=a.data,o=a.next,t.next=o,r.length?(t.tableData.data=r.map((function(e){var t=e.zoneIngressInsight,n=void 0===t?{}:t;return Object(s["a"])(Object(s["a"])({},e),Object(v["m"])(n))})),t.tableDataIsEmpty=!1,t.isEmpty=!1,t.getEntity({name:r[0].name})):(t.tableData.data=[],t.tableDataIsEmpty=!0,t.isEmpty=!0,t.entityIsEmpty=!0),n.next=18;break;case 13:n.prev=13,n.t0=n["catch"](3),t.hasError=!0,t.isEmpty=!0,console.error(n.t0);case 18:return n.prev=18,t.isLoading=!1,n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[3,13,18,21]])})))()},getEntity:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.entityIsLoading=!0,t.entityIsEmpty=!0,i=["type","name","mesh"],a=setTimeout((function(){t.entityIsEmpty=!0,t.entityIsLoading=!1}),"500"),!e){n.next=24;break}return t.entityIsEmpty=!1,n.prev=6,n.next=9,f["a"].getZoneIngressOverview({name:e.name});case 9:r=n.sent,s=c()(r,"zoneIngressInsight.subscriptions",[]),t.zoneIngressInsightSubscriptionsReversed=Array.from(s).reverse(),t.entity=Object(d["d"])(r,i),n.next=21;break;case 15:n.prev=15,n.t0=n["catch"](6),console.error(n.t0),t.entity=null,t.entityHasError=!0,t.entityIsEmpty=!0;case 21:return n.prev=21,clearTimeout(a),n.finish(21);case 24:t.entityIsLoading=!1;case 25:case"end":return n.stop()}}),n,null,[[6,15,21,24]])})))()}}},w=O,A=n("2877"),k=Object(A["a"])(w,i,a,!1,null,null,null);t["default"]=k.exports},"520d":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"accordion"},[e._t("default")],2)},a=[],r=(n("a9e3"),{name:"Accordion",props:{initiallyOpen:{type:[Number,Array],default:null},multipleOpen:{type:Boolean,default:!1}},data:function(){var e;return e=null!==this.initiallyOpen?this.initiallyOpen:this.multipleOpen?[]:null,{parentAccordion:{count:0,active:e,multipleOpen:this.multipleOpen}}},provide:function(){return{parentAccordion:this.parentAccordion}}}),s=r,o=(n("2ee4"),n("2877")),c=Object(o["a"])(s,i,a,!1,null,"790cd898",null);t["a"]=c.exports},"6f8c":function(e,t,n){},"9c68":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h4",{staticClass:"text-lg font-medium"},[n("span",{staticClass:"color-green-400"},[e._v(" Connect time: "+e._s(e._f("rawReadableDateFilter")(e.details.connectTime))+" ")]),e.details.disconnectTime?n("span",{staticClass:"ml-4 color-red-400"},[e._v(" Disconnect time: "+e._s(e._f("rawReadableDateFilter")(e.details.disconnectTime))+" ")]):e._e()])},a=[],r=n("bc1e"),s={name:"ZoneInsightSubscriptionHeader",filters:{rawReadableDateFilter:function(e){return Object(r["i"])(e)}},props:{details:{type:Object,required:!0}}},o=s,c=n("2877"),l=Object(c["a"])(o,i,a,!1,null,null,null);t["a"]=l.exports},"9cd3":function(e,t,n){"use strict";n("e593")},a434:function(e,t,n){"use strict";var i=n("23e7"),a=n("23cb"),r=n("a691"),s=n("50c4"),o=n("7b0b"),c=n("65f0"),l=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,h=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var n,i,u,d,f,p,g=o(this),y=s(g.length),_=a(e,y),I=arguments.length;if(0===I?n=i=0:1===I?(n=0,i=y-_):(n=I-2,i=h(m(r(t),0),y-_)),y+n-i>b)throw TypeError(v);for(u=c(g,i),d=0;d<i;d++)f=_+d,f in g&&l(u,d,g[f]);if(u.length=i,n<i){for(d=_;d<y-i;d++)f=d+i,p=d+n,f in g?g[p]=g[f]:delete g[p];for(d=y;d>y-i+n;d--)delete g[d-1]}else if(n>i)for(d=y-i;d>_;d--)f=d+i-1,p=d+n-1,f in g?g[p]=g[f]:delete g[p];for(d=0;d<n;d++)g[d+_]=arguments[d+2];return g.length=y-i+n,u}})},e593:function(e,t,n){},e6cb:function(e,t,n){"use strict";n("6f8c")}}]);