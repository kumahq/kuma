"use strict";(self["webpackChunkkuma_gui"]=self["webpackChunkkuma_gui"]||[]).push([[639],{12766:function(t,e,n){n.r(e),n.d(e,{default:function(){return A}});var s=n(70821);const a={class:"zoneingresses"},i=(0,s._)("span",{class:"custom-control-icon"}," ← ",-1),o=(0,s.Uk)(" View All ");function r(t,e,n,r,l,u){const c=(0,s.up)("MultizoneInfo"),d=(0,s.up)("KButton"),m=(0,s.up)("DataOverview"),g=(0,s.up)("EntityURLControl"),p=(0,s.up)("LabelList"),y=(0,s.up)("SubscriptionHeader"),h=(0,s.up)("SubscriptionDetails"),w=(0,s.up)("AccordionItem"),b=(0,s.up)("AccordionList"),v=(0,s.up)("KCard"),f=(0,s.up)("XdsConfiguration"),k=(0,s.up)("EnvoyStats"),_=(0,s.up)("EnvoyClusters"),z=(0,s.up)("TabsWidget"),D=(0,s.up)("FrameSkeleton");return(0,s.wg)(),(0,s.iD)("div",a,[!1===t.multicluster?((0,s.wg)(),(0,s.j4)(c,{key:0})):((0,s.wg)(),(0,s.j4)(D,{key:1},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{"page-size":l.pageSize,"has-error":l.hasError,"is-loading":l.isLoading,"empty-state":l.empty_state,"table-data":l.tableData,"table-data-is-empty":l.isEmpty,next:l.next,onTableAction:u.tableAction,onLoadData:e[0]||(e[0]=t=>u.loadData(t))},{additionalControls:(0,s.w5)((()=>[t.$route.query.ns?((0,s.wg)(),(0,s.j4)(d,{key:0,class:"back-button",appearance:"primary",size:"small",to:{name:"zoneingresses"}},{default:(0,s.w5)((()=>[i,o])),_:1})):(0,s.kq)("",!0)])),_:1},8,["page-size","has-error","is-loading","empty-state","table-data","table-data-is-empty","next","onTableAction"]),!1===l.isEmpty?((0,s.wg)(),(0,s.j4)(z,{key:0,"has-error":l.hasError,"is-loading":l.isLoading,tabs:l.tabs,"initial-tab-override":"overview"},{tabHeader:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("h3",null," Zone Ingress: "+(0,s.zw)(l.entity.name),1)]),(0,s._)("div",null,[(0,s.Wm)(g,{name:l.entity.name},null,8,["name"])])])),overview:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.entity,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{key:e},[(0,s._)("h4",null,(0,s.zw)(e),1),(0,s._)("p",null,(0,s.zw)(t),1)])))),128))])])])),_:1})])),insights:(0,s.w5)((()=>[(0,s.Wm)(v,{"border-variant":"noBorder"},{body:(0,s.w5)((()=>[(0,s.Wm)(b,{"initially-open":0},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.subscriptionsReversed,((t,e)=>((0,s.wg)(),(0,s.j4)(w,{key:e},{"accordion-header":(0,s.w5)((()=>[(0,s.Wm)(y,{details:t},null,8,["details"])])),"accordion-content":(0,s.w5)((()=>[(0,s.Wm)(h,{details:t,"is-discovery-subscription":""},null,8,["details"])])),_:2},1024)))),128))])),_:1})])),_:1})])),"xds-configuration":(0,s.w5)((()=>[(0,s.Wm)(f,{"zone-ingress-name":l.entity.name},null,8,["zone-ingress-name"])])),"envoy-stats":(0,s.w5)((()=>[(0,s.Wm)(k,{"zone-ingress-name":l.entity.name},null,8,["zone-ingress-name"])])),"envoy-clusters":(0,s.w5)((()=>[(0,s.Wm)(_,{"zone-ingress-name":l.entity.name},null,8,["zone-ingress-name"])])),_:1},8,["has-error","is-loading","tabs"])):(0,s.kq)("",!0)])),_:1}))])}var l=n(27361),u=n.n(l),c=n(33907),d=n(93063),m=n(46187),g=n(55602),p=n(70172),y=n(53419),h=n(21180),w=n(82318),b=n(78141),v=n(93480),f=n(34707),k=n(52681),_=n(87083),z=n(65404),D=n(45689),E=n(79197),Z=n(46483),S=n(51030),I=n(25911),L={name:"ZoneIngresses",components:{EnvoyClusters:I.Z,EnvoyStats:S.Z,FrameSkeleton:w.Z,DataOverview:b.Z,TabsWidget:f.Z,LabelList:k.Z,AccordionList:E.Z,AccordionItem:Z.Z,SubscriptionDetails:d.Z,SubscriptionHeader:m.Z,MultizoneInfo:g.Z,EntityURLControl:v.Z,XdsConfiguration:_.Z},data(){return{isLoading:!0,isEmpty:!1,hasError:!1,empty_state:{title:"No Data",message:"There are no Zone Ingresses present."},tableData:{headers:[{key:"actions",hideLabel:!0},{label:"Status",key:"status"},{label:"Name",key:"name"}],data:[]},tabs:[{hash:"#overview",title:"Overview"},{hash:"#insights",title:"Zone Ingress Insights"},{hash:"#xds-configuration",title:"XDS Configuration"},{hash:"#envoy-stats",title:"Stats"},{hash:"#envoy-clusters",title:"Clusters"}],entity:{},rawData:[],pageSize:D.NR,next:null,subscriptionsReversed:[]}},computed:{...(0,c.Se)({multicluster:"config/getMulticlusterStatus"})},watch:{$route(){this.init()}},beforeMount(){this.init()},methods:{init(){this.multicluster&&this.loadData()},tableAction(t){const e=t;this.getEntity(e)},async loadData(t="0"){this.isLoading=!0,this.isEmpty=!1;const e=this.$route.query.ns||null;try{const{data:n,next:s}=await(0,p.W)({getAllEntities:h["default"].getAllZoneIngressOverviews.bind(h["default"]),getSingleEntity:h["default"].getZoneIngressOverview.bind(h["default"]),size:this.pageSize,offset:t,query:e});this.next=s,n.length?(this.isEmpty=!1,this.rawData=n,this.getEntity({name:n[0].name}),this.tableData.data=n.map((t=>{const{zoneIngressInsight:e={}}=t;return{...t,...(0,z._I)(e)}}))):(this.tableData.data=[],this.isEmpty=!0)}catch(n){this.hasError=!0,this.isEmpty=!0,console.error(n)}finally{this.isLoading=!1}},getEntity(t){const e=["type","name"],n=this.rawData.find((e=>e.name===t.name)),s=u()(n,"zoneIngressInsight.subscriptions",[]);this.subscriptionsReversed=Array.from(s).reverse(),this.entity=(0,y.wy)(n,e)}}},W=n(83744);const C=(0,W.Z)(L,[["render",r]]);var A=C},55602:function(t,e,n){n.d(e,{Z:function(){return m}});var s=n(70821);const a=(0,s._)("p",null,[(0,s.Uk)(" To access this page, you must be running in "),(0,s._)("strong",null,"Multi-Zone"),(0,s.Uk)(" mode. ")],-1),i=(0,s.Uk)(" Learn More ");function o(t,e,n,o,r,l){const u=(0,s.up)("KIcon"),c=(0,s.up)("KButton"),d=(0,s.up)("KEmptyState");return(0,s.wg)(),(0,s.j4)(d,null,{title:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"kong-icon--centered",icon:"dangerCircle",size:"42"}),(0,s.Uk)(" "+(0,s.zw)(r.productName)+" is running in Standalone mode. ",1)])),message:(0,s.w5)((()=>[a])),cta:(0,s.w5)((()=>[(0,s.Wm)(c,{to:`https://kuma.io/docs/${t.kumaDocsVersion}/documentation/deployments/`,target:"_blank",appearance:"primary"},{default:(0,s.w5)((()=>[i])),_:1},8,["to"])])),_:1})}var r=n(33907),l=n(45689),u={name:"MultizoneInfo",data(){return{productName:l.sG}},computed:{...(0,r.Se)({kumaDocsVersion:"config/getKumaDocsVersion"})}},c=n(83744);const d=(0,c.Z)(u,[["render",o]]);var m=d}}]);