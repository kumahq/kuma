(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["zoneingresses"],{"0ada8":function(t,e,n){"use strict";n("6b57")},"0f12":function(t,e,n){},"1d3a":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n("b0c0"),n("d3b7"),n("96cf");var i=n("c964"),a=n("d0ff"),r=n("c6ec");function s(t){return Object(a["a"])(t).sort((function(t,e){return t.name>e.name||t.name===e.name&&t.mesh>e.mesh?1:-1}))}var o=function(t){return 0!==t.total&&t.items&&t.items.length>0?s(t.items):[]};function c(t){var e=t.getSingleEntity,n=t.getAllEntities,i=t.getAllEntitiesFromMesh,a=t.mesh,r=t.query,s=t.size,o=t.offset,c={size:s,offset:o};return a&&"all"!==a?e&&r&&r.length&&"all"!==a?e(a,r,c):i?i(a,c):Promise.resolve():n(c)}function l(t){return u.apply(this,arguments)}function u(){return u=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n,i,a,s,l,u,d,f,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.getSingleEntity,i=e.getAllEntities,a=e.getAllEntitiesFromMesh,s=e.mesh,l=e.query,u=e.size,d=void 0===u?r["f"]:u,f=e.offset,t.next=3,c({getSingleEntity:n,getAllEntities:i,getAllEntitiesFromMesh:a,mesh:s,query:l,size:d,offset:f});case 3:if(p=t.sent,p){t.next=6;break}return t.abrupt("return",{data:[],next:!1});case 6:return t.abrupt("return",{data:p.items?o(p):[p],next:Boolean(p.next)});case 7:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}},"1f94":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.details.globalInstanceId||t.details.connectTime||t.details.disconnectTime?n("div",[n("h5",{staticClass:"overview-tertiary-title"},[t._v(" General Information: ")]),n("ul",[t.details.globalInstanceId?n("li",[n("strong",[t._v("Global Instance ID:")]),t._v(" "),n("span",{staticClass:"mono"},[t._v(t._s(t.details.globalInstanceId))])]):t._e(),t.details.connectTime?n("li",[n("strong",[t._v("Last Connected:")]),t._v(" "+t._s(t._f("readableDate")(t.details.connectTime))+" ")]):t._e(),t.details.disconnectTime?n("li",[n("strong",[t._v("Last Disconnected:")]),t._v(" "+t._s(t._f("readableDate")(t.details.disconnectTime))+" ")]):t._e()])]):t._e(),t.details.status?n("div",[t.details.status.stat?n("ul",{staticClass:"overview-stat-grid"},t._l(t.details.status.stat,(function(e,i){return n("li",{key:i},[n("h6",{staticClass:"overview-tertiary-title"},[t._v(" "+t._s(t._f("humanReadable")(i))+": ")]),n("ul",t._l(e,(function(e,i){return n("li",{key:i},[n("strong",[t._v(t._s(t._f("humanReadable")(i))+":")]),t._v(" "),n("span",{staticClass:"mono"},[t._v(t._s(t._f("formatError")(t._f("formatValue")(e))))])])})),0)])})),0):t._e()]):n("KAlert",{staticClass:"mt-4",attrs:{appearance:"info"},scopedSlots:t._u([{key:"alertIcon",fn:function(){return[n("KIcon",{attrs:{icon:"portal"}})]},proxy:!0},{key:"alertMessage",fn:function(){return[t._v(" There are no Policy statistics for "),n("strong",[t._v(t._s(t.details.id))])]},proxy:!0}])})],1)},a=[],r=(n("d3b7"),n("25f0"),n("bc1e")),s={name:"ZoneInsightSubscriptionDetails",filters:{formatValue:function(t){return t?parseInt(t,10).toLocaleString("en").toString():0},readableDate:function(t){return Object(r["f"])(t)},humanReadable:function(t){return Object(r["b"])(t)},formatError:function(t){return"--"===t?"error calculating":t}},props:{details:{type:Object,required:!0}}},o=s,c=(n("e6cb"),n("2877")),l=Object(c["a"])(o,i,a,!1,null,"29e48e09",null);e["a"]=l.exports},"2ee4":function(t,e,n){"use strict";n("0f12")},"3ddf":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{class:t.accordionItemClasses},[n("div",{staticClass:"accordion-item-header",on:{click:t.open}},[t._t("accordion-header")],2),n("transition",{attrs:{name:"accordion"},on:{enter:t.start,"before-leave":t.start}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}]},[t._t("accordion-content")],2)])],1)},a=[],r=(n("caad"),n("c975"),n("a434"),n("2532"),{name:"AccordionItem",inject:["parentAccordion"],data:function(){return{index:null}},computed:{visible:function(){return this.parentAccordion.multipleOpen?this.parentAccordion.active.includes(this.index):this.index===this.parentAccordion.active},accordionItemClasses:function(){return["relative border-b py-2 px-4",{active:this.visible}]}},created:function(){this.index=this.parentAccordion.count++},methods:{hideItem:function(){this.parentAccordion.multipleOpen?this.parentAccordion.active.splice(this.parentAccordion.active.indexOf(this.index),1):this.parentAccordion.active=null},showItem:function(){this.parentAccordion.multipleOpen?this.parentAccordion.active.push(this.index):this.parentAccordion.active=this.index},open:function(){this.visible?this.hideItem():this.showItem()},start:function(t){t.style.height="".concat(t.scrollHeight,"px")}}}),s=r,o=(n("0ada8"),n("2877")),c=Object(o["a"])(s,i,a,!1,null,"1f623999",null);e["a"]=c.exports},"3f31":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("KEmptyState",{scopedSlots:t._u([{key:"title",fn:function(){return[n("KIcon",{staticClass:"kong-icon--centered",attrs:{icon:"dangerCircle",size:"42"}}),t._v(" "+t._s(t.productName)+" is running in Standalone mode. ")]},proxy:!0},{key:"message",fn:function(){return[n("p",[t._v(" To access this page, you must be running in "),n("strong",[t._v("Multi-Zone")]),t._v(" mode. ")])]},proxy:!0},{key:"cta",fn:function(){return[n("KButton",{attrs:{to:"https://kuma.io/docs/"+t.version+"/documentation/deployments/",target:"_blank",appearance:"primary"}},[t._v(" Learn More ")])]},proxy:!0}])})},a=[],r=n("f3f3"),s=n("2f62"),o=n("c6ec"),c={name:"MultizoneInfo",data:function(){return{productName:o["h"]}},computed:Object(r["a"])({},Object(s["c"])({version:"config/getVersion"}))},l=c,u=n("2877"),d=Object(u["a"])(l,i,a,!1,null,null,null);e["a"]=d.exports},"4bba":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"zoneingresses"},[!1===t.multicluster?n("MultizoneInfo"):n("FrameSkeleton",[n("DataOverview",{attrs:{"page-size":t.pageSize,"has-error":t.hasError,"is-loading":t.isLoading,"empty-state":t.empty_state,"table-data":t.tableData,"table-data-is-empty":t.tableDataIsEmpty,"show-warnings":t.tableData.data.some((function(t){return t.withWarnings})),"table-data-function-text":"View","table-data-row":"name",next:t.next},on:{tableAction:t.tableAction,loadData:function(e){return t.loadData(e)}}}),!1===t.isEmpty?n("Tabs",{attrs:{"has-error":t.hasError,"is-loading":t.isLoading,tabs:t.tabs,"initial-tab-override":"overview"},scopedSlots:t._u([{key:"tabHeader",fn:function(){return[t.entity?n("h3",[t._v(" Zone Ingress: "+t._s(t.entity.name)+" ")]):t._e()]},proxy:!0},{key:"overview",fn:function(){return[n("LabelList",{attrs:{"has-error":t.entityHasError,"is-loading":t.entityIsLoading,"is-empty":t.entityIsEmpty}},[n("div",[n("ul",t._l(t.entity,(function(e,i){return n("li",{key:i},[e?n("h4",[t._v(" "+t._s(i)+" ")]):t._e(),"status"===i?n("p",[n("KBadge",{attrs:{appearance:"Offline"===e?"danger":"success"}},[t._v(" "+t._s(e)+" ")])],1):n("p",[t._v(" "+t._s(e)+" ")])])})),0)])])]},proxy:!0},{key:"insights",fn:function(){return[n("KCard",{attrs:{"border-variant":"noBorder"},scopedSlots:t._u([{key:"body",fn:function(){return[n("Accordion",{attrs:{"initially-open":0}},t._l(t.zoneIngressInsightSubscriptionsReversed,(function(e,i){return n("AccordionItem",{key:i,scopedSlots:t._u([{key:"accordion-header",fn:function(){return[n("ZoneInsightSubscriptionHeader",{attrs:{details:e}})]},proxy:!0},{key:"accordion-content",fn:function(){return[n("ZoneInsightSubscriptionDetails",{attrs:{details:e}})]},proxy:!0}],null,!0)})})),1)]},proxy:!0}],null,!1,783680012)})]},proxy:!0}],null,!1,2458590413)}):t._e()],1)],1)},a=[],r=(n("a630"),n("d81d"),n("b0c0"),n("3ca3"),n("96cf"),n("c964")),s=n("f3f3"),o=n("9b02"),c=n.n(o),l=n("2f62"),u=n("1d3a"),d=n("bc1e"),f=n("0f82"),p=n("1d10"),m=n("2778"),h=n("251b"),v=n("0ada"),b=n("dbf3"),g=n("c6ec"),y=n("520d"),_=n("3ddf"),I=n("1f94"),x=n("9c68"),E=n("3f31"),O={name:"ZoneIngresses",components:{FrameSkeleton:p["a"],DataOverview:m["a"],Tabs:h["a"],LabelList:v["a"],Accordion:y["a"],AccordionItem:_["a"],ZoneInsightSubscriptionDetails:I["a"],ZoneInsightSubscriptionHeader:x["a"],MultizoneInfo:E["a"]},metaInfo:{title:"ZoneIngresses"},data:function(){return{isLoading:!0,isEmpty:!1,hasError:!1,entityIsLoading:!0,entityIsEmpty:!1,entityHasError:!1,tableDataIsEmpty:!1,empty_state:{title:"No Data",message:"There are no Zone Ingresses present."},tableData:{headers:[{key:"actions",hideLabel:!0},{label:"Status",key:"status"},{label:"Name",key:"name"}],data:[]},tabs:[{hash:"#overview",title:"Overview"},{hash:"#insights",title:"Zone Ingress Insights"}],entity:{},pageSize:g["f"],next:null,zoneIngressInsightSubscriptionsReversed:[]}},computed:Object(s["a"])(Object(s["a"])({},Object(l["c"])({multicluster:"config/getMulticlusterStatus"})),{},{pageTitle:function(){return this.$route.meta.title}}),watch:{$route:function(){this.init()}},beforeMount:function(){this.init()},methods:{init:function(){this.multicluster&&this.loadData()},tableAction:function(t){var e=t;this.getEntity(e)},loadData:function(){var t=arguments,e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.length>0&&void 0!==t[0]?t[0]:"0",e.isLoading=!0,e.isEmpty=!1,n.prev=3,n.next=6,Object(u["a"])({getAllEntities:f["a"].getAllZoneIngressOverviews.bind(f["a"]),size:e.pageSize,offset:i});case 6:a=n.sent,r=a.data,o=a.next,e.next=o,r.length?(e.tableData.data=r.map((function(t){var e=t.zoneIngressInsight,n=void 0===e?{}:e;return Object(s["a"])(Object(s["a"])({},t),Object(b["m"])(n))})),e.tableDataIsEmpty=!1,e.isEmpty=!1,e.getEntity({name:r[0].name})):(e.tableData.data=[],e.tableDataIsEmpty=!0,e.isEmpty=!0,e.entityIsEmpty=!0),n.next=18;break;case 13:n.prev=13,n.t0=n["catch"](3),e.hasError=!0,e.isEmpty=!0,console.error(n.t0);case 18:return n.prev=18,e.isLoading=!1,n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[3,13,18,21]])})))()},getEntity:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.entityIsLoading=!0,e.entityIsEmpty=!0,i=["type","name","mesh"],a=setTimeout((function(){e.entityIsEmpty=!0,e.entityIsLoading=!1}),"500"),!t){n.next=24;break}return e.entityIsEmpty=!1,n.prev=6,n.next=9,f["a"].getZoneIngressOverview(t.name);case 9:r=n.sent,s=c()(r,"zoneIngressInsight.subscriptions",[]),e.zoneIngressInsightSubscriptionsReversed=Array.from(s).reverse(),e.entity=Object(d["d"])(r,i),n.next=21;break;case 15:n.prev=15,n.t0=n["catch"](6),console.error(n.t0),e.entity=null,e.entityHasError=!0,e.entityIsEmpty=!0;case 21:return n.prev=21,clearTimeout(a),n.finish(21);case 24:e.entityIsLoading=!1;case 25:case"end":return n.stop()}}),n,null,[[6,15,21,24]])})))()}}},w=O,A=n("2877"),k=Object(A["a"])(w,i,a,!1,null,null,null);e["default"]=k.exports},"520d":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"accordion"},[t._t("default")],2)},a=[],r=(n("a9e3"),{name:"Accordion",props:{initiallyOpen:{type:[Number,Array],default:null},multipleOpen:{type:Boolean,default:!1}},data:function(){var t;return t=null!==this.initiallyOpen?this.initiallyOpen:this.multipleOpen?[]:null,{parentAccordion:{count:0,active:t,multipleOpen:this.multipleOpen}}},provide:function(){return{parentAccordion:this.parentAccordion}}}),s=r,o=(n("2ee4"),n("2877")),c=Object(o["a"])(s,i,a,!1,null,"790cd898",null);e["a"]=c.exports},"6b57":function(t,e,n){},"6f8c":function(t,e,n){},"9c68":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h4",{staticClass:"text-lg font-medium"},[n("span",{staticClass:"color-green-400"},[t._v(" Connect time: "+t._s(t._f("rawReadableDateFilter")(t.details.connectTime))+" ")]),t.details.disconnectTime?n("span",{staticClass:"ml-4 color-red-400"},[t._v(" Disconnect time: "+t._s(t._f("rawReadableDateFilter")(t.details.disconnectTime))+" ")]):t._e()])},a=[],r=n("bc1e"),s={name:"ZoneInsightSubscriptionHeader",filters:{rawReadableDateFilter:function(t){return Object(r["i"])(t)}},props:{details:{type:Object,required:!0}}},o=s,c=n("2877"),l=Object(c["a"])(o,i,a,!1,null,null,null);e["a"]=l.exports},a434:function(t,e,n){"use strict";var i=n("23e7"),a=n("23cb"),r=n("a691"),s=n("50c4"),o=n("7b0b"),c=n("65f0"),l=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,h=Math.min,v=9007199254740991,b="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var n,i,u,d,f,p,g=o(this),y=s(g.length),_=a(t,y),I=arguments.length;if(0===I?n=i=0:1===I?(n=0,i=y-_):(n=I-2,i=h(m(r(e),0),y-_)),y+n-i>v)throw TypeError(b);for(u=c(g,i),d=0;d<i;d++)f=_+d,f in g&&l(u,d,g[f]);if(u.length=i,n<i){for(d=_;d<y-i;d++)f=d+i,p=d+n,f in g?g[p]=g[f]:delete g[p];for(d=y;d>y-i+n;d--)delete g[d-1]}else if(n>i)for(d=y-i;d>_;d--)f=d+i-1,p=d+n-1,f in g?g[p]=g[f]:delete g[p];for(d=0;d<n;d++)g[d+_]=arguments[d+2];return g.length=y-i+n,u}})},e6cb:function(t,e,n){"use strict";n("6f8c")}}]);