import{d as S,r as a,p as u,o as r,w as t,b as p,e as o,K as T,c as _,N as y,L as b,t as c,q as v,l as X,y as D,_ as A}from"./index-GFWvH1vH.js";import{S as B}from"./SummaryView-IpLItP5N.js";const N=S({__name:"DataPlaneSubscriptionsSummaryView",props:{subscriptions:{}},setup(h){const w=h;return(L,l)=>{const f=a("RouteTitle"),k=a("XI18n"),V=a("XIcon"),I=a("XAction"),g=a("XLayout"),x=a("AppView"),C=a("RouterView"),R=a("RouteView");return r(),u(R,{name:"data-plane-subscriptions-summary-view",params:{inactive:Boolean,mesh:"",proxy:"",subscription:""}},{default:t(({route:d,t:n,me:i})=>[p(x,null,{title:t(()=>[X("h2",null,[p(f,{title:n("data-planes.routes.item.subscriptions.title")},null,8,["title"])])]),default:t(()=>[l[6]||(l[6]=o()),p(g,{"data-testid":"dataplane-subscriptions"},{default:t(()=>[p(k,{path:"data-planes.routes.item.subscriptions.description"}),l[5]||(l[5]=o()),p(T,{headers:[{...i.get("headers.connection"),label:"Â ",key:"connection"},{...i.get("headers.instanceId"),label:n("http.api.property.instanceId"),key:"instanceId"},{...i.get("headers.version"),label:n("http.api.property.version"),key:"version"},{...i.get("headers.connected"),label:n("http.api.property.connected"),key:"connected"},{...i.get("headers.disconnected"),label:n("http.api.property.disconnected"),key:"disconnected"},{...i.get("headers.responses"),label:n("http.api.property.responses"),key:"responses"}],"is-selected-row":e=>e.id===d.params.subscription,items:[...w.subscriptions].reverse(),onResize:i.set},{connection:t(({row:e})=>[(r(!0),_(y,null,b([e.connectTime&&!e.disconnectTime?"healthy":"unhealthy"],s=>(r(),u(V,{key:`${s}`,name:s},{default:t(()=>[o(c(n(`common.connection.${s}`)),1)]),_:2},1032,["name"]))),128))]),instanceId:t(({row:e})=>[p(I,{"data-action":"",to:{name:"data-plane-subscription-summary-view",params:{subscription:e.id}}},{default:t(()=>[o(c(e.controlPlaneInstanceId),1)]),_:2},1032,["to"])]),version:t(({row:e})=>{var s,m;return[o(c(((m=(s=e.version)==null?void 0:s.kumaDp)==null?void 0:m.version)??"-"),1)]}),connected:t(({row:e})=>[o(c(n("common.formats.datetime",{value:Date.parse(e.connectTime??"")})),1)]),disconnected:t(({row:e})=>[e.disconnectTime?(r(),_(y,{key:0},[o(c(n("common.formats.datetime",{value:Date.parse(e.disconnectTime)})),1)],64)):v("",!0)]),responses:t(({row:e})=>{var s;return[(r(!0),_(y,null,b([((s=e.status)==null?void 0:s.total)??{}],m=>(r(),_(y,null,[o(c(m.responsesSent)+"/"+c(m.responsesAcknowledged),1)],64))),256))]}),_:2,__:[0,1,2,3,4]},1032,["headers","is-selected-row","items","onResize"])]),_:2,__:[5]},1024)]),_:2,__:[6]},1024),l[7]||(l[7]=o()),p(C,null,{default:t(e=>[e.route.name!==d.name?(r(),u(B,{key:0,width:"670px",onClose:function(){d.replace({name:"data-plane-subscriptions-summary-view",params:{mesh:d.params.mesh,proxy:d.params.proxy},query:{inactive:d.params.inactive?null:void 0}})}},{default:t(()=>[(r(),u(D(e.Component),{data:w.subscriptions},null,8,["data"]))]),_:2},1032,["onClose"])):v("",!0)]),_:2},1024)]),_:1,__:[7]})}}}),z=A(N,[["__scopeId","data-v-afd84a57"]]);export{z as default};
