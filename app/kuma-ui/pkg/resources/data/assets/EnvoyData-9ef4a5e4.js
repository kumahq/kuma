import{k as l}from"./kumaApi-08f7fc23.js";import{_ as p}from"./CodeBlock.vue_vue_type_style_index_0_lang-2bd08d1e.js";import{_ as y}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-7c04ed58.js";import{E as g}from"./ErrorBlock-04954e92.js";import{_ as h}from"./LoadingBlock.vue_vue_type_script_setup_true_lang-ef489e58.js";import{A as _}from"./production-8efaeab1.js";import{d as m,o as r,h as f,a as i,N as v,r as d,s as u,k as E,w as N,e as k}from"./runtime-dom.esm-bundler-fd3ecc5a.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const z={key:3},P=m({__name:"StatusInfo",props:{isLoading:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},error:{type:[Error,_],required:!1,default:null}},setup(t){return(e,o)=>(r(),f("div",null,[t.isLoading?(r(),i(h,{key:0})):t.hasError?(r(),i(g,{key:1,error:t.error},null,8,["error"])):t.isEmpty?(r(),i(y,{key:2})):(r(),f("div",z,[v(e.$slots,"default")]))]))}}),S=m({__name:"EnvoyData",props:{dataPath:{type:String,required:!0},queryKey:{type:String,required:!1,default:null},mesh:{type:String,required:!1,default:""},dppName:{type:String,required:!1,default:""},zoneIngressName:{type:String,required:!1,default:""},zoneEgressName:{type:String,required:!1,default:""}},setup(t){const e=t,o=d(!0),s=d(void 0),c=d("");u(()=>e.dppName,function(){n()}),u(()=>e.zoneIngressName,function(){n()}),u(()=>e.zoneEgressName,function(){n()}),E(function(){n()});async function n(){s.value=void 0,o.value=!0;try{let a="";e.mesh!==""&&e.dppName!==""?a=await l.getDataplaneData({dataPath:e.dataPath,mesh:e.mesh,dppName:e.dppName}):e.zoneIngressName!==""?a=await l.getZoneIngressData({dataPath:e.dataPath,zoneIngressName:e.zoneIngressName}):e.zoneEgressName!==""&&(a=await l.getZoneEgressData({dataPath:e.dataPath,zoneEgressName:e.zoneEgressName})),c.value=typeof a=="string"?a:JSON.stringify(a,null,2)}catch(a){a instanceof Error?s.value=a:console.error(a)}finally{o.value=!1}}return(a,I)=>(r(),i(P,{class:"envoy-data","has-error":s.value!==void 0,"is-loading":o.value,error:s.value},{default:N(()=>[k(p,{id:`code-block-${t.dataPath}`,language:"json",code:c.value,"is-searchable":"","query-key":t.queryKey??`code-block-${t.dataPath}`},null,8,["id","code","query-key"])]),_:1},8,["has-error","is-loading","error"]))}});const L=q(S,[["__scopeId","data-v-b9869c64"]]);export{L as E,P as _};
