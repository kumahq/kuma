import{d as T,l as z,a as u,o as i,c as m,m as l,e as s,w as t,q as o,t as n,f as e,F as O,E as x,U as B,b as _,p as g,T as c,_ as P,X as R}from"./index-Eji0C-Q5.js";import{a as V,K}from"./index-FZCiQto1.js";import{S as N}from"./StatusBadge-3mjZmol0.js";import{T as b}from"./TagList-iuTnSeqp.js";import{T as f}from"./TextWithCopyButton-CMioPVeB.js";import"./CopyButton-ULULAS88.js";const S={class:"stack"},I={class:"stack-with-borders"},L={class:"status-with-reason"},$={key:0},E={class:"mt-4"},U={class:"stack-with-borders"},A={class:"mt-4 stack"},F={class:"mt-2 stack-with-borders"},q=T({__name:"DataPlaneSummary",props:{dataplaneOverview:{}},setup(h){const{t:a}=z(),r=h;return(C,k)=>{const w=u("KTooltip"),y=u("DataCollection"),v=u("KBadge");return i(),m("div",S,[l("div",I,[s(c,{layout:"horizontal"},{title:t(()=>[e(n(o(a)("http.api.property.status")),1)]),body:t(()=>[l("div",L,[s(N,{status:r.dataplaneOverview.status},null,8,["status"]),e(),r.dataplaneOverview.dataplane.networking.type==="standard"?(i(),_(y,{key:0,items:r.dataplaneOverview.dataplane.networking.inbounds,predicate:d=>!d.health.ready,empty:!1},{default:t(({items:d})=>[s(w,{class:"reason-tooltip",placement:"bottomEnd"},{content:t(()=>[l("ul",null,[(i(!0),m(O,null,x(d,p=>(i(),m("li",{key:`${p.service}:${p.port}`},n(o(a)("data-planes.routes.item.unhealthy_inbound",{service:p.service,port:p.port})),1))),128))])]),default:t(()=>[s(o(B),{color:o(V),size:o(K),"hide-title":""},null,8,["color","size"]),e()]),_:2},1024)]),_:1},8,["items","predicate"])):g("",!0)])]),_:1}),e(),s(c,{layout:"horizontal"},{title:t(()=>[e(n(o(a)("data-planes.routes.item.last_updated")),1)]),body:t(()=>[e(n(o(a)("common.formats.datetime",{value:Date.parse(r.dataplaneOverview.modificationTime)})),1)]),_:1})]),e(),r.dataplaneOverview.dataplane.networking.gateway?(i(),m("div",$,[l("h3",null,n(o(a)("data-planes.routes.item.gateway")),1),e(),l("div",E,[l("div",U,[s(c,{layout:"horizontal"},{title:t(()=>[e(n(o(a)("http.api.property.tags")),1)]),body:t(()=>[s(b,{alignment:"right",tags:r.dataplaneOverview.dataplane.networking.gateway.tags},null,8,["tags"])]),_:1}),e(),s(c,{layout:"horizontal"},{title:t(()=>[e(n(o(a)("http.api.property.address")),1)]),body:t(()=>[s(f,{text:`${r.dataplaneOverview.dataplane.networking.address}`},null,8,["text"])]),_:1})])])])):g("",!0),e(),r.dataplaneOverview.dataplane.networking.type==="standard"?(i(),_(y,{key:1,items:r.dataplaneOverview.dataplane.networking.inbounds},{default:t(({items:d})=>[l("div",null,[l("h3",null,n(o(a)("data-planes.routes.item.inbounds")),1),e(),l("div",A,[(i(!0),m(O,null,x(d,(p,D)=>(i(),m("div",{key:D,class:"inbound"},[l("h4",null,[s(f,{text:p.tags["kuma.io/service"]},{default:t(()=>[e(n(o(a)("data-planes.routes.item.inbound_name",{service:p.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])]),e(),l("div",F,[s(c,{layout:"horizontal"},{title:t(()=>[e(n(o(a)("http.api.property.status")),1)]),body:t(()=>[p.health.ready?(i(),_(v,{key:0,appearance:"success"},{default:t(()=>[e(n(o(a)("data-planes.routes.item.health.ready")),1)]),_:1})):(i(),_(v,{key:1,appearance:"danger"},{default:t(()=>[e(n(o(a)("data-planes.routes.item.health.not_ready")),1)]),_:1}))]),_:2},1024),e(),s(c,{layout:"horizontal"},{title:t(()=>[e(n(o(a)("http.api.property.tags")),1)]),body:t(()=>[s(b,{alignment:"right",tags:p.tags},null,8,["tags"])]),_:2},1024),e(),s(c,{layout:"horizontal"},{title:t(()=>[e(n(o(a)("http.api.property.address")),1)]),body:t(()=>[s(f,{text:p.addressPort},null,8,["text"])]),_:2},1024)])]))),128))])])]),_:1},8,["items"])):g("",!0)])}}}),G=P(q,[["__scopeId","data-v-e495fb90"]]),W={key:1,class:"stack"},Q=T({__name:"DataPlaneSummaryView",props:{name:{},dataplaneOverview:{default:void 0}},setup(h){const a=h;return(r,C)=>{const k=u("RouteTitle"),w=u("RouterLink"),y=u("AppView"),v=u("RouteView");return i(),_(v,{name:"data-plane-summary-view"},{default:t(({t:d})=>[s(y,null,{title:t(()=>[l("h2",null,[s(w,{to:{name:"data-plane-detail-view",params:{dataPlane:a.name}}},{default:t(()=>[s(k,{title:d("data-planes.routes.item.title",{name:a.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:t(()=>[e(),a.dataplaneOverview===void 0?(i(),_(R,{key:0},{message:t(()=>[l("p",null,n(d("common.collection.summary.empty_message",{type:"Data Plane Proxy"})),1)]),default:t(()=>[e(n(d("common.collection.summary.empty_title",{type:"Data Plane Proxy"}))+" ",1)]),_:2},1024)):(i(),m("div",W,[s(G,{class:"mt-4","dataplane-overview":a.dataplaneOverview},null,8,["dataplane-overview"])]))]),_:2},1024)]),_:1})}}});export{Q as default};
