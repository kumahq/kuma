import{q as f,J as k,T as g,l as b,a as w}from"./kongponents.es-21ce59a5.js";import{A as h,_ as z}from"./DataSource.vue_vue_type_script_setup_true_lang-c75e9562.js";import{i as S,A,_ as C}from"./RouteView.vue_vue_type_script_setup_true_lang-9e62d24f.js";import{_ as $}from"./RouteTitle.vue_vue_type_script_setup_true_lang-dcec85af.js";import{S as x}from"./StatusBadge-c156d8c6.js";import{d as B,r as T,o as l,a as u,w as e,h as s,k as V,b as a,g as i,t as m,e as c,F as p}from"./index-bdbf5b57.js";const R=B({__name:"ServiceListView",props:{page:{},size:{},mesh:{}},setup(d){const n=d,{t:r}=S();return(L,N)=>{const _=T("RouterLink");return l(),u(C,{name:"services-list-view"},{default:e(({route:y})=>[s(z,{src:`/${n.mesh}/services?page=${n.page}&size=${n.size}`},{default:e(({data:o,error:v})=>[s(A,null,{title:e(()=>[V("h2",null,[s($,{title:a(r)("services.routes.items.title"),render:!0},null,8,["title"])])]),default:e(()=>[i(),s(a(f),null,{body:e(()=>[s(h,{"data-testid":"service-collection","empty-state-title":a(r)("common.emptyState.title"),"empty-state-message":a(r)("common.emptyState.message",{type:"Services"}),headers:[{label:"Name",key:"name"},{label:"Type",key:"serviceType"},{label:"Address",key:"addressPort"},{label:"Status",key:"status"},{label:"DP proxies (online / total)",key:"online"},{label:"Actions",key:"actions",hideLabel:!0}],"page-number":n.page,"page-size":n.size,total:o==null?void 0:o.total,items:o==null?void 0:o.items,error:v,onChange:y.update},{name:e(({row:t})=>[s(_,{to:{name:"service-detail-view",params:{service:t.name}}},{default:e(()=>[i(m(t.name),1)]),_:2},1032,["to"])]),status:e(({row:t})=>[t.status?(l(),u(x,{key:0,status:t.status},null,8,["status"])):(l(),c(p,{key:1},[i(`
                  —
                `)],64))]),online:e(({row:t})=>[t.dataplanes?(l(),c(p,{key:0},[i(m(t.dataplanes.online||0)+" / "+m(t.dataplanes.total||0),1)],64)):(l(),c(p,{key:1},[i(`
                  —
                `)],64))]),actions:e(({row:t})=>[s(a(k),{class:"actions-dropdown","kpop-attributes":{placement:"bottomEnd",popoverClasses:"mt-5 more-actions-popover"},width:"150"},{default:e(()=>[s(a(g),{class:"non-visual-button",appearance:"secondary",size:"small"},{icon:e(()=>[s(a(b),{color:"var(--black-400)",icon:"more",size:"16"})]),_:1})]),items:e(()=>[s(a(w),{item:{to:{name:"service-detail-view",params:{service:t.name}},label:a(r)("common.collection.actions.view")}},null,8,["item"])]),_:2},1024)]),_:2},1032,["empty-state-title","empty-state-message","headers","page-number","page-size","total","items","error","onChange"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])]),_:1})}}});export{R as default};
