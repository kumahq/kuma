import{d as A,e as l,o as a,k as u,w as e,a as i,i as k,P as h,b as t,t as o,S as V,l as y,c as m,F as _,A as x,G as S,C as B}from"./index-loxRIpgb.js";import{S as D}from"./SummaryView-Bl9n50Fq.js";const R={class:"stack"},N={class:"columns"},T={key:0},E=A({__name:"ZoneIngressDetailView",props:{data:{}},setup(I){const r=I;return(X,F)=>{const w=l("XCopyButton"),v=l("KCard"),b=l("XAction"),z=l("RouterView"),f=l("AppView"),C=l("RouteView");return a(),u(C,{name:"zone-ingress-detail-view",params:{subscription:"",zoneIngress:""}},{default:e(({t:n,me:p,route:g})=>[i(f,null,{default:e(()=>[k("div",R,[i(v,null,{default:e(()=>[k("div",N,[i(h,null,{title:e(()=>[t(o(n("http.api.property.status")),1)]),body:e(()=>[i(V,{status:r.data.state},null,8,["status"])]),_:2},1024),t(),r.data.namespace.length>0?(a(),u(h,{key:0},{title:e(()=>[t(`
                Namespace
              `)]),body:e(()=>[t(o(r.data.namespace),1)]),_:1})):y("",!0),t(),i(h,null,{title:e(()=>[t(o(n("http.api.property.address")),1)]),body:e(()=>[r.data.zoneIngress.socketAddress.length>0?(a(),u(w,{key:0,text:r.data.zoneIngress.socketAddress},null,8,["text"])):(a(),m(_,{key:1},[t(o(n("common.detail.none")),1)],64))]),_:2},1024),t(),i(h,null,{title:e(()=>[t(o(n("http.api.property.advertisedAddress")),1)]),body:e(()=>[r.data.zoneIngress.advertisedSocketAddress.length>0?(a(),u(w,{key:0,text:r.data.zoneIngress.advertisedSocketAddress},null,8,["text"])):(a(),m(_,{key:1},[t(o(n("common.detail.none")),1)],64))]),_:2},1024)])]),_:2},1024),t(),r.data.zoneIngressInsight.subscriptions.length>0?(a(),m("div",T,[k("h2",null,o(n("zone-ingresses.routes.item.subscriptions.title")),1),t(),i(x,{headers:[{...p.get("headers.instanceId"),label:n("http.api.property.instanceId"),key:"instanceId"},{...p.get("headers.version"),label:n("http.api.property.version"),key:"version"},{...p.get("headers.connected"),label:n("http.api.property.connected"),key:"connected"},{...p.get("headers.disconnected"),label:n("http.api.property.disconnected"),key:"disconnected"},{...p.get("headers.responses"),label:n("http.api.property.responses"),key:"responses"}],"is-selected-row":s=>s.id===g.params.subscription,items:r.data.zoneIngressInsight.subscriptions.map((s,c,d)=>d[d.length-(c+1)]),onResize:p.set},{instanceId:e(({row:s})=>[i(b,{"data-action":"",to:{name:"zone-ingress-subscription-summary-view",params:{subscription:s.id}}},{default:e(()=>[t(o(s.controlPlaneInstanceId),1)]),_:2},1032,["to"])]),version:e(({row:s})=>{var c,d;return[t(o(((d=(c=s.version)==null?void 0:c.kumaDp)==null?void 0:d.version)??"-"),1)]}),connected:e(({row:s})=>[t(o(n("common.formats.datetime",{value:Date.parse(s.connectTime??"")})),1)]),disconnected:e(({row:s})=>[s.disconnectTime?(a(),m(_,{key:0},[t(o(n("common.formats.datetime",{value:Date.parse(s.disconnectTime)})),1)],64)):y("",!0)]),responses:e(({row:s})=>{var c;return[(a(!0),m(_,null,S([((c=s.status)==null?void 0:c.total)??{}],d=>(a(),m(_,null,[t(o(d.responsesSent)+"/"+o(d.responsesAcknowledged),1)],64))),256))]}),_:2},1032,["headers","is-selected-row","items","onResize"]),t(),i(z,null,{default:e(({Component:s})=>[g.child()?(a(),u(D,{key:0,width:"670px",onClose:function(){g.replace({name:"zone-ingress-detail-view",params:{zoneIngress:g.params.zoneIngress}})}},{default:e(()=>[(a(),u(B(s),{data:r.data.zoneIngressInsight.subscriptions},null,8,["data"]))]),_:2},1032,["onClose"])):y("",!0)]),_:2},1024)])):y("",!0)])]),_:2},1024)]),_:1})}}});export{E as default};
