import{C as x}from"./CodeBlock-Dd7-IyFn.js";import{d as S,r as a,o as s,m as d,w as o,b as i,e as l,l as R,z as V,T as z,t as E,k as M,c as g,L as N,M as A}from"./index-B_tkq_0B.js";const B=["data-testid","innerHTML"],F=S({__name:"ZoneConfigView",props:{data:{}},setup(m){const t=m;return(L,T)=>{const _=a("RouteTitle"),f=a("KAlert"),h=a("KCard"),C=a("AppView"),k=a("DataSource"),y=a("RouteView");return s(),d(y,{name:"zone-cp-config-view",params:{zone:"",codeSearch:"",codeFilter:!1,codeRegExp:!1}},{default:o(({route:n,t:c,uri:w})=>{var p,u;return[i(_,{render:!1,title:c("zone-cps.routes.item.navigation.zone-cp-config-view")},null,8,["title"]),l(),i(k,{src:w(R(V),"/control-plane/outdated/:version",{version:((u=(p=t.data.zoneInsight.version)==null?void 0:p.kumaCp)==null?void 0:u.version)??"-"})},{default:o(({data:r})=>[i(C,null,z({default:o(()=>[l(),i(h,null,{default:o(()=>[Object.keys(t.data.zoneInsight.config).length>0?(s(),d(x,{key:0,language:"json",code:JSON.stringify(t.data.zoneInsight.config,null,2),"is-searchable":"",query:n.params.codeSearch,"is-filter-mode":n.params.codeFilter,"is-reg-exp-mode":n.params.codeRegExp,onQueryChange:e=>n.update({codeSearch:e}),onFilterModeChange:e=>n.update({codeFilter:e}),onRegExpModeChange:e=>n.update({codeRegExp:e})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(s(),d(f,{key:1,class:"mt-4","data-testid":"warning-no-subscriptions",appearance:"warning"},{default:o(()=>[l(E(c("zone-cps.detail.no_subscriptions")),1)]),_:2},1024))]),_:2},1024)]),_:2},[t.data.warnings.length>0?{name:"notifications",fn:o(()=>[M("ul",null,[(s(!0),g(N,null,A(t.data.warnings,e=>(s(),g("li",{key:e.kind,"data-testid":`warning-${e.kind}`,innerHTML:c(`common.warnings.${e.kind}`,{...e.payload,...e.kind==="INCOMPATIBLE_ZONE_AND_GLOBAL_CPS_VERSIONS"?{globalCpVersion:(r==null?void 0:r.version)??""}:{}})},null,8,B))),128))])]),key:"0"}:void 0]),1024)]),_:2},1032,["src"])]}),_:1})}}});export{F as default};
