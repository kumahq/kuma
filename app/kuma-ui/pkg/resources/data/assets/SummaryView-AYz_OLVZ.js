import{a3 as h,a4 as I,a5 as $,T as L,a6 as g,a7 as m,a8 as M,a9 as R,s as x,aa as V,d as N,y as B,ab as F,m as W,r as _,w as O,e as q,a as K,b as X,ac as j,o as D,a0 as z,_ as G}from"./index-D_WxlpfD.js";const A=$?window:void 0;function w(n){var u;const a=m(n);return(u=a==null?void 0:a.$el)!=null?u:a}function y(...n){const u=[],a=()=>{u.forEach(o=>o()),u.length=0},r=(o,t,l,d)=>(o.addEventListener(t,l,d),()=>o.removeEventListener(t,l,d)),f=L(()=>{const o=g(m(n[0])).filter(t=>t!=null);return o.every(t=>typeof t!="string")?o:void 0}),p=M(()=>{var o,t;return[(t=(o=f.value)==null?void 0:o.map(l=>w(l)))!=null?t:[A].filter(l=>l!=null),g(m(f.value?n[1]:n[0])),g(x(f.value?n[2]:n[1])),m(f.value?n[3]:n[2])]},([o,t,l,d])=>{if(a(),!(o!=null&&o.length)||!(t!=null&&t.length)||!(l!=null&&l.length))return;const S=R(d)?{...d}:d;u.push(...o.flatMap(b=>t.flatMap(v=>l.map(E=>r(b,v,E,S)))))},{flush:"post"}),c=()=>{p(),a()};return V(a),c}let P=!1;function H(n,u,a={}){const{window:r=A,ignore:f=[],capture:p=!0,detectIframe:c=!1,controls:o=!1}=a;if(!r)return o?{stop:h,cancel:h,trigger:h}:h;if(I&&!P){P=!0;const e={passive:!0};Array.from(r.document.body.children).forEach(s=>y(s,"click",h,e)),y(r.document.documentElement,"click",h,e)}let t=!0;const l=e=>m(f).some(s=>{if(typeof s=="string")return Array.from(r.document.querySelectorAll(s)).some(i=>i===e.target||e.composedPath().includes(i));{const i=w(s);return i&&(e.target===i||e.composedPath().includes(i))}});function d(e){const s=m(e);return s&&s.$.subTree.shapeFlag===16}function S(e,s){const i=m(e),T=i.$.subTree&&i.$.subTree.children;return T==null||!Array.isArray(T)?!1:T.some(C=>C.el===s.target||s.composedPath().includes(C.el))}const b=e=>{const s=w(n);if(e.target!=null&&!(!(s instanceof Element)&&d(n)&&S(n,e))&&!(!s||s===e.target||e.composedPath().includes(s))){if("detail"in e&&e.detail===0&&(t=!l(e)),!t){t=!0;return}u(e)}};let v=!1;const E=[y(r,"click",e=>{v||(v=!0,setTimeout(()=>{v=!1},0),b(e))},{passive:!0,capture:p}),y(r,"pointerdown",e=>{const s=w(n);t=!l(e)&&!!(s&&!e.composedPath().includes(s))},{passive:!0}),c&&y(r,"blur",e=>{setTimeout(()=>{var s;const i=w(n);((s=r.document.activeElement)==null?void 0:s.tagName)==="IFRAME"&&!(i!=null&&i.contains(r.document.activeElement))&&u(e)},0)},{passive:!0})].filter(Boolean),k=()=>E.forEach(e=>e());return o?{stop:k,cancel:()=>{t=!1},trigger:e=>{t=!0,b(e),t=!1}}:k}const J=N({__name:"SummaryView",props:{width:{default:"560px"}},emits:["close"],setup(n,{emit:u}){const a=j("summary-view-title");z("app-summary-view",a);const r=B(null);H(r,F(c=>{var t;const o=c.target;(((t=window.getSelection())==null?void 0:t.isCollapsed)??!0)&&!c.defaultPrevented&&c.isTrusted&&o.nodeName.toLowerCase()!=="a"&&p("close")},1,!0,!1));const f=n,p=u;return(c,o)=>{const t=_("XTeleportSlot"),l=_("KSlideout");return D(),W(l,{ref_key:"slideOutRef",ref:r,class:"summary-slideout","close-on-blur":!1,"has-overlay":!1,visible:"","max-width":f.width,"offset-top":"var(--app-slideout-offset-top, 0)","data-testid":"summary",onClose:o[0]||(o[0]=d=>p("close"))},{title:O(()=>[X(t,{name:x(a)},null,8,["name"])]),default:O(()=>[o[1]||(o[1]=q()),K(c.$slots,"default",{},void 0,!0)]),_:3},8,["max-width"])}}}),U=G(J,[["__scopeId","data-v-0b1b5d96"]]);export{U as S};
