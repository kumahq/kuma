import{P as A}from"./kongponents.es-aa96ab2e.js";import{k as T,l as V,E as x,M as B,N as D,A as E,i as L}from"./RouteView.vue_vue_type_script_setup_true_lang-b28dd8e7.js";import{_ as Z}from"./CodeBlock.vue_vue_type_style_index_0_lang-cc5f6631.js";import{a as P,D as R}from"./DefinitionListItem-86d63286.js";import{_ as $,S as j}from"./SubscriptionHeader.vue_vue_type_script_setup_true_lang-f4494a0b.js";import{T as F}from"./TabsWidget-5e831f58.js";import{T as w}from"./TextWithCopyButton-73715a8a.js";import{_ as M}from"./WarningsWidget.vue_vue_type_script_setup_true_lang-30ab40e6.js";import{d as W,c as l,r as q,o as i,a as u,w as e,k as G,g as p,h as c,t as d,e as f,j as b,b as k,F as v,f as J}from"./index-e8e69e62.js";const H={class:"entity-heading"},oe=W({__name:"ZoneDetails",props:{zoneOverview:{type:Object,required:!0}},setup(O){const r=O,{t:z}=T(),y=V(),g=[{hash:"#overview",title:"Overview"},{hash:"#insights",title:"Zone Insights"},{hash:"#config",title:"Config"},{hash:"#warnings",title:"Warnings"}],C=l(()=>({name:"zone-cp-detail-view",params:{zone:r.zoneOverview.name}})),m=l(()=>{const{type:n,name:t}=r.zoneOverview,o=x(r.zoneOverview.zoneInsight);return{type:n,name:t,status:o,"Authentication Type":B(r.zoneOverview)}}),I=l(()=>{var t;const n=((t=r.zoneOverview.zoneInsight)==null?void 0:t.subscriptions)??[];return Array.from(n).reverse()}),h=l(()=>{var o;const n=[],t=((o=r.zoneOverview.zoneInsight)==null?void 0:o.subscriptions)??[];if(t.length>0){const s=t[t.length-1],a=s.version.kumaCp.version||"-",{kumaCpGlobalCompatible:N=!0}=s.version.kumaCp;N||n.push({kind:D,payload:{zoneCpVersion:a,globalCpVersion:y("KUMA_VERSION")}})}return n}),_=l(()=>{var o;const n=((o=r.zoneOverview.zoneInsight)==null?void 0:o.subscriptions)??[],t=n[n.length-1];return t.config?JSON.stringify(JSON.parse(t.config),null,2):null}),S=l(()=>h.value.length===0?g.filter(n=>n.hash!=="#warnings"):g);return(n,t)=>{const o=q("router-link");return i(),u(F,{tabs:S.value},{tabHeader:e(()=>[G("h1",H,[p(`
        Zone CP:

        `),c(w,{text:m.value.name},{default:e(()=>[c(o,{to:C.value},{default:e(()=>[p(d(m.value.name),1)]),_:1},8,["to"])]),_:1},8,["text"])])]),overview:e(()=>[c(R,null,{default:e(()=>[(i(!0),f(v,null,b(m.value,(s,a)=>(i(),u(P,{key:a,term:k(z)(`http.api.property.${a}`)},{default:e(()=>[a==="status"?(i(),u(k(A),{key:0,appearance:s==="offline"?"danger":"success"},{default:e(()=>[p(d(s),1)]),_:2},1032,["appearance"])):a==="name"?(i(),u(w,{key:1,text:s},null,8,["text"])):(i(),f(v,{key:2},[p(d(s),1)],64))]),_:2},1032,["term"]))),128))]),_:1})]),insights:e(()=>[c(L,{"initially-open":0},{default:e(()=>[(i(!0),f(v,null,b(I.value,(s,a)=>(i(),u(E,{key:a},{"accordion-header":e(()=>[c($,{details:s},null,8,["details"])]),"accordion-content":e(()=>[c(j,{details:s},null,8,["details"])]),_:2},1024))),128))]),_:1})]),config:e(()=>[_.value!==null?(i(),u(Z,{key:0,id:"code-block-zone-config",language:"json",code:_.value,"is-searchable":"","query-key":"zone-config"},null,8,["code"])):J("",!0)]),warnings:e(()=>[c(M,{warnings:h.value},null,8,["warnings"])]),_:1},8,["tabs"])}}});export{oe as _};
