import{d as q,r as m,p as g,o as i,w as o,b as l,c as f,N as _,L as w,e as a,l as t,t as r,M as A,q as k,m as R,Y as B,$ as Q,n as Y,_ as j}from"./index-8QMKyk4n.js";import{T as S}from"./TagList-Cbn4OqC_.js";const I={key:0},O={scope:"row"},Z={key:1},G={scope:"row"},H={scope:"row"},J={scope:"row"},K={key:0},U={scope:"row"},W={scope:"row"},ee={scope:"row"},te={key:0},ae={key:0},se={scope:"row"},oe={scope:"row"},ne=q({__name:"DataPlaneSummaryView",props:{items:{},routeName:{}},setup(E){const T=E;return(le,e)=>{const V=m("XEmptyState"),z=m("RouteTitle"),b=m("XAction"),v=m("XBadge"),y=m("XLayout"),D=m("XSelect"),c=m("XTable"),x=m("XCopyButton"),C=m("DataCollection"),M=m("XCodeBlock"),F=m("DataLoader"),L=m("AppView"),P=m("RouteView");return i(),g(P,{name:T.routeName,params:{mesh:"",proxy:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:o(({route:p,t:n,uri:N,can:$})=>[l(C,{items:T.items,predicate:X=>X.id===p.params.proxy},{empty:o(()=>[l(V,null,{title:o(()=>[t("h2",null,r(n("common.collection.summary.empty_title",{type:"Data Plane Proxy"})),1)]),default:o(()=>[e[0]||(e[0]=a()),t("p",null,r(n("common.collection.summary.empty_message",{type:"Data Plane Proxy"})),1)]),_:2},1024)]),default:o(({items:X})=>[(i(!0),f(_,null,w([X[0]],d=>(i(),g(L,{key:d.id},{title:o(()=>[l(y,{size:"small"},{default:o(()=>[t("h2",{class:Y(`type-${d.dataplaneType}`)},[l(b,{to:{name:"data-plane-detail-view",params:{proxy:d.id}}},{default:o(()=>[l(z,{title:n("data-planes.routes.item.title",{name:d.name})},null,8,["title"])]),_:2},1032,["to"])],2),e[1]||(e[1]=a()),l(v,{appearance:n(`common.status.appearance.${d.status}`,void 0,{defaultMessage:"neutral"})},{default:o(()=>[a(r(n(`http.api.value.${d.status}`)),1)]),_:2},1032,["appearance"])]),_:2},1024)]),default:o(()=>[e[31]||(e[31]=a()),l(y,null,{default:o(()=>[t("header",null,[l(y,{type:"separated",size:"max"},{default:o(()=>[t("h3",null,r(n("data-planes.routes.item.config")),1),e[2]||(e[2]=a()),(i(),f(_,null,w([["structured","universal","k8s"]],u=>t("div",{key:typeof u},[l(D,{label:n("data-planes.routes.item.format"),selected:p.params.format,onChange:s=>{p.update({format:s})},onVnodeBeforeMount:s=>s?.props?.selected&&u.includes(s.props.selected)&&s.props.selected!==p.params.format&&p.update({format:s.props.selected})},A({_:2},[w(u,s=>({name:`${s}-option`,fn:o(()=>[a(r(n(`data-planes.routes.item.formats.${s}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024)])]),_:2},1024),e[32]||(e[32]=a()),p.params.format==="structured"?(i(),g(y,{key:0,type:"stack",size:"large","data-testid":"structured-view"},{default:o(()=>[l(c,{variant:"kv"},{default:o(()=>[t("tr",null,[e[3]||(e[3]=t("th",{scope:"row"},`
                      Type
                    `,-1)),e[4]||(e[4]=a()),t("td",null,r(n(`data-planes.type.${d.dataplaneType}`)),1)]),e[9]||(e[9]=a()),d.namespace.length>0?(i(),f("tr",I,[t("th",O,r(n("data-planes.routes.item.namespace")),1),e[5]||(e[5]=a()),t("td",null,r(d.namespace),1)])):k("",!0),e[10]||(e[10]=a()),$("use zones")&&d.zone?(i(),f("tr",Z,[e[6]||(e[6]=t("th",{scope:"row"},`
                      Zone
                    `,-1)),e[7]||(e[7]=a()),t("td",null,[l(b,{to:{name:"zone-cp-detail-view",params:{zone:d.zone}}},{default:o(()=>[a(r(d.zone),1)]),_:2},1032,["to"])])])):k("",!0),e[11]||(e[11]=a()),t("tr",null,[t("th",G,r(n("http.api.property.modificationTime")),1),e[8]||(e[8]=a()),t("td",null,r(n("common.formats.datetime",{value:Date.parse(d.modificationTime)})),1)])]),_:2},1024),e[28]||(e[28]=a()),d.dataplane.networking.gateway?(i(),g(y,{key:0,type:"stack"},{default:o(()=>[t("h3",null,r(n("data-planes.routes.item.gateway")),1),e[15]||(e[15]=a()),l(c,{variant:"kv"},{default:o(()=>[t("tr",null,[t("th",H,r(n("http.api.property.tags")),1),e[12]||(e[12]=a()),t("td",null,[l(S,{alignment:"right",tags:d.dataplane.networking.gateway.tags},null,8,["tags"])])]),e[14]||(e[14]=a()),t("tr",null,[t("th",J,r(n("http.api.property.address")),1),e[13]||(e[13]=a()),t("td",null,[l(x,{text:`${d.dataplane.networking.address}`},null,8,["text"])])])]),_:2},1024)]),_:2},1024)):k("",!0),e[29]||(e[29]=a()),d.dataplaneType==="standard"?(i(),g(C,{key:1,items:d.dataplane.networking.inbounds},{default:o(({items:u})=>[l(y,{"data-testid":"dataplane-inbounds"},{default:o(()=>[t("h3",null,r(n("data-planes.routes.item.inbounds")),1),e[22]||(e[22]=a()),(i(!0),f(_,null,w(u,(s,h)=>(i(),g(y,{key:h,class:"inbound"},{default:o(()=>[s.tags["kuma.io/service"]?(i(),f("h4",K,[l(x,{text:s.tags["kuma.io/service"]},{default:o(()=>[a(r(n("data-planes.routes.item.inbound_name",{service:s.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])])):k("",!0),e[21]||(e[21]=a()),l(c,{variant:"kv"},{default:o(()=>[t("tr",null,[t("th",U,r(n("http.api.property.state")),1),e[16]||(e[16]=a()),t("td",null,[s.state==="Ready"?(i(),g(v,{key:0,appearance:"success"},{default:o(()=>[a(r(n(`http.api.value.${s.state}`)),1)]),_:2},1024)):(i(),g(v,{key:1,appearance:"danger"},{default:o(()=>[a(r(n(`http.api.value.${s.state}`)),1)]),_:2},1024))])]),e[19]||(e[19]=a()),t("tr",null,[t("th",W,r(n("http.api.property.tags")),1),e[17]||(e[17]=a()),t("td",null,[l(S,{alignment:"right",tags:s.tags},null,8,["tags"])])]),e[20]||(e[20]=a()),t("tr",null,[t("th",ee,r(n("http.api.property.address")),1),e[18]||(e[18]=a()),t("td",null,[l(x,{text:s.addressPort},null,8,["text"])])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["items"])):k("",!0),e[30]||(e[30]=a()),d.dataplaneType==="standard"?(i(),g(C,{key:2,items:d.dataplane.networking.outbounds},{default:o(({items:u})=>[l(y,{"data-testid":"dataplane-outbounds"},{default:o(()=>[t("h3",null,r(n("data-planes.routes.item.outbounds")),1),e[27]||(e[27]=a()),(i(!0),f(_,null,w(u,(s,h)=>(i(),g(y,{key:h,class:"inbound",size:"small"},{default:o(()=>[s.tags["kuma.io/service"]?(i(),f("h4",te,[l(x,{text:s.tags["kuma.io/service"]},{default:o(()=>[a(r(n("data-planes.routes.item.inbound_name",{service:s.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])])):k("",!0),e[26]||(e[26]=a()),l(c,{variant:"kv"},{default:o(()=>[Object.keys(s.tags).length?(i(),f("tr",ae,[t("th",se,r(n("http.api.property.tags")),1),e[23]||(e[23]=a()),t("td",null,[l(S,{alignment:"right",tags:s.tags},null,8,["tags"])])])):k("",!0),e[25]||(e[25]=a()),t("tr",null,[t("th",oe,r(n("http.api.property.address")),1),e[24]||(e[24]=a()),t("td",null,[l(x,{text:s.addressPort},null,8,["text"])])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["items"])):k("",!0)]),_:2},1024)):p.params.format==="universal"?(i(),g(M,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",code:R(B).stringify(d.config),"show-k8s-copy-button":!1,"is-searchable":"",query:p.params.codeSearch,"is-filter-mode":p.params.codeFilter,"is-reg-exp-mode":p.params.codeRegExp,onQueryChange:u=>p.update({codeSearch:u}),onFilterModeChange:u=>p.update({codeFilter:u}),onRegExpModeChange:u=>p.update({codeRegExp:u})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(i(),g(F,{key:2,src:N(R(Q),"/meshes/:mesh/dataplanes/:name/as/kubernetes",{mesh:p.params.mesh,name:p.params.proxy})},{default:o(({data:u})=>[l(M,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:R(B).stringify(u),"show-k8s-copy-button":!1,"is-searchable":"",query:p.params.codeSearch,"is-filter-mode":p.params.codeFilter,"is-reg-exp-mode":p.params.codeRegExp,onQueryChange:s=>p.update({codeSearch:s}),onFilterModeChange:s=>p.update({codeFilter:s}),onRegExpModeChange:s=>p.update({codeRegExp:s})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024))),128))]),_:2},1032,["items","predicate"])]),_:1},8,["name"])}}}),de=j(ne,[["__scopeId","data-v-81b78b2f"]]);export{de as default};
