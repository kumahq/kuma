import{L as Z}from"./LoadingBox-b967e8b6.js";import{O as T,a as V,b as k}from"./OnboardingPage-ce73e349.js";import{d as I,N as O,t as r,O as N,r as p,o as a,g as A,w as i,h as c,l as e,m as n,j as l,k as B,z as C,B as L,q as R}from"./index-65a641bf.js";const S=u=>(C("data-v-052795d6"),u=u(),L(),u),M=S(()=>n("p",{class:"mb-4 text-center"},`
            A zone requires both the zone control plane and zone ingress. On Kubernetes, you run a single command to create both resources. On Universal, you must create them separately.
          `,-1)),q={class:"mb-4 text-center"},D=["href"],E={class:"status-box mt-4"},G={key:0,class:"status--is-connected","data-testid":"zone-connected"},K={key:1,class:"status--is-disconnected","data-testid":"zone-disconnected"},P={class:"status-box mt-4"},U={key:0,class:"status--is-connected","data-testid":"zone-ingress-connected"},j={key:1,class:"status--is-disconnected","data-testid":"zone-ingress-disconnected"},H={key:0,class:"status-loading-box mt-4"},b=1e3,F=I({__name:"MultiZoneView",setup(u){const m=O(),o=r(!1),s=r(!1),d=r(null),_=r(null);N(function(){v(),f()}),g(),h();async function g(){try{const{total:t}=await m.getZones();o.value=t>0}catch(t){o.value=!1,console.error(t)}finally{o.value||(v(),d.value=window.setTimeout(g,b))}}async function h(){try{const{total:t}=await m.getAllZoneIngressOverviews();s.value=t>0}catch(t){s.value=!1,console.error(t)}finally{s.value||(f(),_.value=window.setTimeout(h,b))}}function v(){d.value!==null&&window.clearTimeout(d.value)}function f(){_.value!==null&&window.clearTimeout(_.value)}return(t,J)=>{const y=p("RouteTitle"),x=p("AppView"),z=p("RouteView");return a(),A(z,{name:"onboarding-multi-zone"},{default:i(({t:w})=>[c(y,{title:w("onboarding.routes.multizone.title")},null,8,["title"]),e(),c(x,null,{default:i(()=>[c(T,null,{header:i(()=>[c(V,null,{title:i(()=>[e(`
              Add zones
            `)]),_:1})]),content:i(()=>[M,e(),n("p",q,[n("b",null,[e("See "),n("a",{href:w("onboarding.href.docs.install"),target:"_blank"},"the documentation for options to install",8,D),e(".")])]),e(),n("div",null,[n("p",E,[e(`
              Zone status:

              `),o.value?(a(),l("span",G,"Connected")):(a(),l("span",K,"Disconnected"))]),e(),n("p",P,[e(`
              Zone ingress status:

              `),s.value?(a(),l("span",U,"Connected")):(a(),l("span",j,"Disconnected"))]),e(),!s.value||!o.value?(a(),l("div",H,[c(Z)])):B("",!0)])]),navigation:i(()=>[c(k,{"next-step":"onboarding-create-mesh","previous-step":"onboarding-configuration-types","should-allow-next":o.value&&s.value},null,8,["should-allow-next"])]),_:2},1024)]),_:2},1024)]),_:1})}}});const Y=R(F,[["__scopeId","data-v-052795d6"]]);export{Y as default};
