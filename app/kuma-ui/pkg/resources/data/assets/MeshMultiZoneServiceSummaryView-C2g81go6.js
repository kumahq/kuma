import{d as L,r as n,p as m,o as l,w as s,b as r,e as i,l as u,c as _,t as f,N as h,L as g,M as D,O as C,m as z,ae as q}from"./index-BSqKVyym.js";import{_ as x}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-Uh1KP9qu.js";const A={key:0,class:"stack-with-borders","data-testid":"structured-view"},T=L({__name:"MeshMultiZoneServiceSummaryView",props:{items:{}},setup(k){const v=k;return(N,o)=>{const b=n("RouteTitle"),S=n("XAction"),w=n("XSelect"),c=n("XLayout"),M=n("KumaPort"),R=n("XBadge"),E=n("DataLoader"),F=n("AppView"),V=n("DataCollection"),B=n("RouteView");return l(),m(B,{name:"mesh-multi-zone-service-summary-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:s(({route:e,t:p,uri:X})=>[r(V,{items:v.items,predicate:d=>d.id===e.params.service},{item:s(({item:d})=>[r(F,null,{title:s(()=>[u("h2",null,[r(S,{to:{name:"mesh-multi-zone-service-detail-view",params:{mesh:e.params.mesh,service:e.params.service}}},{default:s(()=>[r(b,{title:p("services.routes.item.title",{name:d.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:s(()=>[o[7]||(o[7]=i()),r(c,{type:"stack"},{default:s(()=>[u("header",null,[r(c,{type:"separated",size:"max"},{default:s(()=>[u("h3",null,f(p("services.routes.item.config")),1),o[0]||(o[0]=i()),(l(),_(h,null,g([["structured","universal","k8s"]],t=>u("div",{key:typeof t},[r(w,{label:p("services.routes.item.format"),selected:e.params.format,onChange:a=>{e.update({format:a})},onVnodeBeforeMount:a=>{var y;return((y=a==null?void 0:a.props)==null?void 0:y.selected)&&t.includes(a.props.selected)&&a.props.selected!==e.params.format&&e.update({format:a.props.selected})}},D({_:2},[g(t,a=>({name:`${a}-option`,fn:s(()=>[i(f(p(`services.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2,__:[0]},1024)]),o[6]||(o[6]=i()),e.params.format==="structured"?(l(),_("div",A,[r(C,{layout:"horizontal"},{title:s(()=>o[1]||(o[1]=[i(`
                    Ports
                  `)])),body:s(()=>[r(c,{type:"separated",truncate:""},{default:s(()=>[(l(!0),_(h,null,g(d.spec.ports,t=>(l(),m(M,{key:t.port,port:{...t,targetPort:void 0}},null,8,["port"]))),128))]),_:2},1024)]),_:2,__:[2]},1024),o[5]||(o[5]=i()),r(C,{layout:"horizontal"},{title:s(()=>o[3]||(o[3]=[i(`
                    Selector
                  `)])),body:s(()=>[r(c,{type:"separated",truncate:""},{default:s(()=>[(l(!0),_(h,null,g(d.spec.selector.meshService.matchLabels,(t,a)=>(l(),m(R,{key:`${a}:${t}`,appearance:"info"},{default:s(()=>[i(f(a)+":"+f(t),1)]),_:2},1024))),128))]),_:2},1024)]),_:2,__:[4]},1024)])):e.params.format==="universal"?(l(),m(x,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",resource:d.config,"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:t=>e.update({codeSearch:t}),onFilterModeChange:t=>e.update({codeFilter:t}),onRegExpModeChange:t=>e.update({codeRegExp:t})},null,8,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(l(),m(E,{key:2,src:X(z(q),"/meshes/:mesh/mesh-service/:name/as/kubernetes",{mesh:e.params.mesh,name:e.params.service})},{default:s(({data:t})=>[r(x,{"data-testid":"codeblock-yaml-k8s",language:"yaml",resource:t,"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:a=>e.update({codeSearch:a}),onFilterModeChange:a=>e.update({codeFilter:a}),onRegExpModeChange:a=>e.update({codeRegExp:a})},null,8,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2,__:[6]},1024)]),_:2,__:[7]},1024)]),_:2},1032,["items","predicate"])]),_:1})}}});export{T as default};
