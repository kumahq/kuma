import{d as x,p,o as c,w as n,b as i,e as l,r as e,c as I,L as R,M as S,N as V,t as A,m as E,A as F}from"./index-B9Y98Ayj.js";const B=x({__name:"ZoneConfigView",props:{data:{}},setup(m){const o=m;return(N,a)=>{const u=e("RouteTitle"),g=e("XAction"),f=e("XI18n"),_=e("XNotification"),b=e("XCodeBlock"),C=e("XAlert"),z=e("XCard"),h=e("AppView"),k=e("DataSource"),v=e("RouteView");return c(),p(v,{name:"zone-cp-config-view",params:{zone:"",codeSearch:"",codeFilter:!1,codeRegExp:!1}},{default:n(({route:s,t:d,uri:y})=>[i(u,{render:!1,title:d("zone-cps.routes.item.navigation.zone-cp-config-view")},null,8,["title"]),a[2]||(a[2]=l()),i(k,{src:y(E(F),"/control-plane/outdated/:version",{version:o.data.zoneInsight.version?.kumaCp?.version??"-"})},{default:n(({data:w})=>[i(h,{notifications:!0},{default:n(()=>[(c(!0),I(V,null,R([{bool:o.data.zoneInsight.store==="memory",key:"store-memory"},{bool:!o.data.zoneInsight.version?.kumaCp?.kumaCpGlobalCompatible,key:"global-cp-incompatible",params:{zoneCpVersion:o.data.zoneInsight.version?.kumaCp?.version??"-",globalCpVersion:w?.version??""}},{bool:(o.data.zoneInsight.connectedSubscription?.status.total.responsesRejected??0)>0,key:"global-nack-response"}],({bool:t,key:r,params:X})=>(c(),p(_,{key:r,notify:t,"data-testid":`warning-${r}`,uri:`zone-cps.notifications.${r}.${o.data.id}`},{default:n(()=>[i(f,{path:`zone-cps.notifications.${r}`,params:Object.fromEntries(Object.entries(X??{}))},S({_:2},[r==="global-nack-response"?{name:"link",fn:n(()=>[i(g,{"data-action":"",to:{name:"zone-cp-subscription-summary-view",params:{subscription:o.data.zoneInsight.connectedSubscription?.id}}},{default:n(()=>[...a[0]||(a[0]=[l(`
                  zone control plane summary
                `,-1)])]),_:1},8,["to"])]),key:"0"}:void 0]),1032,["path","params"])]),_:2},1032,["notify","data-testid","uri"]))),128)),a[1]||(a[1]=l()),i(z,null,{default:n(()=>[Object.keys(o.data.zoneInsight.config).length>0?(c(),p(b,{key:0,language:"json",code:JSON.stringify(o.data.zoneInsight.config,null,2),"is-searchable":"",query:s.params.codeSearch,"is-filter-mode":s.params.codeFilter,"is-reg-exp-mode":s.params.codeRegExp,onQueryChange:t=>s.update({codeSearch:t}),onFilterModeChange:t=>s.update({codeFilter:t}),onRegExpModeChange:t=>s.update({codeRegExp:t})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(c(),p(C,{key:1,class:"mt-4","data-testid":"warning-no-subscriptions",variant:"warning"},{default:n(()=>[l(A(d("zone-cps.detail.no_subscriptions")),1)]),_:2},1024))]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])]),_:1})}}});export{B as default};
