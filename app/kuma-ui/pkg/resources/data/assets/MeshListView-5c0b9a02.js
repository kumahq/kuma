import{d as V,r as s,o as c,i as l,w as e,j as a,p as u,n as p,E as z,H as i,k as h,$ as K,K as x,m as B,t as I}from"./index-9f06f70e.js";import{A as D}from"./AppCollection-033a3363.js";import"./EmptyBlock.vue_vue_type_script_setup_true_lang-3a3fb8ea.js";const L={class:"stack"},M=V({__name:"MeshListView",setup(R){return(S,A)=>{const y=s("RouteTitle"),w=s("RouterLink"),f=s("KButton"),v=s("KDropdownItem"),g=s("KDropdownMenu"),k=s("KCard"),b=s("AppView"),_=s("DataSource"),C=s("RouteView");return c(),l(_,{src:"/me"},{default:e(({data:d})=>[d?(c(),l(C,{key:0,name:"mesh-list-view",params:{page:1,size:d.pageSize}},{default:e(({route:m,t:o})=>[a(_,{src:`/meshes?page=${m.params.page}&size=${m.params.size}`},{default:e(({data:n,error:r})=>[a(b,null,{title:e(()=>[u("h1",null,[a(y,{title:o("meshes.routes.items.title"),render:!0},null,8,["title"])])]),default:e(()=>[p(),u("div",L,[a(k,null,{body:e(()=>[r!==void 0?(c(),l(z,{key:0,error:r},null,8,["error"])):(c(),l(D,{key:1,class:"mesh-collection","data-testid":"mesh-collection",headers:[{label:o("meshes.common.name"),key:"name"},{label:o("meshes.routes.items.collection.services"),key:"services"},{label:o("meshes.routes.items.collection.dataplanes"),key:"dataplanes"},{label:"Actions",key:"actions",hideLabel:!0}],"page-number":parseInt(m.params.page),"page-size":parseInt(m.params.size),total:n==null?void 0:n.total,items:n==null?void 0:n.items,error:r,"empty-state-message":o("common.emptyState.message",{type:"Meshes"}),"empty-state-cta-to":o("meshes.href.docs"),"empty-state-cta-text":o("common.documentation"),onChange:m.update},{name:e(({row:t})=>[a(w,{to:{name:"mesh-detail-view",params:{mesh:t.name}}},{default:e(()=>[p(i(t.name),1)]),_:2},1032,["to"])]),services:e(({row:t})=>[p(i(t.services.internal??"0"),1)]),dataplanes:e(({row:t})=>[p(i(t.dataplanesByType.standard.online??"0")+" / "+i(t.dataplanesByType.standard.total??"0"),1)]),actions:e(({row:t})=>[a(g,{class:"actions-dropdown","kpop-attributes":{placement:"bottomEnd",popoverClasses:"mt-5 more-actions-popover"},width:"150"},{default:e(()=>[a(f,{class:"non-visual-button",appearance:"secondary",size:"small"},{default:e(()=>[a(h(K),{size:h(x)},null,8,["size"])]),_:1})]),items:e(()=>[a(v,{item:{to:{name:"mesh-detail-view",params:{mesh:t.name}},label:o("common.collection.actions.view")}},null,8,["item"])]),_:2},1024)]),_:2},1032,["headers","page-number","page-size","total","items","error","empty-state-message","empty-state-cta-to","empty-state-cta-text","onChange"]))]),_:2},1024)])]),_:2},1024)]),_:2},1032,["src"])]),_:2},1032,["params"])):B("",!0)]),_:1})}}});const $=I(M,[["__scopeId","data-v-c0afbec8"]]);export{$ as default};
