import{_ as h}from"./CodeBlock.vue_vue_type_style_index_0_lang-ad731d3d.js";import{d as _,g as b,h as f,r as x,o as g,i as k,w as r,j as i,k as n,ak as T,n as C,H as K}from"./index-a6f5023f.js";import{t as q}from"./toYaml-4e00099e.js";const S=_({__name:"ResourceCodeBlock",props:{id:{},resource:{},resourceFetcher:{},codeMaxHeight:{default:null},isSearchable:{type:Boolean,default:!1},query:{default:""}},emits:["query-change"],setup(l,{emit:m}){const{t:o}=b(),e=l,p=m,d=f(()=>c(e.resource));async function y(){const t=await e.resourceFetcher({format:"kubernetes"});return c(t)}function c(t){const{creationTime:a,modificationTime:u,...s}=t;return q(s)}return(t,a)=>{const u=x("KTooltip");return g(),k(h,{id:t.id,language:"yaml",code:d.value,"is-searchable":e.isSearchable,"code-max-height":e.codeMaxHeight,query:e.query,onQueryChange:a[0]||(a[0]=s=>p("query-change",s))},{"secondary-actions":r(()=>[i(u,{class:"kubernetes-copy-button-tooltip",label:n(o)("common.copyKubernetesText"),placement:"bottomEnd","max-width":"200"},{default:r(()=>[i(T,{class:"kubernetes-copy-button","get-text":y,"copy-text":n(o)("common.copyKubernetesText"),"has-border":"","hide-title":""},{default:r(()=>[C(K(n(o)("common.copyKubernetesShortText")),1)]),_:1},8,["copy-text"])]),_:1},8,["label"])]),_:1},8,["id","code","is-searchable","code-max-height","query"])}}});export{S as _};
