import{d as B,r as n,p as c,o as m,w as a,b as t,l as y,e as l,I as x,m as L,V as N,q as g,K as D,t as r,c as R,N as S,y as G,_ as q}from"./index-CIntnFRJ.js";import{S as I}from"./SummaryView-BF7jbE4k.js";const E=B({__name:"BuiltinGatewayListView",setup(F){return(K,i)=>{const w=n("XSearch"),_=n("XAction"),f=n("XCopyButton"),h=n("XActionGroup"),z=n("DataCollection"),b=n("RouterView"),C=n("DataLoader"),k=n("XLayout"),v=n("XCard"),V=n("AppView"),X=n("RouteView");return m(),c(X,{name:"builtin-gateway-list-view",params:{page:1,size:Number,mesh:"",gateway:"",s:""}},{default:a(({route:e,t:u,can:d,me:p,uri:A})=>[t(V,{docs:u("builtin-gateways.href.docs")},{default:a(()=>[t(v,null,{default:a(()=>[t(k,null,{default:a(()=>[y("search",null,[y("form",{onSubmit:i[0]||(i[0]=x(()=>{},["prevent"]))},[t(w,{class:"search-field",keys:["name",...d("use zones")?["zone"]:[],"label"],value:e.params.s,onChange:o=>e.update({page:1,s:o})},null,8,["keys","value","onChange"])],32)]),i[4]||(i[4]=l()),t(C,{src:A(L(N),"/meshes/:mesh/mesh-gateways",{mesh:e.params.mesh},{page:e.params.page,size:e.params.size,search:e.params.s}),variant:"list"},{default:a(({data:o})=>[t(z,{type:"gateways",items:o.items,page:e.params.page,"page-size":e.params.size,total:o.total,onChange:e.update},{default:a(()=>[t(D,{class:"builtin-gateway-collection","data-testid":"builtin-gateway-collection",headers:[{...p.get("headers.name"),label:"Name",key:"name"},...d("use zones")?[{...p.get("headers.zone"),label:"Zone",key:"zone"}]:[],{...p.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],items:o.items,onResize:p.set},{name:a(({row:s})=>[t(f,{text:s.name},{default:a(()=>[t(_,{"data-action":"",to:{name:"builtin-gateway-summary-view",query:{size:e.params.size,page:e.params.page,s:e.params.s},params:{mesh:s.mesh,gateway:s.id}}},{default:a(()=>[l(r(s.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),zone:a(({row:s})=>[s.labels&&s.labels["kuma.io/origin"]==="zone"&&s.labels["kuma.io/zone"]?(m(),c(_,{key:0,to:{name:"zone-cp-detail-view",params:{zone:s.labels["kuma.io/zone"]}}},{default:a(()=>[l(r(s.labels["kuma.io/zone"]),1)]),_:2},1032,["to"])):(m(),R(S,{key:1},[l(r(u("common.detail.none")),1)],64))]),actions:a(({row:s})=>[t(h,null,{default:a(()=>[t(_,{to:{name:"builtin-gateway-detail-view",params:{mesh:s.mesh,gateway:s.name}}},{default:a(()=>[l(r(u("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2,__:[1,2]},1032,["headers","items","onResize"])]),_:2},1032,["items","page","page-size","total","onChange"]),i[3]||(i[3]=l()),e.child()?(m(),c(b,{key:0},{default:a(({Component:s})=>[t(I,{onClose:M=>e.replace({name:"builtin-gateway-list-view",params:{mesh:e.params.mesh},query:{page:e.params.page,size:e.params.size,s:e.params.s}})},{default:a(()=>[typeof o<"u"?(m(),c(G(s),{key:0,items:o.items},null,8,["items"])):g("",!0)]),_:2},1032,["onClose"])]),_:2},1024)):g("",!0)]),_:2,__:[3]},1032,["src"])]),_:2,__:[4]},1024)]),_:2},1024)]),_:2},1032,["docs"])]),_:1})}}}),$=q(E,[["__scopeId","data-v-feb814e4"]]);export{$ as default};
