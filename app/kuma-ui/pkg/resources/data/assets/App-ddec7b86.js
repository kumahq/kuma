import{_ as M,o as l,c as w,r as k,d as g,a as _,b as h,w as n,e as i,f as e,n as R,h as V,g as L,i as T,j as B,u as x,k as O,l as E,m as N,p as a,t as f,q as s,x as P,s as F,v as $,y as G,F as z,z as H,A as Y,K as D,L as Z,B as q,C as W}from"./index-3dc6e8c8.js";const j=""+new URL("product-logo-7a2ca341.png",import.meta.url).href,J={},Q={class:"app-navigator"};function X(r,o){return l(),w("li",Q,[k(r.$slots,"default")])}const K=M(J,[["render",X]]),ee=g({__name:"ControlPlaneNavigator",setup(r){return(o,p)=>{const c=_("RouterLink");return l(),h(K,{"data-testid":"control-planes-navigator"},{default:n(()=>[i(c,{class:R({"is-active":[o.$route.name].concat(o.$route.matched.map(t=>t.name)).some(t=>t==="home")}),to:{name:"home"}},{default:n(()=>[e(`
      Home
    `)]),_:1},8,["class"])]),_:1})}}}),te=g({name:"github-button",props:{href:String,ariaLabel:String,title:String,dataIcon:String,dataColorScheme:String,dataSize:String,dataShowCount:String,dataText:String},render:function(){const r={ref:"_"};for(const o in this.$props)r[V(o)]=this.$props[o];return L("span",[T(this.$slots,"default")?L("a",r,this.$slots.default()):L("a",r)])},mounted:function(){this.paint()},beforeUpdate:function(){this.reset()},updated:function(){this.paint()},beforeUnmount:function(){this.reset()},methods:{paint:function(){const r=this.$el.appendChild(document.createElement("span")),o=this;B(()=>import("./buttons.esm-48f94bc9.js"),[],import.meta.url).then(function(p){p.render(r.appendChild(o.$refs._),function(c){try{r.parentNode.replaceChild(c,r)}catch{}})})},reset:function(){this.$el.replaceChild(this.$refs._,this.$el.lastChild)}}}),ne={class:"upgrade-check"},oe={class:"alert-content"},ae=g({__name:"UpgradeCheck",setup(r){const o=x(),p=O(),{t:c}=E(),t=N(""),b=N(!1);v(p("KUMA_VERSION"));const S=(d,u)=>{const m=d.split("."),y=u.split(".");for(let A=0;A<3;A++){const C=Number(m[A]),I=Number(y[A]);if(C>I)return 1;if(I>C)return-1}return 0};async function v(d){if(d.match("^[0-9]+.[0-9]+.[0-9]+$")){try{t.value=await o.getLatestVersion()}catch(u){console.error(u);return}if(t.value!==""){const u=S(t.value,d);b.value=u===1}else{const m=new Date,y=new Date("2020-06-03 12:00:00"),A=new Date(y.getFullYear(),y.getMonth()+3,y.getDate());b.value=m.getTime()>=A.getTime()}}}return(d,u)=>(l(),w("div",ne,[b.value?(l(),h(s(F),{key:0,"data-testid":"upgrade-check",class:"upgrade-check-alert",appearance:"warning",size:"small"},{alertMessage:n(()=>[a("div",oe,[a("div",null,f(s(c)("common.product.name"))+` update available
          `,1),e(),a("div",null,[i(s(P),{class:"warning-button",appearance:"primary",size:"small",to:s(p)("KUMA_INSTALL_URL")},{default:n(()=>[e(`
              Update
            `)]),_:1},8,["to"])])])]),_:1})):$("",!0)]))}});const se=M(ae,[["__scopeId","data-v-d893f8e9"]]),ce={key:0,class:"onboarding-check","data-testid":"onboarding-notification"},ie={class:"alert-content"},re=g({__name:"OnboardingNotification",setup(r){const{t:o}=E(),p=G(),c=N(!1);function t(){c.value=!0}return(b,S)=>{const v=_("KButton"),d=_("KAlert"),u=_("DataSource");return s(p).name==="home"?(l(),h(u,{key:0,src:"/meshes?page=1&size=10"},{default:n(({data:m})=>[(m==null?void 0:m.items.length)===1&&m.items[0].name==="default"?(l(),w(z,{key:0},[m.items[0].dataplanes.total===0?(l(),w(z,{key:0},[c.value===!1?(l(),w("div",ce,[i(d,{appearance:"success","dismiss-type":"icon",onClosed:t},{alertMessage:n(()=>[a("div",ie,[a("div",null,[a("strong",null,"Welcome to "+f(s(o)("common.product.name"))+"!",1),e(` We've detected that you don't have any data plane proxies running yet. We've created an onboarding process to help you!
                `)]),e(),a("div",null,[i(v,{appearance:"primary",size:"small",class:"action-button",to:{name:"onboarding-welcome"}},{default:n(()=>[e(`
                    Get started
                  `)]),_:1})])])]),_:1})])):$("",!0)],64)):$("",!0)],64)):$("",!0)]),_:1})):$("",!0)}}});const le=M(re,[["__scopeId","data-v-6bf8ce9b"]]),U=r=>(q("data-v-5343882e"),r=r(),W(),r),_e={class:"application-shell"},ue={role:"banner"},pe={class:"horizontal-list"},de={class:"upgrade-check-wrapper"},me={class:"horizontal-list"},he={class:"app-status app-status--mobile"},fe={class:"app-status app-status--desktop"},ve=U(()=>a("span",{class:"visually-hidden"},"Help",-1)),ge=["href"],ke=["href"],$e=U(()=>a("span",{class:"visually-hidden"},"Diagnostics",-1)),be={class:"app-content-container"},ye={key:0,"aria-label":"Main",class:"app-sidebar"},we={class:"app-main-content"},Se={class:"app-notifications"},Ae=["innerHTML"],Me=g({__name:"ApplicationShell",setup(r){const o=O(),p=H(),{t:c}=E();return(t,b)=>{const S=_("RouterLink"),v=_("KButton"),d=_("KPop"),u=_("KDropdownItem"),m=_("KDropdownMenu"),y=_("KAlert");return l(),w("div",_e,[a("header",ue,[a("div",pe,[k(t.$slots,"header",{},()=>[i(S,{to:{name:"home"}},{default:n(()=>[k(t.$slots,"home",{},void 0,!0)]),_:3}),e(),i(s(te),{class:"gh-star",href:"https://github.com/kumahq/kuma","aria-label":"Star kumahq/kuma on GitHub"},{default:n(()=>[e(`
            Star
          `)]),_:1}),e(),a("div",de,[i(se)])],!0)]),e(),a("div",me,[k(t.$slots,"content-info",{},()=>[a("div",he,[i(d,{width:"280"},{content:n(()=>[a("p",null,[e(f(s(c)("common.product.name"))+" ",1),a("b",null,f(s(o)("KUMA_VERSION")),1),e(" on "),a("b",null,f(s(c)(`common.product.environment.${s(o)("KUMA_ENVIRONMENT")}`)),1),e(" ("+f(s(c)(`common.product.mode.${s(o)("KUMA_MODE")}`))+`)
                `,1)])]),default:n(()=>[i(v,{appearance:"outline"},{default:n(()=>[e(`
                Info
              `)]),_:1}),e()]),_:1})]),e(),a("p",fe,[e(f(s(c)("common.product.name"))+" ",1),a("b",null,f(s(o)("KUMA_VERSION")),1),e(" on "),a("b",null,f(s(c)(`common.product.environment.${s(o)("KUMA_ENVIRONMENT")}`)),1),e(" ("+f(s(c)(`common.product.mode.${s(o)("KUMA_MODE")}`))+`)
          `,1)]),e(),i(m,{"kpop-attributes":{placement:"bottomEnd"}},{items:n(()=>[i(u,null,{default:n(()=>[a("a",{href:s(c)("common.product.href.docs.index"),target:"_blank",rel:"noopener noreferrer"},`
                  Documentation
                `,8,ge)]),_:1}),e(),i(u,null,{default:n(()=>[a("a",{href:s(o)("KUMA_FEEDBACK_URL"),target:"_blank",rel:"noopener noreferrer"},`
                  Feedback
                `,8,ke)]),_:1})]),default:n(()=>[i(v,{appearance:"outline"},{default:n(()=>[i(s(Y),{size:s(D)},null,8,["size"]),e(),ve]),_:1}),e()]),_:1}),e(),i(v,{to:{name:"diagnostics"},"button-appearance":"btn-link","data-testid":"nav-item-diagnostics"},{default:n(()=>[i(s(Z),{size:s(D),"hide-title":""},null,8,["size"]),e(),$e]),_:1})],!0)])]),e(),a("div",be,[t.$slots.navigation?(l(),w("nav",ye,[a("ul",null,[k(t.$slots,"navigation",{},void 0,!0)])])):$("",!0),e(),a("div",we,[a("div",Se,[k(t.$slots,"notifications",{},void 0,!0)]),e(),k(t.$slots,"notifications",{},()=>[s(p)("use state")?$("",!0):(l(),h(y,{key:0,class:"mb-4",appearance:"warning"},{alertMessage:n(()=>[a("ul",null,[a("li",{"data-testid":"warning-GLOBAL_STORE_TYPE_MEMORY",innerHTML:s(c)("common.warnings.GLOBAL_STORE_TYPE_MEMORY")},null,8,Ae),e()])]),_:1})),e(),i(le)],!0),e(),k(t.$slots,"default",{},void 0,!0)])])])}}});const Re=M(Me,[["__scopeId","data-v-5343882e"]]),Ke=g({__name:"MeshNavigator",setup(r){return(o,p)=>{const c=_("RouterLink");return l(),h(K,{"data-testid":"meshes-navigator"},{default:n(()=>[i(c,{class:R({"is-active":[o.$route.name].concat(o.$route.matched.map(t=>t.name)).some(t=>t==="mesh-index-view")}),to:{name:"mesh-list-view"}},{default:n(()=>[e(`
      Meshes
    `)]),_:1},8,["class"])]),_:1})}}}),Le=g({__name:"ZoneEgressNavigator",setup(r){return(o,p)=>{const c=_("RouterLink");return l(),h(K,{"data-testid":"zone-egresses-navigator"},{default:n(()=>[i(c,{class:R({"is-active":[o.$route.name].concat(o.$route.matched.map(t=>t.name)).some(t=>t==="zone-egress-list-view")}),to:{name:"zone-egress-list-view"}},{default:n(()=>[e(`
      Zone Egresses
    `)]),_:1},8,["class"])]),_:1})}}}),Ne=g({__name:"ZoneNavigator",setup(r){return(o,p)=>{const c=_("RouterLink");return l(),h(K,{"data-testid":"zones-navigator"},{default:n(()=>[i(c,{class:R({"is-active":[o.$route.name].concat(o.$route.matched.map(t=>t.name)).some(t=>t==="zone-index-view")}),to:{name:"zone-cp-list-view"}},{default:n(()=>[e(`
      Zones
    `)]),_:1},8,["class"])]),_:1})}}}),Ee=["alt"],Ce=g({__name:"App",setup(r){return(o,p)=>{const c=_("RouterView"),t=_("AppView"),b=_("RouteView"),S=_("DataSource");return l(),h(S,{src:"/control-plane/addresses"},{default:n(({data:v})=>[typeof v<"u"?(l(),h(b,{key:0,name:"app",attrs:{class:"kuma-ready"},"data-testid-root":"mesh-app"},{default:n(({t:d,can:u})=>[i(Re,{class:"kuma-application"},{home:n(()=>[a("img",{class:"logo",src:j,alt:`${d("common.product.name")} Logo`,"data-testid":"logo"},null,8,Ee)]),navigation:n(()=>[i(ee),e(),u("use zones")?(l(),h(Ne,{key:0})):(l(),h(Le,{key:1})),e(),i(Ke)]),default:n(()=>[e(),e(),i(t,null,{default:n(()=>[i(c)]),_:1})]),_:2},1024)]),_:1})):$("",!0)]),_:1})}}});const ze=M(Ce,[["__scopeId","data-v-f821200e"]]);export{ze as default};
