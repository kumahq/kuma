import{d as A,r as m,p as u,o as p,w as e,b as o,c as k,N as C,L as h,e as a,l as _,t as l,M as Q,q as f,O as g,m as v,Y as B,$,n as O,_ as Y}from"./index-CIntnFRJ.js";import{T as R}from"./TagList-5GQAgehy.js";const j={class:"stack-with-borders"},I={class:"stack-with-borders"},Z={key:0},G={key:0},H=A({__name:"DataPlaneSummaryView",props:{items:{},routeName:{}},setup(E){const S=E;return(J,t)=>{const T=m("XEmptyState"),V=m("RouteTitle"),X=m("XAction"),w=m("XBadge"),y=m("XLayout"),D=m("XSelect"),x=m("XCopyButton"),b=m("DataCollection"),M=m("XCodeBlock"),F=m("DataLoader"),L=m("AppView"),P=m("RouteView");return p(),u(P,{name:S.routeName,params:{mesh:"",proxy:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:e(({route:r,t:n,uri:N,can:q})=>[o(b,{items:S.items,predicate:z=>z.id===r.params.proxy},{empty:e(()=>[o(T,null,{title:e(()=>[_("h2",null,l(n("common.collection.summary.empty_title",{type:"Data Plane Proxy"})),1)]),default:e(()=>[t[0]||(t[0]=a()),_("p",null,l(n("common.collection.summary.empty_message",{type:"Data Plane Proxy"})),1)]),_:2,__:[0]},1024)]),default:e(({items:z})=>[(p(!0),k(C,null,h([z[0]],d=>(p(),u(L,{key:d.id},{title:e(()=>[o(y,{size:"small"},{default:e(()=>[_("h2",{class:O(`type-${d.dataplaneType}`)},[o(X,{to:{name:"data-plane-detail-view",params:{proxy:d.id}}},{default:e(()=>[o(V,{title:n("data-planes.routes.item.title",{name:d.name})},null,8,["title"])]),_:2},1032,["to"])],2),t[1]||(t[1]=a()),o(w,{appearance:n(`common.status.appearance.${d.status}`,void 0,{defaultMessage:"neutral"})},{default:e(()=>[a(l(n(`http.api.value.${d.status}`)),1)]),_:2},1032,["appearance"])]),_:2,__:[1]},1024)]),default:e(()=>[t[31]||(t[31]=a()),o(y,null,{default:e(()=>[_("header",null,[o(y,{type:"separated",size:"max"},{default:e(()=>[_("h3",null,l(n("data-planes.routes.item.config")),1),t[2]||(t[2]=a()),(p(),k(C,null,h([["structured","universal","k8s"]],i=>_("div",{key:typeof i},[o(D,{label:n("data-planes.routes.item.format"),selected:r.params.format,onChange:s=>{r.update({format:s})},onVnodeBeforeMount:s=>{var c;return((c=s==null?void 0:s.props)==null?void 0:c.selected)&&i.includes(s.props.selected)&&s.props.selected!==r.params.format&&r.update({format:s.props.selected})}},Q({_:2},[h(i,s=>({name:`${s}-option`,fn:e(()=>[a(l(n(`data-planes.routes.item.formats.${s}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2,__:[2]},1024)])]),_:2},1024),t[32]||(t[32]=a()),r.params.format==="structured"?(p(),u(y,{key:0,type:"stack",size:"large","data-testid":"structured-view"},{default:e(()=>[_("div",j,[o(g,{layout:"horizontal"},{title:e(()=>t[3]||(t[3]=[a(`
                      Type
                    `,-1)])),body:e(()=>[a(l(n(`data-planes.type.${d.dataplaneType}`)),1)]),_:2,__:[4]},1024),t[9]||(t[9]=a()),d.namespace.length>0?(p(),u(g,{key:0,layout:"horizontal"},{title:e(()=>[a(l(n("data-planes.routes.item.namespace")),1)]),body:e(()=>[a(l(d.namespace),1)]),_:2,__:[5]},1024)):f("",!0),t[10]||(t[10]=a()),q("use zones")&&d.zone?(p(),u(g,{key:1,layout:"horizontal"},{title:e(()=>t[6]||(t[6]=[a(`
                      Zone
                    `,-1)])),body:e(()=>[o(X,{to:{name:"zone-cp-detail-view",params:{zone:d.zone}}},{default:e(()=>[a(l(d.zone),1)]),_:2},1032,["to"])]),_:2,__:[7]},1024)):f("",!0),t[11]||(t[11]=a()),o(g,{layout:"horizontal"},{title:e(()=>[a(l(n("http.api.property.modificationTime")),1)]),body:e(()=>[a(l(n("common.formats.datetime",{value:Date.parse(d.modificationTime)})),1)]),_:2,__:[8]},1024)]),t[28]||(t[28]=a()),d.dataplane.networking.gateway?(p(),u(y,{key:0,type:"stack"},{default:e(()=>[_("h3",null,l(n("data-planes.routes.item.gateway")),1),t[15]||(t[15]=a()),_("div",I,[o(g,{layout:"horizontal"},{title:e(()=>[a(l(n("http.api.property.tags")),1)]),body:e(()=>[o(R,{alignment:"right",tags:d.dataplane.networking.gateway.tags},null,8,["tags"])]),_:2,__:[12]},1024),t[14]||(t[14]=a()),o(g,{layout:"horizontal"},{title:e(()=>[a(l(n("http.api.property.address")),1)]),body:e(()=>[o(x,{text:`${d.dataplane.networking.address}`},null,8,["text"])]),_:2,__:[13]},1024)])]),_:2,__:[15]},1024)):f("",!0),t[29]||(t[29]=a()),d.dataplaneType==="standard"?(p(),u(b,{key:1,items:d.dataplane.networking.inbounds},{default:e(({items:i})=>[o(y,{"data-testid":"dataplane-inbounds"},{default:e(()=>[_("h3",null,l(n("data-planes.routes.item.inbounds")),1),t[22]||(t[22]=a()),(p(!0),k(C,null,h(i,(s,c)=>(p(),u(y,{key:c,class:"inbound"},{default:e(()=>[s.tags["kuma.io/service"]?(p(),k("h4",Z,[o(x,{text:s.tags["kuma.io/service"]},{default:e(()=>[a(l(n("data-planes.routes.item.inbound_name",{service:s.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])])):f("",!0),t[21]||(t[21]=a()),o(y,{class:"stack-with-borders",size:"small"},{default:e(()=>[o(g,{layout:"horizontal"},{title:e(()=>[a(l(n("http.api.property.state")),1)]),body:e(()=>[s.state==="Ready"?(p(),u(w,{key:0,appearance:"success"},{default:e(()=>[a(l(n(`http.api.value.${s.state}`)),1)]),_:2},1024)):(p(),u(w,{key:1,appearance:"danger"},{default:e(()=>[a(l(n(`http.api.value.${s.state}`)),1)]),_:2},1024))]),_:2,__:[16]},1024),t[19]||(t[19]=a()),o(g,{layout:"horizontal"},{title:e(()=>[a(l(n("http.api.property.tags")),1)]),body:e(()=>[o(R,{alignment:"right",tags:s.tags},null,8,["tags"])]),_:2,__:[17]},1024),t[20]||(t[20]=a()),o(g,{layout:"horizontal"},{title:e(()=>[a(l(n("http.api.property.address")),1)]),body:e(()=>[o(x,{text:s.addressPort},null,8,["text"])]),_:2,__:[18]},1024)]),_:2,__:[19,20]},1024)]),_:2,__:[21]},1024))),128))]),_:2,__:[22]},1024)]),_:2},1032,["items"])):f("",!0),t[30]||(t[30]=a()),d.dataplaneType==="standard"?(p(),u(b,{key:2,items:d.dataplane.networking.outbounds},{default:e(({items:i})=>[o(y,{"data-testid":"dataplane-outbounds"},{default:e(()=>[_("h3",null,l(n("data-planes.routes.item.outbounds")),1),t[27]||(t[27]=a()),(p(!0),k(C,null,h(i,(s,c)=>(p(),u(y,{key:c,class:"inbound",size:"small"},{default:e(()=>[s.tags["kuma.io/service"]?(p(),k("h4",G,[o(x,{text:s.tags["kuma.io/service"]},{default:e(()=>[a(l(n("data-planes.routes.item.inbound_name",{service:s.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])])):f("",!0),t[26]||(t[26]=a()),o(y,{class:"stack-with-borders",size:"small"},{default:e(()=>[Object.keys(s.tags).length?(p(),u(g,{key:0,layout:"horizontal"},{title:e(()=>[a(l(n("http.api.property.tags")),1)]),body:e(()=>[o(R,{alignment:"right",tags:s.tags},null,8,["tags"])]),_:2,__:[23]},1024)):f("",!0),t[25]||(t[25]=a()),o(g,{layout:"horizontal"},{title:e(()=>[a(l(n("http.api.property.address")),1)]),body:e(()=>[o(x,{text:s.addressPort},null,8,["text"])]),_:2,__:[24]},1024)]),_:2,__:[25]},1024)]),_:2,__:[26]},1024))),128))]),_:2,__:[27]},1024)]),_:2},1032,["items"])):f("",!0)]),_:2,__:[28,29,30]},1024)):r.params.format==="universal"?(p(),u(M,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",code:v(B).stringify(d.config),"show-k8s-copy-button":!1,"is-searchable":"",query:r.params.codeSearch,"is-filter-mode":r.params.codeFilter,"is-reg-exp-mode":r.params.codeRegExp,onQueryChange:i=>r.update({codeSearch:i}),onFilterModeChange:i=>r.update({codeFilter:i}),onRegExpModeChange:i=>r.update({codeRegExp:i})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(p(),u(F,{key:2,src:N(v($),"/meshes/:mesh/dataplanes/:name/as/kubernetes",{mesh:r.params.mesh,name:r.params.proxy})},{default:e(({data:i})=>[o(M,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:v(B).stringify(i),"show-k8s-copy-button":!1,"is-searchable":"",query:r.params.codeSearch,"is-filter-mode":r.params.codeFilter,"is-reg-exp-mode":r.params.codeRegExp,onQueryChange:s=>r.update({codeSearch:s}),onFilterModeChange:s=>r.update({codeFilter:s}),onRegExpModeChange:s=>r.update({codeRegExp:s})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2,__:[31,32]},1024))),128))]),_:2,__:[33]},1032,["items","predicate"])]),_:1},8,["name"])}}}),W=Y(H,[["__scopeId","data-v-55927580"]]);export{W as default};
