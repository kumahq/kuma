import{d as M,r as n,p as c,o as r,w as s,b as t,e as g,c as R,N as S,L as u,l as b,M as w,t as E,m as f,Y as h}from"./index-BKAVHTVy.js";const B=M({__name:"MeshServiceConfigView",props:{data:{}},setup(y){const d=y;return(F,l)=>{const _=n("XSelect"),i=n("XLayout"),p=n("XCodeBlock"),C=n("DataLoader"),x=n("XCard"),k=n("AppView"),v=n("RouteView");return r(),c(v,{name:"mesh-service-config-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,environment:String}},{default:s(({route:e,t:m})=>[t(k,null,{default:s(()=>[t(x,null,{default:s(()=>[t(i,null,{default:s(()=>[t(i,{type:"separated",justify:"end"},{default:s(()=>[(r(),R(S,null,u([["universal","k8s"]],o=>b("div",{key:typeof o},[t(_,{label:m("services.routes.item.format"),selected:e.params.environment,onChange:a=>{e.update({environment:a})},onVnodeBeforeMount:a=>a?.props?.selected&&o.includes(a.props.selected)&&a.props.selected!==e.params.environment&&e.update({environment:a.props.selected})},w({_:2},[u(o,a=>({name:`${a}-option`,fn:s(()=>[g(E(m(`services.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024),l[0]||(l[0]=g()),e.params.environment==="universal"?(r(),c(p,{key:0,"data-testid":"codeblock-yaml-universal",language:"yaml",code:f(h).stringify(d.data.config),"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:o=>e.update({codeSearch:o}),onFilterModeChange:o=>e.update({codeFilter:o}),onRegExpModeChange:o=>e.update({codeRegExp:o})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(r(),c(C,{key:1,src:`/meshes/${d.data.mesh}/mesh-service/${d.data.id}/as/kubernetes`},{default:s(({data:o})=>[t(p,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:f(h).stringify(o),"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:a=>e.update({codeSearch:a}),onFilterModeChange:a=>e.update({codeFilter:a}),onRegExpModeChange:a=>e.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1})}}});export{B as default};
