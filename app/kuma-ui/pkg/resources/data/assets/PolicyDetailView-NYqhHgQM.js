import{d as T,r as p,p as f,o as m,w as e,b as o,e as t,l as d,c as g,q as _,t as i,m as L,F as K,K as P,L as q,y as F}from"./index-D382J87O.js";const G={key:0},E={key:1},S={key:2},H=T({__name:"PolicyDetailView",props:{data:{}},setup(v){const l=v;return(Z,a)=>{const z=p("XBadge"),y=p("XAction"),C=p("KumaTargetRef"),k=p("XDl"),X=p("XAboutCard"),h=p("XActionGroup"),D=p("XDrawer"),V=p("RouterView"),b=p("DataCollection"),A=p("DataLoader"),R=p("XCard"),x=p("AppView"),N=p("RouteView");return m(),f(N,{name:"policy-detail-view",params:{page:1,size:Number,s:"",mesh:"",policy:"",policyPath:"",proxy:""}},{default:e(({route:n,t:r,uri:B,can:w,me:c})=>[o(x,null,{default:e(()=>[o(X,{title:r("policies.detail.about.title"),created:l.data.creationTime,modified:l.data.modificationTime},{default:e(()=>[o(k,{variant:"x-stack"},{default:e(()=>[d("div",null,[d("dt",null,i(r("http.api.property.type")),1),a[0]||(a[0]=t()),d("dd",null,[o(z,{appearance:"decorative"},{default:e(()=>[t(i(l.data.type),1)]),_:1})])]),a[4]||(a[4]=t()),l.data.namespace.length>0?(m(),g("div",G,[d("dt",null,i(r("http.api.property.namespace")),1),a[1]||(a[1]=t()),d("dd",null,[o(z,{appearance:"decorative"},{default:e(()=>[t(i(l.data.namespace),1)]),_:1})])])):_("",!0),a[5]||(a[5]=t()),w("use zones")&&l.data.zone?(m(),g("div",E,[d("dt",null,i(r("http.api.property.zone")),1),a[2]||(a[2]=t()),d("dd",null,[o(z,{appearance:"decorative"},{default:e(()=>[o(y,{to:{name:"zone-cp-detail-view",params:{zone:l.data.zone}}},{default:e(()=>[t(i(l.data.zone),1)]),_:1},8,["to"])]),_:1})])])):_("",!0),a[6]||(a[6]=t()),l.data.spec?(m(),g("div",S,[d("dt",null,i(r("http.api.property.targetRef")),1),a[3]||(a[3]=t()),d("dd",null,[o(C,{"target-ref":l.data.spec?.targetRef},null,8,["target-ref"])])])):_("",!0)]),_:2},1024)]),_:2},1032,["title","created","modified"]),a[12]||(a[12]=t()),o(R,null,{title:e(()=>[d("h3",null,i(r("policies.detail.data-planes.title")),1)]),default:e(()=>[a[11]||(a[11]=t()),o(A,{src:B(L(K),"/meshes/:mesh/policy-path/:path/policy/:name/dataplanes",{mesh:n.params.mesh,path:n.params.policyPath,name:l.data.id},{page:n.params.page,size:n.params.size}),variant:"list"},{default:e(({data:u})=>[o(b,{type:"data-planes",items:u.items,page:n.params.page,"page-size":n.params.size,total:u.total,onChange:n.update},{default:e(()=>[o(P,{headers:[{...c.get("headers.name"),label:"Name",key:"name"},{...c.get("headers.namespace"),label:"Namespace",key:"namespace"},...w("use zones")?[{...c.get("headers.zone"),label:"Zone",key:"zone"}]:[],{...c.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],items:u.items,"is-selected-row":s=>s.id===n.params.proxy,onResize:c.set},{name:e(({row:s})=>[o(y,{"data-action":"",to:{name:"data-plane-detail-view",params:{proxy:s.id}}},{default:e(()=>[t(i(s.name),1)]),_:2},1032,["to"])]),namespace:e(({row:s})=>[t(i(s.namespace),1)]),zone:e(({row:s})=>[s.zone?(m(),f(y,{key:0,to:{name:"zone-cp-detail-view",params:{zone:s.zone}}},{default:e(()=>[t(i(s.zone),1)]),_:2},1032,["to"])):(m(),g(q,{key:1},[t(i(r("common.collection.none")),1)],64))]),actions:e(({row:s})=>[o(h,null,{default:e(()=>[o(y,{to:{name:"data-plane-detail-view",params:{proxy:s.id}}},{default:e(()=>[t(i(r("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1032,["headers","items","is-selected-row","onResize"]),a[10]||(a[10]=t()),o(V,null,{default:e(({Component:s})=>[n.child()?(m(),f(D,{key:0,onClose:$=>n.replace({params:{mesh:n.params.mesh},query:{page:n.params.page,size:n.params.size,s:n.params.s}})},{default:e(()=>[typeof u<"u"?(m(),f(F(s),{key:0,items:u.items},null,8,["items"])):_("",!0)]),_:2},1032,["onClose"])):_("",!0)]),_:2},1024)]),_:2},1032,["items","page","page-size","total","onChange"])]),_:2},1032,["src"])]),_:2},1024)]),_:2},1024)]),_:1})}}});export{H as default};
