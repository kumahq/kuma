import{d as x,l as M,o as c,c as _,e as S,p as o,K as A,a5 as B,f as l,m as K,r as v,t as m,_ as D,S as V,C as u,M as E,a6 as w,b as g,X as z,w as i,F,q as P,T as j,J as H,a2 as J,H as U,a7 as W,a8 as G}from"./index-vkXoigSS.js";const X=["href"],Z=x({__name:"DocumentationLink",props:{href:{}},setup(f){const{t:p}=M(),h=f;return(e,b)=>(c(),_("a",{class:"docs-link",href:h.href,target:"_blank"},[S(o(B),{size:o(A),title:o(p)("common.documentation")},null,8,["size","title"]),l(),K("span",null,[v(e.$slots,"default",{},()=>[l(m(o(p)("common.documentation")),1)],!0)])],8,X))}}),Q=D(Z,[["__scopeId","data-v-365f9911"]]),Y={key:0,class:"app-collection-toolbar"},I=5,ee=x({__name:"AppCollection",props:{isSelectedRow:{type:[Function,null],default:null},total:{default:0},pageNumber:{default:0},pageSize:{default:30},items:{},headers:{},error:{default:void 0},emptyStateTitle:{default:void 0},emptyStateMessage:{default:void 0},emptyStateCtaTo:{default:void 0},emptyStateCtaText:{default:void 0}},emits:["change"],setup(f,{emit:p}){const{t:h}=M(),e=f,b=p,L=V(),k=u(e.items),C=u(0),N=u(0),y=u(e.pageNumber),T=u(e.pageSize),O=E(()=>{const t=e.headers.filter(s=>["details","warnings","actions"].includes(s.key));if(t.length>4)return"initial";const a=100-t.length*I,n=e.headers.length-t.length;return`calc(${a}% / ${n})`});w(()=>e.items,(t,a)=>{t!==a&&(C.value++,k.value=e.items)}),w(()=>e.pageNumber,function(){e.pageNumber!==y.value&&N.value++});function R(t){if(!t)return{};const a={};return e.isSelectedRow!==null&&e.isSelectedRow(t)&&(a.class="is-selected"),a}const q=t=>{const a=t.target.closest("tr");if(a){const n=a.querySelector("td:first-child a");n!==null&&n.closest("tr, li")===a&&n.click()}};return(t,a)=>{var n;return c(),g(o(G),{key:N.value,class:"app-collection",style:W(`--column-width: ${O.value}; --special-column-width: ${I}%;`),"has-error":typeof e.error<"u","pagination-total-items":e.total,"initial-fetcher-params":{page:e.pageNumber,pageSize:e.pageSize},headers:e.headers,"fetcher-cache-key":String(C.value),fetcher:({page:s,pageSize:r,query:$})=>{const d={};return y.value!==s&&(d.page=s),T.value!==r&&(d.size=r),y.value=s,T.value=r,Object.keys(d).length>0&&b("change",d),{data:k.value}},"cell-attrs":({headerKey:s})=>({class:`${s}-column`}),"row-attrs":R,"disable-sorting":"","disable-pagination":e.pageNumber===0,"hide-pagination-when-optional":"","onRow:click":q},z({_:2},[((n=e.items)==null?void 0:n.length)===0?{name:"empty-state",fn:i(()=>[S(J,null,z({title:i(()=>[l(m(e.emptyStateTitle??o(h)("common.emptyState.title")),1)]),default:i(()=>[l(),e.emptyStateMessage?(c(),_(F,{key:0},[l(m(e.emptyStateMessage),1)],64)):P("",!0),l()]),_:2},[e.emptyStateCtaTo?{name:"action",fn:i(()=>[typeof e.emptyStateCtaTo=="string"?(c(),g(Q,{key:0,href:e.emptyStateCtaTo},{default:i(()=>[l(m(e.emptyStateCtaText),1)]),_:1},8,["href"])):(c(),g(o(j),{key:1,appearance:"primary",to:e.emptyStateCtaTo},{default:i(()=>[S(o(H),{size:o(A)},null,8,["size"]),l(" "+m(e.emptyStateCtaText),1)]),_:1},8,["to"]))]),key:"0"}:void 0]),1024)]),key:"0"}:void 0,U(Object.keys(o(L)),s=>({name:s,fn:i(({row:r,rowValue:$})=>[s==="toolbar"?(c(),_("div",Y,[v(t.$slots,"toolbar",{},void 0,!0)])):v(t.$slots,s,{key:1,row:r,rowValue:$},void 0,!0)])}))]),1032,["style","has-error","pagination-total-items","initial-fetcher-params","headers","fetcher-cache-key","fetcher","cell-attrs","disable-pagination"])}}}),ae=D(ee,[["__scopeId","data-v-ddb8c781"]]);export{ae as A,Q as D};
