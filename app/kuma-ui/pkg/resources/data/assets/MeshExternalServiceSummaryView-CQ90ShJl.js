import{_ as S}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-DvxaD5US.js";import{d as V,r,o as c,m as l,w as e,b as n,k as i,e as o,Z as d,t as p,p as m,c as D,L as B,M as F}from"./index-C4A671Or.js";import"./CodeBlock-DPfixpTM.js";const M={class:"stack"},N={class:"stack-with-borders"},A={class:"mt-4"},Q=V({__name:"MeshExternalServiceSummaryView",props:{items:{}},setup(v){const y=v;return(T,L)=>{const C=r("RouteTitle"),u=r("XAction"),h=r("KBadge"),x=r("DataSource"),k=r("AppView"),b=r("DataCollection"),w=r("RouteView");return c(),l(w,{name:"mesh-external-service-summary-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1}},{default:e(({route:s,t:g,can:z})=>[n(b,{items:y.items,predicate:t=>t.id===s.params.service},{item:e(({item:t})=>[n(k,null,{title:e(()=>[i("h2",null,[n(u,{to:{name:"mesh-external-service-detail-view",params:{mesh:s.params.mesh,service:s.params.service}}},{default:e(()=>[n(C,{title:g("services.routes.item.title",{name:t.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:e(()=>[o(),i("div",M,[i("div",N,[t.namespace.length>0?(c(),l(d,{key:0,layout:"horizontal"},{title:e(()=>[o(`
                  Namespace
                `)]),body:e(()=>[o(p(t.namespace),1)]),_:2},1024)):m("",!0),o(),z("use zones")&&t.zone?(c(),l(d,{key:1,layout:"horizontal"},{title:e(()=>[o(`
                  Zone
                `)]),body:e(()=>[n(u,{to:{name:"zone-cp-detail-view",params:{zone:t.zone}}},{default:e(()=>[o(p(t.zone),1)]),_:2},1032,["to"])]),_:2},1024)):m("",!0),o(),t.spec.match?(c(),l(d,{key:2,layout:"horizontal"},{title:e(()=>[o(`
                  Port
                `)]),body:e(()=>[(c(!0),D(B,null,F([t.spec.match],a=>(c(),l(h,{key:a.port,appearance:"info"},{default:e(()=>[o(p(a.port)+"/"+p(a.protocol),1)]),_:2},1024))),128))]),_:2},1024)):m("",!0),o(),n(d,{layout:"horizontal"},{title:e(()=>[o(`
                  TLS
                `)]),body:e(()=>[n(h,{appearance:"neutral"},{default:e(()=>{var a;return[o(p((a=t.spec.tls)!=null&&a.enabled?"Enabled":"Disabled"),1)]}),_:2},1024)]),_:2},1024)]),o(),i("div",null,[i("h3",null,p(g("services.routes.item.config")),1),o(),i("div",A,[n(S,{resource:t.config,"is-searchable":"",query:s.params.codeSearch,"is-filter-mode":s.params.codeFilter,"is-reg-exp-mode":s.params.codeRegExp,onQueryChange:a=>s.update({codeSearch:a}),onFilterModeChange:a=>s.update({codeFilter:a}),onRegExpModeChange:a=>s.update({codeRegExp:a})},{default:e(({copy:a,copying:E})=>[E?(c(),l(x,{key:0,src:`/meshes/${s.params.mesh}/mesh-service/${s.params.service}/as/kubernetes?no-store`,onChange:_=>{a(f=>f(_))},onError:_=>{a((f,R)=>R(_))}},null,8,["src","onChange","onError"])):m("",!0)]),_:2},1032,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])])])])]),_:2},1024)]),_:2},1032,["items","predicate"])]),_:1})}}});export{Q as default};
