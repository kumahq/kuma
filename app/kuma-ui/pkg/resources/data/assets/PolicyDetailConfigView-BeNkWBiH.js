import{d as R,r as n,p as d,o as c,w as s,b as t,e as g,c as b,N as w,L as u,l as E,M as S,t as V,m as l,Y as h,F as v}from"./index-8QMKyk4n.js";const L=R({__name:"PolicyDetailConfigView",props:{data:{}},setup(y){const f=y;return(B,r)=>{const _=n("XSelect"),p=n("XLayout"),i=n("XCodeBlock"),C=n("DataLoader"),x=n("XCard"),k=n("AppView"),M=n("RouteView");return c(),d(M,{name:"policy-detail-config-view",params:{mesh:"",policy:"",policyPath:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,environment:String}},{default:s(({route:e,uri:F,t:m})=>[t(k,null,{default:s(()=>[t(x,null,{default:s(()=>[t(p,null,{default:s(()=>[t(p,{type:"separated",justify:"end"},{default:s(()=>[(c(),b(w,null,u([["universal","k8s"]],o=>E("div",{key:typeof o},[t(_,{label:m("policies.routes.item.format"),selected:e.params.environment,onChange:a=>{e.update({environment:a})},onVnodeBeforeMount:a=>a?.props?.selected&&o.includes(a.props.selected)&&a.props.selected!==e.params.environment&&e.update({environment:a.props.selected})},S({_:2},[u(o,a=>({name:`${a}-option`,fn:s(()=>[g(V(m(`policies.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024),r[0]||(r[0]=g()),e.params.environment==="universal"?(c(),d(i,{key:0,"data-testid":"codeblock-yaml-universal",language:"yaml",code:l(h).stringify(f.data.config),"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:o=>e.update({codeSearch:o}),onFilterModeChange:o=>e.update({codeFilter:o}),onRegExpModeChange:o=>e.update({codeRegExp:o})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(c(),d(C,{key:1,src:F(l(v),"/meshes/:mesh/policy-path/:path/policy/:name/as/kubernetes",{mesh:e.params.mesh,path:e.params.policyPath,name:e.params.policy})},{default:s(({data:o})=>[t(i,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:l(h).stringify(o),"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:a=>e.update({codeSearch:a}),onFilterModeChange:a=>e.update({codeFilter:a}),onRegExpModeChange:a=>e.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1})}}});export{L as default};
