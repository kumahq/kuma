import{d as D,r as d,p as m,o as i,w as o,b as l,e as n,l as u,c as x,t as p,L,J as C,K as q,q as g,M as f,m as N,aj as A}from"./index-Dq_FLkmZ.js";import{_ as k}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-4cuY95fl.js";const Q={key:0,class:"stack-with-borders","data-testid":"structured-view"},j=D({__name:"MeshExternalServiceSummaryView",props:{items:{}},setup(b){const v=b;return(T,a)=>{const w=d("RouteTitle"),y=d("XAction"),R=d("XSelect"),h=d("XLayout"),S=d("KumaPort"),E=d("XBadge"),M=d("DataLoader"),z=d("AppView"),V=d("DataCollection"),F=d("RouteView");return i(),m(F,{name:"mesh-external-service-summary-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:o(({route:e,t:c,can:B,uri:X})=>[l(V,{items:v.items,predicate:r=>r.id===e.params.service},{item:o(({item:r})=>[l(z,null,{title:o(()=>[u("h2",null,[l(y,{to:{name:"mesh-external-service-detail-view",params:{mesh:e.params.mesh,service:e.params.service}}},{default:o(()=>[l(w,{title:c("services.routes.item.title",{name:r.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:o(()=>[a[13]||(a[13]=n()),l(h,{type:"stack"},{default:o(()=>[u("header",null,[l(h,{type:"separated",size:"max"},{default:o(()=>[u("h3",null,p(c("services.routes.item.config")),1),a[0]||(a[0]=n()),(i(),x(L,null,C([["structured","universal","k8s"]],s=>u("div",{key:typeof s},[l(R,{label:c("services.routes.item.format"),selected:e.params.format,onChange:t=>{e.update({format:t})},onVnodeBeforeMount:t=>{var _;return((_=t==null?void 0:t.props)==null?void 0:_.selected)&&s.includes(t.props.selected)&&t.props.selected!==e.params.format&&e.update({format:t.props.selected})}},q({_:2},[C(s,t=>({name:`${t}-option`,fn:o(()=>[n(p(c(`services.routes.item.formats.${t}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024)]),a[12]||(a[12]=n()),e.params.format==="structured"?(i(),x("div",Q,[r.namespace.length>0?(i(),m(f,{key:0,layout:"horizontal"},{title:o(()=>a[1]||(a[1]=[n(`
                    Namespace
                  `)])),body:o(()=>[n(p(r.namespace),1)]),_:2},1024)):g("",!0),a[9]||(a[9]=n()),B("use zones")&&r.zone?(i(),m(f,{key:1,layout:"horizontal"},{title:o(()=>a[3]||(a[3]=[n(`
                    Zone
                  `)])),body:o(()=>[l(y,{to:{name:"zone-cp-detail-view",params:{zone:r.zone}}},{default:o(()=>[n(p(r.zone),1)]),_:2},1032,["to"])]),_:2},1024)):g("",!0),a[10]||(a[10]=n()),r.spec.match?(i(),m(f,{key:2,layout:"horizontal"},{title:o(()=>a[5]||(a[5]=[n(`
                    Port
                  `)])),body:o(()=>[l(S,{port:r.spec.match},null,8,["port"])]),_:2},1024)):g("",!0),a[11]||(a[11]=n()),l(f,{layout:"horizontal"},{title:o(()=>a[7]||(a[7]=[n(`
                    TLS
                  `)])),body:o(()=>[l(E,{appearance:"neutral"},{default:o(()=>{var s;return[n(p((s=r.spec.tls)!=null&&s.enabled?"Enabled":"Disabled"),1)]}),_:2},1024)]),_:2},1024)])):e.params.format==="universal"?(i(),m(k,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",resource:r.config,"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:s=>e.update({codeSearch:s}),onFilterModeChange:s=>e.update({codeFilter:s}),onRegExpModeChange:s=>e.update({codeRegExp:s})},null,8,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(i(),m(M,{key:2,src:X(N(A),"/meshes/:mesh/mesh-service/:name/as/kubernetes",{mesh:e.params.mesh,name:e.params.service})},{default:o(({data:s})=>[l(k,{"data-testid":"codeblock-yaml-k8s",language:"yaml",resource:s,"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:t=>e.update({codeSearch:t}),onFilterModeChange:t=>e.update({codeFilter:t}),onRegExpModeChange:t=>e.update({codeRegExp:t})},null,8,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024)]),_:2},1032,["items","predicate"])]),_:1})}}});export{j as default};
