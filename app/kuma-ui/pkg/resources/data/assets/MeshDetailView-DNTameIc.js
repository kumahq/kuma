import{d as y,Q as E,i as n,o as i,a as h,w as e,j as t,k as o,P as K,g as m,A as u,E as k,t as d,b as p,H as f,J as M,R as N,e as x,_ as H}from"./index-BpnaTuLy.js";import{_ as j}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-D5hxAoW3.js";import"./CodeBlock-QrEAMEwp.js";import"./toYaml-DB9FPXFY.js";const P=["innerHTML"],X={class:"stack"},$={class:"date-status-wrapper"},F={class:"columns"},I=y({__name:"MeshDetailView",props:{mesh:{}},setup(V){const v=V,b=E();return(w,J)=>{const B=n("RouteTitle"),D=n("XAction"),T=n("KBadge"),A=n("KCard"),g=n("DataSource"),S=n("AppView"),L=n("RouteView");return i(),h(L,{name:"mesh-detail-view",params:{mesh:""}},{default:e(({route:l,t:c,uri:C})=>[t(B,{title:c("meshes.routes.overview.title"),render:!1},null,8,["title"]),o(),t(S,null,K({default:e(()=>[o(),m("div",X,[t(g,{src:C(u(k),"/mesh-insights/:name",{name:l.params.mesh})},{default:e(({data:a})=>[t(A,null,{default:e(()=>[m("div",$,`
              Created: `+d(c("common.formats.datetime",{value:Date.parse(w.mesh.creationTime)})),1),o(),m("div",F,[(i(),p(f,null,M(["MeshMetric","MeshAccessLog","MeshTrace"],r=>(i(),p(f,{key:r},[(i(!0),p(f,null,M([Object.entries((a==null?void 0:a.policies)??{}).find(([s,_])=>s===r)],s=>(i(),h(N,{key:s},{title:e(()=>[t(D,{to:{name:"policy-list-view",params:{mesh:l.params.mesh,policyPath:`${r.toLowerCase()}s`}}},{default:e(()=>[o(d(r),1)]),_:2},1032,["to"])]),body:e(()=>[t(T,{appearance:"neutral"},{default:e(()=>[o(d(c(s?"meshes.detail.enabled":"meshes.detail.disabled")),1)]),_:2},1024)]),_:2},1024))),128))],64))),64))])]),_:2},1024),o(),t(u(b),{mesh:v.mesh,"mesh-insight":a},null,8,["mesh","mesh-insight"])]),_:2},1032,["src"]),o(),t(j,{resource:w.mesh.config},{default:e(({copy:a,copying:r})=>[r?(i(),h(g,{key:0,src:C(u(k),"/meshes/:name/as/kubernetes",{name:l.params.mesh},{cacheControl:"no-store"}),onChange:s=>{a(_=>_(s))},onError:s=>{a((_,R)=>R(s))}},null,8,["src","onChange","onError"])):x("",!0)]),_:2},1032,["resource"])])]),_:2},[v.mesh.mtlsBackend?void 0:{name:"notifications",fn:e(()=>[m("div",{innerHTML:c("meshes.routes.item.mtls-warning")},null,8,P)]),key:"0"}]),1024)]),_:1})}}}),G=H(I,[["__scopeId","data-v-b5b47e53"]]);export{G as default};
