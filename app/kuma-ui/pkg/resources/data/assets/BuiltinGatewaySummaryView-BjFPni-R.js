import{d as z,r as y,p as g,o as l,w as i,b as u,a4 as D,c as p,N as f,L as w,e as o,l as n,t as a,M as j,q as c,m as h,Y as C,W as A,_ as G}from"./index-CDV8WoYF.js";const Q={key:0},O={scope:"row"},Y={key:1},v={scope:"row"},I={key:2},W={scope:"row"},H={key:3},J={scope:"row"},K={key:4},P={scope:"row"},U={key:5},Z={scope:"row"},$={key:6},ee={scope:"row"},te={key:7},oe={scope:"row"},ae=z({__name:"BuiltinGatewaySummaryView",props:{items:{},routeName:{}},setup(B){const x=B;return(se,e)=>{const E=y("XEmptyState"),M=y("RouteTitle"),S=y("XAction"),V=y("XSelect"),_=y("XLayout"),X=y("XBadge"),F=y("XTable"),k=y("XCodeBlock"),T=y("DataLoader"),L=y("AppView"),N=y("RouteView");return l(),g(N,{name:x.routeName,params:{mesh:"",gateway:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:i(({route:r,t:m,uri:q})=>[u(D,{items:x.items,predicate:b=>b.id===r.params.gateway,find:!0},{empty:i(()=>[u(E,null,{title:i(()=>[n("h2",null,a(m("common.collection.summary.empty_title",{type:"Gateway"})),1)]),default:i(()=>[e[0]||(e[0]=o()),n("p",null,a(m("common.collection.summary.empty_message",{type:"Gateway"})),1)]),_:2},1024)]),default:i(({items:b})=>[(l(!0),p(f,null,w([b[0]],s=>(l(),g(L,{key:s.id},{title:i(()=>[n("h2",null,[u(S,{to:{name:"builtin-gateway-detail-view",params:{mesh:s.mesh,gateway:s.id}}},{default:i(()=>[u(M,{title:m("builtin-gateways.routes.item.title",{name:s.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:i(()=>[e[19]||(e[19]=o()),u(_,{type:"stack"},{default:i(()=>[n("header",null,[u(_,{type:"separated",size:"max"},{default:i(()=>[n("h3",null,a(m("gateways.routes.item.config")),1),e[1]||(e[1]=o()),(l(),p(f,null,w([["structured","universal","k8s"]],d=>n("div",{key:typeof d},[u(V,{label:m("gateways.routes.item.format"),selected:r.params.format,onChange:t=>{r.update({format:t})},onVnodeBeforeMount:t=>{var R;return((R=t==null?void 0:t.props)==null?void 0:R.selected)&&d.includes(t.props.selected)&&t.props.selected!==r.params.format&&r.update({format:t.props.selected})}},j({_:2},[w(d,t=>({name:`${t}-option`,fn:i(()=>[o(a(m(`gateways.routes.item.formats.${t}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024)]),e[18]||(e[18]=o()),r.params.format==="structured"?(l(),p(f,{key:0},[u(F,{"data-testid":"structured-view",variant:"kv"},{default:i(()=>[s.type.length>0?(l(),p("tr",Q,[n("th",O,a(m("gateways.routes.item.type")),1),e[2]||(e[2]=o()),n("td",null,a(s.type),1)])):c("",!0),e[10]||(e[10]=o()),s.namespace.length>0?(l(),p("tr",Y,[n("th",v,a(m("gateways.routes.item.namespace")),1),e[3]||(e[3]=o()),n("td",null,a(s.namespace),1)])):c("",!0),e[11]||(e[11]=o()),s.mesh.length>0?(l(),p("tr",I,[n("th",W,a(m("gateways.routes.item.mesh")),1),e[4]||(e[4]=o()),n("td",null,a(s.mesh),1)])):c("",!0),e[12]||(e[12]=o()),s.zone.length>0?(l(),p("tr",H,[n("th",J,a(m("gateways.routes.item.zone")),1),e[5]||(e[5]=o()),n("td",null,a(s.zone),1)])):c("",!0),e[13]||(e[13]=o()),s.creationTime.length>0?(l(),p("tr",K,[n("th",P,a(m("gateways.routes.item.created")),1),e[6]||(e[6]=o()),n("td",null,a(m("common.formats.datetime",{value:Date.parse(s.creationTime)})),1)])):c("",!0),e[14]||(e[14]=o()),s.modificationTime.length>0?(l(),p("tr",U,[n("th",Z,a(m("gateways.routes.item.modified")),1),e[7]||(e[7]=o()),n("td",null,a(m("common.formats.datetime",{value:Date.parse(s.modificationTime)})),1)])):c("",!0),e[15]||(e[15]=o()),Object.keys(s.labels).length>0?(l(),p("tr",$,[n("th",ee,a(m("gateways.routes.item.labels")),1),e[8]||(e[8]=o()),n("td",null,[u(_,{type:"separated",justify:"end"},{default:i(()=>[(l(!0),p(f,null,w(Object.entries(s.labels),([d,t])=>(l(),g(X,{key:`${d}:${t}`,appearance:"info",class:"label"},{default:i(()=>[d.includes("kuma.io/zone")?(l(),g(S,{key:0,to:{name:"builtin-gateway-list-view",query:{s:`zone:${t}`}}},{default:i(()=>[o(a(d)+":"+a(t),1)]),_:2},1032,["to"])):(l(),p(f,{key:1},[o(a(d)+":"+a(t),1)],64))]),_:2},1024))),128))]),_:2},1024)])])):c("",!0),e[16]||(e[16]=o()),s.selectors.length>0?(l(),p("tr",te,[n("th",oe,a(m("gateways.routes.item.selectors")),1),e[9]||(e[9]=o()),n("td",null,[u(_,{type:"separated",justify:"end"},{default:i(()=>[(l(!0),p(f,null,w(Object.entries(s.selectors[0].match),([d,t])=>(l(),g(X,{key:`${d}:${t}`,appearance:"info"},{default:i(()=>[o(a(d)+":"+a(t),1)]),_:2},1024))),128))]),_:2},1024)])])):c("",!0)]),_:2},1024),e[17]||(e[17]=o()),u(k,{"data-testid":"codeblock-yaml-structured-conf",language:"yaml",code:h(C).stringify(s.conf),"show-k8s-copy-button":!1},null,8,["code"])],64)):r.params.format==="universal"?(l(),g(k,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",code:h(C).stringify(s.config),"show-k8s-copy-button":!1,"is-searchable":"",query:r.params.codeSearch,"is-filter-mode":r.params.codeFilter,"is-reg-exp-mode":r.params.codeRegExp,onQueryChange:d=>r.update({codeSearch:d}),onFilterModeChange:d=>r.update({codeFilter:d}),onRegExpModeChange:d=>r.update({codeRegExp:d})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(l(),g(T,{key:2,src:q(h(A),"/meshes/:mesh/mesh-gateways/:name/as/kubernetes",{mesh:r.params.mesh,name:r.params.gateway})},{default:i(({data:d})=>[u(k,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:h(C).stringify(d),"show-k8s-copy-button":!1,"is-searchable":"",query:r.params.codeSearch,"is-filter-mode":r.params.codeFilter,"is-reg-exp-mode":r.params.codeRegExp,onQueryChange:t=>r.update({codeSearch:t}),onFilterModeChange:t=>r.update({codeFilter:t}),onRegExpModeChange:t=>r.update({codeRegExp:t})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024))),128))]),_:2},1032,["items","predicate"])]),_:1},8,["name"])}}}),re=G(ae,[["__scopeId","data-v-59ab3fe4"]]);export{re as default};
