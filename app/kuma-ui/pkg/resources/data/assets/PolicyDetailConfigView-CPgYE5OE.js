import{d as b,r as n,p as d,o as c,w as s,b as t,e as u,c as w,N as E,L as h,l as S,M as V,t as B,m as l,Y as y,F as X}from"./index-Dc7zXr8g.js";const v=b({__name:"PolicyDetailConfigView",props:{data:{}},setup(f){const _=f;return(L,r)=>{const C=n("XSelect"),p=n("XLayout"),i=n("XCodeBlock"),x=n("DataLoader"),k=n("XCard"),M=n("AppView"),F=n("RouteView");return c(),d(F,{name:"policy-detail-config-view",params:{mesh:"",policy:"",policyPath:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,environment:String}},{default:s(({route:e,uri:R,t:m})=>[t(M,null,{default:s(()=>[t(k,null,{default:s(()=>[t(p,null,{default:s(()=>[t(p,{type:"separated",justify:"end"},{default:s(()=>[(c(),w(E,null,h([["universal","k8s"]],o=>S("div",{key:typeof o},[t(C,{label:m("policies.routes.item.format"),selected:e.params.environment,onChange:a=>{e.update({environment:a})},onVnodeBeforeMount:a=>{var g;return((g=a==null?void 0:a.props)==null?void 0:g.selected)&&o.includes(a.props.selected)&&a.props.selected!==e.params.environment&&e.update({environment:a.props.selected})}},V({_:2},[h(o,a=>({name:`${a}-option`,fn:s(()=>[u(B(m(`policies.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024),r[0]||(r[0]=u()),e.params.environment==="universal"?(c(),d(i,{key:0,"data-testid":"codeblock-yaml-universal",language:"yaml",code:l(y).stringify(_.data.config),"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:o=>e.update({codeSearch:o}),onFilterModeChange:o=>e.update({codeFilter:o}),onRegExpModeChange:o=>e.update({codeRegExp:o})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(c(),d(x,{key:1,src:R(l(X),"/meshes/:mesh/policy-path/:path/policy/:name/as/kubernetes",{mesh:e.params.mesh,path:e.params.policyPath,name:e.params.policy})},{default:s(({data:o})=>[t(i,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:l(y).stringify(o),"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:a=>e.update({codeSearch:a}),onFilterModeChange:a=>e.update({codeFilter:a}),onRegExpModeChange:a=>e.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2,__:[0]},1024)]),_:2},1024)]),_:2},1024)]),_:1})}}});export{v as default};
