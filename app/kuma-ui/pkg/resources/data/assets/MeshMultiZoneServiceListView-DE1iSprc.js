import{d as L,r,o as m,m as p,w as e,b as o,e as l,l as S,ax as D,A as K,a2 as B,t as i,c as d,L as g,M as w,E as T,p as $}from"./index-C4A671Or.js";import{S as N}from"./SummaryView-X08ua3le.js";const P=L({__name:"MeshMultiZoneServiceListView",setup(X){return(M,q)=>{const z=r("RouteTitle"),u=r("XAction"),h=r("KBadge"),v=r("KTruncate"),C=r("XActionGroup"),b=r("RouterView"),y=r("DataCollection"),V=r("DataLoader"),k=r("KCard"),A=r("AppView"),R=r("RouteView");return m(),p(R,{name:"mesh-multi-zone-service-list-view",params:{page:1,size:50,mesh:"",service:""}},{default:e(({route:a,t:_,uri:x,me:c})=>[o(z,{render:!1,title:_("services.routes.mesh-multi-zone-service-list-view.title")},null,8,["title"]),l(),o(A,{docs:_("services.mesh-multi-zone-service.href.docs")},{default:e(()=>[o(k,null,{default:e(()=>[o(V,{src:x(S(D),"/meshes/:mesh/mesh-multi-zone-services",{mesh:a.params.mesh},{page:a.params.page,size:a.params.size})},{loadable:e(({data:s})=>[o(y,{type:"services",items:(s==null?void 0:s.items)??[void 0]},{default:e(()=>[o(K,{headers:[{...c.get("headers.name"),label:"Name",key:"name"},{...c.get("headers.ports"),label:"Ports",key:"ports"},{...c.get("headers.labels"),label:"Selector",key:"labels"},{...c.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],"page-number":a.params.page,"page-size":a.params.size,total:s==null?void 0:s.total,items:s==null?void 0:s.items,"is-selected-row":t=>t.name===a.params.service,onChange:a.update,onResize:c.set},{name:e(({row:t})=>[o(B,{text:t.name},{default:e(()=>[o(u,{"data-action":"",to:{name:"mesh-multi-zone-service-summary-view",params:{mesh:t.mesh,service:t.id},query:{page:a.params.page,size:a.params.size}}},{default:e(()=>[l(i(t.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),ports:e(({row:t})=>[o(v,null,{default:e(()=>[(m(!0),d(g,null,w(t.spec.ports,n=>(m(),p(h,{key:n.port,appearance:"info"},{default:e(()=>[l(i(n.port)+"/"+i(n.appProtocol)+i(n.name&&n.name!==String(n.port)?` (${n.name})`:""),1)]),_:2},1024))),128))]),_:2},1024)]),labels:e(({row:t})=>[o(v,null,{default:e(()=>[(m(!0),d(g,null,w(t.spec.selector.meshService.matchLabels,(n,f)=>(m(),p(h,{key:`${f}:${n}`,appearance:"info"},{default:e(()=>[l(i(f)+":"+i(n),1)]),_:2},1024))),128))]),_:2},1024)]),actions:e(({row:t})=>[o(C,null,{default:e(()=>[o(u,{to:{name:"mesh-multi-zone-service-detail-view",params:{mesh:t.mesh,service:t.id}}},{default:e(()=>[l(i(_("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1032,["headers","page-number","page-size","total","items","is-selected-row","onChange","onResize"]),l(),s!=null&&s.items&&a.params.service?(m(),p(b,{key:0},{default:e(t=>[o(N,{onClose:n=>a.replace({name:"mesh-multi-zone-service-list-view",params:{mesh:a.params.mesh},query:{page:a.params.page,size:a.params.size}})},{default:e(()=>[(m(),p(T(t.Component),{items:s==null?void 0:s.items},null,8,["items"]))]),_:2},1032,["onClose"])]),_:2},1024)):$("",!0)]),_:2},1032,["items"])]),_:2},1032,["src"])]),_:2},1024)]),_:2},1032,["docs"])]),_:1})}}});export{P as default};
