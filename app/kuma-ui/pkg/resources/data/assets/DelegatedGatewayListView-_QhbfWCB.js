import{K as C}from"./index-CMzbRF1u.js";import{d as b,a as i,o as s,b as p,w as a,t as m,f as d,e as o,F as c,c as _,Q as v,q as u,p as z,_ as V}from"./index-G4vI7xl4.js";import{A as D}from"./AppCollection-kzU8RQRG.js";import{E as S}from"./ErrorBlock-LAhFgvYT.js";import{S as B}from"./StatusBadge-w_eHV29Y.js";import{T as f}from"./TextWithCopyButton-L1zSxs0W.js";import"./WarningIcon.vue_vue_type_script_setup_true_lang-t6VKdIxt.js";import"./CopyButton-otyxHii5.js";const A=b({__name:"DelegatedGatewayListView",setup(L){return(N,P)=>{const g=i("RouterLink"),k=i("KCard"),w=i("AppView"),y=i("DataSource"),h=i("RouteView");return s(),p(y,{src:"/me"},{default:a(({data:x})=>[x?(s(),p(h,{key:0,name:"delegated-gateway-list-view",params:{page:1,size:10,mesh:""}},{default:a(({route:t,t:l})=>[o(y,{src:`/meshes/${t.params.mesh}/service-insights/of/gateway_delegated?page=${t.params.page}&size=${t.params.size}`},{default:a(({data:n,error:r})=>[o(w,null,{default:a(()=>[o(k,null,{default:a(()=>[r!==void 0?(s(),p(S,{key:0,error:r},null,8,["error"])):(s(),p(D,{key:1,class:"delegated-gateway-collection","data-testid":"delegated-gateway-collection","empty-state-message":l("common.emptyState.message",{type:"Delegated Gateways"}),"empty-state-cta-to":l("delegated-gateways.href.docs"),"empty-state-cta-text":l("common.documentation"),headers:[{label:"Name",key:"name"},{label:"Address",key:"addressPort"},{label:"DP proxies (online / total)",key:"dataplanes"},{label:"Status",key:"status"},{label:"Details",key:"details",hideLabel:!0}],"page-number":t.params.page,"page-size":t.params.size,total:n==null?void 0:n.total,items:n==null?void 0:n.items,error:r,onChange:t.update},{name:a(({row:e})=>[o(f,{text:e.name},{default:a(()=>[o(g,{to:{name:"delegated-gateway-detail-view",params:{mesh:e.mesh,service:e.name},query:{page:t.params.page,size:t.params.size}}},{default:a(()=>[d(m(e.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),addressPort:a(({row:e})=>[e.addressPort?(s(),p(f,{key:0,text:e.addressPort},null,8,["text"])):(s(),_(c,{key:1},[d(m(l("common.collection.none")),1)],64))]),dataplanes:a(({row:e})=>[e.dataplanes?(s(),_(c,{key:0},[d(m(e.dataplanes.online||0)+" / "+m(e.dataplanes.total||0),1)],64)):(s(),_(c,{key:1},[d(m(l("common.collection.none")),1)],64))]),status:a(({row:e})=>[o(B,{status:e.status},null,8,["status"])]),details:a(({row:e})=>[o(g,{class:"details-link","data-testid":"details-link",to:{name:"delegated-gateway-detail-view",params:{mesh:e.mesh,service:e.name}}},{default:a(()=>[d(m(l("common.collection.details_link"))+" ",1),o(u(v),{display:"inline-block",decorative:"",size:u(C)},null,8,["size"])]),_:2},1032,["to"])]),_:2},1032,["empty-state-message","empty-state-cta-to","empty-state-cta-text","headers","page-number","page-size","total","items","error","onChange"]))]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])]),_:1})):z("",!0)]),_:1})}}}),F=V(A,[["__scopeId","data-v-881adeca"]]);export{F as default};
