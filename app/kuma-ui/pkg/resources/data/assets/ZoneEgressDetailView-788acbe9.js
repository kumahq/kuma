import{d as x,c as f,o,a as i,w as e,q as z,h as s,b as r,H as d,g as a,t as p,e as h,F as E,s as O}from"./index-e262a3eb.js";import{a as B,A as S,S as A,b as D}from"./SubscriptionHeader-17bd9ec2.js";import{i as $,D as _,S as I,T as k,A as q,o as V,s as Z,E as C,t as T,_ as F}from"./RouteView.vue_vue_type_script_setup_true_lang-64a2b575.js";import{E as y}from"./EnvoyData-0a19149d.js";import{_ as N}from"./TabsWidget.vue_vue_type_style_index_0_lang-0ad41a39.js";import{g as H}from"./dataplane-30467516.js";import{_ as L}from"./RouteTitle.vue_vue_type_script_setup_true_lang-3bfddf35.js";import"./WarningIcon.vue_vue_type_script_setup_true_lang-506bff80.js";import"./CodeBlock.vue_vue_type_style_index_0_lang-19a04e43.js";const j={class:"stack"},R={class:"columns",style:{"--columns":"3"}},W=x({__name:"ZoneEgressDetails",props:{zoneEgressOverview:{type:Object,required:!0}},setup(b){const t=b,{t:n}=$(),w=[{hash:"#overview",title:n("zone-egresses.routes.item.tabs.overview")},{hash:"#xds-configuration",title:n("zone-egresses.routes.item.tabs.xds_configuration")},{hash:"#envoy-stats",title:n("zone-egresses.routes.item.tabs.stats")},{hash:"#envoy-clusters",title:n("zone-egresses.routes.item.tabs.clusters")}],l=f(()=>H(t.zoneEgressOverview.zoneEgressInsight)),m=f(()=>{var u;const v=((u=t.zoneEgressOverview.zoneEgressInsight)==null?void 0:u.subscriptions)??[];return Array.from(v).reverse()});return(v,u)=>(o(),i(N,{tabs:w},{overview:e(()=>[z("div",j,[s(r(d),null,{body:e(()=>[z("div",R,[s(_,null,{title:e(()=>[a(p(r(n)("http.api.property.status")),1)]),body:e(()=>[s(I,{status:l.value},null,8,["status"])]),_:1}),a(),s(_,null,{title:e(()=>[a(p(r(n)("http.api.property.name")),1)]),body:e(()=>[s(k,{text:t.zoneEgressOverview.name},null,8,["text"])]),_:1}),a(),s(_,null,{title:e(()=>[a(p(r(n)("http.api.property.address")),1)]),body:e(()=>{var c,g;return[(c=t.zoneEgressOverview.zoneEgress.networking)!=null&&c.address&&((g=t.zoneEgressOverview.zoneEgress.networking)!=null&&g.port)?(o(),i(k,{key:0,text:`${t.zoneEgressOverview.zoneEgress.networking.address}:${t.zoneEgressOverview.zoneEgress.networking.port}`},null,8,["text"])):(o(),h(E,{key:1},[a(p(r(n)("common.detail.none")),1)],64))]}),_:1})])]),_:1}),a(),s(r(d),null,{body:e(()=>[s(B,{"initially-open":0},{default:e(()=>[(o(!0),h(E,null,O(m.value,(c,g)=>(o(),i(S,{key:g},{"accordion-header":e(()=>[s(A,{subscription:c},null,8,["subscription"])]),"accordion-content":e(()=>[s(D,{subscription:c,"is-discovery-subscription":""},null,8,["subscription"])]),_:2},1024))),128))]),_:1})]),_:1})])]),"xds-configuration":e(()=>[s(r(d),null,{body:e(()=>[s(y,{status:l.value,resource:"Zone",src:`/zone-egresses/${t.zoneEgressOverview.name}/data-path/xds`,"query-key":"envoy-data-xds-zone-egress"},null,8,["status","src"])]),_:1})]),"envoy-stats":e(()=>[s(r(d),null,{body:e(()=>[s(y,{status:l.value,resource:"Zone",src:`/zone-egresses/${t.zoneEgressOverview.name}/data-path/stats`,"query-key":"envoy-data-stats-zone-egress"},null,8,["status","src"])]),_:1})]),"envoy-clusters":e(()=>[s(r(d),null,{body:e(()=>[s(y,{status:l.value,resource:"Zone",src:`/zone-egresses/${t.zoneEgressOverview.name}/data-path/clusters`,"query-key":"envoy-data-clusters-zone-egress"},null,8,["status","src"])]),_:1})]),_:1}))}}),ee=x({__name:"ZoneEgressDetailView",setup(b){const{t}=$();return(n,w)=>(o(),i(F,{name:"zone-egress-detail-view","data-testid":"zone-egress-detail-view"},{default:e(({route:l})=>[s(q,{breadcrumbs:[{to:{name:"zone-egress-list-view"},text:r(t)("zone-egresses.routes.item.breadcrumbs")}]},{title:e(()=>[z("h1",null,[s(L,{title:r(t)("zone-egresses.routes.item.title",{name:l.params.zoneEgress}),render:!0},null,8,["title"])])]),default:e(()=>[a(),s(V,{src:`/zone-egresses/${l.params.zoneEgress}`},{default:e(({data:m,isLoading:v,error:u})=>[v?(o(),i(Z,{key:0})):u!==void 0?(o(),i(C,{key:1,error:u},null,8,["error"])):m===void 0?(o(),i(T,{key:2})):(o(),i(W,{key:3,"zone-egress-overview":m,"data-testid":"detail-view-details"},null,8,["zone-egress-overview"]))]),_:2},1032,["src"])]),_:2},1032,["breadcrumbs"])]),_:1}))}});export{ee as default};
