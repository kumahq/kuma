import{i as h,A as x,o as A,E as R,p as C,T as z,S as $,q as E,K as N,_ as T,f as L}from"./RouteView.vue_vue_type_script_setup_true_lang-64a2b575.js";import{d as P,r as S,o as a,a as i,w as o,h as l,q as B,b as t,g as d,H as V,t as _,e as y,F as f,R as w,E as Z,v as q,I as O}from"./index-e262a3eb.js";import{_ as D}from"./MultizoneInfo.vue_vue_type_script_setup_true_lang-045253d1.js";import{_ as F}from"./RouteTitle.vue_vue_type_script_setup_true_lang-3bfddf35.js";import{g as K}from"./dataplane-30467516.js";import"./WarningIcon.vue_vue_type_script_setup_true_lang-506bff80.js";const U=P({__name:"ZoneIngressListView",props:{page:{type:Number,required:!0},size:{type:Number,required:!0}},setup(b){const m=b,{t:n}=h();function I(v){return v.map(p=>{const{name:u}=p,g={name:"zone-ingress-detail-view",params:{zoneIngress:u}},{networking:e}=p.zoneIngress;let r;e!=null&&e.address&&(e!=null&&e.port)&&(r=`${e.address}:${e.port}`);let c;e!=null&&e.advertisedAddress&&(e!=null&&e.advertisedPort)&&(c=`${e.advertisedAddress}:${e.advertisedPort}`);const s=K(p.zoneIngressInsight??{});return{detailViewRoute:g,name:u,addressPort:r,advertisedAddressPort:c,status:s}})}return(v,p)=>{const u=S("RouterLink");return a(),i(T,{name:"zone-ingress-list-view"},{default:o(({route:g,can:e})=>[l(x,null,{title:o(()=>[B("h1",null,[l(F,{title:t(n)("zone-ingresses.routes.items.title"),render:!0},null,8,["title"])])]),default:o(()=>[d(),e("use zones")?(a(),i(A,{key:1,src:`/zone-ingresses?size=${m.size}&page=${m.page}`},{default:o(({data:r,error:c})=>[l(t(V),null,{body:o(()=>[c!==void 0?(a(),i(R,{key:0,error:c},null,8,["error"])):(a(),i(C,{key:1,class:"zone-ingress-collection","data-testid":"zone-ingress-collection",headers:[{label:"Name",key:"name"},{label:"Address",key:"addressPort"},{label:"Advertised address",key:"advertisedAddressPort"},{label:"Status",key:"status"},{label:"Actions",key:"actions",hideLabel:!0}],"page-number":m.page,"page-size":m.size,total:r==null?void 0:r.total,items:r?I(r.items):void 0,error:c,"empty-state-message":t(n)("common.emptyState.message",{type:"Zone Ingresses"}),"empty-state-cta-to":t(n)("zone-ingresses.href.docs"),"empty-state-cta-text":t(n)("common.documentation"),onChange:g.update},{name:o(({row:s,rowValue:k})=>[l(u,{to:s.detailViewRoute,"data-testid":"detail-view-link"},{default:o(()=>[d(_(k),1)]),_:2},1032,["to"])]),addressPort:o(({rowValue:s})=>[s?(a(),i(z,{key:0,text:s},null,8,["text"])):(a(),y(f,{key:1},[d(_(t(n)("common.collection.none")),1)],64))]),advertisedAddressPort:o(({rowValue:s})=>[s?(a(),i(z,{key:0,text:s},null,8,["text"])):(a(),y(f,{key:1},[d(_(t(n)("common.collection.none")),1)],64))]),status:o(({rowValue:s})=>[s?(a(),i($,{key:0,status:s},null,8,["status"])):(a(),y(f,{key:1},[d(_(t(n)("common.collection.none")),1)],64))]),actions:o(({row:s})=>[l(t(w),{class:"actions-dropdown","data-testid":"actions-dropdown","kpop-attributes":{placement:"bottomEnd",popoverClasses:"mt-5 more-actions-popover"},width:"150"},{default:o(()=>[l(t(Z),{class:"non-visual-button",appearance:"secondary",size:"small"},{icon:o(()=>[l(t(q),{color:t(E),icon:"more",size:t(N)},null,8,["color","size"])]),_:1})]),items:o(()=>[l(t(O),{item:{to:s.detailViewRoute,label:t(n)("common.collection.actions.view")}},null,8,["item"])]),_:2},1024)]),_:2},1032,["page-number","page-size","total","items","error","empty-state-message","empty-state-cta-to","empty-state-cta-text","onChange"]))]),_:2},1024)]),_:2},1032,["src"])):(a(),i(D,{key:0}))]),_:2},1024)]),_:1})}}});const M=L(U,[["__scopeId","data-v-4d4c8ca5"]]);export{M as default};
