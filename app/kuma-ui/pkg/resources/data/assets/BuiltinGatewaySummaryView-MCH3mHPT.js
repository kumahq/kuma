import{d as T,r as p,p as m,o as r,w as e,b as u,a0 as q,c as f,N as _,L as w,e as t,l as g,t as s,M as j,q as y,O as c,m as b,Y as x,V as A,_ as G}from"./index-DGSbEvIm.js";const O={class:"stack-with-borders","data-testid":"structured-view"},Q=T({__name:"BuiltinGatewaySummaryView",props:{items:{},routeName:{}},setup(B){const z=B;return(Y,o)=>{const E=p("XEmptyState"),M=p("RouteTitle"),S=p("XAction"),X=p("XSelect"),h=p("XLayout"),R=p("XBadge"),k=p("XCodeBlock"),F=p("DataLoader"),D=p("AppView"),L=p("RouteView");return r(),m(L,{name:z.routeName,params:{mesh:"",gateway:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:e(({route:l,t:i,uri:N})=>[u(q,{items:z.items,predicate:C=>C.id===l.params.gateway,find:!0},{empty:e(()=>[u(E,null,{title:e(()=>[g("h2",null,s(i("common.collection.summary.empty_title",{type:"Gateway"})),1)]),default:e(()=>[o[0]||(o[0]=t()),g("p",null,s(i("common.collection.summary.empty_message",{type:"Gateway"})),1)]),_:2,__:[0]},1024)]),default:e(({items:C})=>[(r(!0),f(_,null,w([C[0]],n=>(r(),m(D,{key:n.id},{title:e(()=>[g("h2",null,[u(S,{to:{name:"builtin-gateway-detail-view",params:{mesh:n.mesh,gateway:n.id}}},{default:e(()=>[u(M,{title:i("builtin-gateways.routes.item.title",{name:n.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:e(()=>[o[19]||(o[19]=t()),u(h,{type:"stack"},{default:e(()=>[g("header",null,[u(h,{type:"separated",size:"max"},{default:e(()=>[g("h3",null,s(i("gateways.routes.item.config")),1),o[1]||(o[1]=t()),(r(),f(_,null,w([["structured","universal","k8s"]],d=>g("div",{key:typeof d},[u(X,{label:i("gateways.routes.item.format"),selected:l.params.format,onChange:a=>{l.update({format:a})},onVnodeBeforeMount:a=>{var V;return((V=a==null?void 0:a.props)==null?void 0:V.selected)&&d.includes(a.props.selected)&&a.props.selected!==l.params.format&&l.update({format:a.props.selected})}},j({_:2},[w(d,a=>({name:`${a}-option`,fn:e(()=>[t(s(i(`gateways.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2,__:[1]},1024)]),o[18]||(o[18]=t()),l.params.format==="structured"?(r(),f(_,{key:0},[g("div",O,[n.type.length>0?(r(),m(c,{key:0,layout:"horizontal"},{title:e(()=>[t(s(i("gateways.routes.item.type")),1)]),body:e(()=>[t(s(n.type),1)]),_:2,__:[2]},1024)):y("",!0),o[10]||(o[10]=t()),n.namespace.length>0?(r(),m(c,{key:1,layout:"horizontal"},{title:e(()=>[t(s(i("gateways.routes.item.namespace")),1)]),body:e(()=>[t(s(n.namespace),1)]),_:2,__:[3]},1024)):y("",!0),o[11]||(o[11]=t()),n.mesh.length>0?(r(),m(c,{key:2,layout:"horizontal"},{title:e(()=>[t(s(i("gateways.routes.item.mesh")),1)]),body:e(()=>[t(s(n.mesh),1)]),_:2,__:[4]},1024)):y("",!0),o[12]||(o[12]=t()),n.zone.length>0?(r(),m(c,{key:3,layout:"horizontal"},{title:e(()=>[t(s(i("gateways.routes.item.zone")),1)]),body:e(()=>[t(s(n.zone),1)]),_:2,__:[5]},1024)):y("",!0),o[13]||(o[13]=t()),n.creationTime.length>0?(r(),m(c,{key:4,layout:"horizontal"},{title:e(()=>[t(s(i("gateways.routes.item.created")),1)]),body:e(()=>[t(s(i("common.formats.datetime",{value:Date.parse(n.creationTime)})),1)]),_:2,__:[6]},1024)):y("",!0),o[14]||(o[14]=t()),n.modificationTime.length>0?(r(),m(c,{key:5,layout:"horizontal"},{title:e(()=>[t(s(i("gateways.routes.item.modified")),1)]),body:e(()=>[t(s(i("common.formats.datetime",{value:Date.parse(n.modificationTime)})),1)]),_:2,__:[7]},1024)):y("",!0),o[15]||(o[15]=t()),Object.keys(n.labels).length>0?(r(),m(c,{key:6,layout:"horizontal"},{title:e(()=>[t(s(i("gateways.routes.item.labels")),1)]),body:e(()=>[u(h,{type:"separated",justify:"end"},{default:e(()=>[(r(!0),f(_,null,w(Object.entries(n.labels),([d,a])=>(r(),m(R,{key:`${d}:${a}`,appearance:"info",class:"label"},{default:e(()=>[d.includes("kuma.io/zone")?(r(),m(S,{key:0,to:{name:"builtin-gateway-list-view",query:{s:`zone:${a}`}}},{default:e(()=>[t(s(d)+":"+s(a),1)]),_:2},1032,["to"])):(r(),f(_,{key:1},[t(s(d)+":"+s(a),1)],64))]),_:2},1024))),128))]),_:2},1024)]),_:2,__:[8]},1024)):y("",!0),o[16]||(o[16]=t()),n.selectors.length>0?(r(),m(c,{key:7,layout:"horizontal"},{title:e(()=>[t(s(i("gateways.routes.item.selectors")),1)]),body:e(()=>[u(h,{type:"separated",justify:"end"},{default:e(()=>[(r(!0),f(_,null,w(Object.entries(n.selectors[0].match),([d,a])=>(r(),m(R,{key:`${d}:${a}`,appearance:"info"},{default:e(()=>[t(s(d)+":"+s(a),1)]),_:2},1024))),128))]),_:2},1024)]),_:2,__:[9]},1024)):y("",!0)]),o[17]||(o[17]=t()),u(k,{"data-testid":"codeblock-yaml-structured-conf",language:"yaml",code:b(x).stringify(n.conf),"show-k8s-copy-button":!1},null,8,["code"])],64)):l.params.format==="universal"?(r(),m(k,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",code:b(x).stringify(n.config),"show-k8s-copy-button":!1,"is-searchable":"",query:l.params.codeSearch,"is-filter-mode":l.params.codeFilter,"is-reg-exp-mode":l.params.codeRegExp,onQueryChange:d=>l.update({codeSearch:d}),onFilterModeChange:d=>l.update({codeFilter:d}),onRegExpModeChange:d=>l.update({codeRegExp:d})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(r(),m(F,{key:2,src:N(b(A),"/meshes/:mesh/mesh-gateways/:name/as/kubernetes",{mesh:l.params.mesh,name:l.params.gateway})},{default:e(({data:d})=>[u(k,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:b(x).stringify(d),"show-k8s-copy-button":!1,"is-searchable":"",query:l.params.codeSearch,"is-filter-mode":l.params.codeFilter,"is-reg-exp-mode":l.params.codeRegExp,onQueryChange:a=>l.update({codeSearch:a}),onFilterModeChange:a=>l.update({codeFilter:a}),onRegExpModeChange:a=>l.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2,__:[18]},1024)]),_:2,__:[19]},1024))),128))]),_:2,__:[20]},1032,["items","predicate"])]),_:1},8,["name"])}}}),v=G(Q,[["__scopeId","data-v-fa2f5a97"]]);export{v as default};
