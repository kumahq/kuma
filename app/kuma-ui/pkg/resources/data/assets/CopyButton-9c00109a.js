import{K as d}from"./index-9dd3e7d3.js";import{d as p,o as f,b as y,w as n,e as r,q as i,ae as _,f as x,r as T,af as h,x as C,ag as b,p as g,t as m,_ as B}from"./index-784d2bbf.js";const S={class:"visually-hidden"},v={inheritAttrs:!1},q=p({...v,__name:"CopyButton",props:{text:{type:String,required:!1,default:""},getText:{type:Function,required:!1,default:null},copyText:{type:String,required:!1,default:"Copy"},tooltipSuccessText:{type:String,required:!1,default:"Copied code!"},tooltipFailText:{type:String,required:!1,default:"Failed to copy!"},hasBorder:{type:Boolean,default:!1},hideTitle:{type:Boolean,default:!1}},setup(c){const t=c;async function u(a,l){const e=a.currentTarget;let o=!1;try{const s=t.getText?await t.getText():t.text;o=await l(s)}catch{o=!1}finally{const s=o?t.tooltipSuccessText:t.tooltipFailText;e instanceof HTMLButtonElement&&(e.setAttribute("data-tooltip-copy-success",String(o)),e.setAttribute("data-tooltip-text",s),window.setTimeout(function(){e instanceof HTMLButtonElement&&e.removeAttribute("data-tooltip-text")},1500))}}return(a,l)=>(f(),y(i(b),null,{default:n(({copyToClipboard:e})=>[r(i(C),h(a.$attrs,{appearance:"outline",class:["copy-button",{"non-visual-button":!t.hasBorder}],"data-testid":"copy-button","is-rounded":!1,size:"small",title:t.hideTitle?void 0:t.copyText,type:"button",onClick:o=>u(o,e)}),{default:n(()=>[r(i(_),{color:"currentColor",icon:"copy",size:i(d),title:t.hideTitle?void 0:t.copyText,"hide-title":t.hideTitle},null,8,["size","title","hide-title"]),x(),T(a.$slots,"default",{},()=>[g("span",S,m(t.copyText),1)],!0)]),_:2},1040,["class","title","onClick"])]),_:3}))}});const A=B(q,[["__scopeId","data-v-ccab109b"]]);export{A as C};
