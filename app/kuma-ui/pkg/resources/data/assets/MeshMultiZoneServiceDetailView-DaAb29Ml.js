import{d as T,r,p as m,o as l,w as t,b as n,e as d,l as p,t as c,c as f,L as g,M as y,m as C,a0 as q,K as Q,N as K,Y as S,_ as P}from"./index-BANqksT4.js";const $=T({__name:"MeshMultiZoneServiceDetailView",props:{data:{}},setup(_){const u=_;return(j,s)=>{const R=r("KumaPort"),h=r("XLayout"),k=r("XBadge"),w=r("XDl"),z=r("XAboutCard"),B=r("XCopyButton"),V=r("XAction"),E=r("DataCollection"),x=r("DataLoader"),b=r("XCard"),F=r("XSelect"),X=r("XCodeBlock"),D=r("AppView"),L=r("RouteView");return l(),m(L,{name:"mesh-multi-zone-service-detail-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,environment:String}},{default:t(({route:o,t:i,uri:A,me:v})=>[n(D,null,{default:t(()=>[n(h,{type:"stack"},{default:t(()=>[n(z,{title:i("services.mesh-multi-zone-service.about.title"),created:u.data.creationTime,modified:u.data.modificationTime},{default:t(()=>[n(w,{variant:"x-stack"},{default:t(()=>[p("div",null,[p("dt",null,c(i("http.api.property.ports")),1),s[0]||(s[0]=d()),p("dd",null,[u.data.spec.ports.length?(l(),m(h,{key:0,type:"separated",truncate:""},{default:t(()=>[(l(!0),f(g,null,y(u.data.spec.ports,a=>(l(),m(R,{key:a.port,port:{...a,targetPort:void 0}},null,8,["port"]))),128))]),_:1})):(l(),f(g,{key:1},[d(c(i("common.detail.none")),1)],64))])]),s[2]||(s[2]=d()),p("div",null,[p("dt",null,c(i("http.api.property.selector")),1),s[1]||(s[1]=d()),p("dd",null,[Object.keys(_.data.spec.selector.meshService.matchLabels??{}).length?(l(),m(h,{key:0,type:"separated",truncate:""},{default:t(()=>[(l(!0),f(g,null,y(_.data.spec.selector.meshService.matchLabels,(a,e)=>(l(),m(k,{key:`${e}:${a}`,appearance:"info"},{default:t(()=>[d(c(e)+":"+c(a),1)]),_:2},1024))),128))]),_:1})):(l(),f(g,{key:1},[d(c(i("common.detail.none")),1)],64))])])]),_:2},1024)]),_:2},1032,["title","created","modified"]),s[6]||(s[6]=d()),n(b,null,{title:t(()=>[d(c(i("services.detail.hostnames.title")),1)]),default:t(()=>[s[4]||(s[4]=d()),n(x,{src:A(C(q),"/meshes/:mesh/:serviceType/:serviceName/_hostnames",{mesh:o.params.mesh,serviceType:"meshmultizoneservices",serviceName:o.params.service}),variant:"list"},{default:t(({data:a})=>[n(E,{type:"hostnames",items:a.items},{default:t(()=>[n(Q,{type:"hostnames-collection","data-testid":"hostnames-collection",items:a.items,headers:[{...v.get("headers.hostname"),label:i("services.detail.hostnames.hostname"),key:"hostname"},{...v.get("headers.zones"),label:i("services.detail.hostnames.zone"),key:"zones"}],onResize:v.set},{hostname:t(({row:e})=>[p("b",null,[n(B,{text:e.hostname},null,8,["text"])])]),zones:t(({row:e})=>[n(h,{type:"separated"},{default:t(()=>[(l(!0),f(g,null,y(e.zones,(M,N)=>(l(),m(k,{key:N,appearance:"decorative"},{default:t(()=>[n(V,{to:{name:"zone-cp-detail-view",params:{zone:M.name}}},{default:t(()=>[d(c(M.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1024)]),_:1},8,["items","headers","onResize"])]),_:2},1032,["items"])]),_:2},1032,["src"])]),_:2},1024),s[7]||(s[7]=d()),n(b,null,{default:t(()=>[n(h,null,{default:t(()=>[n(h,{type:"separated",justify:"end"},{default:t(()=>[(l(),f(g,null,y([["universal","k8s"]],a=>p("div",{key:typeof a},[n(F,{label:i("services.routes.item.format"),selected:o.params.environment,onChange:e=>{o.update({environment:e})},onVnodeBeforeMount:e=>e?.props?.selected&&a.includes(e.props.selected)&&e.props.selected!==o.params.environment&&o.update({environment:e.props.selected})},K({_:2},[y(a,e=>({name:`${e}-option`,fn:t(()=>[d(c(i(`services.routes.item.formats.${e}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024),s[5]||(s[5]=d()),o.params.environment==="universal"?(l(),m(X,{key:0,"data-testid":"codeblock-yaml-universal",language:"yaml",code:C(S).stringify(u.data.config),"is-searchable":"",query:o.params.codeSearch,"is-filter-mode":o.params.codeFilter,"is-reg-exp-mode":o.params.codeRegExp,onQueryChange:a=>o.update({codeSearch:a}),onFilterModeChange:a=>o.update({codeFilter:a}),onRegExpModeChange:a=>o.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(l(),m(x,{key:1,src:`/meshes/${u.data.mesh}/mesh-multi-zone-service/${u.data.id}/as/kubernetes`},{default:t(({data:a})=>[n(X,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:C(S).stringify(a),"is-searchable":"",query:o.params.codeSearch,"is-filter-mode":o.params.codeFilter,"is-reg-exp-mode":o.params.codeRegExp,onQueryChange:e=>o.update({codeSearch:e}),onFilterModeChange:e=>o.update({codeFilter:e}),onRegExpModeChange:e=>o.update({codeRegExp:e})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1})}}}),Z=P($,[["__scopeId","data-v-9b54591d"]]);export{Z as default};
