import{d as y,Q as p,o as s,j as _,c as l,I as g,D as m,r as i,g as d,h as v,k as u,w as h,a as E}from"./index.09f51eb8.js";import{_ as N}from"./CodeBlock.vue_vue_type_style_index_0_lang.f4101bd8.js";import{_ as k}from"./EmptyBlock.vue_vue_type_script_setup_true_lang.264304d3.js";import{E as I}from"./ErrorBlock.6cb5eaea.js";import{_ as S}from"./LoadingBlock.vue_vue_type_script_setup_true_lang.f2b15057.js";const q={class:"status-info"},z={key:3},D=y({__name:"StatusInfo",props:{isLoading:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},error:{type:[Error,p],required:!1,default:null}},setup(t){return(e,r)=>(s(),_("div",q,[t.isLoading?(s(),l(S,{key:0})):t.hasError?(s(),l(I,{key:1,error:t.error},null,8,["error"])):t.isEmpty?(s(),l(k,{key:2})):(s(),_("div",z,[g(e.$slots,"default",{},void 0,!0)]))]))}});const P=m(D,[["__scopeId","data-v-5f67b02e"]]),x=y({__name:"EnvoyData",props:{dataPath:{type:String,required:!0},queryKey:{type:String,required:!1,default:null},mesh:{type:String,required:!1,default:""},dppName:{type:String,required:!1,default:""},zoneIngressName:{type:String,required:!1,default:""},zoneEgressName:{type:String,required:!1,default:""}},setup(t){const e=t,r=i(!0),o=i(void 0),c=i("");d(()=>e.dppName,function(){n()}),d(()=>e.zoneIngressName,function(){n()}),d(()=>e.zoneEgressName,function(){n()}),v(function(){n()});async function n(){o.value=void 0,r.value=!0;try{let a="";e.mesh!==""&&e.dppName!==""?a=await u.getDataplaneData({dataPath:e.dataPath,mesh:e.mesh,dppName:e.dppName}):e.zoneIngressName!==""?a=await u.getZoneIngressData({dataPath:e.dataPath,zoneIngressName:e.zoneIngressName}):e.zoneEgressName!==""&&(a=await u.getZoneEgressData({dataPath:e.dataPath,zoneEgressName:e.zoneEgressName})),c.value=typeof a=="string"?a:JSON.stringify(a,null,2)}catch(a){a instanceof Error?o.value=a:console.error(a)}finally{r.value=!1}}return(a,B)=>(s(),l(P,{class:"envoy-data","has-error":o.value!==void 0,"is-loading":r.value,error:o.value},{default:h(()=>{var f;return[E(N,{id:`code-block-${t.dataPath}`,language:"json",code:c.value,"is-searchable":"","query-key":(f=t.queryKey)!=null?f:`code-block-${t.dataPath}`},null,8,["id","code","query-key"])]}),_:1},8,["has-error","is-loading","error"]))}});const j=m(x,[["__scopeId","data-v-203f1a94"]]);export{j as E,P as S};
