import{d as V,a as r,o as i,b as d,w as t,e as m,m as s,f as a,t as n,c as _,X as E,p as u,F,v as B,x as T,Q as b,_ as P}from"./index-4894d4f5.js";import{_ as $}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-e29cb238.js";import{_ as D}from"./ResourceCodeBlock.vue_vue_type_style_index_0_lang-d05f83f5.js";import"./CodeBlock.vue_vue_type_style_index_0_lang-7489b11d.js";import"./uniqueId-90cc9b93.js";import"./CopyButton-bc7c3402.js";import"./index-fce48c05.js";import"./toYaml-4e00099e.js";const I=l=>(B("data-v-cd6aff8e"),l=l(),T(),l),M={class:"summary-title-wrapper"},N=I(()=>s("img",{"aria-hidden":"true",src:b},null,-1)),Q={class:"summary-title"},q={key:1,class:"stack"},A={key:0},K={class:"mt-4 stack"},L={key:0},X={class:"mt-4"},j=V({__name:"PolicySummaryView",props:{name:{},policy:{default:void 0},policyType:{}},setup(l){const e=l;return(z,G)=>{const g=r("RouteTitle"),v=r("RouterLink"),R=r("KBadge"),k=r("DataSource"),w=r("AppView"),x=r("RouteView");return i(),d(x,{name:"policy-summary-view",params:{mesh:"",policyPath:"",policy:"",codeSearch:"",codeFilter:!1,codeRegExp:!1}},{default:t(({route:c,t:p})=>[m(w,null,{title:t(()=>[s("div",M,[N,a(),s("h2",Q,[m(v,{to:{name:"policy-detail-view",params:{policy:e.name}}},{default:t(()=>[m(g,{title:p("policies.routes.item.title",{name:e.name})},null,8,["title"])]),_:2},1032,["to"])])])]),default:t(()=>{var f;return[a(),e.policy===void 0?(i(),d($,{key:0},{message:t(()=>[s("p",null,n(p("common.collection.summary.empty_message",{type:e.policyType.name})),1)]),default:t(()=>[a(n(p("common.collection.summary.empty_title",{type:e.policyType.name}))+" ",1)]),_:2},1024)):(i(),_("div",q,[(f=e.policy.spec)!=null&&f.targetRef?(i(),_("div",A,[s("h3",null,n(p("policies.routes.item.overview")),1),a(),s("div",K,[m(E,null,{title:t(()=>[a(n(p("http.api.property.targetRef")),1)]),body:t(()=>{var o;return[(o=e.policy.spec)!=null&&o.targetRef?(i(),d(R,{key:0,appearance:"neutral"},{default:t(()=>[a(n(e.policy.spec.targetRef.kind),1),e.policy.spec.targetRef.name?(i(),_("span",L,[a(":"),s("b",null,n(e.policy.spec.targetRef.name),1)])):u("",!0)]),_:1})):(i(),_(F,{key:1},[a(n(p("common.detail.none")),1)],64))]}),_:2},1024)])])):u("",!0),a(),s("div",null,[s("h3",null,n(p("policies.routes.item.config")),1),a(),s("div",X,[m(D,{resource:e.policy.config,"is-searchable":"",query:c.params.codeSearch,"is-filter-mode":c.params.codeFilter,"is-reg-exp-mode":c.params.codeRegExp,onQueryChange:o=>c.update({codeSearch:o}),onFilterModeChange:o=>c.update({codeFilter:o}),onRegExpModeChange:o=>c.update({codeRegExp:o})},{default:t(({copy:o,copying:C})=>[C?(i(),d(k,{key:0,src:`/meshes/${c.params.mesh}/policy-path/${c.params.policyPath}/policy/${c.params.policy}/as/kubernetes?no-store`,onChange:y=>{o(h=>h(y))},onError:y=>{o((h,S)=>S(y))}},null,8,["src","onChange","onError"])):u("",!0)]),_:2},1032,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])])])]))]}),_:2},1024)]),_:1})}}});const oe=P(j,[["__scopeId","data-v-cd6aff8e"]]);export{oe as default};
