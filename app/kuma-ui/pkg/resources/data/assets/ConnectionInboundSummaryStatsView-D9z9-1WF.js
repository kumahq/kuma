import{d as C,r as n,p as A,o as $,w as s,b as r,e as c,m as k,Z as w}from"./index-B9jrI5Tt.js";const T=C({__name:"ConnectionInboundSummaryStatsView",props:{data:{},networking:{},routeName:{}},setup(p){const e=p;return(R,d)=>{const i=n("RouteTitle"),l=n("XAction"),m=n("XCodeBlock"),u=n("DataCollection"),_=n("DataLoader"),g=n("AppView"),h=n("RouteView");return $(),A(h,{params:{codeSearch:"",codeFilter:!1,codeRegExp:!1,mesh:"",proxy:"",proxyType:"",connection:""},name:e.routeName},{default:s(({route:a,uri:f})=>[r(i,{render:!1,title:"Stats"}),d[1]||(d[1]=c()),r(g,null,{default:s(()=>[r(_,{src:f(k(w),"/connections/stats/for/:proxyType/:name/:mesh/:socketAddress",{proxyType:{ingresses:"zone-ingress",egresses:"zone-egress"}[a.params.proxyType]??"dataplane",name:a.params.proxy,mesh:a.params.mesh||"*",socketAddress:e.networking.inboundAddress})},{default:s(({data:x,refresh:y})=>[r(u,{items:x.raw.split(`
`),predicate:o=>[`listener.${e.data.listenerAddress.length>0?e.data.listenerAddress:a.params.connection}`,`cluster.${e.data.name}.`,`cluster.${e.data.clusterName}.`,`http.${e.data.name}.`,`http.${e.data.clusterName}.`,`tcp.${e.data.name}.`].some(t=>o.startsWith(t))&&(!o.includes(".rds.")||o.includes(`_${e.data.port}`)||o.includes(`${e.data.servicePort}`))},{default:s(({items:o})=>[r(m,{language:"json",code:o.map(t=>t.replace(`${e.data.listenerAddress.length>0?e.data.listenerAddress:a.params.connection}.`,"").replace(`${e.data.name}.`,"").replace(`${e.data.clusterName}.`,"")).join(`
`),"is-searchable":"",query:a.params.codeSearch,"is-filter-mode":a.params.codeFilter,"is-reg-exp-mode":a.params.codeRegExp,onQueryChange:t=>a.update({codeSearch:t}),onFilterModeChange:t=>a.update({codeFilter:t}),onRegExpModeChange:t=>a.update({codeRegExp:t})},{"primary-actions":s(()=>[r(l,{action:"refresh",appearance:"primary",onClick:y},{default:s(()=>d[0]||(d[0]=[c(`
                Refresh
              `)])),_:2,__:[0]},1032,["onClick"])]),_:2},1032,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["items","predicate"])]),_:2},1032,["src"])]),_:2},1024)]),_:1,__:[1]},8,["name"])}}});export{T as default};
