import{l as u,b as k}from"./kongponents.es-bba90403.js";import{d as g,q as s,G as b,N as w,o,e as B,k as m,h as C,w as y,a as d,b as l,g as E,n}from"./index-9d631905.js";const N={class:"scanner"},$={class:"scanner-content"},q={class:"mb-2"},z=g({__name:"EntityScanner",props:{interval:{type:Number,required:!1,default:1e3},retries:{type:Number,required:!1,default:3600},hasError:{type:Boolean,default:!1},loaderFunction:{type:Function,required:!0},canComplete:{type:Boolean,default:!1}},emits:["hide-siblings"],setup(a,{emit:p}){const r=a,f=s(0),t=s(!1),v=s(!1),i=s(null);b(function(){h()}),w(function(){c()});function h(){t.value=!0,v.value=!1,c(),i.value=window.setInterval(async()=>{f.value++,await r.loaderFunction(),(f.value===r.retries||r.canComplete===!0)&&(c(),t.value=!1,v.value=!0,p("hide-siblings",!0))},r.interval)}function c(){i.value!==null&&window.clearInterval(i.value)}return(e,F)=>(o(),B("div",N,[m("div",$,[C(l(k),{"cta-is-hidden":""},{title:y(()=>[m("div",q,[t.value?(o(),d(l(u),{key:0,icon:"spinner",color:"var(--grey-300)",size:"42"})):a.hasError?(o(),d(l(u),{key:1,icon:"errorFilled",color:"var(--red-500)",size:"42"})):(o(),d(l(u),{key:2,icon:"circleCheck",color:"var(--green-500)",size:"42"}))]),E(),t.value?n(e.$slots,"loading-title",{key:0}):a.hasError?n(e.$slots,"error-title",{key:1}):n(e.$slots,"complete-title",{key:2})]),message:y(()=>[t.value?n(e.$slots,"loading-content",{key:0}):a.hasError?n(e.$slots,"error-content",{key:1}):n(e.$slots,"complete-content",{key:2})]),_:3})])]))}});export{z as _};
