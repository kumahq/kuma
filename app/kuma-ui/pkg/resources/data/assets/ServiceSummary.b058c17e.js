import{d as D,e as i,y as j,h as C,o as a,i as l,j as t,b as n,a as f,w as I,u as r,c as k,A as u,t as d,F as g,D as N,E as O,G as V}from"./index.7a1b9f3b.js";import{S as E}from"./StatusBadge.3c5db700.js";import{T as P}from"./TagList.84f5f0a1.js";import{_ as $}from"./YamlView.vue_vue_type_script_setup_true_lang.6cc595be.js";const _=c=>(N("data-v-aeb75a49"),c=c(),O(),c),q={class:"entity-summary entity-section-list"},A={class:"block-list"},F={class:"entity-title"},L={class:"definition"},G=_(()=>t("span",null,"Mesh:",-1)),M={class:"definition"},R=_(()=>t("span",null,"Address:",-1)),z={key:0,class:"definition"},H=_(()=>t("span",null,"TLS:",-1)),J={key:1,class:"definition"},K=_(()=>t("span",null,"Data plane proxies:",-1)),Q={key:0},U=_(()=>t("h2",null,"Tags",-1)),W={class:"config-section"},X=D({__name:"ServiceSummary",props:{service:{type:Object,required:!0},externalService:{type:Object,required:!1,default:null}},setup(c){const e=c,b=i(()=>({name:"service-detail-view",params:{service:e.service.name,mesh:e.service.mesh}})),p=i(()=>{var s;return e.service.serviceType==="external"&&e.externalService!==null?e.externalService.networking.address:(s=e.service.addressPort)!=null?s:null}),m=i(()=>{var s;return e.service.serviceType==="external"&&e.externalService!==null?(s=e.externalService.networking.tls)!=null&&s.enabled?"Enabled":"Disabled":null}),h=i(()=>{var s,o,v,S;if(e.service.serviceType==="external")return null;{const w=(o=(s=e.service.dataplanes)==null?void 0:s.online)!=null?o:0,B=(S=(v=e.service.dataplanes)==null?void 0:v.total)!=null?S:0;return`${w} online / ${B} total`}}),y=i(()=>{var s;return e.service.serviceType==="external"?null:(s=e.service.status)!=null?s:null}),x=i(()=>e.service.serviceType==="external"&&e.externalService!==null?Object.entries(e.externalService.tags).map(([s,o])=>({label:s,value:o})):[]),T=i(()=>{var s;return j((s=e.externalService)!=null?s:e.service)});return(s,o)=>{const v=C("router-link");return a(),l("div",q,[t("section",null,[t("div",A,[t("div",null,[t("h1",F,[t("span",null,[n(`
              Service:

              `),f(v,{to:r(b)},{default:I(()=>[n(d(e.service.name),1)]),_:1},8,["to"])]),n(),r(y)?(a(),k(E,{key:0,status:r(y)},null,8,["status"])):u("",!0)]),n(),t("div",L,[G,n(),t("span",null,d(e.service.mesh),1)]),n(),t("div",M,[R,n(),t("span",null,[r(p)!==null?(a(),l(g,{key:0},[n(d(r(p)),1)],64)):(a(),l(g,{key:1},[n("\u2014")],64))])]),n(),r(m)!==null?(a(),l("div",z,[H,n(),t("span",null,d(r(m)),1)])):u("",!0),n(),r(h)!==null?(a(),l("div",J,[K,n(),t("span",null,d(r(h)),1)])):u("",!0)]),n(),r(x).length>0?(a(),l("div",Q,[U,n(),f(P,{tags:r(x)},null,8,["tags"])])):u("",!0)])]),n(),t("section",W,[e.service.serviceType==="external"?(a(),k($,{key:0,id:"code-block-service",content:r(T),"is-searchable":"","code-max-height":"250px"},null,8,["content"])):u("",!0)])])}}});const te=V(X,[["__scopeId","data-v-aeb75a49"]]);export{te as S};
