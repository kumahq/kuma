import{d as N,r as o,p as m,o as s,w as e,b as a,e as n,O as z,c as _,N as h,L as v,t as d,m as F,ad as T,K as $,l as q,q as K,_ as P}from"./index-CTYmXyGO.js";import{_ as O}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-BgdyrpJo.js";const Q=N({__name:"MeshMultiZoneServiceDetailView",props:{data:{}},setup(w){const p=w;return(C,r)=>{const x=o("KumaPort"),f=o("XLayout"),b=o("XBadge"),X=o("XAboutCard"),D=o("XCopyButton"),S=o("XAction"),V=o("DataCollection"),R=o("DataLoader"),k=o("XCard"),B=o("DataSource"),E=o("AppView"),L=o("RouteView");return s(),m(L,{name:"mesh-multi-zone-service-detail-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1}},{default:e(({route:i,t:l,uri:M,me:g})=>[a(E,null,{default:e(()=>[a(f,{type:"stack"},{default:e(()=>[a(X,{title:l("services.mesh-multi-zone-service.about.title"),created:p.data.creationTime,modified:p.data.modificationTime},{default:e(()=>[a(z,{layout:"horizontal"},{title:e(()=>[n(d(l("http.api.property.ports")),1)]),body:e(()=>[p.data.spec.ports.length?(s(),m(f,{key:0,type:"separated",truncate:""},{default:e(()=>[(s(!0),_(h,null,v(p.data.spec.ports,t=>(s(),m(x,{key:t.port,port:{...t,targetPort:void 0}},null,8,["port"]))),128))]),_:1})):(s(),_(h,{key:1},[n(d(l("common.detail.none")),1)],64))]),_:2,__:[0]},1024),r[2]||(r[2]=n()),a(z,{layout:"horizontal"},{title:e(()=>[n(d(l("http.api.property.selector")),1)]),body:e(()=>[Object.keys(C.data.spec.selector.meshService.matchLabels).length?(s(),m(f,{key:0,type:"separated",truncate:""},{default:e(()=>[(s(!0),_(h,null,v(C.data.spec.selector.meshService.matchLabels,(t,c)=>(s(),m(b,{key:`${c}:${t}`,appearance:"info"},{default:e(()=>[n(d(c)+":"+d(t),1)]),_:2},1024))),128))]),_:1})):(s(),_(h,{key:1},[n(d(l("common.detail.none")),1)],64))]),_:2,__:[1]},1024)]),_:2,__:[2]},1032,["title","created","modified"]),r[5]||(r[5]=n()),a(k,null,{title:e(()=>[n(d(l("services.detail.hostnames.title")),1)]),default:e(()=>[r[4]||(r[4]=n()),a(R,{src:M(F(T),"/meshes/:mesh/:serviceType/:serviceName/_hostnames",{mesh:i.params.mesh,serviceType:"meshmultizoneservices",serviceName:i.params.service})},{loadable:e(({data:t})=>[a(V,{type:"hostnames",items:(t==null?void 0:t.items)??[void 0]},{default:e(()=>[a($,{type:"hostnames-collection","data-testid":"hostnames-collection",items:t==null?void 0:t.items,headers:[{...g.get("headers.hostname"),label:l("services.detail.hostnames.hostname"),key:"hostname"},{...g.get("headers.zones"),label:l("services.detail.hostnames.zone"),key:"zones"}],onResize:g.set},{hostname:e(({row:c})=>[q("b",null,[a(D,{text:c.hostname},null,8,["text"])])]),zones:e(({row:c})=>[a(f,{type:"separated"},{default:e(()=>[(s(!0),_(h,null,v(c.zones,(u,y)=>(s(),m(b,{key:y,appearance:"decorative"},{default:e(()=>[a(S,{to:{name:"zone-cp-detail-view",params:{zone:u.name}}},{default:e(()=>[n(d(u.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1024)]),_:2,__:[3]},1032,["items","headers","onResize"])]),_:2},1032,["items"])]),_:2},1032,["src"])]),_:2,__:[4]},1024),r[6]||(r[6]=n()),a(k,null,{default:e(()=>[a(O,{resource:p.data.config,"is-searchable":"",query:i.params.codeSearch,"is-filter-mode":i.params.codeFilter,"is-reg-exp-mode":i.params.codeRegExp,onQueryChange:t=>i.update({codeSearch:t}),onFilterModeChange:t=>i.update({codeFilter:t}),onRegExpModeChange:t=>i.update({codeRegExp:t})},{default:e(({copy:t,copying:c})=>[c?(s(),m(B,{key:0,src:`/meshes/${p.data.mesh}/mesh-multi-zone-service/${p.data.id}/as/kubernetes?no-store`,onChange:u=>{t(y=>y(u))},onError:u=>{t((y,A)=>A(u))}},null,8,["src","onChange","onError"])):K("",!0)]),_:2},1032,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1024)]),_:2,__:[5,6]},1024)]),_:2},1024)]),_:1})}}}),I=P(Q,[["__scopeId","data-v-b92f31fa"]]);export{I as default};
