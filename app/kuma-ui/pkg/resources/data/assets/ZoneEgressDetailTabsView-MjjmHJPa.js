import{d as G,v as H,r as s,p as b,o as i,w as e,b as t,m as S,al as B,e as n,M as K,L as E,t as _,y as P,q as g,l as f,I as Q,c as w,N as A,_ as W}from"./index-Cu0UScaV.js";const Y=["onSubmit"],ee=["disabled"],oe={key:0},te={key:0},se=G({__name:"ZoneEgressDetailTabsView",setup(ne){const r=H({eds:!1,xds:!0,clusters:!0,stats:!0,proxy:!0});return(ae,o)=>{const L=s("RouteTitle"),N=s("XCopyButton"),R=s("XBadge"),x=s("XLayout"),z=s("XAction"),y=s("XI18n"),C=s("XCheckbox"),I=s("XAlert"),V=s("DataLoader"),M=s("XDownload"),$=s("XModal"),D=s("XDisclosure"),U=s("XTeleportTemplate"),O=s("XTabs"),Z=s("RouterView"),h=s("AppView"),j=s("DataSource"),q=s("RouteView");return i(),b(q,{name:"zone-egress-detail-tabs-view",params:{zone:"",proxy:""}},{default:e(({route:d,can:F,t:a,uri:T})=>[t(j,{src:T(S(B),"/zone-egress-overviews/:name",{name:d.params.proxy})},{default:e(({data:l,error:J})=>[t(h,{docs:a("zone-ingresses.href.docs"),breadcrumbs:[...F("use zones")?[{to:{name:"zone-cp-list-view"},text:a("zone-cps.routes.item.breadcrumbs")},{to:{name:"zone-cp-detail-view",params:{zone:d.params.zone}},text:d.params.zone}]:[],{to:{name:"zone-egress-list-view",params:{zone:d.params.zone}},text:a("zone-egresses.routes.item.breadcrumbs")}]},{title:e(()=>[l?(i(),b(x,{key:0,size:"small"},{default:e(()=>[f("h1",null,[t(N,{text:l.name},{default:e(()=>[t(L,{title:a("zone-egresses.routes.item.title",{name:l.name})},null,8,["title"])]),_:2},1032,["text"])]),o[1]||(o[1]=n()),t(R,{appearance:a(`common.status.appearance.${l.state}`,void 0,{defaultMessage:"neutral"})},{default:e(()=>[n(_(a(`http.api.value.${l.state}`)),1)]),_:2},1032,["appearance"])]),_:2},1024)):g("",!0)]),actions:e(()=>[t(D,null,{default:e(({expanded:u,toggle:v})=>[t(z,{appearance:"primary",onClick:v},{default:e(()=>[...o[2]||(o[2]=[n(`
              Download bundle
            `,-1)])]),_:1},8,["onClick"]),o[7]||(o[7]=n()),u?(i(),b(U,{key:0,to:{name:"modal-layer"}},{default:e(()=>[t(D,null,{default:e(({expanded:X,toggle:k})=>[f("form",{onSubmit:Q(k,["prevent"])},[t($,{title:a("zone-egresses.routes.item.download.title"),onCancel:v},{"footer-actions":e(()=>[t(x,{type:"separated"},{default:e(()=>[t(M,{onStart:v},{default:e(({download:m})=>[t(V,{variant:"spinner",src:X?T(S(B),"/zone-egresses/:name/as/tarball/:spec",{name:d.params.proxy,spec:JSON.stringify(r.value)},{cacheControl:"no-cache"}):"",onChange:m,onError:k},{error:e(()=>[t(I,{appearance:"warning","show-icon":""},{default:e(()=>[t(y,{t:"zone-ingresses.routes.item.download.error"})]),_:1})]),_:1},8,["src","onChange","onError"])]),_:2},1032,["onStart"]),o[5]||(o[5]=n()),t(z,{appearance:"primary",type:"submit",disabled:X||Object.values(r.value).every(m=>!m)},{default:e(()=>[n(_(a("zone-egresses.routes.item.download.action")),1)]),_:2},1032,["disabled"])]),_:2},1024)]),default:e(()=>[f("fieldset",{disabled:X},[t(y,{path:"zone-egresses.routes.item.download.description"}),o[4]||(o[4]=n()),f("ul",null,[(i(!0),w(A,null,E(r.value,(m,p)=>(i(),w(A,{key:typeof m},[p!=="eds"?(i(),w("li",oe,[t(C,{modelValue:r.value[p],"onUpdate:modelValue":c=>r.value[p]=c,onChange:c=>{p==="xds"&&!c&&(r.value.eds=!1)}},{default:e(()=>[n(_(a(`zone-egresses.routes.item.download.options.${p}`)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),o[3]||(o[3]=n()),p==="xds"?(i(),w("ul",te,[f("li",null,[t(C,{modelValue:r.value.eds,"onUpdate:modelValue":o[0]||(o[0]=c=>r.value.eds=c),disabled:!r.value.xds},{default:e(()=>[n(_(a("zone-egresses.routes.item.download.options.eds")),1)]),_:2},1032,["modelValue","disabled"])])])):g("",!0)])):g("",!0)],64))),128))])],8,ee),o[6]||(o[6]=n())]),_:2},1032,["title","onCancel"])],40,Y)]),_:2},1024)]),_:2},1024)):g("",!0)]),_:2},1024)]),default:e(()=>[o[9]||(o[9]=n()),o[10]||(o[10]=n()),t(V,{data:[l],errors:[J]},{default:e(()=>[t(O,{selected:d.child()?.name},K({_:2},[E(d.children,({name:u})=>({name:`${u}-tab`,fn:e(()=>[t(z,{to:{name:u}},{default:e(()=>[n(_(a(`zone-egresses.routes.item.navigation.${u}`)),1)]),_:2},1032,["to"])])}))]),1032,["selected"]),o[8]||(o[8]=n()),t(Z,null,{default:e(u=>[(i(),b(P(u.Component),{networking:l?.zoneEgress.networking,data:l,subscriptions:l?.zoneEgressInsight?.subscriptions},null,8,["networking","data","subscriptions"]))]),_:2},1024)]),_:2},1032,["data","errors"])]),_:2},1032,["docs","breadcrumbs"])]),_:2},1032,["src"])]),_:1})}}}),le=W(se,[["__scopeId","data-v-be9a9bee"]]);export{le as default};
