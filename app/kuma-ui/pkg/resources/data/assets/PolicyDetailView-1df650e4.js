import{_ as P}from"./PolicyConnections.vue_vue_type_script_setup_true_lang-72c41d86.js";import{_ as B}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-1dc4f3b2.js";import{E}from"./ErrorBlock-ffcf2e0c.js";import{_ as N}from"./LabelList.vue_vue_type_style_index_0_lang-8d6c26c5.js";import{_ as V}from"./LoadingBlock.vue_vue_type_script_setup_true_lang-55aeae37.js";import{T as $}from"./TabsWidget-f99fd53d.js";import{_ as x}from"./YamlView.vue_vue_type_script_setup_true_lang-b8cc5ebe.js";import{u as D}from"./index-86d1ef67.js";import{s as T}from"./production-4c848fca.js";import{d as A,r as m,o as t,h as s,a as r,b as u,f as p,w as i,g as o,t as d,e as f,F as h,l as C,u as F}from"./runtime-dom.esm-bundler-9284044f.js";import"./kongponents.es-3ba46133.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./datadogLogEvents-302eea7b.js";import"./QueryParameter-70743f73.js";import"./CodeBlock.vue_vue_type_style_index_0_lang-1071fcf3.js";import"./store-e9d4becb.js";import"./toYaml-4e00099e.js";const L={class:"policy-details component-frame"},S={class:"entity-heading","data-testid":"policy-single-entity"},H={"data-testid":"policy-overview-tab"},K={key:0},O={class:"config-wrapper"},oe=A({__name:"PolicyDetailView",props:{mesh:null,policyPath:null,policyName:null},setup(g){const _=g,k=D(),w=[{hash:"#overview",title:"Overview"},{hash:"#affected-dpps",title:"Affected DPPs"}],e=m(null),n=m(!0),l=m(null);async function b({mesh:v,policyPath:y,policyName:c}){n.value=!0,l.value=null,e.value=null;try{e.value=await k.getSinglePolicyEntity({mesh:v,path:y,name:c})}catch(a){a instanceof Error?l.value=a:console.error(a)}finally{n.value=!1}}return b(_),(v,y)=>(t(),s("div",L,[n.value?(t(),r(V,{key:0})):l.value!==null?(t(),r(E,{key:1,error:l.value},null,8,["error"])):e.value===null?(t(),r(B,{key:2})):u("",!0),p(),e.value!==null?(t(),r($,{key:3,tabs:w},{tabHeader:i(()=>[o("h1",S,d(e.value.name),1)]),overview:i(()=>[f(N,null,{default:i(()=>[o("div",H,[o("ul",null,[(t(!0),s(h,null,C(e.value,(c,a)=>(t(),s(h,{key:a},[["type","mesh","name"].includes(a)?(t(),s("li",K,[o("h4",null,d(a),1),p(),o("p",null,d(c),1)])):u("",!0)],64))),128))])])]),_:1}),p(),o("div",O,[f(x,{id:"code-block-policy",content:F(T)(e.value),"is-searchable":""},null,8,["content"])])]),"affected-dpps":i(()=>[f(P,{mesh:e.value.mesh,"policy-name":e.value.name,"policy-type":_.policyPath},null,8,["mesh","policy-name","policy-type"])]),_:1})):u("",!0)]))}});export{oe as default};
