import{d as N,p,o as c,w as n,b as i,e as l,r as e,c as j,L as B,M,N as O,t as $,m as D,A as T}from"./index-DGSbEvIm.js";const Q=N({__name:"ZoneConfigView",props:{data:{}},setup(k){const o=k;return(q,a)=>{const y=e("RouteTitle"),w=e("XAction"),X=e("XI18n"),v=e("XNotification"),x=e("XCodeBlock"),I=e("XAlert"),R=e("XCard"),S=e("AppView"),V=e("DataSource"),A=e("RouteView");return c(),p(A,{name:"zone-cp-config-view",params:{zone:"",codeSearch:"",codeFilter:!1,codeRegExp:!1}},{default:n(({route:s,t:m,uri:E})=>{var u,g;return[i(y,{render:!1,title:m("zone-cps.routes.item.navigation.zone-cp-config-view")},null,8,["title"]),a[2]||(a[2]=l()),i(V,{src:E(D(T),"/control-plane/outdated/:version",{version:((g=(u=o.data.zoneInsight.version)==null?void 0:u.kumaCp)==null?void 0:g.version)??"-"})},{default:n(({data:d})=>[i(S,{notifications:!0},{default:n(()=>{var _,f,b,C,z;return[(c(!0),j(O,null,B([{bool:o.data.zoneInsight.store==="memory",key:"store-memory"},{bool:!((f=(_=o.data.zoneInsight.version)==null?void 0:_.kumaCp)!=null&&f.kumaCpGlobalCompatible),key:"global-cp-incompatible",params:{zoneCpVersion:((C=(b=o.data.zoneInsight.version)==null?void 0:b.kumaCp)==null?void 0:C.version)??"-",globalCpVersion:(d==null?void 0:d.version)??""}},{bool:(((z=o.data.zoneInsight.connectedSubscription)==null?void 0:z.status.total.responsesRejected)??0)>0,key:"global-nack-response"}],({bool:t,key:r,params:F})=>(c(),p(v,{key:r,notify:t,"data-testid":`warning-${r}`,uri:`zone-cps.notifications.${r}.${o.data.id}`},{default:n(()=>[i(X,{path:`zone-cps.notifications.${r}`,params:Object.fromEntries(Object.entries(F??{}))},M({_:2},[r==="global-nack-response"?{name:"link",fn:n(()=>{var h;return[i(w,{"data-action":"",to:{name:"zone-cp-subscription-summary-view",params:{subscription:(h=o.data.zoneInsight.connectedSubscription)==null?void 0:h.id}}},{default:n(()=>a[0]||(a[0]=[l(`
                  zone control plane summary
                `,-1)])),_:1,__:[0]},8,["to"])]}),key:"0"}:void 0]),1032,["path","params"])]),_:2},1032,["notify","data-testid","uri"]))),128)),a[1]||(a[1]=l()),i(R,null,{default:n(()=>[Object.keys(o.data.zoneInsight.config).length>0?(c(),p(x,{key:0,language:"json",code:JSON.stringify(o.data.zoneInsight.config,null,2),"is-searchable":"",query:s.params.codeSearch,"is-filter-mode":s.params.codeFilter,"is-reg-exp-mode":s.params.codeRegExp,onQueryChange:t=>s.update({codeSearch:t}),onFilterModeChange:t=>s.update({codeFilter:t}),onRegExpModeChange:t=>s.update({codeRegExp:t})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(c(),p(I,{key:1,class:"mt-4","data-testid":"warning-no-subscriptions",variant:"warning"},{default:n(()=>[l($(m("zone-cps.detail.no_subscriptions")),1)]),_:2},1024))]),_:2},1024)]}),_:2,__:[1]},1024)]),_:2},1032,["src"])]}),_:1,__:[2]})}}});export{Q as default};
