import{O as A}from"./kongponents.es-e4c2d233.js";import{A as N,a as T}from"./AccordionList-cf8a81fb.js";import{_ as V}from"./CodeBlock.vue_vue_type_style_index_0_lang-6459977a.js";import{a as B,D}from"./DefinitionListItem-a7a8ac8e.js";import{_ as L,S as Z}from"./SubscriptionHeader.vue_vue_type_script_setup_true_lang-eadd2ab2.js";import{T as E}from"./TabsWidget-2166f92b.js";import{T as b}from"./TextWithCopyButton-3cace343.js";import{_ as R}from"./WarningsWidget.vue_vue_type_script_setup_true_lang-5b02ba0b.js";import{u as $}from"./store-f389d93b.js";import{b as j}from"./index-664baf03.js";import{d as q,c as l,R as F,a4 as W,a5 as G,x as J,o as i,b as u,w as e,i as P,h as p,g as c,t as f,j as g,q as w,e as O,F as d,f as H}from"./index-ae17c915.js";const M={class:"entity-heading"},re=q({__name:"ZoneDetails",props:{zoneOverview:{type:Object,required:!0}},setup(k){const a=k,{t:z}=j(),y=$(),v=[{hash:"#overview",title:"Overview"},{hash:"#insights",title:"Zone Insights"},{hash:"#config",title:"Config"},{hash:"#warnings",title:"Warnings"}],C=l(()=>({name:"zone-detail-view",params:{zone:a.zoneOverview.name}})),m=l(()=>{const{type:t,name:n}=a.zoneOverview,o=F(a.zoneOverview.zoneInsight);return{type:t,name:n,status:o,"Authentication Type":W(a.zoneOverview)}}),S=l(()=>{var n;const t=((n=a.zoneOverview.zoneInsight)==null?void 0:n.subscriptions)??[];return Array.from(t).reverse()}),h=l(()=>{var o;const t=[],n=((o=a.zoneOverview.zoneInsight)==null?void 0:o.subscriptions)??[];if(n.length>0){const s=n[n.length-1],r=s.version.kumaCp.version||"-",{kumaCpGlobalCompatible:x=!0}=s.version.kumaCp;x||t.push({kind:G,payload:{zoneCpVersion:r,globalCpVersion:y.getters["config/getVersion"]}})}return t}),_=l(()=>{var o;const t=((o=a.zoneOverview.zoneInsight)==null?void 0:o.subscriptions)??[],n=t[t.length-1];return n.config?JSON.stringify(JSON.parse(n.config),null,2):null}),I=l(()=>h.value.length===0?v.filter(t=>t.hash!=="#warnings"):v);return(t,n)=>{const o=J("router-link");return i(),u(E,{tabs:I.value},{tabHeader:e(()=>[P("h1",M,[p(`
        Zone:

        `),c(b,{text:m.value.name},{default:e(()=>[c(o,{to:C.value},{default:e(()=>[p(f(m.value.name),1)]),_:1},8,["to"])]),_:1},8,["text"])])]),overview:e(()=>[c(D,null,{default:e(()=>[(i(!0),g(d,null,w(m.value,(s,r)=>(i(),u(B,{key:r,term:O(z)(`http.api.property.${r}`)},{default:e(()=>[r==="status"?(i(),u(O(A),{key:0,appearance:s==="Offline"?"danger":"success"},{default:e(()=>[p(f(s),1)]),_:2},1032,["appearance"])):r==="name"?(i(),u(b,{key:1,text:s},null,8,["text"])):(i(),g(d,{key:2},[p(f(s),1)],64))]),_:2},1032,["term"]))),128))]),_:1})]),insights:e(()=>[c(T,{"initially-open":0},{default:e(()=>[(i(!0),g(d,null,w(S.value,(s,r)=>(i(),u(N,{key:r},{"accordion-header":e(()=>[c(L,{details:s},null,8,["details"])]),"accordion-content":e(()=>[c(Z,{details:s},null,8,["details"])]),_:2},1024))),128))]),_:1})]),config:e(()=>[_.value!==null?(i(),u(V,{key:0,id:"code-block-zone-config",language:"json",code:_.value,"is-searchable":"","query-key":"zone-config"},null,8,["code"])):H("",!0)]),warnings:e(()=>[c(R,{warnings:h.value},null,8,["warnings"])]),_:1},8,["tabs"])}}});export{re as _};
