import{d as S,r as n,p as m,o as t,w as o,b as c,c as a,N as p,L as y,e as s,q as $,l,m as V,t as f,Y as z,_ as K}from"./index-CDV8WoYF.js";import{P as O}from"./PolicyTypeTag-WnU1CnQL.js";import{K as R}from"./kri-CjUta6FR.js";const Y={colspan:"2"},j=S({__name:"DataplanePolicyConfigSummaryView",props:{policies:{},policyTypesData:{}},setup(B){const X=B;return(v,e)=>{const _=n("XLayout"),D=n("XAction"),L=n("XCodeBlock"),T=n("XTable"),b=n("AppView"),x=n("DataCollection"),A=n("RouteView");return t(),m(A,{name:"data-plane-policy-config-summary-view",params:{inactive:Boolean,proxyType:"",connection:"",policy:""}},{default:o(({route:N})=>[c(x,{items:X.policies,predicate:d=>d.kind.toLocaleLowerCase()===N.params.policy},{default:o(({items:d})=>[(t(!0),a(p,null,y(d,({kind:r,conf:P,origins:k})=>(t(),m(b,{key:r},{title:o(()=>[c(_,{size:"small"},{default:o(()=>[l("h2",null,[c(O,{"policy-type":r},{default:o(()=>[s(f(r),1)]),_:2},1032,["policy-type"])])]),_:2},1024)]),default:o(()=>{var w;return[e[5]||(e[5]=s()),(t(!0),a(p,null,y([Object.groupBy(((w=v.policyTypesData)==null?void 0:w.policyTypes)??[],({name:i})=>i)],i=>(t(),a(p,{key:`${typeof i}`},[k.length>0?(t(),m(T,{key:0,variant:"kv"},{default:o(()=>[l("tr",null,[e[0]||(e[0]=l("th",{scope:"row"},`
                  Origin policies
                `,-1)),e[1]||(e[1]=s()),l("td",null,[l("ul",null,[(t(!0),a(p,null,y(k,u=>(t(),a("li",{key:u.kri},[(t(!0),a(p,null,y([V(R).fromString(u.kri)],({mesh:C,name:g})=>(t(),a(p,{key:`${C}-${g}`},[i[r]?(t(),m(D,{key:0,to:{name:"policy-detail-view",params:{mesh:C,policyPath:i[r][0].path,policy:g}}},{default:o(()=>[s(f(u.kri),1)]),_:2},1032,["to"])):(t(),a(p,{key:1},[s(f(u.kri),1)],64))],64))),128))]))),128))])])]),e[4]||(e[4]=s()),l("tr",null,[l("td",Y,[c(_,{type:"stack",size:"small"},{default:o(()=>[e[2]||(e[2]=l("span",null,"Config",-1)),e[3]||(e[3]=s()),c(L,{code:V(z).stringify(P),language:"yaml","show-copy-button":!1},null,8,["code"])]),_:2},1024)])])]),_:2},1024)):$("",!0)],64))),128))]}),_:2},1024))),128))]),_:1},8,["items","predicate"])]),_:1})}}}),I=K(j,[["__scopeId","data-v-3a599e36"]]);export{I as default};
