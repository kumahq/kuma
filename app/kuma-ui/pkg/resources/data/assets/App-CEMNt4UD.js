import{d as A,r as u,c as S,o as m,a as g,b as n,w as o,e,t as c,n as M,_ as z,f as U,h as O,g as V,i as T,u as x,j as K,k as B,l as r,m as i,p as h,q as k,s as L,v as G,x as I,y as P,z as b}from"./index-TRKi7niM.js";const q=""+new URL("product-logo-CDoXkXpC.png",import.meta.url).href,H={class:"app-navigator"},Z=A({__name:"AppNavigator",props:{active:{type:Boolean,default:!1},label:{default:""},to:{default:()=>({})}},setup(d){const s=d;return(p,a)=>{const l=u("XAction");return m(),S("li",H,[g(p.$slots,"default",{},()=>[n(l,{class:M({"is-active":s.active}),to:s.to},{default:o(()=>[e(c(s.label),1)]),_:1},8,["class","to"])],!0)])}}}),$=z(Z,[["__scopeId","data-v-9a25910e"]]),j=A({name:"github-button",props:{href:String,ariaLabel:String,title:String,dataIcon:String,dataColorScheme:String,dataSize:String,dataShowCount:String,dataText:String},render:function(){const d={ref:"_"};for(const s in this.$props)d[O(s)]=this.$props[s];return V("span",[T(this.$slots,"default")?V("a",d,this.$slots.default()):V("a",d)])},mounted:function(){this.paint()},beforeUpdate:function(){this.reset()},updated:function(){this.paint()},beforeUnmount:function(){this.reset()},methods:{paint:function(){if(this.$el.lastChild!==this.$refs._)return;const d=this.$el.appendChild(document.createElement("span")),s=this;U(()=>import("./buttons.esm-DK2fWHEW.js"),[],import.meta.url).then(function(p){s.$el.lastChild===d&&p.render(d.appendChild(s.$refs._),function(a){s.$el.lastChild===d&&d.parentNode.replaceChild(a,d)})})},reset:function(){this.$refs._!=null&&this.$el.replaceChild(this.$refs._,this.$el.lastChild)}}}),F={class:"application-shell"},J={role:"banner"},Q={class:"horizontal-list"},W={class:"upgrade-check-wrapper"},Y={class:"horizontal-list"},tt={class:"app-status app-status--mobile"},et={class:"app-status app-status--desktop"},ot={class:"app-content-container"},nt={class:"app-sidebar"},at={"aria-label":"Main"},st={key:0},it={key:1,role:"separator",class:"navigation-separator"},rt={key:2},lt={class:"app-main-content"},ut=A({__name:"ApplicationShell",setup(d){const s=x(),p=K(),{t:a}=B();return(l,t)=>{const v=u("XTeleportSlot"),f=u("XAction"),w=u("XLayout"),N=u("XAlert"),X=u("DataSource"),_=u("XPop"),C=u("XIcon"),E=u("XActionGroup");return m(),S("div",F,[n(v,{name:"modal-layer"}),t[20]||(t[20]=e()),r("header",J,[r("div",Q,[g(l.$slots,"header",{},()=>[n(f,{to:{name:"control-plane-root-view"}},{default:o(()=>[g(l.$slots,"home",{},void 0,!0)]),_:3}),t[3]||(t[3]=e()),n(i(j),{class:"gh-star",href:"https://github.com/kumahq/kuma","aria-label":"Star kumahq/kuma on GitHub"},{default:o(()=>[...t[0]||(t[0]=[e(`
            Star
          `,-1)])]),_:1}),t[4]||(t[4]=e()),r("div",W,[n(X,{src:"/control-plane/version/latest"},{default:o(({data:y})=>[y&&i(p)("KUMA_VERSION")!==y.version?(m(),h(N,{key:0,class:"upgrade-alert","data-testid":"upgrade-check",appearance:"info"},{default:o(()=>[n(w,{type:"separated"},{default:o(()=>[r("p",null,c(i(a)("common.product.name"))+` update available
                  `,1),t[2]||(t[2]=e()),n(f,{appearance:"primary",href:i(a)("common.product.href.install")},{default:o(()=>[...t[1]||(t[1]=[e(`
                    Update
                  `,-1)])]),_:1},8,["href"])]),_:1})]),_:1})):k("",!0)]),_:1})])],!0)]),t[16]||(t[16]=e()),r("div",Y,[g(l.$slots,"content-info",{},()=>[r("div",tt,[n(_,{width:"280"},{content:o(()=>[r("p",null,[e(c(i(a)("common.product.name"))+" ",1),r("b",null,c(i(p)("KUMA_VERSION")),1),t[6]||(t[6]=e(" on ",-1)),r("b",null,c(i(a)(`common.product.environment.${i(p)("KUMA_ENVIRONMENT")}`)),1),e(" ("+c(i(a)(`common.product.mode.${i(p)("KUMA_MODE")}`))+`)
                `,1)])]),default:o(()=>[n(f,{appearance:"tertiary"},{default:o(()=>[...t[5]||(t[5]=[e(`
                Info
              `,-1)])]),_:1}),t[7]||(t[7]=e())]),_:1})]),t[14]||(t[14]=e()),r("p",et,[e(c(i(a)("common.product.name"))+" ",1),r("b",null,c(i(p)("KUMA_VERSION")),1),t[8]||(t[8]=e(" on ",-1)),r("b",null,c(i(a)(`common.product.environment.${i(p)("KUMA_ENVIRONMENT")}`)),1),e(" ("+c(i(a)(`common.product.mode.${i(p)("KUMA_MODE")}`))+`)
          `,1)]),t[15]||(t[15]=e()),n(E,null,{control:o(()=>[n(f,{appearance:"tertiary"},{default:o(()=>[n(C,{name:"help"},{default:o(()=>[...t[9]||(t[9]=[e(`
                  Help
                `,-1)])]),_:1})]),_:1})]),default:o(()=>[t[12]||(t[12]=e()),n(f,{href:i(a)("common.product.href.docs.index"),target:"_blank",rel:"noopener noreferrer"},{default:o(()=>[...t[10]||(t[10]=[e(`
              Documentation
            `,-1)])]),_:1},8,["href"]),t[13]||(t[13]=e()),n(f,{href:i(a)("common.product.href.feedback"),target:"_blank",rel:"noopener noreferrer"},{default:o(()=>[...t[11]||(t[11]=[e(`
              Feedback
            `,-1)])]),_:1},8,["href"])]),_:1})],!0)])]),t[21]||(t[21]=e()),r("div",ot,[r("div",nt,[r("nav",at,[s.navigation?(m(),S("ul",st,[g(l.$slots,"navigation",{},void 0,!0)])):k("",!0),t[17]||(t[17]=e()),s.navigation&&s.bottomNavigation?(m(),S("div",it)):k("",!0),t[18]||(t[18]=e()),s.bottomNavigation?(m(),S("ul",rt,[g(l.$slots,"bottomNavigation",{},void 0,!0)])):k("",!0)])]),t[19]||(t[19]=e()),r("main",lt,[n(w,{type:"stack"},{default:o(()=>[r("div",null,[g(l.$slots,"default",{},void 0,!0)])]),_:3})])])])}}}),dt=z(ut,[["__scopeId","data-v-e77fb665"]]),pt=["alt"],mt=A({__name:"App",setup(d){const s=L(),p=s.getRoutes().find(l=>l.name==="control-plane-root-view")?.children.map(l=>(l.name=String(l.name),l))??[],a=G({name:""});return s.afterEach(()=>{const l=s.currentRoute.value.matched.map(v=>v.name),t=p.find(v=>l.includes(v.name));t&&t.name!==a.value.name&&(a.value=t)}),(l,t)=>{const v=u("RouterView"),f=u("AppView"),w=u("RouteView"),N=u("DataSource"),X=u("XTheme"),_=I("icon-start"),C=I("style");return m(),h(X,null,{default:o(()=>[n(N,{src:"/control-plane/addresses"},{default:o(({data:E})=>[typeof E<"u"?(m(),h(w,{key:0,name:"app",attrs:{class:"kuma-ready"},"data-testid-root":"mesh-app"},{default:o(({t:y,can:R})=>[n(dt,{class:"kuma-application"},{home:o(()=>[r("img",{class:"logo",src:q,alt:`${y("common.product.name")} Logo`,"data-testid":"logo"},null,8,pt)]),navigation:o(()=>[b(n($,{"data-testid":"control-planes-navigator",active:a.value.name==="control-plane-detail-view",label:"Home",to:{name:"control-plane-root-view"}},null,8,["active"]),[[_,"home"]]),t[0]||(t[0]=e()),R("use zones")?b((m(),h($,{key:0,"data-testid":"zones-navigator",active:a.value.name==="zone-index-view",label:"Zones",to:{name:"zone-index-view"}},null,8,["active"])),[[_,"zone"]]):b((m(),h($,{key:1,"data-testid":"zone-egresses-navigator",active:a.value.name==="zone-egress-index-view",label:"ZoneEgresses",to:{name:"zone-egress-list-view"}},null,8,["active"])),[[_,"zone-egress"]]),t[1]||(t[1]=e()),b(n($,{active:a.value.name==="mesh-index-view","data-testid":"meshes-navigator",label:"Meshes",to:{name:"mesh-index-view"}},null,8,["active"]),[[_,"mesh"],[C,"--icon-name-start: var(--icon-mesh)"]])]),bottomNavigation:o(()=>[b(n($,{active:a.value.name==="configuration-view","data-testid":"configuration-navigator",label:"Configuration",to:{name:"configuration-view"}},null,8,["active"]),[[_,"configuration"]])]),default:o(()=>[t[2]||(t[2]=e()),t[3]||(t[3]=e()),t[4]||(t[4]=e()),n(f,{notifications:!0},{default:o(()=>[n(v,null,{default:o(({Component:D})=>[(m(),h(P(D)))]),_:1})]),_:1})]),_:2},1024)]),_:1})):k("",!0)]),_:1})]),_:1})}}}),ft=z(mt,[["__scopeId","data-v-9bee229a"]]);export{ft as default};
