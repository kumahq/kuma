import{_ as M,o as l,c as A,r as $,d as k,a as _,b as d,w as n,e as r,f as e,n as R,h as V,g as L,i as D,j as T,u as B,k as O,l as E,m as N,p as s,t as v,q as a,x,s as P,v as b,y as F,F as G,z as H,A as Y,K as z,L as Z,B as q,C as W}from"./index-8e773b6e.js";const j=""+new URL("product-logo-7a2ca341.png",import.meta.url).href,J={},Q={class:"app-navigator"};function X(i,o){return l(),A("li",Q,[$(i.$slots,"default")])}const K=M(J,[["render",X]]),ee=k({__name:"ControlPlaneNavigator",setup(i){return(o,p)=>{const c=_("RouterLink");return l(),d(K,{"data-testid":"control-planes-navigator"},{default:n(()=>[r(c,{class:R({"is-active":[o.$route.name].concat(o.$route.matched.map(t=>t.name)).some(t=>t==="home")}),to:{name:"home"}},{default:n(()=>[e(`
      Home
    `)]),_:1},8,["class"])]),_:1})}}}),te=k({name:"github-button",props:{href:String,ariaLabel:String,title:String,dataIcon:String,dataColorScheme:String,dataSize:String,dataShowCount:String,dataText:String},render:function(){const i={ref:"_"};for(const o in this.$props)i[V(o)]=this.$props[o];return L("span",[D(this.$slots,"default")?L("a",i,this.$slots.default()):L("a",i)])},mounted:function(){this.paint()},beforeUpdate:function(){this.reset()},updated:function(){this.paint()},beforeUnmount:function(){this.reset()},methods:{paint:function(){const i=this.$el.appendChild(document.createElement("span")),o=this;T(()=>import("./buttons.esm-48f94bc9.js"),[],import.meta.url).then(function(p){p.render(i.appendChild(o.$refs._),function(c){try{i.parentNode.replaceChild(c,i)}catch{}})})},reset:function(){this.$el.replaceChild(this.$refs._,this.$el.lastChild)}}}),ne={class:"upgrade-check"},oe={class:"alert-content"},se=k({__name:"UpgradeCheck",setup(i){const o=B(),p=O(),{t:c}=E(),t=N(""),y=N(!1);g(p("KUMA_VERSION"));const w=(m,u)=>{const h=m.split("."),f=u.split(".");for(let S=0;S<3;S++){const C=Number(h[S]),I=Number(f[S]);if(C>I)return 1;if(I>C)return-1}return 0};async function g(m){if(m.match("^[0-9]+.[0-9]+.[0-9]+$")){try{t.value=await o.getLatestVersion()}catch(u){console.error(u);return}if(t.value!==""){const u=w(t.value,m);y.value=u===1}else{const h=new Date,f=new Date("2020-06-03 12:00:00"),S=new Date(f.getFullYear(),f.getMonth()+3,f.getDate());y.value=h.getTime()>=S.getTime()}}}return(m,u)=>(l(),A("div",ne,[y.value?(l(),d(a(P),{key:0,"data-testid":"upgrade-check",class:"upgrade-check-alert",appearance:"warning",size:"small"},{alertMessage:n(()=>[s("div",oe,[s("div",null,v(a(c)("common.product.name"))+` update available
          `,1),e(),s("div",null,[r(a(x),{class:"warning-button",appearance:"primary",size:"small",to:a(p)("KUMA_INSTALL_URL")},{default:n(()=>[e(`
              Update
            `)]),_:1},8,["to"])])])]),_:1})):b("",!0)]))}});const ae=M(se,[["__scopeId","data-v-d893f8e9"]]),ce={key:0,class:"onboarding-check"},re={class:"alert-content"},ie=k({__name:"OnboardingNotification",setup(i){const{t:o}=E(),p=F(),c=N(!1);function t(){c.value=!0}return(y,w)=>{const g=_("KButton"),m=_("KAlert"),u=_("DataSource");return a(p).meta.onboardingProcess?b("",!0):(l(),d(u,{key:0,src:"/meshes?page=1&size=50"},{default:n(({data:h})=>[(h==null?void 0:h.items.length)===1&&h.items[0].name==="default"?(l(),d(u,{key:0,src:`/meshes/${h.items[0].name}/dataplanes?page=1&size=50&search=`},{default:n(({data:f})=>[(f==null?void 0:f.total)===0?(l(),A(G,{key:0},[c.value===!1?(l(),A("div",ce,[r(m,{appearance:"success","dismiss-type":"icon",onClosed:t},{alertMessage:n(()=>[s("div",re,[s("div",null,[s("strong",null,"Welcome to "+v(a(o)("common.product.name"))+"!",1),e(` We've detected that you don't have any data plane proxies running yet. We've created an onboarding process to help you!
                  `)]),e(),s("div",null,[r(g,{appearance:"primary",size:"small",class:"action-button",to:{name:"onboarding-welcome"}},{default:n(()=>[e(`
                      Get started
                    `)]),_:1})])])]),_:1})])):b("",!0)],64)):b("",!0)]),_:2},1032,["src"])):b("",!0)]),_:1}))}}});const le=M(ie,[["__scopeId","data-v-605d3724"]]),U=i=>(q("data-v-5343882e"),i=i(),W(),i),_e={class:"application-shell"},ue={role:"banner"},pe={class:"horizontal-list"},de={class:"upgrade-check-wrapper"},me={class:"horizontal-list"},he={class:"app-status app-status--mobile"},fe={class:"app-status app-status--desktop"},ve=U(()=>s("span",{class:"visually-hidden"},"Help",-1)),ge=["href"],ke=["href"],$e=U(()=>s("span",{class:"visually-hidden"},"Diagnostics",-1)),be={class:"app-content-container"},ye={key:0,"aria-label":"Main",class:"app-sidebar"},we={class:"app-main-content"},Se={class:"app-notifications"},Ae=["innerHTML"],Me=k({__name:"ApplicationShell",setup(i){const o=O(),p=H(),{t:c}=E();return(t,y)=>{const w=_("RouterLink"),g=_("KButton"),m=_("KPop"),u=_("KDropdownItem"),h=_("KDropdownMenu"),f=_("KAlert");return l(),A("div",_e,[s("header",ue,[s("div",pe,[$(t.$slots,"header",{},()=>[r(w,{to:{name:"home"}},{default:n(()=>[$(t.$slots,"home",{},void 0,!0)]),_:3}),e(),r(a(te),{class:"gh-star",href:"https://github.com/kumahq/kuma","aria-label":"Star kumahq/kuma on GitHub"},{default:n(()=>[e(`
            Star
          `)]),_:1}),e(),s("div",de,[r(ae)])],!0)]),e(),s("div",me,[$(t.$slots,"content-info",{},()=>[s("div",he,[r(m,{width:"280"},{content:n(()=>[s("p",null,[e(v(a(c)("common.product.name"))+" ",1),s("b",null,v(a(o)("KUMA_VERSION")),1),e(" on "),s("b",null,v(a(c)(`common.product.environment.${a(o)("KUMA_ENVIRONMENT")}`)),1),e(" ("+v(a(c)(`common.product.mode.${a(o)("KUMA_MODE")}`))+`)
                `,1)])]),default:n(()=>[r(g,{appearance:"outline"},{default:n(()=>[e(`
                Info
              `)]),_:1}),e()]),_:1})]),e(),s("p",fe,[e(v(a(c)("common.product.name"))+" ",1),s("b",null,v(a(o)("KUMA_VERSION")),1),e(" on "),s("b",null,v(a(c)(`common.product.environment.${a(o)("KUMA_ENVIRONMENT")}`)),1),e(" ("+v(a(c)(`common.product.mode.${a(o)("KUMA_MODE")}`))+`)
          `,1)]),e(),r(h,{"kpop-attributes":{placement:"bottomEnd"}},{items:n(()=>[r(u,null,{default:n(()=>[s("a",{href:a(c)("common.product.href.docs.index"),target:"_blank",rel:"noopener noreferrer"},`
                  Documentation
                `,8,ge)]),_:1}),e(),r(u,null,{default:n(()=>[s("a",{href:a(o)("KUMA_FEEDBACK_URL"),target:"_blank",rel:"noopener noreferrer"},`
                  Feedback
                `,8,ke)]),_:1})]),default:n(()=>[r(g,{appearance:"outline"},{default:n(()=>[r(a(Y),{size:a(z)},null,8,["size"]),e(),ve]),_:1}),e()]),_:1}),e(),r(g,{to:{name:"diagnostics"},"button-appearance":"btn-link","data-testid":"nav-item-diagnostics"},{default:n(()=>[r(a(Z),{size:a(z),"hide-title":""},null,8,["size"]),e(),$e]),_:1})],!0)])]),e(),s("div",be,[t.$slots.navigation?(l(),A("nav",ye,[s("ul",null,[$(t.$slots,"navigation",{},void 0,!0)])])):b("",!0),e(),s("div",we,[s("div",Se,[$(t.$slots,"notifications",{},void 0,!0)]),e(),$(t.$slots,"notifications",{},()=>[a(p)("use state")?b("",!0):(l(),d(f,{key:0,class:"mb-4",appearance:"warning"},{alertMessage:n(()=>[s("ul",null,[s("li",{"data-testid":"warning-GLOBAL_STORE_TYPE_MEMORY",innerHTML:a(c)("common.warnings.GLOBAL_STORE_TYPE_MEMORY")},null,8,Ae),e()])]),_:1})),e(),r(le)],!0),e(),$(t.$slots,"default",{},void 0,!0)])])])}}});const Re=M(Me,[["__scopeId","data-v-5343882e"]]),Ke=k({__name:"MeshNavigator",setup(i){return(o,p)=>{const c=_("RouterLink");return l(),d(K,{"data-testid":"meshes-navigator"},{default:n(()=>[r(c,{class:R({"is-active":[o.$route.name].concat(o.$route.matched.map(t=>t.name)).some(t=>t==="mesh-index-view")}),to:{name:"mesh-list-view"}},{default:n(()=>[e(`
      Meshes
    `)]),_:1},8,["class"])]),_:1})}}}),Le=k({__name:"ZoneEgressNavigator",setup(i){return(o,p)=>{const c=_("RouterLink");return l(),d(K,{"data-testid":"zone-egresses-navigator"},{default:n(()=>[r(c,{class:R({"is-active":[o.$route.name].concat(o.$route.matched.map(t=>t.name)).some(t=>t==="zone-egress-list-view")}),to:{name:"zone-egress-list-view"}},{default:n(()=>[e(`
      Zone Egresses
    `)]),_:1},8,["class"])]),_:1})}}}),Ne=k({__name:"ZoneNavigator",setup(i){return(o,p)=>{const c=_("RouterLink");return l(),d(K,{"data-testid":"zones-navigator"},{default:n(()=>[r(c,{class:R({"is-active":[o.$route.name].concat(o.$route.matched.map(t=>t.name)).some(t=>t==="zone-index-view")}),to:{name:"zone-cp-list-view"}},{default:n(()=>[e(`
      Zones
    `)]),_:1},8,["class"])]),_:1})}}}),Ee=["alt"],Ce=k({__name:"App",setup(i){return(o,p)=>{const c=_("RouterView"),t=_("AppView"),y=_("RouteView"),w=_("DataSource");return l(),d(w,{src:"/control-plane/addresses"},{default:n(({data:g})=>[typeof g<"u"?(l(),d(y,{key:0,name:"app",attrs:{class:"kuma-ready"}},{default:n(({t:m,can:u})=>[r(Re,{class:"kuma-application"},{home:n(()=>[s("img",{class:"logo",src:j,alt:`${m("common.product.name")} Logo`,"data-testid":"logo"},null,8,Ee)]),navigation:n(()=>[r(ee),e(),u("use zones")?(l(),d(Ne,{key:0})):(l(),d(Le,{key:1})),e(),r(Ke)]),default:n(()=>[e(),e(),r(t,null,{default:n(()=>[r(c)]),_:1})]),_:2},1024)]),_:1})):b("",!0)]),_:1})}}});const ze=M(Ce,[["__scopeId","data-v-eb8f72c0"]]);export{ze as default};
