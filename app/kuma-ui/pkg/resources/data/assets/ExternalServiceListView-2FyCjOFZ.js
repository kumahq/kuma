import{K as C}from"./index-CMzbRF1u.js";import{d as S,A as V,a as l,o as r,b as m,w as e,q as c,e as t,m as b,f as n,t as p,F as R,c as B,Q as E,n as f,$ as L,p as A,_ as N}from"./index-2_Lv9Q_w.js";import{A as T}from"./AppCollection-GZPWiZGP.js";import{E as $}from"./ErrorBlock-IeD4uBds.js";import{L as D}from"./LinkBox-uB7oUWmh.js";import{T as g}from"./TextWithCopyButton-hm1iE1uj.js";import"./WarningIcon.vue_vue_type_script_setup_true_lang-0TBoNz7V.js";import"./CopyButton-kVKRf5qh.js";const I=S({__name:"ExternalServiceListView",setup(K){const _=V();return(q,F)=>{const k=l("RouteTitle"),d=l("RouterLink"),y=l("KCard"),h=l("AppView"),v=l("DataSource"),w=l("RouteView");return r(),m(v,{src:"/me"},{default:e(({data:x})=>[x?(r(),m(w,{key:0,name:"external-service-list-view",params:{page:1,size:x.pageSize,mesh:""}},{default:e(({can:z,route:a,t:i})=>[t(v,{src:`/meshes/${a.params.mesh}/external-services?page=${a.params.page}&size=${a.params.size}`},{default:e(({data:o,error:u})=>[t(h,null,L({title:e(()=>[b("h2",null,[t(k,{title:i(`${c(_).name==="service-list-view"?"":"external-"}services.routes.items.title`)},null,8,["title"])])]),default:e(()=>[n(),n(),t(y,null,{default:e(()=>[u!==void 0?(r(),m($,{key:0,error:u},null,8,["error"])):(r(),m(T,{key:1,class:"external-service-collection","data-testid":"external-service-collection","empty-state-message":i("common.emptyState.message",{type:"External Services"}),"empty-state-cta-to":i("external-services.href.docs"),"empty-state-cta-text":i("common.documentation"),headers:[{label:"Name",key:"name"},{label:"Address",key:"address"},{label:"Details",key:"details",hideLabel:!0}],"page-number":a.params.page,"page-size":a.params.size,total:o==null?void 0:o.total,items:o==null?void 0:o.items,error:u,onChange:a.update},{name:e(({row:s})=>[t(g,{text:s.name},{default:e(()=>[t(d,{to:{name:"external-service-detail-view",params:{mesh:s.mesh,service:s.name},query:{page:a.params.page,size:a.params.size}}},{default:e(()=>[n(p(s.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),address:e(({row:s})=>[s.networking.address?(r(),m(g,{key:0,text:s.networking.address},null,8,["text"])):(r(),B(R,{key:1},[n(p(i("common.collection.none")),1)],64))]),details:e(({row:s})=>[t(d,{class:"details-link","data-testid":"details-link",to:{name:"external-service-detail-view",params:{mesh:s.mesh,service:s.name}}},{default:e(()=>[n(p(i("common.collection.details_link"))+" ",1),t(c(E),{display:"inline-block",decorative:"",size:c(C)},null,8,["size"])]),_:2},1032,["to"])]),_:2},1032,["empty-state-message","empty-state-cta-to","empty-state-cta-text","page-number","page-size","total","items","error","onChange"]))]),_:2},1024)]),_:2},[z("use gateways ui")?{name:"actions",fn:e(()=>[t(D,null,{default:e(()=>[t(d,{class:f({active:c(_).name==="service-list-view"}),to:{name:"service-list-view",params:{mesh:a.params.mesh}}},{default:e(()=>[n(p(i("services.routes.items.navigation.internal")),1)]),_:2},1032,["class","to"]),n(),t(d,{class:f({active:c(_).name==="external-service-list-view"}),to:{name:"external-service-list-view",params:{mesh:a.params.mesh}}},{default:e(()=>[n(p(i("services.routes.items.navigation.external")),1)]),_:2},1032,["class","to"])]),_:2},1024)]),key:"0"}:void 0]),1024)]),_:2},1032,["src"])]),_:2},1032,["params"])):A("",!0)]),_:1})}}}),J=N(I,[["__scopeId","data-v-13945d03"]]);export{J as default};
