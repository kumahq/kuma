import{d as D,e as l,o as i,p as u,w as e,a as d,l as v,b as t,Q as k,t as a,S,q as w,c as y,J as g,A as T,K as X,F as B}from"./index-D8KcXOkO.js";import{S as R}from"./SummaryView-D_bgd6KD.js";const N={class:"stack"},K={class:"columns"},L={key:0},J=D({__name:"ZoneIngressDetailView",props:{data:{}},setup(f){const r=f;return(F,s)=>{const b=l("XTimespan"),I=l("XCopyButton"),z=l("XLayout"),h=l("KCard"),C=l("XAction"),A=l("RouterView"),V=l("AppView"),x=l("RouteView");return i(),u(x,{name:"zone-ingress-detail-view",params:{subscription:"",zoneIngress:""}},{default:e(({t:o,me:m,route:_})=>[d(V,null,{default:e(()=>[v("div",N,[d(h,null,{default:e(()=>[d(z,{type:"stack"},{default:e(()=>[d(b,{start:o("common.formats.datetime",{value:Date.parse(r.data.creationTime)}),end:o("common.formats.datetime",{value:Date.parse(r.data.modificationTime)})},null,8,["start","end"]),s[8]||(s[8]=t()),v("div",K,[d(k,null,{title:e(()=>[t(a(o("http.api.property.status")),1)]),body:e(()=>[d(S,{status:r.data.state},null,8,["status"])]),_:2},1024),s[5]||(s[5]=t()),r.data.namespace.length>0?(i(),u(k,{key:0},{title:e(()=>s[1]||(s[1]=[t(`
                  Namespace
                `)])),body:e(()=>[t(a(r.data.namespace),1)]),_:1})):w("",!0),s[6]||(s[6]=t()),d(k,null,{title:e(()=>[t(a(o("http.api.property.address")),1)]),body:e(()=>[r.data.zoneIngress.socketAddress.length>0?(i(),u(I,{key:0,text:r.data.zoneIngress.socketAddress},null,8,["text"])):(i(),y(g,{key:1},[t(a(o("common.detail.none")),1)],64))]),_:2},1024),s[7]||(s[7]=t()),d(k,null,{title:e(()=>[t(a(o("http.api.property.advertisedAddress")),1)]),body:e(()=>[r.data.zoneIngress.advertisedSocketAddress.length>0?(i(),u(I,{key:0,text:r.data.zoneIngress.advertisedSocketAddress},null,8,["text"])):(i(),y(g,{key:1},[t(a(o("common.detail.none")),1)],64))]),_:2},1024)])]),_:2},1024)]),_:2},1024),s[15]||(s[15]=t()),r.data.zoneIngressInsight.subscriptions.length>0?(i(),y("div",L,[v("h2",null,a(o("zone-ingresses.routes.item.subscriptions.title")),1),s[13]||(s[13]=t()),d(T,{headers:[{...m.get("headers.instanceId"),label:o("http.api.property.instanceId"),key:"instanceId"},{...m.get("headers.version"),label:o("http.api.property.version"),key:"version"},{...m.get("headers.connected"),label:o("http.api.property.connected"),key:"connected"},{...m.get("headers.disconnected"),label:o("http.api.property.disconnected"),key:"disconnected"},{...m.get("headers.responses"),label:o("http.api.property.responses"),key:"responses"}],"is-selected-row":n=>n.id===_.params.subscription,items:r.data.zoneIngressInsight.subscriptions.map((n,c,p)=>p[p.length-(c+1)]),onResize:m.set},{instanceId:e(({row:n})=>[d(C,{"data-action":"",to:{name:"zone-ingress-subscription-summary-view",params:{subscription:n.id}}},{default:e(()=>[t(a(n.controlPlaneInstanceId),1)]),_:2},1032,["to"])]),version:e(({row:n})=>{var c,p;return[t(a(((p=(c=n.version)==null?void 0:c.kumaDp)==null?void 0:p.version)??"-"),1)]}),connected:e(({row:n})=>[t(a(o("common.formats.datetime",{value:Date.parse(n.connectTime??"")})),1)]),disconnected:e(({row:n})=>[n.disconnectTime?(i(),y(g,{key:0},[t(a(o("common.formats.datetime",{value:Date.parse(n.disconnectTime)})),1)],64)):w("",!0)]),responses:e(({row:n})=>{var c;return[(i(!0),y(g,null,X([((c=n.status)==null?void 0:c.total)??{}],p=>(i(),y(g,null,[t(a(p.responsesSent)+"/"+a(p.responsesAcknowledged),1)],64))),256))]}),_:2},1032,["headers","is-selected-row","items","onResize"]),s[14]||(s[14]=t()),d(A,null,{default:e(({Component:n})=>[_.child()?(i(),u(R,{key:0,width:"670px",onClose:function(){_.replace({name:"zone-ingress-detail-view",params:{zoneIngress:_.params.zoneIngress}})}},{default:e(()=>[(i(),u(B(n),{data:r.data.zoneIngressInsight.subscriptions},null,8,["data"]))]),_:2},1032,["onClose"])):w("",!0)]),_:2},1024)])):w("",!0)])]),_:2},1024)]),_:1})}}});export{J as default};
