import{d as S,B as b,a as l,o as n,b as r,w as t,q as u,e as s,m as B,f as c,E as L,V as f,t as m,F as k,c as y,U as R,K as E,n as N,H as A,W as $,p as D,_ as I}from"./index-gsFqX5aX.js";import{A as K}from"./AppCollection--XlZh3Nu.js";import{L as T}from"./LinkBox-FO3teRm9.js";const q=S({__name:"ExternalServiceListView",setup(F){const g=b();return(U,W)=>{const h=l("RouteTitle"),p=l("RouterLink"),w=l("KCard"),z=l("AppView"),_=l("DataSource"),C=l("RouteView");return n(),r(_,{src:"/me"},{default:t(({data:v})=>[v?(n(),r(C,{key:0,name:"external-service-list-view",params:{page:1,size:v.pageSize,mesh:""}},{default:t(({can:V,route:a,t:o})=>[s(_,{src:`/meshes/${a.params.mesh}/external-services?page=${a.params.page}&size=${a.params.size}`},{default:t(({data:i,error:d})=>[s(z,null,$({title:t(()=>[B("h2",null,[s(h,{title:o(`${u(g).name==="service-list-view"?"":"external-"}services.routes.items.title`)},null,8,["title"])])]),default:t(()=>[c(),c(),s(w,null,{default:t(()=>[d!==void 0?(n(),r(L,{key:0,error:d},null,8,["error"])):(n(),r(K,{key:1,class:"external-service-collection","data-testid":"external-service-collection","empty-state-message":o("common.emptyState.message",{type:"External Services"}),"empty-state-cta-to":o("external-services.href.docs"),"empty-state-cta-text":o("common.documentation"),headers:[{label:"Name",key:"name"},{label:"Address",key:"address"},{label:"Details",key:"details",hideLabel:!0}],"page-number":a.params.page,"page-size":a.params.size,total:i==null?void 0:i.total,items:i==null?void 0:i.items,error:d,onChange:a.update},{name:t(({row:e})=>[s(f,{text:e.name},{default:t(()=>[s(p,{to:{name:"external-service-detail-view",params:{mesh:e.mesh,service:e.name},query:{page:a.params.page,size:a.params.size}}},{default:t(()=>[c(m(e.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),address:t(({row:e})=>[e.networking.address?(n(),r(f,{key:0,text:e.networking.address},null,8,["text"])):(n(),y(k,{key:1},[c(m(o("common.collection.none")),1)],64))]),details:t(({row:e})=>[s(p,{class:"details-link","data-testid":"details-link",to:{name:"external-service-detail-view",params:{mesh:e.mesh,service:e.name}}},{default:t(()=>[c(m(o("common.collection.details_link"))+" ",1),s(u(R),{display:"inline-block",decorative:"",size:u(E)},null,8,["size"])]),_:2},1032,["to"])]),_:2},1032,["empty-state-message","empty-state-cta-to","empty-state-cta-text","page-number","page-size","total","items","error","onChange"]))]),_:2},1024)]),_:2},[V("use gateways ui")?{name:"actions",fn:t(()=>[s(T,null,{default:t(()=>[(n(!0),y(k,null,A(a.children,({name:e})=>{var x;return n(),r(p,{key:e,class:N({active:((x=a.active)==null?void 0:x.name)===e}),to:{name:e,params:{mesh:a.params.mesh}}},{default:t(()=>[c(m(o(`services.routes.items.navigation.${e}`)),1)]),_:2},1032,["class","to"])}),128))]),_:2},1024)]),key:"0"}:void 0]),1024)]),_:2},1032,["src"])]),_:2},1032,["params"])):D("",!0)]),_:1})}}}),j=I(q,[["__scopeId","data-v-3ff21e5a"]]);export{j as default};
