import{d as N,k as R,af as b,r,p as d,o as i,w as p,a as k,e as t,c as a,b as g,l as s,q as y,t as l,m as c,Y as V,N as A}from"./index-B1u78Utu.js";const L={scope:"row"},S={key:0},T={scope:"row"},M={key:0},Y={key:1},$={scope:"row"},q={key:2},D={key:1},E={class:"mt-4"},I=N({__name:"PolicySummary",props:{policy:{},format:{},legacy:{type:Boolean}},setup(X){const{t:u}=R(),B=b(),n=X;return(o,e)=>{const m=r("XBadge"),w=r("XAction"),v=r("XTable"),C=r("XCodeBlock"),z=r("XLayout");return i(),d(z,{type:"stack"},{default:p(()=>[k(o.$slots,"header"),e[11]||(e[11]=t()),n.format==="structured"?(i(),a(A,{key:0},[g(v,{"data-testid":"structured-view",variant:"kv"},{default:p(()=>{var f;return[s("tr",null,[s("th",L,l(c(u)("http.api.property.type")),1),e[0]||(e[0]=t()),s("td",null,[n.policy.type?(i(),d(m,{key:0,appearance:"neutral"},{default:p(()=>[t(l(n.policy.type),1)]),_:1})):y("",!0)])]),e[7]||(e[7]=t()),n.legacy?y("",!0):(i(),a("tr",S,[s("th",T,l(c(u)("http.api.property.targetRef")),1),e[3]||(e[3]=t()),s("td",null,[(f=n.policy.spec)!=null&&f.targetRef?(i(),d(m,{key:0,appearance:"neutral"},{default:p(()=>[t(l(n.policy.spec.targetRef.kind),1),n.policy.spec.targetRef.name?(i(),a("span",M,[e[1]||(e[1]=t(":",-1)),s("b",null,l(n.policy.spec.targetRef.name),1)])):y("",!0)]),_:1})):(i(),d(m,{key:1,appearance:"neutral"},{default:p(()=>[...e[2]||(e[2]=[t(`
              Mesh
            `,-1)])]),_:1}))])])),e[8]||(e[8]=t()),n.policy.namespace.length>0?(i(),a("tr",Y,[s("th",$,l(c(u)("data-planes.routes.item.namespace")),1),e[4]||(e[4]=t()),s("td",null,l(n.policy.namespace),1)])):y("",!0),e[9]||(e[9]=t()),c(B)("use zones")&&n.policy.zone?(i(),a("tr",q,[e[5]||(e[5]=s("th",{scope:"row"},`
            Zone
          `,-1)),e[6]||(e[6]=t()),s("td",null,[g(w,{to:{name:"zone-cp-detail-view",params:{zone:n.policy.zone}}},{default:p(()=>[t(l(n.policy.zone),1)]),_:1},8,["to"])])])):y("",!0)]}),_:1}),e[10]||(e[10]=t()),g(C,{language:"yaml",code:c(V).stringify(o.policy.spec?{spec:o.policy.spec}:{..."sources"in o.policy?{sources:o.policy.sources}:{},..."destinations"in o.policy?{destinations:o.policy.destinations}:{},..."selectors"in o.policy?{selectors:o.policy.selectors}:{},..."conf"in o.policy?{conf:o.policy.conf}:{},..."routing"in o.policy?{routing:o.policy.routing}:{},..."tracing"in o.policy?{tracing:o.policy.tracing}:{},..."metrics"in o.policy?{metrics:o.policy.metrics}:{},..."logging"in o.policy?{logging:o.policy.logging}:{}})},null,8,["code"])],64)):(i(),a("div",D,[s("div",E,[k(o.$slots,"default")])]))]),_:3})}}});export{I as _};
