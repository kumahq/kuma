import{d as A,r as m,x as Q,p as g,o as d,w as o,b as l,c as y,L as v,M as c,e as t,l as a,t as r,N as Y,q as k,m as T,Y as E,$ as j,z as O}from"./index-CJOY8Jaq.js";import{T as h}from"./TagList-DcbW3lZq.js";const Z={key:0},G={scope:"row"},H={key:1},I={scope:"row"},J={scope:"row"},K={scope:"row"},U={key:0},W={scope:"row"},ee={scope:"row"},te={scope:"row"},ae={key:0},se={key:0},oe={scope:"row"},ne={scope:"row"},pe=A({__name:"DataPlaneSummaryView",props:{items:{},routeName:{}},setup(z){const M=z;return(le,e)=>{const D=m("XEmptyState"),V=m("RouteTitle"),S=m("XAction"),_=m("XBadge"),f=m("XLayout"),F=m("XSelect"),w=m("XTable"),x=m("XCopyButton"),C=m("DataCollection"),B=m("XCodeBlock"),b=m("DataLoader"),L=m("AppView"),N=m("RouteView"),P=Q("icon-start");return d(),g(N,{name:M.routeName,params:{mesh:"",proxy:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:o(({route:p,t:n,uri:$,can:q})=>[l(C,{items:M.items,predicate:X=>X.id===p.params.proxy},{empty:o(()=>[l(D,null,{title:o(()=>[a("h2",null,r(n("common.collection.summary.empty_title",{type:"Data Plane Proxy"})),1)]),default:o(()=>[e[0]||(e[0]=t()),a("p",null,r(n("common.collection.summary.empty_message",{type:"Data Plane Proxy"})),1)]),_:2},1024)]),default:o(({items:X})=>[(d(!0),y(v,null,c([X[0]],i=>(d(),g(L,{key:i.id},{title:o(()=>[l(f,{size:"small"},{default:o(()=>[O((d(),y("h2",null,[l(S,{to:{name:"data-plane-detail-view",params:{proxy:i.id}}},{default:o(()=>[l(V,{title:n("data-planes.routes.item.title",{name:i.name})},null,8,["title"])]),_:2},1032,["to"])])),[[P,`dataplane-${i.dataplaneType}`]]),e[1]||(e[1]=t()),l(_,{appearance:n(`common.status.appearance.${i.status}`,void 0,{defaultMessage:"neutral"})},{default:o(()=>[t(r(n(`http.api.value.${i.status}`)),1)]),_:2},1032,["appearance"])]),_:2},1024)]),default:o(()=>[e[31]||(e[31]=t()),l(f,null,{default:o(()=>[a("header",null,[l(f,{type:"separated",size:"max"},{default:o(()=>[a("h3",null,r(n("data-planes.routes.item.config")),1),e[2]||(e[2]=t()),(d(),y(v,null,c([["structured","universal","k8s"]],u=>a("div",{key:typeof u},[l(F,{label:n("data-planes.routes.item.format"),selected:p.params.format,onChange:s=>{p.update({format:s})},onVnodeBeforeMount:s=>s?.props?.selected&&u.includes(s.props.selected)&&s.props.selected!==p.params.format&&p.update({format:s.props.selected})},Y({_:2},[c(u,s=>({name:`${s}-option`,fn:o(()=>[t(r(n(`data-planes.routes.item.formats.${s}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024)])]),_:2},1024),e[32]||(e[32]=t()),p.params.format==="structured"?(d(),g(f,{key:0,type:"stack",size:"large","data-testid":"structured-view"},{default:o(()=>[l(w,{variant:"kv"},{default:o(()=>[a("tr",null,[e[3]||(e[3]=a("th",{scope:"row"},`
                      Type
                    `,-1)),e[4]||(e[4]=t()),a("td",null,r(n(`data-planes.type.${i.dataplaneType}`)),1)]),e[9]||(e[9]=t()),i.namespace.length>0?(d(),y("tr",Z,[a("th",G,r(n("data-planes.routes.item.namespace")),1),e[5]||(e[5]=t()),a("td",null,r(i.namespace),1)])):k("",!0),e[10]||(e[10]=t()),q("use zones")&&i.zone?(d(),y("tr",H,[e[6]||(e[6]=a("th",{scope:"row"},`
                      Zone
                    `,-1)),e[7]||(e[7]=t()),a("td",null,[l(S,{to:{name:"zone-cp-detail-view",params:{zone:i.zone}}},{default:o(()=>[t(r(i.zone),1)]),_:2},1032,["to"])])])):k("",!0),e[11]||(e[11]=t()),a("tr",null,[a("th",I,r(n("http.api.property.modificationTime")),1),e[8]||(e[8]=t()),a("td",null,r(n("common.formats.datetime",{value:Date.parse(i.modificationTime)})),1)])]),_:2},1024),e[28]||(e[28]=t()),i.dataplane.networking.gateway?(d(),g(f,{key:0,type:"stack"},{default:o(()=>[a("h3",null,r(n("data-planes.routes.item.gateway")),1),e[15]||(e[15]=t()),l(w,{variant:"kv"},{default:o(()=>[a("tr",null,[a("th",J,r(n("http.api.property.tags")),1),e[12]||(e[12]=t()),a("td",null,[l(h,{alignment:"right",tags:i.dataplane.networking.gateway.tags},null,8,["tags"])])]),e[14]||(e[14]=t()),a("tr",null,[a("th",K,r(n("http.api.property.address")),1),e[13]||(e[13]=t()),a("td",null,[l(x,{text:`${i.dataplane.networking.address}`},null,8,["text"])])])]),_:2},1024)]),_:2},1024)):k("",!0),e[29]||(e[29]=t()),i.dataplaneType==="standard"?(d(),g(C,{key:1,items:i.dataplane.networking.inbounds},{default:o(({items:u})=>[l(f,{"data-testid":"dataplane-inbounds"},{default:o(()=>[a("h3",null,r(n("data-planes.routes.item.inbounds")),1),e[22]||(e[22]=t()),(d(!0),y(v,null,c(u,(s,R)=>(d(),g(f,{key:R,class:"inbound"},{default:o(()=>[s.tags["kuma.io/service"]?(d(),y("h4",U,[l(x,{text:s.tags["kuma.io/service"]},{default:o(()=>[t(r(n("data-planes.routes.item.inbound_name",{service:s.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])])):k("",!0),e[21]||(e[21]=t()),l(w,{variant:"kv"},{default:o(()=>[a("tr",null,[a("th",W,r(n("http.api.property.state")),1),e[16]||(e[16]=t()),a("td",null,[s.state==="Ready"?(d(),g(_,{key:0,appearance:"success"},{default:o(()=>[t(r(n(`http.api.value.${s.state}`)),1)]),_:2},1024)):(d(),g(_,{key:1,appearance:"danger"},{default:o(()=>[t(r(n(`http.api.value.${s.state}`)),1)]),_:2},1024))])]),e[19]||(e[19]=t()),a("tr",null,[a("th",ee,r(n("http.api.property.tags")),1),e[17]||(e[17]=t()),a("td",null,[l(h,{alignment:"right",tags:s.tags},null,8,["tags"])])]),e[20]||(e[20]=t()),a("tr",null,[a("th",te,r(n("http.api.property.address")),1),e[18]||(e[18]=t()),a("td",null,[l(x,{text:s.addressPort},null,8,["text"])])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["items"])):k("",!0),e[30]||(e[30]=t()),i.dataplaneType==="standard"?(d(),g(C,{key:2,items:i.dataplane.networking.outbounds},{default:o(({items:u})=>[l(f,{"data-testid":"dataplane-outbounds"},{default:o(()=>[a("h3",null,r(n("data-planes.routes.item.outbounds")),1),e[27]||(e[27]=t()),(d(!0),y(v,null,c(u,(s,R)=>(d(),g(f,{key:R,class:"inbound",size:"small"},{default:o(()=>[s.tags["kuma.io/service"]?(d(),y("h4",ae,[l(x,{text:s.tags["kuma.io/service"]},{default:o(()=>[t(r(n("data-planes.routes.item.inbound_name",{service:s.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])])):k("",!0),e[26]||(e[26]=t()),l(w,{variant:"kv"},{default:o(()=>[Object.keys(s.tags).length?(d(),y("tr",se,[a("th",oe,r(n("http.api.property.tags")),1),e[23]||(e[23]=t()),a("td",null,[l(h,{alignment:"right",tags:s.tags},null,8,["tags"])])])):k("",!0),e[25]||(e[25]=t()),a("tr",null,[a("th",ne,r(n("http.api.property.address")),1),e[24]||(e[24]=t()),a("td",null,[l(x,{text:s.addressPort},null,8,["text"])])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["items"])):k("",!0)]),_:2},1024)):p.params.format==="universal"?(d(),g(B,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",code:T(E).stringify(i.config),"is-searchable":"",query:p.params.codeSearch,"is-filter-mode":p.params.codeFilter,"is-reg-exp-mode":p.params.codeRegExp,onQueryChange:u=>p.update({codeSearch:u}),onFilterModeChange:u=>p.update({codeFilter:u}),onRegExpModeChange:u=>p.update({codeRegExp:u})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(d(),g(b,{key:2,src:$(T(j),"/meshes/:mesh/dataplanes/:name/as/kubernetes",{mesh:p.params.mesh,name:p.params.proxy})},{default:o(({data:u})=>[l(B,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:T(E).stringify(u),"is-searchable":"",query:p.params.codeSearch,"is-filter-mode":p.params.codeFilter,"is-reg-exp-mode":p.params.codeRegExp,onQueryChange:s=>p.update({codeSearch:s}),onFilterModeChange:s=>p.update({codeFilter:s}),onRegExpModeChange:s=>p.update({codeRegExp:s})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024))),128))]),_:2},1032,["items","predicate"])]),_:1},8,["name"])}}});export{pe as default};
