import{d as A,r as o,o as i,m as _,w as a,b as t,l as C,aF as x,A as D,T as g,e as r,t as c,c as m,F as d,S as V}from"./index-BEf7lh5F.js";const S=A({__name:"DelegatedGatewayListView",setup(L){return(P,R)=>{const u=o("RouterLink"),h=o("XAction"),y=o("XActionGroup"),w=o("DataCollection"),f=o("DataLoader"),k=o("KCard"),v=o("AppView"),b=o("RouteView");return i(),_(b,{name:"delegated-gateway-list-view",params:{page:1,size:50,mesh:""}},{default:a(({route:n,t:p,me:l,uri:z})=>[t(v,null,{default:a(()=>[t(k,null,{default:a(()=>[t(f,{src:z(C(x),"/meshes/:mesh/service-insights/of/:serviceType",{mesh:n.params.mesh,serviceType:"gateway_delegated"},{page:n.params.page,size:n.params.size})},{loadable:a(({data:s})=>[t(w,{type:"gateways",items:(s==null?void 0:s.items)??[void 0]},{default:a(()=>[t(D,{class:"delegated-gateway-collection","data-testid":"delegated-gateway-collection",headers:[{...l.get("headers.name"),label:"Name",key:"name"},{...l.get("headers.addressPort"),label:"Address",key:"addressPort"},{...l.get("headers.dataplanes"),label:"DP proxies (online / total)",key:"dataplanes"},{...l.get("headers.status"),label:"Status",key:"status"},{...l.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],"page-number":n.params.page,"page-size":n.params.size,total:s==null?void 0:s.total,items:s==null?void 0:s.items,onChange:n.update,onResize:l.set},{name:a(({row:e})=>[t(g,{text:e.name},{default:a(()=>[t(u,{to:{name:"delegated-gateway-detail-view",params:{mesh:e.mesh,service:e.name},query:{page:n.params.page,size:n.params.size}}},{default:a(()=>[r(c(e.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),addressPort:a(({row:e})=>[e.addressPort?(i(),_(g,{key:0,text:e.addressPort},null,8,["text"])):(i(),m(d,{key:1},[r(c(p("common.collection.none")),1)],64))]),dataplanes:a(({row:e})=>[e.dataplanes?(i(),m(d,{key:0},[r(c(e.dataplanes.online||0)+" / "+c(e.dataplanes.total||0),1)],64)):(i(),m(d,{key:1},[r(c(p("common.collection.none")),1)],64))]),status:a(({row:e})=>[t(V,{status:e.status},null,8,["status"])]),actions:a(({row:e})=>[t(y,null,{default:a(()=>[t(h,{to:{name:"delegated-gateway-detail-view",params:{mesh:e.mesh,service:e.name}}},{default:a(()=>[r(c(p("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1032,["headers","page-number","page-size","total","items","onChange","onResize"])]),_:2},1032,["items"])]),_:2},1032,["src"])]),_:2},1024)]),_:2},1024)]),_:1})}}});export{S as default};
