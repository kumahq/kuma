import{d as D,r as n,p as c,o as l,w as o,b as r,e as d,l as u,c as f,t as g,N as y,L as _,M as A,O as x,m as h,Y as v,af as q}from"./index-e9EOlcJX.js";const N={key:0,class:"stack-with-borders","data-testid":"structured-view"},T=D({__name:"MeshMultiZoneServiceSummaryView",props:{items:{}},setup(b){const M=b;return(P,s)=>{const S=n("RouteTitle"),w=n("XAction"),R=n("XSelect"),m=n("XLayout"),B=n("KumaPort"),E=n("XBadge"),C=n("XCodeBlock"),F=n("DataLoader"),V=n("AppView"),X=n("DataCollection"),L=n("RouteView");return l(),c(L,{name:"mesh-multi-zone-service-summary-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:o(({route:e,t:p,uri:z})=>[r(X,{items:M.items,predicate:i=>i.id===e.params.service},{item:o(({item:i})=>[r(V,null,{title:o(()=>[u("h2",null,[r(w,{to:{name:"mesh-multi-zone-service-detail-view",params:{mesh:e.params.mesh,service:e.params.service}}},{default:o(()=>[r(S,{title:p("services.routes.item.title",{name:i.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:o(()=>[s[7]||(s[7]=d()),r(m,{type:"stack"},{default:o(()=>[u("header",null,[r(m,{type:"separated",size:"max"},{default:o(()=>[u("h3",null,g(p("services.routes.item.config")),1),s[0]||(s[0]=d()),(l(),f(y,null,_([["structured","universal","k8s"]],t=>u("div",{key:typeof t},[r(R,{label:p("services.routes.item.format"),selected:e.params.format,onChange:a=>{e.update({format:a})},onVnodeBeforeMount:a=>{var k;return((k=a==null?void 0:a.props)==null?void 0:k.selected)&&t.includes(a.props.selected)&&a.props.selected!==e.params.format&&e.update({format:a.props.selected})}},A({_:2},[_(t,a=>({name:`${a}-option`,fn:o(()=>[d(g(p(`services.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2,__:[0]},1024)]),s[6]||(s[6]=d()),e.params.format==="structured"?(l(),f("div",N,[r(x,{layout:"horizontal"},{title:o(()=>s[1]||(s[1]=[d(`
                    Ports
                  `)])),body:o(()=>[r(m,{type:"separated",truncate:""},{default:o(()=>[(l(!0),f(y,null,_(i.spec.ports,t=>(l(),c(B,{key:t.port,port:{...t,targetPort:void 0}},null,8,["port"]))),128))]),_:2},1024)]),_:2,__:[2]},1024),s[5]||(s[5]=d()),r(x,{layout:"horizontal"},{title:o(()=>s[3]||(s[3]=[d(`
                    Selector
                  `)])),body:o(()=>[r(m,{type:"separated",truncate:""},{default:o(()=>[(l(!0),f(y,null,_(i.spec.selector.meshService.matchLabels,(t,a)=>(l(),c(E,{key:`${a}:${t}`,appearance:"info"},{default:o(()=>[d(g(a)+":"+g(t),1)]),_:2},1024))),128))]),_:2},1024)]),_:2,__:[4]},1024)])):e.params.format==="universal"?(l(),c(C,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",code:h(v).stringify(i.config),"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:t=>e.update({codeSearch:t}),onFilterModeChange:t=>e.update({codeFilter:t}),onRegExpModeChange:t=>e.update({codeRegExp:t})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(l(),c(F,{key:2,src:z(h(q),"/meshes/:mesh/mesh-multi-zone-service/:name/as/kubernetes",{mesh:e.params.mesh,name:e.params.service})},{default:o(({data:t})=>[r(C,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:h(v).stringify(t),"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:a=>e.update({codeSearch:a}),onFilterModeChange:a=>e.update({codeFilter:a}),onRegExpModeChange:a=>e.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2,__:[6]},1024)]),_:2,__:[7]},1024)]),_:2},1032,["items","predicate"])]),_:1})}}});export{T as default};
