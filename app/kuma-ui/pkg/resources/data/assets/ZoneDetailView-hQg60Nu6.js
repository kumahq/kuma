import{d as N,r as l,o as r,m as k,w as t,b as a,l as u,z as L,R as S,e,k as d,U as p,t as i,S as T,n as B,V as D,K,p as C,c as _,F as O,G as v,q as A}from"./index-DuwkPC2I.js";import{m as R}from"./kong-icons.es338-BE1ylQqB.js";import{_ as x}from"./SubscriptionList.vue_vue_type_script_setup_true_lang-CghoCnXR.js";import"./AccordionList-CCfXObZ-.js";const E=["data-testid","innerHTML"],M={"data-testid":"detail-view-details",class:"stack"},U={class:"columns"},H=["innerHTML"],Z={key:0},$=N({__name:"ZoneDetailView",props:{data:{}},setup(y){const n=y;return(G,F)=>{const b=l("KTooltip"),m=l("KCard"),I=l("AppView"),g=l("DataSource"),w=l("RouteView");return r(),k(w,{name:"zone-cp-detail-view"},{default:t(({t:o,uri:V})=>{var h,f;return[a(g,{src:V(u(L),"/control-plane/outdated/:version",{version:((f=(h=n.data.zoneInsight.version)==null?void 0:h.kumaCp)==null?void 0:f.version)??"-"})},{default:t(({data:s})=>[a(I,{docs:o("zones.href.docs.cta")},S({default:t(()=>[e(),d("div",M,[a(m,null,{default:t(()=>[d("div",U,[a(p,null,{title:t(()=>[e(i(o("http.api.property.status")),1)]),body:t(()=>[a(T,{status:n.data.state},null,8,["status"])]),_:2},1024),e(),a(p,{class:B({version:!0,outdated:s==null?void 0:s.outdated})},{title:t(()=>[e(i(o("zone-cps.routes.item.version"))+" ",1),(s==null?void 0:s.outdated)===!0?(r(),k(b,{key:0,"max-width":"300"},{content:t(()=>[d("div",{innerHTML:o("zone-cps.routes.item.version_warning")},null,8,H)]),default:t(()=>[a(u(R),{color:u(D),size:u(K)},null,8,["color","size"]),e()]),_:2},1024)):C("",!0)]),body:t(()=>{var c,z;return[e(i(((z=(c=n.data.zoneInsight.version)==null?void 0:c.kumaCp)==null?void 0:z.version)??"â€”"),1)]}),_:2},1032,["class"]),e(),a(p,null,{title:t(()=>[e(i(o("http.api.property.type")),1)]),body:t(()=>[e(i(o(`common.product.environment.${n.data.zoneInsight.environment||"unknown"}`)),1)]),_:2},1024),e(),a(p,null,{title:t(()=>[e(i(o("zone-cps.routes.item.authentication_type")),1)]),body:t(()=>[e(i(n.data.zoneInsight.authenticationType||o("common.not_applicable")),1)]),_:2},1024)])]),_:2},1024),e(),n.data.zoneInsight.subscriptions.length>0?(r(),_("div",Z,[d("h2",null,i(o("zone-cps.detail.subscriptions")),1),e(),a(m,{class:"mt-4"},{default:t(()=>[a(x,{subscriptions:n.data.zoneInsight.subscriptions},{default:t(()=>[d("p",null,i(o("zone-cps.routes.item.subscription_intro")),1)]),_:2},1032,["subscriptions"])]),_:2},1024)])):C("",!0)])]),_:2},[n.data.warnings.length>0?{name:"notifications",fn:t(()=>[d("ul",null,[(r(!0),_(O,null,v(n.data.warnings,c=>(r(),_("li",{key:c.kind,"data-testid":`warning-${c.kind}`,innerHTML:o(`common.warnings.${c.kind}`,{...c.payload,...c.kind==="INCOMPATIBLE_ZONE_AND_GLOBAL_CPS_VERSIONS"?{globalCpVersion:(s==null?void 0:s.version)??""}:{}})},null,8,E))),128))])]),key:"0"}:void 0]),1032,["docs"])]),_:2},1032,["src"])]}),_:1})}}}),Q=A($,[["__scopeId","data-v-6fd72b6d"]]);export{Q as default};
