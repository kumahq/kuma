import{ae as w,af as C,V as g,ag as x,ah as _,ai as L,aj as O,d as T,ac as b,ak as I,v as V,al as P,r as E,o as N,m as $,w as S,b as q,l as B,e as R,a as W,q as j}from"./index-SX45m_MK.js";const A=L?window:void 0;function y(n){var r;const s=_(n);return(r=s==null?void 0:s.$el)!=null?r:s}function v(...n){let r,s,t,f;if(typeof n[0]=="string"||Array.isArray(n[0])?([s,t,f]=n,r=A):[r,s,t,f]=n,!r)return w;Array.isArray(s)||(s=[s]),Array.isArray(t)||(t=[t]);const u=[],l=()=>{u.forEach(a=>a()),u.length=0},i=(a,d,h,e)=>(a.addEventListener(d,h,e),()=>a.removeEventListener(d,h,e)),m=g(()=>[y(r),_(f)],([a,d])=>{if(l(),!a)return;const h=x(d)?{...d}:d;u.push(...s.flatMap(e=>t.map(o=>i(a,e,o,h))))},{immediate:!0,flush:"post"}),p=()=>{m(),l()};return O(p),p}let k=!1;function F(n,r,s={}){const{window:t=A,ignore:f=[],capture:u=!0,detectIframe:l=!1}=s;if(!t)return w;C&&!k&&(k=!0,Array.from(t.document.body.children).forEach(e=>e.addEventListener("click",w)),t.document.documentElement.addEventListener("click",w));let i=!0;const m=e=>_(f).some(o=>{if(typeof o=="string")return Array.from(t.document.querySelectorAll(o)).some(c=>c===e.target||e.composedPath().includes(c));{const c=y(o);return c&&(e.target===c||e.composedPath().includes(c))}}),p=e=>{const o=y(n);if(!(!o||o===e.target||e.composedPath().includes(o))){if(e.detail===0&&(i=!m(e)),!i){i=!0;return}r(e)}};let a=!1;const d=[v(t,"click",e=>{a||(a=!0,setTimeout(()=>{a=!1},0),p(e))},{passive:!0,capture:u}),v(t,"pointerdown",e=>{const o=y(n);i=!m(e)&&!!(o&&!e.composedPath().includes(o))},{passive:!0}),l&&v(t,"blur",e=>{setTimeout(()=>{var o;const c=y(n);((o=t.document.activeElement)==null?void 0:o.tagName)==="IFRAME"&&!(c!=null&&c.contains(t.document.activeElement))&&r(e)},0)})].filter(Boolean);return()=>d.forEach(e=>e())}const K=T({__name:"SummaryView",props:{width:{default:"560px"}},emits:["close"],setup(n,{emit:r}){const s=b("summary-view-title");I("app-summary-view",s);const t=V(null);F(t,P(l=>{const i=l.target;l.isTrusted&&i.nodeName.toLowerCase()!=="a"&&u("close")},1,!0,!1));const f=n,u=r;return(l,i)=>{const m=E("XTeleportSlot"),p=E("KSlideout");return N(),$(p,{ref_key:"slideOutRef",ref:t,class:"summary-slideout","close-on-blur":!1,"has-overlay":!1,visible:"","max-width":f.width,"offset-top":"var(--app-slideout-offset-top, 0)","data-testid":"summary",onClose:i[0]||(i[0]=a=>u("close"))},{title:S(()=>[q(m,{name:B(s)},null,8,["name"])]),default:S(()=>[R(),W(l.$slots,"default",{},void 0,!0)]),_:3},8,["max-width"])}}}),X=j(K,[["__scopeId","data-v-1eac95d3"]]);export{X as S};
