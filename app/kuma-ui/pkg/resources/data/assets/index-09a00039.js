import{s as O,C as H,k as w,_ as ie,u as M,g as _e,a as J,b as me,T as j}from"./store-37d532c7.js";import{d as N,c as $,u as o,o as d,a as I,b as v,w as h,e as f,f as u,g as c,h as _,t as g,i as he,j as V,k as fe,r as k,l as q,p as X,m as K,n as Y,q as re,s as Ee,F as b,v as Z,x as z,y as G,z as ge,A as Ie,B as ce,T as Ne,C as $e}from"./runtime-dom.esm-bundler-91b41870.js";import{i as A,u as Ae}from"./Instance-c1186f34.js";import{c as ve,a as Re,u as B,b as W}from"./vue-router-573afc44.js";import{d as le,a as Se}from"./datadogLogEvents-4578cfa7.js";import{z as ye,m as C,$ as Le,P,a as Q,b as Me,p as ee,s as Oe,D as Te,c as be}from"./kongponents.es-3df60cd6.js";import{u as D}from"./index-d0618bd4.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import{P as we}from"./constants-31fdaf55.js";import{A as ke,a as Pe}from"./AccordionItem-5cf952b5.js";import"./vuex.esm-bundler-df5bd11e.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();var De=function(t){A(t,"SpriteState")&&(t.transitionDuration=400),A(t,"Component")&&(t.rangeChangeDuration=500,t.interpolationDuration=500,t.sequencedInterpolation=!1,A(t,"SankeyDiagram")&&(t.sequencedInterpolation=!0),A(t,"FunnelSeries")&&(t.sequencedInterpolation=!0)),A(t,"Chart")&&(t.defaultState.transitionDuration=2e3,t.hiddenState.transitionDuration=1e3),A(t,"Tooltip")&&(t.animationDuration=400,t.defaultState.transitionDuration=400,t.hiddenState.transitionDuration=400),A(t,"Scrollbar")&&(t.animationDuration=500),A(t,"Series")&&(t.defaultState.transitionDuration=1e3,t.hiddenState.transitionDuration=700,t.hiddenState.properties.opacity=1,t.showOnInit=!0),A(t,"MapSeries")&&(t.hiddenState.properties.opacity=0),A(t,"PercentSeries")&&(t.hiddenState.properties.opacity=0),A(t,"FunnelSlice")&&(t.defaultState.transitionDuration=800,t.hiddenState.transitionDuration=1e3,t.hiddenState.properties.opacity=1),A(t,"Slice")&&(t.defaultState.transitionDuration=700,t.hiddenState.transitionDuration=1e3,t.hiddenState.properties.opacity=1),A(t,"Preloader")&&(t.hiddenState.transitionDuration=2e3),A(t,"Column")&&(t.defaultState.transitionDuration=700,t.hiddenState.transitionDuration=1e3,t.hiddenState.properties.opacity=1),A(t,"Column3D")&&(t.hiddenState.properties.opacity=0)};function Ce(t,e="/"){const s=ve({history:Re(e),routes:t});return s.beforeEach(Ue),s.beforeEach(Fe),s.beforeEach(Ge),s}const Ue=function(t,e,s){t.fullPath.startsWith("/#/")?s(t.fullPath.substring(2)):s()},Fe=function(t,e,s){t.params.mesh&&t.params.mesh!==O.state.selectedMesh&&O.dispatch("updateSelectedMesh",t.params.mesh),s()},Ge=function(t,e,s){const i=O.state.onboarding.isCompleted,r=t.meta.onboardingProcess,n=O.getters["onboarding/showOnboarding"];i&&r&&!n?s({name:"home"}):!i&&!r&&n?s({name:H.get("onboardingStep")??"onboarding-welcome"}):s()};async function xe(){(await w.getConfig()).reports.enabled&&le.init({clientToken:"pub94a0029259f79f29a5d881a06d1e9653",site:"datadoghq.com",forwardErrorsToLogs:!0,service:"Kuma",sampleRate:100,env:"production"})}const Xe=N({__name:"AppBreadcrumbs",setup(t){const e=B(),s=W(),i=$(()=>{const r=new Map;for(const n of e.matched){if(n.name==="home"||n.meta.parent==="home")continue;if(n.meta.parent!==void 0){const p=s.resolve({name:n.meta.parent});p.name&&r.set(p.name,{to:p,key:p.name,title:p.meta.title,text:p.meta.title})}if((n.name===e.name||n.redirect===e.name)&&n.meta.breadcrumbExclude!==!0&&e.name){let p=e.meta.title;e.meta.breadcrumbTitleParam&&e.params[e.meta.breadcrumbTitleParam]&&(p=e.params[e.meta.breadcrumbTitleParam]),r.set(e.name,{to:e,key:e.name,title:p,text:p})}}return Array.from(r.values())});return(r,n)=>o(i).length>0?(d(),I(o(ye),{key:0,items:o(i)},null,8,["items"])):v("",!0)}}),Ke=c("p",null,"Unable to reach the API",-1),Be={key:0},Ve=N({__name:"AppErrorMessage",setup(t){return(e,s)=>(d(),I(o(Le),{class:"global-api-status empty-state--wide-content empty-state--compact","cta-is-hidden":""},{title:h(()=>[f(o(C),{class:"mb-3",icon:"warning",color:"var(--black-75)","secondary-color":"var(--yellow-300)",size:"64"}),u(),Ke]),message:h(()=>[c("p",null,[u(`
        Please double check to make sure it is up and running `),o(w).baseUrl?(d(),_("span",Be,[u(", and it is reachable at "),c("code",null,g(o(w).baseUrl),1)])):v("",!0)])]),_:1}))}}),ze=""+new URL("product-logo-7a2ca341.png",import.meta.url).href,He=N({name:"github-button",props:{href:String,ariaLabel:String,title:String,dataIcon:String,dataColorScheme:String,dataSize:String,dataShowCount:String,dataText:String},render:function(){const t={ref:"_"};for(const e in this.$props)t[he(e)]=this.$props[e];return V("span",[fe(this.$slots,"default")?V("a",t,this.$slots.default()):V("a",t)])},mounted:function(){this.paint()},beforeUpdate:function(){this.reset()},updated:function(){this.paint()},beforeUnmount:function(){this.reset()},methods:{paint:function(){const t=this.$el.appendChild(document.createElement("span")),e=this;ie(()=>import("./buttons.esm-1047f35f.js"),[],import.meta.url).then(function(s){s.render(t.appendChild(e.$refs._),function(i){try{t.parentNode.replaceChild(i,t)}catch{}})})},reset:function(){this.$el.replaceChild(this.$refs._,this.$el.lastChild)}}}),qe={key:0,"data-testid":"notification-amount",class:"notification-icon__amount"},Ye=N({__name:"NotificationIcon",setup(t){const e=M(),s=$(()=>e.getters["notifications/amountOfActions"]);function i(){e.dispatch("notifications/openModal")}return(r,n)=>(d(),_("button",{class:"notification-icon cursor-pointer",type:"button",onClick:i},[f(o(C),{icon:"notificationBell",color:"var(--yellow-300)"}),u(),o(s)>0?(d(),_("span",qe,g(o(s)),1)):v("",!0)]))}});const Ze=S(Ye,[["__scopeId","data-v-cadae07a"]]),We=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var ue=We;const Qe="2.0.0",Je=256,je=Number.MAX_SAFE_INTEGER||9007199254740991,et=16;var de={SEMVER_SPEC_VERSION:Qe,MAX_LENGTH:Je,MAX_SAFE_INTEGER:je,MAX_SAFE_COMPONENT_LENGTH:et},x={},tt={get exports(){return x},set exports(t){x=t}};(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:s}=de,i=ue;e=t.exports={};const r=e.re=[],n=e.src=[],a=e.t={};let p=0;const l=(m,E,y)=>{const L=p++;i(m,L,E),a[m]=L,n[L]=E,r[L]=new RegExp(E,y?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${n[a.NUMERICIDENTIFIER]})\\.(${n[a.NUMERICIDENTIFIER]})\\.(${n[a.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${n[a.NUMERICIDENTIFIERLOOSE]})\\.(${n[a.NUMERICIDENTIFIERLOOSE]})\\.(${n[a.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${n[a.NUMERICIDENTIFIER]}|${n[a.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${n[a.NUMERICIDENTIFIERLOOSE]}|${n[a.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${n[a.PRERELEASEIDENTIFIER]}(?:\\.${n[a.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${n[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${n[a.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${n[a.BUILDIDENTIFIER]}(?:\\.${n[a.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${n[a.MAINVERSION]}${n[a.PRERELEASE]}?${n[a.BUILD]}?`),l("FULL",`^${n[a.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${n[a.MAINVERSIONLOOSE]}${n[a.PRERELEASELOOSE]}?${n[a.BUILD]}?`),l("LOOSE",`^${n[a.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${n[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${n[a.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${n[a.XRANGEIDENTIFIER]})(?:\\.(${n[a.XRANGEIDENTIFIER]})(?:\\.(${n[a.XRANGEIDENTIFIER]})(?:${n[a.PRERELEASE]})?${n[a.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${n[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[a.XRANGEIDENTIFIERLOOSE]})(?:${n[a.PRERELEASELOOSE]})?${n[a.BUILD]}?)?)?`),l("XRANGE",`^${n[a.GTLT]}\\s*${n[a.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${n[a.GTLT]}\\s*${n[a.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?(?:$|[^\\d])`),l("COERCERTL",n[a.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${n[a.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",l("TILDE",`^${n[a.LONETILDE]}${n[a.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${n[a.LONETILDE]}${n[a.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${n[a.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",l("CARET",`^${n[a.LONECARET]}${n[a.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${n[a.LONECARET]}${n[a.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${n[a.GTLT]}\\s*(${n[a.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${n[a.GTLT]}\\s*(${n[a.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${n[a.GTLT]}\\s*(${n[a.LOOSEPLAIN]}|${n[a.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${n[a.XRANGEPLAIN]})\\s+-\\s+(${n[a.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${n[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${n[a.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(tt,x);const st=["includePrerelease","loose","rtl"],nt=t=>t?typeof t!="object"?{loose:!0}:st.filter(e=>t[e]).reduce((e,s)=>(e[s]=!0,e),{}):{};var at=nt;const te=/^[0-9]+$/,pe=(t,e)=>{const s=te.test(t),i=te.test(e);return s&&i&&(t=+t,e=+e),t===e?0:s&&!i?-1:i&&!s?1:t<e?-1:1},ot=(t,e)=>pe(e,t);var it={compareIdentifiers:pe,rcompareIdentifiers:ot};const U=ue,{MAX_LENGTH:se,MAX_SAFE_INTEGER:F}=de,{re:ne,t:ae}=x,rt=at,{compareIdentifiers:T}=it;let R=class{constructor(e,s){if(s=rt(s),e instanceof R){if(e.loose===!!s.loose&&e.includePrerelease===!!s.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>se)throw new TypeError(`version is longer than ${se} characters`);U("SemVer",e,s),this.options=s,this.loose=!!s.loose,this.includePrerelease=!!s.includePrerelease;const i=e.trim().match(s.loose?ne[ae.LOOSE]:ne[ae.FULL]);if(!i)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>F||this.major<0)throw new TypeError("Invalid major version");if(this.minor>F||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>F||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){const n=+r;if(n>=0&&n<F)return n}return r}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(U("SemVer.compare",this.version,this.options,e),!(e instanceof R)){if(typeof e=="string"&&e===this.version)return 0;e=new R(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof R||(e=new R(e,this.options)),T(this.major,e.major)||T(this.minor,e.minor)||T(this.patch,e.patch)}comparePre(e){if(e instanceof R||(e=new R(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let s=0;do{const i=this.prerelease[s],r=e.prerelease[s];if(U("prerelease compare",s,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return T(i,r)}while(++s)}compareBuild(e){e instanceof R||(e=new R(e,this.options));let s=0;do{const i=this.build[s],r=e.build[s];if(U("prerelease compare",s,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return T(i,r)}while(++s)}inc(e,s){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",s),this.inc("pre",s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",s),this.inc("pre",s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);i===-1&&this.prerelease.push(0)}s&&(T(this.prerelease[0],s)===0?isNaN(this.prerelease[1])&&(this.prerelease=[s,0]):this.prerelease=[s,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};var ct=R;const oe=ct,lt=(t,e,s)=>new oe(t,s).compare(new oe(e,s));var ut=lt;const dt={class:"upgrade-check"},pt={class:"alert-content"},_t=N({__name:"UpgradeCheck",setup(t){const e=D(),s=k(""),i=k(!1);r();async function r(){try{s.value=await w.getLatestVersion()}catch(n){i.value=!1,console.error(n)}finally{if(s.value!==""){const n=ut(s.value,e("KUMA_VERSION"));i.value=n===1}else{const a=new Date,p=new Date("2020-06-03 12:00:00"),l=new Date(p.getFullYear(),p.getMonth()+3,p.getDate());i.value=a.getTime()>=l.getTime()}}}return(n,a)=>(d(),_("div",dt,[i.value?(d(),I(o(Q),{key:0,class:"upgrade-check-alert",appearance:"warning",size:"small"},{alertMessage:h(()=>[c("div",pt,[c("div",null,g(o(e)("KUMA_PRODUCT_NAME"))+` update available
          `,1),u(),c("div",null,[f(o(P),{class:"warning-button",appearance:"primary",size:"small",to:o(e)("KUMA_INSTALL_URL")},{default:h(()=>[u(`
              Update
            `)]),_:1},8,["to"])])])]),_:1})):v("",!0)]))}});const mt=S(_t,[["__scopeId","data-v-03ce650c"]]),ht=t=>(X("data-v-e2d5b5cc"),t=t(),K(),t),ft={class:"app-header"},Et={class:"horizontal-list"},gt=["alt"],It={class:"upgrade-check-wrapper"},Nt={key:0,class:"horizontal-list"},$t={class:"app-status app-status--mobile"},At={class:"app-status app-status--desktop"},vt=["href"],Rt=["href"],St=ht(()=>c("span",{class:"visually-hidden"},"Diagnostics",-1)),yt=N({__name:"AppHeader",setup(t){const e=M(),s=D(),i=$(()=>e.getters["notifications/amountOfActions"]>0),r=$(()=>{const a=e.getters["config/getEnvironment"];return a?a.charAt(0).toUpperCase()+a.substring(1):"Universal"}),n=$(()=>e.getters["config/getMulticlusterStatus"]?"Multi-Zone":"Standalone");return(a,p)=>{const l=q("router-link");return d(),_("header",ft,[c("div",Et,[f(l,{to:{name:"home"}},{default:h(()=>[c("img",{class:"logo-image",src:ze,alt:`${o(e).state.config.tagline} Logo`},null,8,gt)]),_:1}),u(),f(o(He),{class:"gh-star",href:"https://github.com/kumahq/kuma","aria-label":"Star kumahq/kuma on GitHub"},{default:h(()=>[u(`
        Star
      `)]),_:1}),u(),c("div",It,[f(mt)])]),u(),o(e).state.config.status==="OK"?(d(),_("div",Nt,[c("div",$t,[f(o(Me),{width:"280"},{content:h(()=>[c("p",null,[u(g(o(e).state.config.tagline)+" ",1),c("b",null,g(o(e).state.config.version),1),u(" on "),c("b",null,g(o(r)),1),u(" ("+g(o(n))+`)
            `,1)])]),default:h(()=>[f(o(P),{appearance:"outline"},{default:h(()=>[u(`
            Info
          `)]),_:1}),u()]),_:1})]),u(),c("p",At,[u(g(o(e).state.config.tagline)+" ",1),c("b",null,g(o(e).state.config.version),1),u(" on "),c("b",null,g(o(r)),1),u(" ("+g(o(n))+`)
      `,1)]),u(),o(i)?(d(),I(Ze,{key:0})):v("",!0),u(),f(o(Oe),{class:"help-menu",icon:"help","button-appearance":"outline","kpop-attributes":{placement:"bottomEnd"}},{items:h(()=>[f(o(ee),null,{default:h(()=>[c("a",{href:`${o(s)("KUMA_DOCS_URL")}/?${o(s)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank",rel:"noopener noreferrer"},`
              Documentation
            `,8,vt)]),_:1}),u(),f(o(ee),null,{default:h(()=>[c("a",{href:o(s)("KUMA_FEEDBACK_URL"),target:"_blank",rel:"noopener noreferrer"},`
              Feedback
            `,8,Rt)]),_:1})]),_:1}),u(),f(o(P),{to:{name:"diagnostics"},icon:"gearFilled","button-appearance":"btn-link"},{icon:h(()=>[f(o(C),{icon:"gearFilled",class:"k-button-icon",size:"16",color:"currentColor","hide-title":""})]),default:h(()=>[u(),St]),_:1})])):v("",!0)])}}});const Lt=S(yt,[["__scopeId","data-v-e2d5b5cc"]]),Mt=""+new URL("kuma-loader-v1-2aaed7d4.gif",import.meta.url).href,Ot=t=>(X("data-v-06e19708"),t=t(),K(),t),Tt={class:"full-screen"},bt={class:"loading-container"},wt=Ot(()=>c("img",{src:Mt},null,-1)),kt={class:"progress"},Pt=N({__name:"AppLoadingBar",setup(t){let e;const s=k(10);return Y(function(){e=window.setInterval(()=>{s.value>=100&&(window.clearInterval(e),s.value=100),s.value=Math.min(s.value+Math.ceil(Math.random()*30),100)},150)}),re(function(){window.clearInterval(e)}),(i,r)=>(d(),_("div",Tt,[c("div",bt,[wt,u(),c("div",kt,[c("div",{style:Ee({width:`${s.value}%`}),class:"progress-bar",role:"progressbar","data-testid":"app-progress-bar"},null,4)])])]))}});const Dt=S(Pt,[["__scopeId","data-v-06e19708"]]),Ct={key:0,class:"onboarding-check"},Ut={class:"alert-content"},Ft=N({__name:"AppOnboardingNotification",setup(t){const e=k(!1);function s(){e.value=!0}return(i,r)=>e.value===!1?(d(),_("div",Ct,[f(o(Q),{appearance:"success",class:"dismissible","dismiss-type":"icon",onClosed:s},{alertMessage:h(()=>[c("div",Ut,[c("div",null,[c("strong",null,"Welcome to "+g(o(we))+"!",1),u(` We've detected that you don't have any data plane proxies running yet. We've created an onboarding process to help you!
          `)]),u(),c("div",null,[f(o(P),{appearance:"primary",size:"small",class:"action-button",to:{name:"onboarding-welcome"}},{default:h(()=>[u(`
              Get started
            `)]),_:1})])])]),_:1})])):v("",!0)}});const Gt=S(Ft,[["__scopeId","data-v-c21dc5a7"]]);async function xt(t,e,s=()=>!1){do{if(await t(),await s())break;const i=typeof e=="number"?e:e();await new Promise(r=>setTimeout(r,Math.max(0,i)))}while(!await s())}const Xt=t=>(X("data-v-76b8351f"),t=t(),K(),t),Kt={class:"mesh-selector-container"},Bt={for:"mesh-selector"},Vt=Xt(()=>c("span",{class:"visually-hidden"},`
        Filter by mesh:
      `,-1)),zt=["value","selected"],Ht=N({__name:"AppMeshSelector",props:{meshes:{type:Array,required:!0}},setup(t){const e=t,s=B(),i=W(),r=M(),n=$(()=>r.state.selectedMesh===null?e.meshes[0].name:r.state.selectedMesh);function a(p){const m=p.target.value;r.dispatch("updateSelectedMesh",m);const E="mesh"in s.params?s.name:"mesh-detail-view";i.push({name:E,params:{mesh:m}})}return(p,l)=>(d(),_("div",Kt,[c("label",Bt,[Vt,u(),c("select",{id:"mesh-selector",class:"mesh-selector",name:"mesh-selector","data-testid":"mesh-selector",onChange:a},[(d(!0),_(b,null,Z(e.meshes,m=>(d(),_("option",{key:m.name,value:m.name,selected:m.name===o(n)},g(m.name),9,zt))),128))],32)])]))}});const qt=S(Ht,[["__scopeId","data-v-76b8351f"]]),Yt=["data-testid"],Zt={key:1,class:"nav-category"},Wt=N({__name:"AppNavItem",props:{name:{type:String,required:!0},routeName:{type:String,required:!1,default:""},usesMeshParam:{type:Boolean,required:!1,default:!1},categoryTier:{type:String,required:!1,default:null},insightsFieldAccessor:{type:String,required:!1,default:""},shouldOffsetFromFollowingItems:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,s=B(),i=W(),r=M(),n=$(()=>{if(e.insightsFieldAccessor){const m=_e(r.state.sidebar.insights,e.insightsFieldAccessor,0);return m>99?"99+":String(m)}else return""}),a=$(()=>{if(e.routeName==="")return null;const m={name:e.routeName};return e.usesMeshParam&&(m.params={mesh:r.state.selectedMesh}),m}),p=$(()=>{if(a.value===null)return!1;if(e.routeName===s.name||s.path.split("/")[2]===a.value.name)return!0;if(s.meta.parent)try{if(i.resolve({name:s.meta.parent}).name===e.routeName)return!0}catch(E){if(E instanceof Error&&E.message.includes("No match for"))console.warn(E);else throw E}return e.routeName&&s.matched.some(E=>e.routeName===E.name||e.routeName===E.redirect)});function l(){le.logger.info(Se.SIDEBAR_ITEM_CLICKED,{data:a.value})}return(m,E)=>{const y=q("router-link");return d(),_("div",{class:z(["nav-item",{"nav-item--is-category":o(a)===null,"nav-item--has-bottom-offset":e.shouldOffsetFromFollowingItems,[`nav-item--is-${e.categoryTier}-category`]:e.categoryTier!==null}]),"data-testid":e.routeName},[o(a)!==null?(d(),I(y,{key:0,class:z(["nav-link",{"nav-link--is-active":o(p)}]),to:o(a),onClick:l},{default:h(()=>[u(g(t.name)+" ",1),o(n)?(d(),_("span",{key:0,class:z(["amount",{"amount--empty":o(n)==="0"}])},g(o(n)),3)):v("",!0)]),_:1},8,["class","to"])):(d(),_("div",Zt,g(t.name),1))],10,Yt)}}});const Qt=S(Wt,[["__scopeId","data-v-938e565b"]]);function Jt(t,e){const s=t?[{name:"Zones",categoryTier:"primary"},{name:"Zone CPs",routeName:"zones",insightsFieldAccessor:"global.Zone"},{name:"Zone Ingresses",routeName:"zoneingresses",insightsFieldAccessor:"global.ZoneIngress"},{name:"Zone Egresses",routeName:"zoneegresses",insightsFieldAccessor:"global.ZoneEgress"}]:[],i=e?[{name:"Mesh",categoryTier:"primary"},{name:"Mesh selector",isMeshSelector:!0},{name:"Overview",routeName:"mesh-detail-view",usesMeshParam:!0},{name:"Services",routeName:"service-list-view",insightsFieldAccessor:"mesh.services.total",usesMeshParam:!0},{name:"Gateways",routeName:"gateway-list-view",usesMeshParam:!0,insightsFieldAccessor:"mesh.dataplanes.gateway"},{name:"Data Plane Proxies",routeName:"data-plane-list-view",usesMeshParam:!0,insightsFieldAccessor:"mesh.dataplanes.standard"},{name:"Policies",routeName:"policies",usesMeshParam:!0,insightsFieldAccessor:"mesh.policies.total"}]:[];return[{name:"Home",routeName:"home",shouldOffsetFromFollowingItems:!0},...s,...i]}const jt={class:"app-sidebar-wrapper"},es={class:"app-sidebar"},ts=N({__name:"AppSidebar",setup(t){const s=M(),i=$(()=>Jt(s.getters["config/getMulticlusterStatus"],s.state.meshes.items.length>0)),r=$(()=>s.state.meshes.items);G(()=>s.state.selectedMesh,()=>{s.dispatch("sidebar/getMeshInsights")});let n=!1;Y(function(){window.addEventListener("blur",a),window.addEventListener("focus",p)}),re(function(){window.removeEventListener("blur",a),window.removeEventListener("focus",p)}),p();function a(){n=!0}function p(){n=!1,xt(l,10*1e3,()=>n)}function l(){return s.dispatch("sidebar/getInsights")}return(m,E)=>(d(),_("div",jt,[c("aside",es,[(d(!0),_(b,null,Z(o(i),(y,L)=>(d(),_(b,{key:L},[y.isMeshSelector?(d(),_(b,{key:0},[o(r).length>0?(d(),I(qt,{key:0,meshes:o(r)},null,8,["meshes"])):v("",!0)],64)):(d(),I(Qt,ge(Ie({key:1},y)),null,16))],64))),128))])]))}});const ss=S(ts,[["__scopeId","data-v-15fb1394"]]),ns={class:"py-4"},as=c("p",{class:"mb-4"},`
      A traffic log policy lets you collect access logs for every data plane proxy in your service mesh.
    `,-1),os={class:"list-disc pl-4"},is=["href"],rs=N({__name:"LoggingNotification",setup(t){const e=D();return(s,i)=>(d(),_("div",ns,[as,u(),c("ul",os,[c("li",null,[c("a",{href:`${o(e)("KUMA_DOCS_URL")}/policies/traffic-log/?${o(e)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},`
          Traffic Log policy documentation
        `,8,is)])])]))}}),cs={class:"py-4"},ls=c("p",{class:"mb-4"},`
      A traffic metrics policy lets you collect key data for observability of your service mesh.
    `,-1),us={class:"list-disc pl-4"},ds=["href"],ps=N({__name:"MetricsNotification",setup(t){const e=D();return(s,i)=>(d(),_("div",cs,[ls,u(),c("ul",us,[c("li",null,[c("a",{href:`${o(e)("KUMA_DOCS_URL")}/policies/traffic-metrics/?${o(e)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},`
          Traffic Metrics policy documentation
        `,8,ds)])])]))}}),_s={class:"py-4"},ms=c("p",{class:"mb-4"},`
      Mutual TLS (mTLS) for communication between all the components
      of your service mesh (services, control plane, data plane proxies), proxy authentication,
      and access control rules in Traffic Permissions policies all contribute to securing your mesh.
    `,-1),hs={class:"list-disc pl-4"},fs=["href"],Es=["href"],gs=["href"],Is=N({__name:"MtlsNotification",setup(t){const e=D();return(s,i)=>(d(),_("div",_s,[ms,u(),c("ul",hs,[c("li",null,[c("a",{href:`${o(e)("KUMA_DOCS_URL")}/security/certificates/?${o(e)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},`
          Secure access across services
        `,8,fs)]),u(),c("li",null,[c("a",{href:`${o(e)("KUMA_DOCS_URL")}/policies/mutual-tls/?${o(e)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},`
          Mutual TLS
        `,8,Es)]),u(),c("li",null,[c("a",{href:`${o(e)("KUMA_DOCS_URL")}/policies/traffic-permissions/?${o(e)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},`
          Traffic Permissions policy documentation
        `,8,gs)])])]))}}),Ns={class:"py-4"},$s=c("p",{class:"mb-4"},`
      A traffic trace policy lets you enable tracing logs and a third-party tracing solution to send them to.
    `,-1),As={class:"list-disc pl-4"},vs=["href"],Rs=N({__name:"TracingNotification",setup(t){const e=D();return(s,i)=>(d(),_("div",Ns,[$s,u(),c("ul",As,[c("li",null,[c("a",{href:`${o(e)("KUMA_DOCS_URL")}/policies/traffic-trace/?${o(e)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},`
          Traffic Trace policy documentation
        `,8,vs)])])]))}}),Ss={class:"flex items-center"},ys=N({__name:"SingleMeshNotifications",setup(t){const e=M(),s={LoggingNotification:rs,MetricsNotification:ps,MtlsNotification:Is,TracingNotification:Rs};return(i,r)=>(d(),I(Pe,{"multiple-open":""},{default:h(()=>[(d(!0),_(b,null,Z(o(e).getters["notifications/singleMeshNotificationItems"],n=>(d(),I(ke,{key:n.name},{"accordion-header":h(()=>[c("div",Ss,[n.isCompleted?(d(),I(o(C),{key:0,color:"var(--green-500)",icon:"check",size:"20",class:"mr-4"})):(d(),I(o(C),{key:1,icon:"warning",color:"var(--black-75)","secondary-color":"var(--yellow-300)",size:"20",class:"mr-4"})),u(),c("strong",null,g(n.name),1)])]),"accordion-content":h(()=>[n.component?(d(),I(ce(s[n.component]),{key:0})):(d(),I(o(Te),{key:1},{body:h(()=>[u(g(n.content),1)]),_:2},1024))]),_:2},1024))),128))]),_:1}))}}),Ls=t=>(X("data-v-baf26e82"),t=t(),K(),t),Ms={class:"mr-4"},Os=Ls(()=>c("span",{class:"mr-2"},[c("strong",null,"Pro tip:"),u(`

            You might want to adjust your mesh configuration
          `)],-1)),Ts={key:0},bs={class:"text-xl tracking-wide"},ws={key:1},ks={class:"text-xl tracking-wide"},Ps=N({__name:"NotificationManager",setup(t){const e=M(),s=k(!0),i=$(()=>e.state.selectedMesh?e.getters["notifications/meshNotificationItemMapWithAction"][e.state.selectedMesh]:!1);Y(function(){const p=H.get("hideCheckMeshAlert");s.value=p!=="yes"});function r(){s.value=!1,H.set("hideCheckMeshAlert","yes")}function n(){e.dispatch("notifications/openModal")}function a(){e.dispatch("notifications/closeModal")}return(p,l)=>(d(),_("div",null,[s.value?(d(),I(o(Q),{key:0,class:"mb-4",appearance:"info","dismiss-type":"icon","data-testid":"notification-info",onClosed:r},{alertMessage:h(()=>[c("div",Ms,[Os,u(),f(o(P),{appearance:"outline","data-testid":"open-modal-button",onClick:n},{default:h(()=>[u(`
            Check your mesh!
          `)]),_:1})])]),_:1})):v("",!0),u(),f(o(be),{class:"modal","is-visible":o(e).state.notifications.isOpen,title:"Notifications","text-align":"left","data-testid":"notification-modal"},{"header-content":h(()=>[c("div",null,[c("div",null,[o(i)?(d(),_("span",Ts,[u(`
              Some of these features are not enabled for `),c("span",bs,'"'+g(o(e).state.selectedMesh)+'"',1),u(` mesh. Consider implementing them.
            `)])):(d(),_("span",ws,[u(`
              Looks like `),c("span",ks,'"'+g(o(e).state.selectedMesh)+'"',1),u(` isn't missing any features. Well done!
            `)]))])])]),"body-content":h(()=>[f(ys)]),"footer-content":h(()=>[f(o(P),{appearance:"outline","data-testid":"close-modal-button",onClick:a},{default:h(()=>[u(`
          Close
        `)]),_:1})]),_:1},8,["is-visible"])]))}});const Ds=S(Ps,[["__scopeId","data-v-baf26e82"]]),Cs={key:0},Us={key:1,class:"app-content-container"},Fs={class:"app-main-content"},Gs=N({__name:"App",setup(t){const e=M(),s=B(),i=k(e.state.globalLoading),r=$(()=>s.path),n=$(()=>e.state.config.status!=="OK"),a=$(()=>e.getters["onboarding/showOnboarding"]),p=$(()=>e.getters["notifications/amountOfActions"]>0);G(()=>e.state.globalLoading,function(m){i.value=m}),G(()=>s.meta.title,function(m){l(m)}),G(()=>e.state.pageTitle,function(m){l(m)});function l(m){const E="Kuma Manager";document.title=m?`${m} | ${E}`:E}return(m,E)=>{const y=q("router-view");return i.value?(d(),I(Dt,{key:0})):(d(),_(b,{key:1},[f(Lt),u(),o(s).meta.onboardingProcess?(d(),_("div",Cs,[f(y)])):(d(),_("div",Us,[f(ss),u(),c("main",Fs,[o(n)?(d(),I(Ve,{key:0})):v("",!0),u(),o(p)?(d(),I(Ds,{key:1})):v("",!0),u(),o(a)?(d(),I(Gt,{key:2})):v("",!0),u(),f(Xe),u(),(d(),I(y,{key:o(r)},{default:h(({Component:L})=>[f(Ne,{mode:"out-in",name:"fade"},{default:h(()=>[(d(),_("div",{key:o(s).name,class:"transition-root"},[(d(),I(ce(L)))]))]),_:2},1024)]),_:1}))])]))],64))}}});const xs=S(Gs,[["__scopeId","data-v-a2119dd5"]]);xe();Ae(De);async function Xs(t,e){if(document.title=`${t("KUMA_PRODUCT_NAME")} Manager`,w.setBaseUrl(t("KUMA_API_URL")),{}.VITE_MOCK_API_ENABLED==="true"){const{setupMockWorker:r}=await ie(()=>import("./setupMockWorker-3c5a90a5.js"),[],import.meta.url);r(w.baseUrl)}const s=$e(xs);s.use(O,me),await Promise.all([O.dispatch("bootstrap"),O.dispatch("fetchPolicyTypes")]);const i=await Ce(e,t("KUMA_BASE_PATH"));s.use(i),s.mount("#app")}Xs(J(j.env),J(j.routes));
