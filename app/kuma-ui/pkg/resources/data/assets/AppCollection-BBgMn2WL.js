import{d as O,l as R,o as r,c as d,e as k,p as l,K,a3 as V,f as n,m as E,r as b,t as m,_ as D,O as F,C as u,J as P,a4 as S,b as v,R as I,w as i,F as z,q as x,X as j,A as H,a0 as U,G as W,a5 as X,a6 as G}from"./index-B3p4pMIm.js";const J=["href"],Z=O({__name:"DocumentationLink",props:{href:{}},setup(f){const{t:h}=R(),y=f;return(e,C)=>(r(),d("a",{class:"docs-link",href:y.href,target:"_blank"},[k(l(V),{size:l(K)},null,8,["size"]),n(),E("span",null,[b(e.$slots,"default",{},()=>[n(m(l(h)("common.documentation")),1)],!0)])],8,J))}}),Q=D(Z,[["__scopeId","data-v-b5a70c14"]]),Y={key:0,class:"app-collection-toolbar"},A=5,ee=O({__name:"AppCollection",props:{isSelectedRow:{type:[Function,null],default:null},total:{default:0},pageNumber:{default:0},pageSize:{default:30},items:{},headers:{},error:{default:void 0},emptyStateTitle:{default:void 0},emptyStateMessage:{default:void 0},emptyStateCtaTo:{default:void 0},emptyStateCtaText:{default:void 0}},emits:["change"],setup(f,{emit:h}){const{t:y}=R(),e=f,C=h,L=F(),N=u(e.items),T=u(0),g=u(0),_=u(e.pageNumber),$=u(e.pageSize),M=P(()=>{const t=e.headers.filter(s=>["details","warnings","actions"].includes(s.key));if(t.length>4)return"initial";const a=100-t.length*A,o=e.headers.length-t.length;return`calc(${a}% / ${o})`});S(()=>e.items,(t,a)=>{t!==a&&(T.value++,N.value=e.items)}),S(()=>e.pageNumber,function(){e.pageNumber!==_.value&&g.value++}),S(()=>e.headers,function(){g.value++});function q(t){if(!t)return{};const a={};return e.isSelectedRow!==null&&e.isSelectedRow(t)&&(a.class="is-selected"),a}const B=t=>{const a=t.target.closest("tr");if(a){const o=a.querySelector("td:first-child a");o!==null&&o.closest("tr, li")===a&&o.click()}};return(t,a)=>{var o;return r(),v(l(G),{key:g.value,class:"app-collection",style:X(`--column-width: ${M.value}; --special-column-width: ${A}%;`),"has-error":typeof e.error<"u","pagination-total-items":e.total,"initial-fetcher-params":{page:e.pageNumber,pageSize:e.pageSize},headers:e.headers,"fetcher-cache-key":String(T.value),fetcher:({page:s,pageSize:c,query:w})=>{const p={};return _.value!==s&&(p.page=s),$.value!==c&&(p.size=c),_.value=s,$.value=c,Object.keys(p).length>0&&C("change",p),{data:N.value}},"cell-attrs":({headerKey:s})=>({class:`${s}-column`}),"row-attrs":q,"disable-sorting":"","disable-pagination":e.pageNumber===0,"hide-pagination-when-optional":"","onRow:click":B},I({_:2},[((o=e.items)==null?void 0:o.length)===0?{name:"empty-state",fn:i(()=>[k(U,null,I({title:i(()=>[n(m(e.emptyStateTitle??l(y)("common.emptyState.title")),1)]),default:i(()=>[n(),e.emptyStateMessage?(r(),d(z,{key:0},[n(m(e.emptyStateMessage),1)],64)):x("",!0),n()]),_:2},[e.emptyStateCtaTo?{name:"action",fn:i(()=>[typeof e.emptyStateCtaTo=="string"?(r(),v(Q,{key:0,href:e.emptyStateCtaTo},{default:i(()=>[n(m(e.emptyStateCtaText),1)]),_:1},8,["href"])):(r(),v(l(j),{key:1,appearance:"primary",to:e.emptyStateCtaTo},{default:i(()=>[k(l(H)),n(" "+m(e.emptyStateCtaText),1)]),_:1},8,["to"]))]),key:"0"}:void 0]),1024)]),key:"0"}:void 0,W(Object.keys(l(L)),s=>({name:s,fn:i(({row:c,rowValue:w})=>[s==="toolbar"?(r(),d("div",Y,[b(t.$slots,"toolbar",{},void 0,!0)])):(r(),d(z,{key:1},[(e.items??[]).length>0?b(t.$slots,s,{key:0,row:c,rowValue:w},void 0,!0):x("",!0)],64))])}))]),1032,["style","has-error","pagination-total-items","initial-fetcher-params","headers","fetcher-cache-key","fetcher","cell-attrs","disable-pagination"])}}}),ae=D(ee,[["__scopeId","data-v-38d2358e"]]);export{ae as A,Q as D};
