var vr=Object.defineProperty;var gr=(t,e,n)=>e in t?vr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var C=(t,e,n)=>(gr(t,typeof e!="symbol"?e+"":e,n),n);import{A as mr,s as Zt,B as Er,C as _r,c as yr}from"./runtime-dom.esm-bundler-32659b48.js";const Sr="modulepreload",br=function(t,e){return t.startsWith(".")?new URL(t,e).href:t},Ct={},m=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=br(i,r),i in Ct)return;Ct[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let l=s.length-1;l>=0;l--){const f=s[l];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Sr,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((l,f)=>{u.addEventListener("load",l),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};function Tr(){return Jt().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Jt(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Ir=typeof Proxy=="function",Or="devtools-plugin:setup",Cr="plugin:settings:set";let W,rt;function Rr(){var t;return W!==void 0||(typeof window<"u"&&window.performance?(W=!0,rt=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(W=!0,rt=global.perf_hooks.performance):W=!1),W}function wr(){return Rr()?rt.now():Date.now()}class Ar{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const a=e.settings[o];r[o]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(s),a=JSON.parse(o);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}i=o},now(){return wr()}},n&&n.on(Cr,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...c)=>{this.onQueue.push({method:a,args:c})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...c)=>(this.targetQueue.push({method:a,args:c,resolve:()=>{}}),this.fallbacks[a](...c)):(...c)=>new Promise(u=>{this.targetQueue.push({method:a,args:c,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Lr(t,e){const n=t,r=Jt(),s=Tr(),i=Ir&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))s.emit(Or,t,e);else{const o=i?new Ar(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}var Ke=new Map,Qt=new Map,Nr=new Map,j;(function(t){t[t.Constant=0]="Constant",t[t.Instance=1]="Instance",t[t.Factory=2]="Factory"})(j||(j={}));var D;(function(t){t[t.Container=0]="Container",t[t.Resolution=1]="Resolution",t[t.Singleton=2]="Singleton",t[t.Transient=3]="Transient"})(D||(D={}));var Mr=class{constructor(t){this.impl=t,this.type=j.Constant}},Dr=class{constructor(t){this.impl=t,this.type=j.Factory}},Pr=t=>t.type===j.Factory,Ge=class{constructor(t){this.impl=t,this.type=j.Instance}},xr=class extends Ge{constructor(){super(...arguments),this.scope=D.Container,this.cache=new WeakMap}},Ur=class extends Ge{constructor(){super(...arguments),this.scope=D.Resolution}},$r=class extends Ge{constructor(t){super(t),this.impl=t,this.scope=D.Singleton}},kr=class extends Ge{constructor(){super(...arguments),this.scope=D.Transient}},Br=t=>t.type===j.Instance,Gr=t=>t.scope===D.Container,Fr=t=>t.scope===D.Resolution,Vr=t=>t.scope===D.Singleton,jr=t=>Symbol(t),en=t=>{const e=Symbol(t);return{__t:null,__d:t,__s:e,__o:!1,optional:{__t:null,__d:t,__s:e,__o:!0}}},ue=class{constructor(){this.parent=null,this.map=new Map}set(t,e,n=ue.notag){const r=this.map.get(e.__s);r?r.set(n,t):this.map.set(e.__s,new Map().set(n,t))}find(t,e,n){const r=this.map.get(t.__s);if(r!==void 0){if(n){const s=r.get(n);if(s)return s}if(e)for(let s=0,i=e.length;s<i;s+=1){const o=r.get(e[s]);if(o)return o}return r.get(ue.notag)}}resolve(t,e,n,r){const s=this.find(t,n,r);return s===void 0?this.parent?this.parent.resolve(t,e,n,r):null:s instanceof ue?(e.vaults.push(s),s.resolve(t,e,n,r)):s}get(t,e,n,r){const s=this.resolve(t,e,n,r);if(s)return s;for(let i=0,o=e.vaults,a=o.length;i<a;i+=1){const c=o[i].resolve(t,e,n,r);if(c)return c}return null}from(t){const e=new ue;return e.parent=this.parent,this.map.forEach((n,r)=>{e.map.set(r,t(n))}),e}clone(){return this.from(t=>new Map(t))}},tn=ue;tn.notag=jr("NO_TAG");var Hr=class{constructor(t,e,n,r){this.vault=t,this.tokens=e,this.getVault=n,this.condition=r}from(t){const{tokens:e}=this;for(let n=0,r=e.length;n<r;n+=1)this.vault.set(this.getVault(t),e[n],this.condition)}},zr=class{constructor(t,e,n,r){this.vault=t,this.impl=e,this.token=n,this.condition=r}inContainerScope(){this.set(xr)}inResolutionScope(){this.set(Ur)}inSingletonScope(){this.set($r)}inTransientScope(){this.set(kr)}set(t){this.vault.set(new t(this.impl),this.token,this.condition)}},Kr=class{constructor(t,e,n){this.vault=t,this.token=e,this.condition=n}toConstant(t){this.vault.set(new Mr(t),this.token,this.condition)}toFactory(t,e){this.vault.set(new Dr({creator:t,initializer:e}),this.token,this.condition)}toInstance(t){return new zr(this.vault,t,this.token,this.condition)}},st=class{constructor(t,e){this.vault=t,this.condition=e}static vault(t){return t.vault}bind(t){return new Kr(this.vault,t,this.condition)}use(...t){return new Hr(this.vault,t,st.vault,this.condition)}},Xr=class extends st{when(t){return new st(this.vault,t)}},qr=class extends Xr{constructor(){super(new tn)}},nn=class{constructor(t=new Map,e=[]){this.instances=t,this.vaults=e}split(){return new nn(this.instances,this.vaults.slice())}},Le=class extends qr{constructor(){super(),this.snapshot=null}extend(t){return this.vault.parent=t===null?null:t.vault,this}clone(){const t=new Le;return t.vault=this.vault.clone(),t}get(t,e){return this.resolveToken(t,e)}resolveTokens(t,e,n,r){return t.map(s=>this.resolveToken(s,n,r,e.split()))}resolveToken(t,e,n,r=new nn){const s=this.vault.get(t,r,e,n);if(s)return this.resolveBinding(s,r);if(!t.__o)throw new Error(`No matching bindings found for '${t.__d}' token.`)}resolveBinding(t,e){return Br(t)?Vr(t)?this.resolveCache(t,e,()=>t.cache,n=>{t.cache=n}):Gr(t)?this.resolveCache(t,e,()=>t.cache.get(this.vault),n=>{t.cache.set(this.vault,n)}):Fr(t)?this.resolveCache(t,e,()=>e.instances.get(t),n=>{e.instances.set(t,n)}):this.createInstance(t.impl,e):Pr(t)?(...n)=>{const r=this.createInstance(t.impl.creator,e);return r instanceof Promise?r.then(s=>Le.resolveInitialization(s,n,t.impl.initializer)):Le.resolveInitialization(r,n,t.impl.initializer)}:t.impl}resolveCache(t,e,n,r){const s=n();if(s!==void 0)return s;const i=this.createInstance(t.impl,e);return r(i),i}createInstance(t,e){const n=this.getParameters(t,e),r=Ke.get(t);if(r!==void 0)return r?t(...n):new t(...n);try{const s=t(...n);return Ke.set(t,!0),s}catch{const i=new t(...n);return Ke.set(t,!1),i}}getParameters(t,e){const n=Qt.get(t);if(n)return this.resolveTokens(n,e,Nr.get(t),t);if(t.length===0)return[];throw new Error(`Missing required 'injected' registration of '${t.name}'`)}static resolveInitialization(t,e,n){const r=n==null?void 0:n(t,...e);return r instanceof Promise?r.then(()=>t):t}},Yr=()=>new Le,se=(t,...e)=>(Qt.set(t,e),t);const ht=Yr(),rn=t=>ht.get(t),Sc=(...t)=>t.map(e=>()=>rn(e)),P=(t,e)=>{const n=en(e.description);return ht.bind(n).toInstance(t).inSingletonScope(),n},Rt=(t,e)=>{const n=en(e.description);return ht.bind(n).toConstant(t),n},Wr={baseGuiPath:"",apiUrl:"/",version:"1.7.0"};class sn{constructor(e){C(this,"env");let n=e;const r=(a,c="")=>this.var(a,(n==null?void 0:n[a])??c),s=Jr(),i=Zr(r("KUMA_VERSION",s.version)),o=encodeURIComponent(r("KUMA_PRODUCT_NAME"));n={...n,KUMA_UTM_QUERY_PARAMS:`utm_source=${o}&utm_medium=${o}`},this.env={...n,KUMA_INSTALL_URL:`${r("KUMA_INSTALL_URL")}?${r("KUMA_UTM_QUERY_PARAMS")}`,KUMA_DOCS_URL:`${r("KUMA_DOCS_URL")}/${i.patch==="0.0.0"?"dev":i.patch.replace(/\.\d+$/,".x")}`,KUMA_VERSION:i.pre,KUMA_API_URL:r("KUMA_API_URL")??s.apiUrl,KUMA_BASE_PATH:r("KUMA_BASE_PATH")??s.baseGuiPath}}var(e,n=""){var r;return((r=this.env)==null?void 0:r[e])??n}}function Zr(t){const[e,n,...r]=t.split("."),[s,i]=r.join(".").split("-");return{major:e,minor:`${e}.${n}`,patch:`${e}.${n}.${s}`,pre:`${e}.${n}.${s}${i!==void 0?`-${i}`:""}`}}function Jr(){const t=document.querySelector("#kuma-config");if(t instanceof HTMLScriptElement)try{return JSON.parse(t.innerText.trim())}catch{}return Wr}var T={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},y=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.prototype.hasOwnProperty.call(T,t)||(t=T.log),y[t].apply(y,e)};y.debug=console.debug.bind(console);y.log=console.log.bind(console);y.info=console.info.bind(console);y.warn=console.warn.bind(console);y.error=console.error.bind(console);var Qr=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},Pe,on=!1;function es(t){Pe=t}function ts(t){on=t}function ns(t,e,n){var r=n.value;n.value=function(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];var o=Pe?p(r):r;return o.apply(this,s)}}function p(t){return function(){return H(t,this,arguments)}}function H(t,e,n){try{return t.apply(e,n)}catch(r){if(it(T.error,r),Pe)try{Pe(r)}catch(s){it(T.error,s)}}}function it(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];on&&y.apply(void 0,Qr([t,"[MONITOR]"],e,!1))}var Ee=1e3,z=60*Ee,rs=60*z,ve=1024,an=1024*ve;function ss(t,e,n){var r=n&&n.leading!==void 0?n.leading:!0,s=n&&n.trailing!==void 0?n.trailing:!0,i=!1,o,a;return{throttled:function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];if(i){o=c;return}r?t.apply(void 0,c):o=c,i=!0,a=setTimeout(function(){s&&o&&t.apply(void 0,o),i=!1,o=void 0},e)},cancel:function(){clearTimeout(a),i=!1,o=void 0}}}function I(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach(function(r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}),t}function is(t){return I({},t)}function ie(t){return t?(parseInt(t,10)^Math.random()*16>>parseInt(t,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,ie)}function ot(t){return t!==0&&Math.random()*100<=t}function Fe(){}function Ve(t,e,n){if(typeof t!="object"||t===null)return JSON.stringify(t);var r=Te(Object.prototype),s=Te(Array.prototype),i=Te(Object.getPrototypeOf(t)),o=Te(t);try{return JSON.stringify(t,e,n)}catch{return"<error: unable to serialize object>"}finally{r(),s(),i(),o()}}function Te(t){var e=t,n=e.toJSON;return n?(delete e.toJSON,function(){e.toJSON=n}):Fe}function oe(t,e){return t.indexOf(e)!==-1}function cn(t){if(Array.from)return Array.from(t);var e=[];if(t instanceof Set)t.forEach(function(r){return e.push(r)});else for(var n=0;n<t.length;n++)e.push(t[n]);return e}function os(t,e){for(var n=0;n<t.length;n+=1){var r=t[n];if(e(r,n))return r}}function Xe(t){return as(t)&&t>=0&&t<=100}function as(t){return typeof t=="number"}function ge(t){return Object.keys(t).map(function(e){return t[e]})}function cs(t){return Object.keys(t).map(function(e){return[e,t[e]]})}function un(t){return Object.keys(t).length===0}function ln(t,e){return t.slice(0,e.length)===e}function us(t,e){return t.slice(-e.length)===e}function pt(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var t=_dd_temp_;return delete Object.prototype._dd_temp_,typeof t!="object"&&(typeof self=="object"?t=self:typeof window=="object"?t=window:t={}),t}function ls(){return fs(window.location)}function fs(t){if(t.origin)return t.origin;var e=t.host.replace(/(:80|:443)$/,"");return"".concat(t.protocol,"//").concat(e)}function ds(t,e){var n=new RegExp("(?:^|;)\\s*".concat(e,"\\s*=\\s*([^;]+)")),r=n.exec(t);return r?r[1]:void 0}function hs(t,e,n){n===void 0&&(n="");var r=t.charCodeAt(e-1),s=r>=55296&&r<=56319,i=s?e+1:e;return t.length<=i?t:"".concat(t.slice(0,i)).concat(n)}function fn(t){return t===null?"null":Array.isArray(t)?"array":typeof t}function ps(){if(typeof WeakSet<"u"){var t=new WeakSet;return{hasAlreadyBeenSeen:function(n){var r=t.has(n);return r||t.add(n),r}}}var e=[];return{hasAlreadyBeenSeen:function(n){var r=e.indexOf(n)>=0;return r||e.push(n),r}}}function xe(t,e,n){if(n===void 0&&(n=ps()),e===void 0)return t;if(typeof e!="object"||e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){var r=e.flags||[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.sticky?"y":"",e.unicode?"u":""].join("");return new RegExp(e.source,r)}if(!n.hasAlreadyBeenSeen(e)){if(Array.isArray(e)){for(var s=Array.isArray(t)?t:[],i=0;i<e.length;++i)s[i]=xe(s[i],e[i],n);return s}var o=fn(t)==="object"?t:{};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(o[a]=xe(o[a],e[a],n));return o}}function te(t){return xe(void 0,t)}function je(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n,r=0,s=t;r<s.length;r++){var i=s[r];i!=null&&(n=xe(n,i))}return n}function vs(t){var e=new Set;return t.forEach(function(n){return e.add(n)}),cn(e)}var wt=Ee;function _e(t,e,n,r){var s=new Date;s.setTime(s.getTime()+n);var i="expires=".concat(s.toUTCString()),o=r&&r.crossSite?"none":"strict",a=r&&r.domain?";domain=".concat(r.domain):"",c=r&&r.secure?";secure":"";document.cookie="".concat(t,"=").concat(e,";").concat(i,";path=/;samesite=").concat(o).concat(a).concat(c)}function N(t){return ds(document.cookie,t)}function dn(t,e){_e(t,"",0,e)}function gs(t){if(document.cookie===void 0||document.cookie===null)return!1;try{var e="dd_cookie_test_".concat(ie()),n="test";_e(e,n,z,t);var r=N(e)===n;return dn(e,t),r}catch(s){return y.error(s),!1}}var qe;function ms(){if(qe===void 0){for(var t="dd_site_test_".concat(ie()),e="test",n=window.location.hostname.split("."),r=n.pop();n.length&&!N(t);)r="".concat(n.pop(),".").concat(r),_e(t,e,Ee,{domain:r});dn(t,{domain:r}),qe=r}return qe}function hn(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,n)}catch(s){y.error(e,s)}}}var Ne;function Es(t){Array.isArray(t)&&(Ne||(Ne=new Set(t)),t.filter(function(e){return typeof e=="string"}).forEach(function(e){oe(e,"-")&&y.warn("please use snake case for '".concat(e,"'")),Ne.add(e)}))}function _s(){return Ne||new Set}function fe(){return new Date().getTime()}function $(){return fe()}function me(){return performance.now()}function ye(){return{relative:me(),timeStamp:$()}}function ys(){return{relative:0,timeStamp:pn()}}function Ss(t,e){return e-t}function bs(t){return t-pn()}var Ye;function pn(){return Ye===void 0&&(Ye=performance.timing.navigationStart),Ye}function vt(t){return Ts(t,ls()).href}function Ts(t,e){if(Is())return e!==void 0?new URL(t,e):new URL(t);if(e===void 0&&!/:/.test(t))throw new Error("Invalid URL: '".concat(t,"'"));var n=document,r=n.createElement("a");if(e!==void 0){n=document.implementation.createHTMLDocument("");var s=n.createElement("base");s.href=e,n.head.appendChild(s),n.body.appendChild(r)}return r.href=t,r}var Z;function Is(){if(Z!==void 0)return Z;try{var t=new URL("http://test/path");return Z=t.href==="http://test/path",Z}catch{Z=!1}return Z}var Os="datad0g.com",de="datadoghq.com",Cs="ddog-gov.com",Rs={logs:"logs",rum:"rum",sessionReplay:"session-replay"},ws={logs:"logs",rum:"rum",sessionReplay:"replay"};function he(t,e,n){var r=t.clientToken,s=As(t,e),i="https://".concat(s,"/api/v2/").concat(ws[e]),o=t.proxyUrl&&vt(t.proxyUrl);return{build:function(a,c){var u=["sdk_version:".concat("4.30.1"),"api:".concat(a)].concat(n);c&&u.push("retry_count:".concat(c.count),"retry_after:".concat(c.lastFailureStatus));var l=["ddsource=browser","ddtags=".concat(encodeURIComponent(u.join(","))),"dd-api-key=".concat(r),"dd-evp-origin-version=".concat(encodeURIComponent("4.30.1")),"dd-evp-origin=browser","dd-request-id=".concat(ie())];e==="rum"&&l.push("batch_time=".concat($())),t.internalAnalyticsSubdomain&&l.reverse();var f="".concat(i,"?").concat(l.join("&"));return o?"".concat(o,"?ddforward=").concat(encodeURIComponent(f)):f},buildIntakeUrl:function(){return o?"".concat(o,"?ddforward"):i},endpointType:e}}function As(t,e){var n=t.site,r=n===void 0?de:n,s=t.internalAnalyticsSubdomain;if(s&&r===de)return"".concat(s,".").concat(de);var i=r.split("."),o=i.pop();return"".concat(Rs[e],".browser-intake-").concat(i.join("-"),".").concat(o)}var Ls=200;function Ns(t){var e=t.env,n=t.service,r=t.version,s=t.datacenter,i=[];return e&&i.push(Ie("env",e)),n&&i.push(Ie("service",n)),r&&i.push(Ie("version",r)),s&&i.push(Ie("datacenter",s)),i}var Ms=/[^a-z0-9_:./-]/;function Ie(t,e){var n=Ls-t.length-1;(e.length>n||Ms.test(e))&&y.warn("".concat(t," value doesn't meet tag requirements and will be sanitized"));var r=e.replace(/,/g,"_");return"".concat(t,":").concat(r)}function Ds(t){var e=Ns(t),n=Ps(t,e),r=ge(n).map(function(i){return i.buildIntakeUrl()}),s=xs(t,r,e);return I({isIntakeUrl:function(i){return r.some(function(o){return i.indexOf(o)===0})},replica:s,site:t.site||de},n)}function Ps(t,e){return{logsEndpointBuilder:he(t,"logs",e),rumEndpointBuilder:he(t,"rum",e),sessionReplayEndpointBuilder:he(t,"sessionReplay",e)}}function xs(t,e,n){if(t.replica){var r=I({},t,{site:de,clientToken:t.replica.clientToken}),s={logsEndpointBuilder:he(r,"logs",n),rumEndpointBuilder:he(r,"rum",n)};return e.push.apply(e,ge(s).map(function(i){return i.buildIntakeUrl()})),I({applicationId:t.replica.applicationId},s)}}function Us(t){var e,n,r;if(!t||!t.clientToken){y.error("Client Token is not configured, we will not send any data.");return}var s=(e=t.sessionSampleRate)!==null&&e!==void 0?e:t.sampleRate;if(s!==void 0&&!Xe(s)){y.error("Session Sample Rate should be a number between 0 and 100");return}if(t.telemetrySampleRate!==void 0&&!Xe(t.telemetrySampleRate)){y.error("Telemetry Sample Rate should be a number between 0 and 100");return}if(t.telemetryConfigurationSampleRate!==void 0&&!Xe(t.telemetryConfigurationSampleRate)){y.error("Telemetry Configuration Sample Rate should be a number between 0 and 100");return}return Es(t.enableExperimentalFeatures),I({beforeSend:t.beforeSend&&hn(t.beforeSend,"beforeSend threw an error:"),cookieOptions:$s(t),sessionSampleRate:s??100,telemetrySampleRate:(n=t.telemetrySampleRate)!==null&&n!==void 0?n:20,telemetryConfigurationSampleRate:(r=t.telemetryConfigurationSampleRate)!==null&&r!==void 0?r:5,service:t.service,silentMultipleInit:!!t.silentMultipleInit,batchBytesLimit:16*ve,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*Ee,batchMessagesLimit:50,messageBytesLimit:256*ve},Ds(t))}function $s(t){var e={};return e.secure=ks(t),e.crossSite=!!t.useCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(e.domain=ms()),e}function ks(t){return!!t.useSecureSessionCookie||!!t.useCrossSiteSessionCookie}function Bs(t){var e;return{session_sample_rate:(e=t.sessionSampleRate)!==null&&e!==void 0?e:t.sampleRate,telemetry_sample_rate:t.telemetrySampleRate,telemetry_configuration_sample_rate:t.telemetryConfigurationSampleRate,use_before_send:!!t.beforeSend,use_cross_site_session_cookie:t.useCrossSiteSessionCookie,use_secure_session_cookie:t.useSecureSessionCookie,use_proxy:t.proxyUrl!==void 0?!!t.proxyUrl:void 0,silent_multiple_init:t.silentMultipleInit,track_session_across_subdomains:t.trackSessionAcrossSubdomains,track_resources:t.trackResources,track_long_task:t.trackLongTasks}}var Se="?";function k(t){var e=[],n=We(t,"stack"),r=String(t);return n&&ln(n,r)&&(n=n.slice(r.length)),n&&n.split(`
`).forEach(function(s){var i=Vs(s)||Hs(s)||Ks(s)||Ys(s);i&&(!i.func&&i.line&&(i.func=Se),e.push(i))}),{message:We(t,"message"),name:We(t,"name"),stack:e}}var vn="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",re="(?::(\\d+))",Gs=new RegExp("^\\s*at (.*?) ?\\(".concat(vn).concat(re,"?").concat(re,"?\\)?\\s*$"),"i"),Fs=new RegExp("\\((\\S*)".concat(re).concat(re,"\\)"));function Vs(t){var e=Gs.exec(t);if(e){var n=e[2]&&e[2].indexOf("native")===0,r=e[2]&&e[2].indexOf("eval")===0,s=Fs.exec(e[2]);return r&&s&&(e[2]=s[1],e[3]=s[2],e[4]=s[3]),{args:n?[e[2]]:[],column:e[4]?+e[4]:void 0,func:e[1]||Se,line:e[3]?+e[3]:void 0,url:n?void 0:e[2]}}}var js=new RegExp("^\\s*at ?".concat(vn).concat(re,"?").concat(re,"??\\s*$"),"i");function Hs(t){var e=js.exec(t);if(e)return{args:[],column:e[3]?+e[3]:void 0,func:Se,line:e[2]?+e[2]:void 0,url:e[1]}}var zs=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Ks(t){var e=zs.exec(t);if(e)return{args:[],column:e[4]?+e[4]:void 0,func:e[1]||Se,line:+e[3],url:e[2]}}var Xs=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,qs=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Ys(t){var e=Xs.exec(t);if(e){var n=e[3]&&e[3].indexOf(" > eval")>-1,r=qs.exec(e[3]);return n&&r&&(e[3]=r[1],e[4]=r[2],e[5]=void 0),{args:e[2]?e[2].split(","):[],column:e[5]?+e[5]:void 0,func:e[1]||Se,line:e[4]?+e[4]:void 0,url:e[3]}}}function We(t,e){if(!(typeof t!="object"||!t||!(e in t))){var n=t[e];return typeof n=="string"?n:void 0}}function gn(t,e,n){var r=t[e],s=n(r),i=function(){if(typeof s=="function")return s.apply(this,arguments)};return t[e]=i,{stop:function(){t[e]===i?t[e]=r:s=r}}}function ne(t,e,n){var r=n.before,s=n.after;return gn(t,e,function(i){return function(){var o=arguments,a;return r&&H(r,this,o),typeof i=="function"&&(a=i.apply(this,o)),s&&H(s,this,o),a}})}var Ws=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function Zs(t){var e=Js(t).stop,n=Qs(t).stop;return{stop:function(){e(),n()}}}function Js(t){return ne(window,"onerror",{before:function(e,n,r,s,i){var o;if(i)o=k(i),t(o,i);else{var a={url:n,column:s,line:r},c,u=e;if({}.toString.call(e)==="[object String]"){var l=Ws.exec(u);l&&(c=l[1],u=l[2])}o={name:c,message:typeof u=="string"?u:void 0,stack:[a]},t(o,e)}}})}function Qs(t){return ne(window,"onunhandledrejection",{before:function(e){var n=e.reason||"Empty reason",r=k(n);t(r,n)}})}var b={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function ei(t){var e=t.stackTrace,n=t.originalError,r=t.handlingStack,s=t.startClocks,i=t.nonErrorPrefix,o=t.source,a=t.handling;return!e||e.message===void 0&&!(n instanceof Error)?{startClocks:s,source:o,handling:a,originalError:n,message:"".concat(i," ").concat(Ve(n)),stack:"No stack, consider using an instance of Error",handlingStack:r,type:e&&e.name}:{startClocks:s,source:o,handling:a,originalError:n,message:e.message||"Empty message",stack:K(e),handlingStack:r,type:e.name,causes:ri(n,o)}}function K(t){var e=mn(t);return t.stack.forEach(function(n){var r=n.func==="?"?"<anonymous>":n.func,s=n.args&&n.args.length>0?"(".concat(n.args.join(", "),")"):"",i=n.line?":".concat(n.line):"",o=n.line&&n.column?":".concat(n.column):"";e+=`
  at `.concat(r).concat(s," @ ").concat(n.url).concat(i).concat(o)}),e}function ti(t){var e;return(e=/@ (.+)/.exec(t))===null||e===void 0?void 0:e[1]}function mn(t){return"".concat(t.name||"Error",": ").concat(t.message)}function ni(){var t=2,e=new Error,n;if(!e.stack)try{throw e}catch{}return H(function(){var r=k(e);r.stack=r.stack.slice(t),n=K(r)}),n}function ri(t,e){for(var n=t,r=[];(n==null?void 0:n.cause)instanceof Error&&r.length<10;){var s=k(n.cause);r.push({message:n.cause.message,source:e,type:s==null?void 0:s.name,stack:s&&K(s)}),n=n.cause}return r.length?r:void 0}function si(t){return Zs(function(e,n){t.notify(ei({stackTrace:e,originalError:n,startClocks:ye(),nonErrorPrefix:"Uncaught",source:b.SOURCE,handling:"unhandled"}))})}function ii(t){var e=I({version:"4.30.1",onReady:function(n){n()}},t);return Object.defineProperty(e,"_setDebug",{get:function(){return ts},enumerable:!1}),e}function oi(t,e,n){var r=t[e];t[e]=n,r&&r.q&&r.q.forEach(function(s){return hn(s,"onReady callback threw an error:")()})}var R=function(){function t(e){this.onFirstSubscribe=e,this.observers=[]}return t.prototype.subscribe=function(e){var n=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){n.observers=n.observers.filter(function(r){return e!==r}),!n.observers.length&&n.onLastUnsubscribe&&n.onLastUnsubscribe()}}},t.prototype.notify=function(e){this.observers.forEach(function(n){return n(e)})},t}();function En(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new R(function(){var r=t.map(function(s){return s.subscribe(function(i){return n.notify(i)})});return function(){return r.forEach(function(s){return s.unsubscribe()})}});return n}function At(t,e){var n=window,r;return n.Zone&&typeof n.Zone.__symbol__=="function"&&(r=t[n.Zone.__symbol__(e)]),r||(r=t[e]),r}function Ue(t,e,n,r){return _n(t,[e],n,r)}function _n(t,e,n,r){var s=r===void 0?{}:r,i=s.once,o=s.capture,a=s.passive,c=p(i?function(h){f(),n(h)}:n),u=a?{capture:o,passive:a}:o,l=At(t,"addEventListener");e.forEach(function(h){return l.call(t,h,c,u)});function f(){var h=At(t,"removeEventListener");e.forEach(function(d){return h.call(t,d,c,u)})}return{stop:f}}var x={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function ai(t){var e=[];oe(t,x.cspViolation)&&e.push(ui());var n=t.filter(function(r){return r!==x.cspViolation});return n.length&&e.push(ci(n)),En.apply(void 0,e)}function ci(t){var e=new R(function(){if(window.ReportingObserver){var n=p(function(s){return s.forEach(function(i){e.notify(li(i))})}),r=new window.ReportingObserver(n,{types:t,buffered:!0});return r.observe(),function(){r.disconnect()}}});return e}function ui(){var t=new R(function(){var e=p(function(r){t.notify(fi(r))}),n=Ue(document,"securitypolicyviolation",e).stop;return n});return t}function li(t){var e=t.type,n=t.body;return{type:e,subtype:n.id,message:"".concat(e,": ").concat(n.message),stack:yn(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)}}function fi(t){var e=x.cspViolation,n="'".concat(t.blockedURI,"' blocked by '").concat(t.effectiveDirective,"' directive");return{type:x.cspViolation,subtype:t.effectiveDirective,message:"".concat(e,": ").concat(n),stack:yn(t.effectiveDirective,t.originalPolicy?"".concat(n,' of the policy "').concat(hs(t.originalPolicy,100,"..."),'"'):"no policy",t.sourceFile,t.lineNumber,t.columnNumber)}}function yn(t,e,n,r,s){return n&&K({name:t,message:e,stack:[{func:"?",url:n,line:r,column:s}]})}function Sn(t,e){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:t,payload:e})}var gt={log:"log",configuration:"configuration"},di=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],hi=[Cs],M={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1},at;function pi(t,e){var n,r=new R;M.telemetryEnabled=ot(e.telemetrySampleRate),M.telemetryConfigurationEnabled=M.telemetryEnabled&&ot(e.telemetryConfigurationSampleRate),at=function(i){if(!oe(hi,e.site)&&M.telemetryEnabled){var o=s(t,i);r.notify(o),Sn("telemetry",o)}},es(bn),I(M,{maxEventsPerPage:e.maxTelemetryEventsPerPage,sentEventCount:0});function s(i,o){return je({type:"telemetry",date:$(),service:i,version:"4.30.1",source:"browser",_dd:{format_version:2},telemetry:o,experimental_features:cn(_s())},n!==void 0?n():{})}return{setContextProvider:function(i){n=i},observable:r}}function vi(t){return t.site===Os}function gi(t,e){it(T.debug,t,e),mt(I({type:gt.log,message:t,status:"debug"},e))}function bn(t){mt(I({type:gt.log,status:"error"},Ei(t)))}function mi(t){M.telemetryConfigurationEnabled&&mt({type:gt.configuration,configuration:t})}function mt(t){at&&M.sentEventCount<M.maxEventsPerPage&&(M.sentEventCount+=1,at(t))}function Ei(t){if(t instanceof Error){var e=k(t);return{error:{kind:e.name,stack:K(_i(e))},message:e.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(Ve(t))}}function _i(t){return t.stack=t.stack.filter(function(e){return!e.url||di.some(function(n){return ln(e.url,n)})}),t}var Oe=1/0,yi=z,Si=function(){function t(e){var n=this;this.expireDelay=e,this.entries=[],this.clearOldContextsInterval=setInterval(function(){return n.clearOldContexts()},yi)}return t.prototype.add=function(e,n){var r=this,s={context:e,startTime:n,endTime:Oe,remove:function(){var i=r.entries.indexOf(s);i>=0&&r.entries.splice(i,1)},close:function(i){s.endTime=i}};return this.entries.unshift(s),s},t.prototype.find=function(e){e===void 0&&(e=Oe);for(var n=0,r=this.entries;n<r.length;n++){var s=r[n];if(s.startTime<=e){if(e<=s.endTime)return s.context;break}}},t.prototype.closeActive=function(e){var n=this.entries[0];n&&n.endTime===Oe&&n.close(e)},t.prototype.findAll=function(e){return e===void 0&&(e=Oe),this.entries.filter(function(n){return n.startTime<=e&&e<=n.endTime}).map(function(n){return n.context})},t.prototype.reset=function(){this.entries=[]},t.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},t.prototype.clearOldContexts=function(){for(var e=me()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},t}();function bi(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}var Tn=4*rs,In=15*z,On=/^([a-z]+)=([a-z0-9-]+)$/,Et="&",He="_dd_s",Ti=10,Ii=100,Cn=[],Me;function pe(t,e){var n;if(e===void 0&&(e=0),Me||(Me=t),t!==Me){Cn.push(t);return}if(e>=Ii){Lt();return}var r,s=le();if(Ze()){if(s.lock){Ce(t,e);return}if(r=ie(),s.lock=r,ct(s,t.options),s=le(),s.lock!==r){Ce(t,e);return}}var i=t.process(s);if(Ze()&&(s=le(),s.lock!==r)){Ce(t,e);return}if(i&&Rn(i,t.options),Ze()&&!(i&&wn(i))){if(s=le(),s.lock!==r){Ce(t,e);return}delete s.lock,ct(s,t.options),i=s}(n=t.after)===null||n===void 0||n.call(t,i||s),Lt()}function Ze(){return bi()}function Ce(t,e){setTimeout(p(function(){pe(t,e+1)}),Ti)}function Lt(){Me=void 0;var t=Cn.shift();t&&pe(t)}function Rn(t,e){if(wn(t)){Ri(e);return}t.expire=String(fe()+In),ct(t,e)}function ct(t,e){_e(He,Oi(t),In,e)}function Oi(t){return cs(t).map(function(e){var n=e[0],r=e[1];return"".concat(n,"=").concat(r)}).join(Et)}function le(){var t=N(He),e={};return Ci(t)&&t.split(Et).forEach(function(n){var r=On.exec(n);if(r!==null){var s=r[1],i=r[2];e[s]=i}}),e}function Ci(t){return t!==void 0&&(t.indexOf(Et)!==-1||On.test(t))}function wn(t){return un(t)}function Ri(t){_e(He,"",0,t)}var wi="_dd",Ai="_dd_r",Li="_dd_l",Ni="rum",Mi="logs";function Di(t){var e=N(He),n=N(wi),r=N(Ai),s=N(Li);if(!e){var i={};n&&(i.id=n),s&&/^[01]$/.test(s)&&(i[Mi]=s),r&&/^[012]$/.test(r)&&(i[Ni]=r),Rn(i,t)}}function Pi(t,e,n){var r=new R,s=new R,i=setInterval(p(u),wt),o=S();function a(){var v;pe({options:t,process:function(A){var B=l(A);return v=f(B),B},after:function(A){v&&!h()&&_(A),o=A}})}function c(){pe({options:t,process:function(v){return h()?l(v):void 0}})}function u(){pe({options:t,process:function(v){return Y(v)?void 0:{}},after:l})}function l(v){return Y(v)||(v={}),h()&&(d(v)?g():o=v),v}function f(v){var A=n(v[e]),B=A.trackingType,G=A.isTracked;return v[e]=B,G&&!v.id&&(v.id=ie(),v.created=String(fe())),G}function h(){return o[e]!==void 0}function d(v){return o.id!==v.id||o[e]!==v[e]}function g(){o={},s.notify()}function _(v){o=v,r.notify()}function S(){var v=le();return Y(v)?v:{}}function Y(v){return(v.created===void 0||fe()-Number(v.created)<Tn)&&(v.expire===void 0||fe()<Number(v.expire))}return{expandOrRenewSession:ss(p(a),wt).throttled,expandSession:c,getSession:function(){return o},renewObservable:r,expireObservable:s,stop:function(){clearInterval(i)}}}var xi=z,Ui=Tn;function $i(t,e,n){Di(t);var r=Pi(t,e,n),s=new Si(Ui);r.renewObservable.subscribe(function(){s.add(i(),me())}),r.expireObservable.subscribe(function(){s.closeActive(me())}),r.expandOrRenewSession(),s.add(i(),ys().relative),ki(function(){return r.expandOrRenewSession()}),Bi(function(){return r.expandSession()});function i(){return{id:r.getSession().id,trackingType:r.getSession()[e]}}return{findActiveSession:function(o){return s.find(o)},renewObservable:r.renewObservable,expireObservable:r.expireObservable}}function ki(t){_n(window,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0}).stop}function Bi(t){var e=p(function(){document.visibilityState==="visible"&&t()});Ue(document,"visibilitychange",e).stop,setInterval(e,xi)}var Gi=80*ve,Fi=32,An=3*an,Vi=z,Ln=Ee;function Nn(t,e,n,r,s){e.transportStatus===0&&e.queuedPayloads.size()===0&&e.bandwidthMonitor.canHandle(t)?Dn(t,e,n,{onSuccess:function(){return Pn(0,e,n,r,s)},onFailure:function(){e.queuedPayloads.enqueue(t),Mn(e,n,r,s)}}):e.queuedPayloads.enqueue(t)}function Mn(t,e,n,r){t.transportStatus===2&&setTimeout(p(function(){var s=t.queuedPayloads.first();Dn(s,t,e,{onSuccess:function(){t.queuedPayloads.dequeue(),t.currentBackoffTime=Ln,Pn(1,t,e,n,r)},onFailure:function(){t.currentBackoffTime=Math.min(Vi,t.currentBackoffTime*2),Mn(t,e,n,r)}})}),t.currentBackoffTime)}function Dn(t,e,n,r){var s=r.onSuccess,i=r.onFailure;e.bandwidthMonitor.add(t),n(t,function(o){e.bandwidthMonitor.remove(t),ji(o)?(e.transportStatus=e.bandwidthMonitor.ongoingRequestCount>0?1:2,t.retry={count:t.retry?t.retry.count+1:1,lastFailureStatus:o.status},i()):(e.transportStatus=0,s())})}function Pn(t,e,n,r,s){t===0&&e.queuedPayloads.isFull()&&!e.queueFullReported&&(s({message:"Reached max ".concat(r," events size queued for upload: ").concat(An/an,"MiB"),source:b.AGENT,startClocks:ye()}),e.queueFullReported=!0);var i=e.queuedPayloads;for(e.queuedPayloads=xn();i.size()>0;)Nn(i.dequeue(),e,n,r,s)}function ji(t){return t.type!=="opaque"&&(t.status===0&&!navigator.onLine||t.status===408||t.status===429||t.status>=500)}function Hi(){return{transportStatus:0,currentBackoffTime:Ln,bandwidthMonitor:zi(),queuedPayloads:xn(),queueFullReported:!1}}function xn(){var t=[];return{bytesCount:0,enqueue:function(e){this.isFull()||(t.push(e),this.bytesCount+=e.bytesCount)},first:function(){return t[0]},dequeue:function(){var e=t.shift();return e&&(this.bytesCount-=e.bytesCount),e},size:function(){return t.length},isFull:function(){return this.bytesCount>=An}}}function zi(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(t){return this.ongoingRequestCount===0||this.ongoingByteCount+t.bytesCount<=Gi&&this.ongoingRequestCount<Fi},add:function(t){this.ongoingRequestCount+=1,this.ongoingByteCount+=t.bytesCount},remove:function(t){this.ongoingRequestCount-=1,this.ongoingByteCount-=t.bytesCount}}}function Ki(t,e,n){var r=Hi(),s=function(i,o){return Yi(t,e,i,o)};return{send:function(i){Nn(i,r,s,t.endpointType,n)},sendOnExit:function(i){Xi(t,e,i)}}}function Xi(t,e,n){var r=n.data,s=n.bytesCount,i=!!navigator.sendBeacon&&s<e;if(i)try{var o=t.build("beacon"),a=navigator.sendBeacon(o,r);if(a)return}catch(u){qi(u)}var c=t.build("xhr");ut(c,r)}var Nt=!1;function qi(t){Nt||(Nt=!0,bn(t))}function Yi(t,e,n,r){var s=n.data,i=n.bytesCount,o=n.retry,a=Wi()&&i<e;if(a){var c=t.build("fetch",o);fetch(c,{method:"POST",body:s,keepalive:!0,mode:"cors"}).then(p(function(l){return r==null?void 0:r({status:l.status,type:l.type})}),p(function(){var l=t.build("xhr",o);ut(l,s,r)}))}else{var u=t.build("xhr",o);ut(u,s,r)}}function Wi(){try{return window.Request&&"keepalive"in new Request("http://a")}catch{return!1}}function ut(t,e,n){var r=new XMLHttpRequest,s=p(function(){r.removeEventListener("loadend",s),n==null||n({status:r.status})});r.open("POST",t,!0),r.addEventListener("loadend",s),r.send(e)}var Zi=/[^\u0000-\u007F]/,Ji=function(){function t(e,n,r,s,i,o){var a=this;this.request=e,this.batchMessagesLimit=n,this.batchBytesLimit=r,this.messageBytesLimit=s,this.flushTimeout=i,this.pageExitObservable=o,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,o.subscribe(function(){return a.flush(a.request.sendOnExit)}),this.flushPeriodically()}return t.prototype.add=function(e){this.addOrUpdate(e)},t.prototype.upsert=function(e,n){this.addOrUpdate(e,n)},t.prototype.flush=function(e){if(e===void 0&&(e=this.request.send),this.bufferMessagesCount!==0){var n=this.pushOnlyBuffer.concat(ge(this.upsertBuffer)),r=this.bufferBytesCount;this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,e({data:n.join(`
`),bytesCount:r})}},t.prototype.computeBytesCount=function(e){return Zi.test(e)?window.TextEncoder!==void 0?new TextEncoder().encode(e).length:new Blob([e]).size:e.length},t.prototype.addOrUpdate=function(e,n){var r=this.process(e),s=r.processedMessage,i=r.messageBytesCount;if(i>=this.messageBytesLimit){y.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB."));return}this.hasMessageFor(n)&&this.remove(n),this.willReachedBytesLimitWith(i)&&this.flush(),this.push(s,i,n),this.isFull()&&this.flush()},t.prototype.process=function(e){var n=Ve(e),r=this.computeBytesCount(n);return{processedMessage:n,messageBytesCount:r}},t.prototype.push=function(e,n,r){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),r!==void 0?this.upsertBuffer[r]=e:this.pushOnlyBuffer.push(e),this.bufferBytesCount+=n,this.bufferMessagesCount+=1},t.prototype.remove=function(e){var n=this.upsertBuffer[e];delete this.upsertBuffer[e];var r=this.computeBytesCount(n);this.bufferBytesCount-=r,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},t.prototype.hasMessageFor=function(e){return e!==void 0&&this.upsertBuffer[e]!==void 0},t.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesCount+e+1>=this.batchBytesLimit},t.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},t.prototype.flushPeriodically=function(){var e=this;setTimeout(p(function(){e.flush(),e.flushPeriodically()}),this.flushTimeout)},t}();function _t(){var t=Qi();if(t)return{getAllowedWebViewHosts:function(){return JSON.parse(t.getAllowedWebViewHosts())},send:function(e,n){t.send(JSON.stringify({eventType:e,event:n}))}}}function $e(t){var e;t===void 0&&(t=(e=pt().location)===null||e===void 0?void 0:e.hostname);var n=_t();return!!n&&n.getAllowedWebViewHosts().some(function(r){return t===r||us(t,".".concat(r))})}function Qi(){return pt().DatadogEventBridge}function Un(t,e,n,r,s){var i=a(e),o;s&&(o=a(s));function a(c){return new Ji(Ki(c,t.batchBytesLimit,n),t.batchMessagesLimit,t.batchBytesLimit,t.messageBytesLimit,t.flushTimeout,r)}return{add:function(c,u){u===void 0&&(u=!0),i.add(c),o&&u&&o.add(c)}}}function eo(t,e,n){var r=0,s=!1;return{isLimitReached:function(){if(r===0&&setTimeout(function(){r=0},z),r+=1,r<=e||s)return s=!1,!1;if(r===e+1){s=!0;try{n({message:"Reached max number of ".concat(t,"s by minute: ").concat(e),source:b.AGENT,startClocks:ye()})}finally{s=!1}}return!0}}}var Je,yt=new WeakMap;function to(){return Je||(Je=no()),Je}function no(){var t=new R(function(){var e=ne(XMLHttpRequest.prototype,"open",{before:ro}).stop,n=ne(XMLHttpRequest.prototype,"send",{before:function(){so.call(this,t)}}).stop,r=ne(XMLHttpRequest.prototype,"abort",{before:io}).stop;return function(){e(),n(),r()}});return t}function ro(t,e){yt.set(this,{state:"open",method:t,url:vt(String(e))})}function so(t){var e=this,n=yt.get(this);if(n){var r=n;r.state="start",r.startTime=me(),r.startClocks=ye(),r.isAborted=!1,r.xhr=this;var s=!1,i=ne(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&o()}}).stop,o=p(function(){if(e.removeEventListener("loadend",o),i(),!s){s=!0;var a=n;a.state="complete",a.duration=Ss(r.startClocks.timeStamp,$()),a.status=e.status,t.notify(is(a))}});this.addEventListener("loadend",o),t.notify(r)}}function io(){var t=yt.get(this);t&&(t.isAborted=!0)}var Qe;function oo(){return Qe||(Qe=ao()),Qe}function ao(){var t=new R(function(){if(window.fetch){var e=gn(window,"fetch",function(n){return function(r,s){var i,o=H(co,null,[t,r,s]);return o?(i=n.call(this,o.input,o.init),H(uo,null,[t,i,o])):i=n.call(this,r,s),i}}).stop;return e}});return t}function co(t,e,n){var r=n&&n.method||typeof e=="object"&&e.method||"GET",s=vt(typeof e=="object"&&e.url||e),i=ye(),o={state:"start",init:n,input:e,method:r,startClocks:i,url:s};return t.notify(o),o}function uo(t,e,n){var r=function(s){var i=n;i.state="resolve","stack"in s||s instanceof Error?(i.status=0,i.isAborted=s instanceof DOMException&&s.code===DOMException.ABORT_ERR,i.error=s):"status"in s&&(i.response=s,i.responseType=s.type,i.status=s.status,i.isAborted=!1),t.notify(i)};e.then(p(r),p(r))}function lo(){var t=new R(function(){var e=Ue(document,"visibilitychange",function(){document.visibilityState==="hidden"&&t.notify({reason:"visibility_hidden"})},{capture:!0}).stop,n=Ue(window,"beforeunload",function(){t.notify({reason:"before_unload"})}).stop;return function(){e(),n()}});return t}var et={};function fo(t){var e=t.map(function(n){return et[n]||(et[n]=ho(n)),et[n]});return En.apply(void 0,e)}function ho(t){var e=new R(function(){var n=console[t];return console[t]=function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];n.apply(console,r);var i=ni();H(function(){e.notify(po(r,t,i))})},function(){console[t]=n}});return e}function po(t,e,n){var r=t.map(function(o){return vo(o)}).join(" "),s;if(e===T.error){var i=os(t,function(o){return o instanceof Error});s=i?K(k(i)):void 0,r="console error: ".concat(r)}return{api:e,message:r,stack:s,handlingStack:n}}function vo(t){return typeof t=="string"?t:t instanceof Error?mn(k(t)):Ve(t,void 0,2)}var go=500,mo=function(){function t(){this.buffer=[]}return t.prototype.add=function(e){var n=this.buffer.push(e);n>go&&this.buffer.splice(0,1)},t.prototype.drain=function(){this.buffer.forEach(function(e){return e()}),this.buffer.length=0},t}();function lt(){var t={};return{get:function(){return t},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},set:function(e){t=e},getContext:function(){return te(t)},setContext:function(e){t=te(e)},setContextProperty:function(e,n){t[e]=te(n)},removeContextProperty:function(e){delete t[e]},clearContext:function(){t={}}}}function Eo(t,e,n){var r=t.getReader(),s=[],i=0;o();function o(){r.read().then(p(function(c){if(c.done){a();return}n.collectStreamBody&&s.push(c.value),i+=c.value.length,i>n.bytesLimit?a():o()}),p(function(c){return e(c)}))}function a(){r.cancel().catch(Fe);var c,u;if(n.collectStreamBody){var l;if(s.length===1)l=s[0];else{l=new Uint8Array(i);var f=0;s.forEach(function(h){l.set(h,f),f+=h.length})}c=l.slice(0,n.bytesLimit),u=l.length>n.bytesLimit}e(void 0,c,u)}}var _o="datadog-synthetics-public-id",yo="datadog-synthetics-result-id",So="datadog-synthetics-injects-rum";function $n(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||N(So))}function bo(){var t=window._DATADOG_SYNTHETICS_PUBLIC_ID||N(_o);return typeof t=="string"?t:void 0}function To(){var t=window._DATADOG_SYNTHETICS_RESULT_ID||N(yo);return typeof t=="string"?t:void 0}function Mt(t){var e=I({},t),n=["id","name","email"];return n.forEach(function(r){r in e&&(e[r]=String(e[r]))}),e}function Io(t){var e=fn(t)==="object";return e||y.error("Unsupported user:",t),e}var Oo=32*ve;function Co(t){var e=Us(t),n=Dt(t.forwardConsoleLogs,ge(T),"Forward Console Logs"),r=Dt(t.forwardReports,ge(x),"Forward Reports");if(!(!e||!n||!r))return t.forwardErrorsToLogs&&!oe(n,T.error)&&n.push(T.error),I({forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:n,forwardReports:r,requestErrorResponseLengthLimit:Oo},e)}function Dt(t,e,n){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(function(r){return oe(e,r)}))){y.error("".concat(n,' should be "all" or an array with allowed values "').concat(e.join('", "'),'"'));return}return t==="all"?e:vs(t)}function Ro(t){var e=Bs(t);return I({forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports},e)}var wo=globalThis&&globalThis.__decorate||function(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},E={debug:"debug",error:"error",info:"info",warn:"warn"},St={console:"console",http:"http",silent:"silent"},Ao=Object.keys(E),Pt=function(){function t(e,n,r,s,i){r===void 0&&(r=St.http),s===void 0&&(s=E.debug),i===void 0&&(i={}),this.handleLogStrategy=e,this.handlerType=r,this.level=s,this.contextManager=lt(),this.contextManager.set(I({},i,n?{logger:{name:n}}:void 0))}return t.prototype.log=function(e,n,r){r===void 0&&(r=E.info),this.handleLogStrategy({message:e,context:te(n),status:r},this)},t.prototype.debug=function(e,n){this.log(e,n,E.debug)},t.prototype.info=function(e,n){this.log(e,n,E.info)},t.prototype.warn=function(e,n){this.log(e,n,E.warn)},t.prototype.error=function(e,n){var r={error:{origin:b.LOGGER}};this.log(e,je(r,n),E.error)},t.prototype.setContext=function(e){this.contextManager.set(e)},t.prototype.getContext=function(){return this.contextManager.get()},t.prototype.addContext=function(e,n){this.contextManager.add(e,n)},t.prototype.removeContext=function(e){this.contextManager.remove(e)},t.prototype.setHandler=function(e){this.handlerType=e},t.prototype.getHandler=function(){return this.handlerType},t.prototype.setLevel=function(e){this.level=e},t.prototype.getLevel=function(){return this.level},wo([ns],t.prototype,"log",null),t}();function Lo(t){var e=!1,n=lt(),r=lt(),s={},i=function(){},o=new mo,a=function(d,g,_,S){_===void 0&&(_=te(l())),S===void 0&&(S=$()),o.add(function(){return a(d,g,_,S)})},c=function(){},u=new Pt(function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return a.apply(void 0,d)});function l(){return{view:{referrer:document.referrer,url:window.location.href},context:n.getContext(),user:r.getContext()}}return ii({logger:u,init:p(function(d){var g;if(c=function(){return te(d)},$e()&&(d=f(d)),!!h(d)){var _=Co(d);_&&(g=t(d,_,l,u),a=g.handleLog,i=g.getInternalContext,o.drain(),e=!0)}}),getLoggerGlobalContext:p(n.get),getGlobalContext:p(n.getContext),setLoggerGlobalContext:p(n.set),setGlobalContext:p(n.setContext),addLoggerGlobalContext:p(n.add),setGlobalContextProperty:p(n.setContextProperty),removeLoggerGlobalContext:p(n.remove),removeGlobalContextProperty:p(n.removeContextProperty),clearGlobalContext:p(n.clearContext),createLogger:p(function(d,g){return g===void 0&&(g={}),s[d]=new Pt(function(){for(var _=[],S=0;S<arguments.length;S++)_[S]=arguments[S];return a.apply(void 0,_)},d,g.handler,g.level,g.context),s[d]}),getLogger:p(function(d){return s[d]}),getInitConfiguration:p(function(){return c()}),getInternalContext:p(function(d){return i(d)}),setUser:p(function(d){Io(d)&&r.setContext(Mt(d))}),getUser:p(r.getContext),setUserProperty:p(function(d,g){var _,S=Mt((_={},_[d]=g,_))[d];r.setContextProperty(d,S)}),removeUserProperty:p(r.removeContextProperty),clearUser:p(r.clearContext)});function f(d){return I({},d,{clientToken:"empty"})}function h(d){return e?(d.silentMultipleInit||y.error("DD_LOGS is already initialized."),!1):!0}}var No="logs";function Mo(t){var e=$i(t.cookieOptions,No,function(n){return Po(t,n)});return{findTrackedSession:function(n){var r=e.findActiveSession(n);return r&&r.trackingType==="1"?{id:r.id}:void 0}}}function Do(t){var e=kn(t)==="1",n=e?{}:void 0;return{findTrackedSession:function(){return n}}}function kn(t){return ot(t.sessionSampleRate)?"1":"0"}function Po(t,e){var n=xo(e)?e:kn(t);return{trackingType:n,isTracked:n==="1"}}function xo(t){return t==="0"||t==="1"}var J,xt=(J={},J[E.debug]=0,J[E.info]=1,J[E.warn]=2,J[E.error]=3,J);function Uo(t){function e(n,r,s,i){var o=n.context;Bn(n.status,St.console,r)&&y(n.status,n.message,je(r.getContext(),o)),t.notify(0,{rawLogsEvent:{date:i||$(),message:n.message,status:n.status,origin:b.LOGGER},messageContext:o,savedCommonContext:s,logger:r})}return{handleLog:e}}function Bn(t,e,n){var r=n.getHandler(),s=Array.isArray(r)?r:[r];return xt[t]>=xt[n.getLevel()]&&oe(s,e)}function $o(t,e,n,r,s,i){var o=Ao.concat(["custom"]),a={};o.forEach(function(c){a[c]=eo(c,e.eventRateLimiterThreshold,i)}),n.subscribe(0,function(c){var u,l,f,h=c.rawLogsEvent,d=c.messageContext,g=d===void 0?void 0:d,_=c.savedCommonContext,S=_===void 0?void 0:_,Y=c.logger,v=Y===void 0?s:Y,A=bs(h.date),B=t.findTrackedSession(A);if(B){var G=S||r(),be=je({service:e.service,session_id:B.id,usr:un(G.user)?void 0:G.user,view:G.view},G.context,De(A),h,v.getContext(),g);!Bn(h.status,St.http,v)||((u=e.beforeSend)===null||u===void 0?void 0:u.call(e,be))===!1||((l=be.error)===null||l===void 0?void 0:l.origin)!==b.AGENT&&((f=a[be.status])!==null&&f!==void 0?f:a.custom).isLimitReached()||n.notify(1,be)}})}var Ut=!1;function De(t){var e=window;if($n()){var n=r(e.DD_RUM_SYNTHETICS);return!n&&!Ut&&(Ut=!0,gi("Logs sent before RUM is injected by the synthetics worker",{testId:bo(),resultId:To()})),n}return r(e.DD_RUM);function r(s){if(s&&s.getInternalContext)return s.getInternalContext(t)}}var F,ko=(F={},F[T.log]=E.info,F[T.debug]=E.debug,F[T.info]=E.info,F[T.warn]=E.warn,F[T.error]=E.error,F);function Bo(t,e){var n=fo(t.forwardConsoleLogs).subscribe(function(r){e.notify(0,{rawLogsEvent:{date:$(),message:r.message,origin:b.CONSOLE,error:r.api===T.error?{origin:b.CONSOLE,stack:r.stack}:void 0,status:ko[r.api]}})});return{stop:function(){n.unsubscribe()}}}var ce,Go=(ce={},ce[x.cspViolation]=E.error,ce[x.intervention]=E.error,ce[x.deprecation]=E.warn,ce);function Fo(t,e){var n=ai(t.forwardReports).subscribe(function(r){var s=r.message,i=Go[r.type],o;i===E.error?o={kind:r.subtype,origin:b.REPORT,stack:r.stack}:r.stack&&(s+=" Found in ".concat(ti(r.stack))),e.notify(0,{rawLogsEvent:{date:$(),message:s,origin:b.REPORT,error:o,status:i}})});return{stop:function(){n.unsubscribe()}}}function Vo(t,e){if(!t.forwardErrorsToLogs)return{stop:Fe};var n=to().subscribe(function(i){i.state==="complete"&&s("xhr",i)}),r=oo().subscribe(function(i){i.state==="resolve"&&s("fetch",i)});function s(i,o){!t.isIntakeUrl(o.url)&&(Ko(o)||Xo(o))&&("xhr"in o?jo(o.xhr,t,a):o.response?zo(o.response,t,a):o.error&&Ho(o.error,t,a));function a(c){e.notify(0,{rawLogsEvent:{message:"".concat(qo(i)," error ").concat(o.method," ").concat(o.url),date:o.startClocks.timeStamp,error:{origin:b.NETWORK,stack:c||"Failed to load"},http:{method:o.method,status_code:o.status,url:o.url},status:E.error,origin:b.NETWORK}})}}return{stop:function(){n.unsubscribe(),r.unsubscribe()}}}function jo(t,e,n){typeof t.response=="string"?n(bt(t.response,e)):n(t.response)}function Ho(t,e,n){n(bt(K(k(t)),e))}function zo(t,e,n){window.TextDecoder?t.body?Yo(t.clone().body,e.requestErrorResponseLengthLimit,function(r,s){n(r?"Unable to retrieve response: ".concat(r):s)}):n():t.clone().text().then(p(function(r){return n(bt(r,e))}),p(function(r){return n("Unable to retrieve response: ".concat(r))}))}function Ko(t){return t.status===0&&t.responseType!=="opaque"}function Xo(t){return t.status>=500}function bt(t,e){return t.length>e.requestErrorResponseLengthLimit?"".concat(t.substring(0,e.requestErrorResponseLengthLimit),"..."):t}function qo(t){return t==="xhr"?"XHR":"Fetch"}function Yo(t,e,n){Eo(t,function(r,s,i){if(r)n(r);else{var o=new TextDecoder().decode(s);i&&(o+="..."),n(void 0,o)}},{bytesLimit:e,collectStreamBody:!0})}function Wo(t,e){if(!t.forwardErrorsToLogs)return{stop:Fe};var n=new R,r=si(n).stop,s=n.subscribe(function(i){e.notify(0,{rawLogsEvent:{message:i.message,date:i.startClocks.timeStamp,error:{kind:i.type,origin:b.SOURCE,stack:i.stack},origin:b.SOURCE,status:E.error}})});return{stop:function(){r(),s.unsubscribe()}}}var Zo=function(){function t(){this.callbacks={}}return t.prototype.notify=function(e,n){var r=this.callbacks[e];r&&r.forEach(function(s){return s(n)})},t.prototype.subscribe=function(e,n){var r=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),{unsubscribe:function(){r.callbacks[e]=r.callbacks[e].filter(function(s){return n!==s})}}},t}();function Jo(t,e,n,r){var s,i=Un(t,t.logsEndpointBuilder,n,r,(s=t.replica)===null||s===void 0?void 0:s.logsEndpointBuilder);e.subscribe(1,function(o){i.add(o)})}function Qo(t){var e=_t();t.subscribe(1,function(n){e.send("log",n)})}function ea(t){return{get:function(e){var n=t.findTrackedSession(e);if(n)return{session_id:n.id}}}}function ta(t,e,n,r){var s=new Zo;s.subscribe(1,function(f){return Sn("logs",f)});var i=function(f){return s.notify(0,{rawLogsEvent:{message:f.message,date:f.startClocks.timeStamp,error:{origin:b.AGENT},origin:b.AGENT,status:E.error}})},o=lo(),a=na(e,i,o);a.setContextProvider(function(){var f,h,d,g,_,S;return{application:{id:(f=De())===null||f===void 0?void 0:f.application_id},session:{id:(h=u.findTrackedSession())===null||h===void 0?void 0:h.id},view:{id:(g=(d=De())===null||d===void 0?void 0:d.view)===null||g===void 0?void 0:g.id},action:{id:(S=(_=De())===null||_===void 0?void 0:_.user_action)===null||S===void 0?void 0:S.id}}}),Vo(e,s),Wo(e,s),Bo(e,s),Fo(e,s);var c=Uo(s).handleLog,u=gs(e.cookieOptions)&&!$e()&&!$n()?Mo(e):Do(e);$o(u,e,s,n,r,i),$e()?Qo(s):Jo(e,s,i,o),mi(Ro(t));var l=ea(u);return{handleLog:c,getInternalContext:l.get}}function na(t,e,n){var r,s=pi("browser-logs-sdk",t);if($e()){var i=_t();s.observable.subscribe(function(a){return i.send("internal_telemetry",a)})}else{var o=Un(t,t.rumEndpointBuilder,e,n,(r=t.replica)===null||r===void 0?void 0:r.rumEndpointBuilder);s.observable.subscribe(function(a){return o.add(a,vi(t))})}return s}var Gn=Lo(ta);oi(pt(),"DD_LOGS",Gn);class Fn{constructor(e){C(this,"env");this.env=e}setup(e){e.reports.enabled&&Gn.init({clientToken:"pub94a0029259f79f29a5d881a06d1e9653",site:"datadoghq.com",forwardErrorsToLogs:!0,service:this.env.var("KUMA_PRODUCT_NAME"),sampleRate:100,env:"production"})}}class ra extends Error{constructor({title:n=null,message:r,code:s=null,statusCode:i,causes:o=[]}){super(r);C(this,"title");C(this,"code");C(this,"causes");C(this,"statusCode");this.name="ApiError",this.title=n,this.code=s,this.statusCode=i,this.causes=o}toJSON(){return{name:this.name,title:this.title,message:this.message,code:this.code,statusCode:this.statusCode,causes:this.causes}}}async function sa(t,e={}){var u;const n=e,r=n.method??"GET";n.headers=n.headers instanceof Headers?n.headers:new Headers(n.headers),!n.headers.has("content-type")&&["POST","PUT","PATCH"].includes(r)&&n.headers.set("content-type","application/json");let s=t;"params"in e&&(r==="GET"?s+=`?${new URLSearchParams(e.params).toString()}`:(u=n.headers.get("content-type"))!=null&&u.startsWith("application/json")&&(n.body=JSON.stringify(e.params)));let i;try{i=await fetch(s,n)}catch(l){throw ia(l)}const o=i.headers.get("content-type"),c=(o!==null?o.startsWith("application/json"):!1)?await i.json():await i.text();if(i.ok)return{response:i,data:c};throw oa(i,c)}function ia(t){const e=t instanceof Error?t.message:"An unknown network error occurred.";return new Error(e)}function oa(t,e){let n=null,r="An error has occurred while trying to load this data.",s=null,i=[];return typeof e=="string"&&e.length>0?r=e:e&&(Object.prototype.hasOwnProperty.call(e,"title")&&(n=e.title),Object.prototype.hasOwnProperty.call(e,"details")&&(r=e.details),Object.prototype.hasOwnProperty.call(e,"code")&&(s=e.code),Object.prototype.hasOwnProperty.call(e,"causes")&&Array.isArray(e.causes)&&(i=e.causes)),t.status===403&&(r="You currently don’t have access to this data."),new ra({title:n,message:r,code:s,causes:i,statusCode:t.status})}const $t=window.location.origin;class aa{constructor(){C(this,"_baseUrl",$t)}get baseUrl(){return this._baseUrl}set baseUrl(e){if(e.startsWith("http"))this._baseUrl=Vn(e);else{const n=ua(e);this._baseUrl=[$t,n].filter(r=>r!=="").join("/")}}async get(e,n){const r=kt(n);r.method="GET";const{data:s}=await this.raw(e,r);return s}async raw(e,n){const r=kt(n),s=e.startsWith("http")?e:[this.baseUrl,e].join("/");return sa(s,r)}}function Vn(t){return t.replace(/\/+$/,"")}function ca(t){return t.replace(/^\/+/,"")}function ua(t){return Vn(ca(t))}function kt(t){const e=t??{};if(e.params&&!Array.isArray(e.params)){const n=[];for(const[r,s]of Object.entries(e.params))if(s!==void 0)if(Array.isArray(s))for(const i of s)n.push([r,i]);else n.push([r,s]);e.params=n}return e}class jn{constructor(e){C(this,"client");C(this,"env");this.client=new aa,this.env=e}get baseUrl(){return this.client.baseUrl}setBaseUrl(e){this.client.baseUrl=e}getInfo(){return this.client.get("")}async getStatus(){try{const{response:e}=await this.client.raw("");return e.status===200?"OK":null}catch{return null}}async getLatestVersion(){return this.client.get(this.env.var("KUMA_VERSION_URL"))}getConfig(){return this.client.get("config")}getPolicyTypes(){return this.client.get("policies")}getGlobalInsights(){return this.client.get("global-insights")}getZones(e){return this.client.get("zones",{params:e})}getZone({name:e},n){return this.client.get(`zones/${e}`,{params:n})}getAllZoneOverviews(e){return this.client.get("zones+insights",{params:e})}getZoneOverview({name:e},n){return this.client.get(`zones+insights/${e}`,{params:n})}getZoneIngressData({zoneIngressName:e,dataPath:n},r){return this.client.get(`zoneingresses/${e}/${n}`,{params:r})}getAllZoneIngressOverviews(e){return this.client.get("zoneingresses+insights",{params:e})}getZoneIngressOverview({name:e},n){return this.client.get(`zoneingresses+insights/${e}`,{params:n})}getZoneEgressData({zoneEgressName:e,dataPath:n},r){return this.client.get(`zoneegresses/${e}/${n}`,{params:r})}getAllZoneEgressOverviews(e){return this.client.get("zoneegressoverviews",{params:e})}getZoneEgressOverview({name:e},n){return this.client.get(`zoneegressoverviews/${e}`,{params:n})}getAllMeshes(e){return this.client.get("meshes",{params:e})}getMesh({name:e},n){return this.client.get(`meshes/${e}`,{params:n})}getAllMeshInsights(e){return this.client.get("mesh-insights",{params:e})}getMeshInsights({name:e},n){return this.client.get(`mesh-insights/${e}`,{params:n})}getAllDataplanes(e){return this.client.get("dataplanes",{params:e})}getDataplaneFromMesh({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}`,{params:r})}getAllDataplaneOverviews(e){return this.client.get("dataplanes+insights",{params:e})}getAllDataplaneOverviewsFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/dataplanes+insights`,{params:n})}getDataplaneOverviewFromMesh({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes+insights/${n}`,{params:r})}getSidecarDataplanePolicies({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/policies`,{params:r})}getMeshGatewayDataplane({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/policies`,{params:r})}getDataplaneRules({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/rules`,{params:r})}getDataplaneData({mesh:e,dppName:n,dataPath:r},s){return this.client.get(`meshes/${e}/dataplanes/${n}/${r}`,{params:s})}getAllServiceInsights(e){return this.client.get("service-insights",{params:e})}getAllServiceInsightsFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/service-insights`,{params:n})}getServiceInsight({mesh:e,name:n},r){return this.client.get(`meshes/${e}/service-insights/${n}`,{params:r})}getAllExternalServices(e){return this.client.get("external-services",{params:e})}getAllExternalServicesFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/external-services`,{params:n})}getExternalService({mesh:e,name:n},r){return this.client.get(`meshes/${e}/external-services/${n}`,{params:r})}async getExternalServiceByServiceInsightName(e,n){const{items:r}=await this.getAllExternalServicesFromMesh({mesh:e});return Array.isArray(r)?r.find(i=>i.tags["kuma.io/service"]===n)??null:null}getPolicyConnections({mesh:e,policyType:n,policyName:r},s){return this.client.get(`meshes/${e}/${n}/${r}/dataplanes`,{params:s})}getAllPolicyEntities({path:e},n){return this.client.get(e,{params:n})}getAllPolicyEntitiesFromMesh({mesh:e,path:n},r){return this.client.get(`meshes/${e}/${n}`,{params:r})}getSinglePolicyEntity({mesh:e,path:n,name:r},s){return this.client.get(`meshes/${e}/${n}/${r}`,{params:s})}}function V(t,e=0){const n=la(t);return n!==void 0?parseInt(n):e}function la(t){const e=Array.isArray(t)?t:[t];return e[e.length-1]??void 0}const Hn=t=>[{path:"/404",name:"not-found",alias:"/:pathMatch(.*)*",meta:{title:"Item not found"},component:()=>m(()=>import("./AppNotFoundView-e0743928.js"),[],import.meta.url)},{path:"/",name:"home",meta:{title:"Overview"},component:()=>m(()=>import("./MainOverviewView-10134da8.js"),["./DoughnutChart-5c0285e5.css","./index-40f6c6cf.css","./MeshResources-b0bd4417.css"],import.meta.url)},{path:"/diagnostics",name:"diagnostics",meta:{title:"Diagnostics"},component:()=>m(()=>import("./DiagnosticsView-b77b1355.js"),["./CodeBlock-7d9027b4.css"],import.meta.url)},{path:"/zones",name:"zones",meta:{title:"Zones"},props:e=>({selectedZoneName:e.query.zone,offset:V(e.query.offset)}),component:()=>m(()=>import("./ZonesView-f8c0c914.js"),["./AccordionItem-2e8063db.css","./CodeBlock-7d9027b4.css","./ErrorBlock-180e9f40.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./LabelList-82c1e9de.css","./SubscriptionHeader-da67a0ee.css","./TabsWidget-4d82abdb.css"],import.meta.url)},{path:"/zone-ingresses",name:"zoneingresses",meta:{title:"Zone ingresses"},props:e=>({selectedZoneIngressName:e.query.zoneIngress,offset:V(e.query.offset)}),component:()=>m(()=>import("./ZoneIngresses-55a4fd0a.js"),["./AccordionItem-2e8063db.css","./ErrorBlock-180e9f40.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./EnvoyData-55ab94cb.css","./LabelList-82c1e9de.css","./SubscriptionHeader-da67a0ee.css","./TabsWidget-4d82abdb.css"],import.meta.url)},{path:"/zoneegresses",name:"zoneegresses",meta:{title:"Zone egresses"},props:e=>({selectedZoneEgressName:e.query.zoneEgress,offset:V(e.query.offset)}),component:()=>m(()=>import("./ZoneEgresses-add210f9.js"),["./AccordionItem-2e8063db.css","./ErrorBlock-180e9f40.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./EnvoyData-55ab94cb.css","./LabelList-82c1e9de.css","./SubscriptionHeader-da67a0ee.css","./TabsWidget-4d82abdb.css"],import.meta.url)},{path:"/mesh/:mesh",children:[{path:"",name:"mesh-detail-view",meta:{title:"Mesh overview"},component:()=>m(()=>import("./MeshOverviewView-ce8710b1.js"),["./ContentWrapper-fe2d0f8d.css","./DoughnutChart-5c0285e5.css","./MeshResources-b0bd4417.css","./ErrorBlock-180e9f40.css","./LabelList-82c1e9de.css","./CodeBlock-7d9027b4.css","./MeshOverviewView-d74d8263.css"],import.meta.url)},{path:"gateways",children:[{path:"",name:"gateway-list-view",meta:{title:"Gateways"},props:e=>({selectedDppName:e.query.gateway,gatewayType:e.query.gatewayType==="all"?"true":e.query.gatewayType,offset:V(e.query.offset),isGatewayView:!0}),component:()=>m(()=>import("./DataPlaneListView-4330860c.js"),["./ContentWrapper-fe2d0f8d.css","./ErrorBlock-180e9f40.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./DataPlaneList-d74cf059.css","./DataPlaneListView-c9bf2e34.css"],import.meta.url)},{path:":dataPlane",name:"gateway-detail-view",meta:{title:"Gateway",parent:"gateway-list-view",breadcrumbTitleParam:"dataPlane"},component:()=>m(()=>import("./DataPlaneDetailView-fafd3142.js"),["./AccordionItem-2e8063db.css","./CodeBlock-7d9027b4.css","./TagList-27d87a7b.css","./ErrorBlock-180e9f40.css","./EnvoyData-55ab94cb.css","./LabelList-82c1e9de.css","./StatusBadge-43351938.css","./TabsWidget-4d82abdb.css","./SubscriptionHeader-da67a0ee.css","./DataPlaneDetailView-230a138b.css"],import.meta.url)}]},{path:"data-planes",children:[{path:"",name:"data-plane-list-view",meta:{title:"Data plane proxies"},props:e=>({selectedDppName:e.query.dpp,offset:V(e.query.offset)}),component:()=>m(()=>import("./DataPlaneListView-4330860c.js"),["./ContentWrapper-fe2d0f8d.css","./ErrorBlock-180e9f40.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./DataPlaneList-d74cf059.css","./DataPlaneListView-c9bf2e34.css"],import.meta.url)},{path:":dataPlane",name:"data-plane-detail-view",meta:{title:"Data plane proxy",parent:"data-plane-list-view",breadcrumbTitleParam:"dataPlane"},component:()=>m(()=>import("./DataPlaneDetailView-fafd3142.js"),["./AccordionItem-2e8063db.css","./CodeBlock-7d9027b4.css","./TagList-27d87a7b.css","./ErrorBlock-180e9f40.css","./EnvoyData-55ab94cb.css","./LabelList-82c1e9de.css","./StatusBadge-43351938.css","./TabsWidget-4d82abdb.css","./SubscriptionHeader-da67a0ee.css","./DataPlaneDetailView-230a138b.css"],import.meta.url)}]},{path:"services",children:[{path:"",name:"service-list-view",meta:{title:"Services"},props:e=>({selectedServiceName:e.query.service,offset:V(e.query.offset)}),component:()=>m(()=>import("./ServiceListView-5f931894.js"),["./ContentWrapper-fe2d0f8d.css","./ErrorBlock-180e9f40.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./ServiceSummary-af890f41.css"],import.meta.url)},{path:":service",name:"service-detail-view",meta:{title:"Internal service",parent:"service-list-view",breadcrumbTitleParam:"service"},props:e=>({selectedDppName:e.query.dpp}),component:()=>m(()=>import("./ServiceDetailView-7db06908.js"),["./ErrorBlock-180e9f40.css","./ContentWrapper-fe2d0f8d.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./DataPlaneList-d74cf059.css","./ServiceSummary-af890f41.css"],import.meta.url)}]},{path:"policies",name:"policies",meta:{title:"Policies"},redirect:e=>{let n=t.state.policyTypes.find(r=>t.state.sidebar.insights.mesh.policies[r.name]!==0);return n===void 0&&(n=t.state.policyTypes[0]),{...e,params:{...e.params,policyPath:n.path},name:"policy"}}},{path:"policies/:policyPath",name:"policy",meta:{parent:"policies"},component:()=>m(()=>import("./PolicyView-2eb95c7b.js"),["./ErrorBlock-180e9f40.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./LabelList-82c1e9de.css","./TabsWidget-4d82abdb.css","./CodeBlock-7d9027b4.css","./PolicyView-143a82ea.css"],import.meta.url),props:e=>{const n=t.state.policyTypesByPath[e.params.policyPath];return e.meta.title=n.name,{policyPath:e.params.policyPath,selectedPolicyName:e.query.policy,offset:V(e.query.offset)}}}]},{path:"/onboarding",redirect:{name:"onboarding-welcome"},component:()=>m(()=>import("./ShellEmpty-55fb4c10.js"),["./ShellEmpty-6642bce4.css"],import.meta.url),children:[{path:"welcome",name:"onboarding-welcome",meta:{title:"Welcome to Kuma!",onboardingProcess:!0},component:()=>m(()=>import("./WelcomeView-0d0fe106.js"),["./OnboardingNavigation-78fe1a36.css","./DoughnutChart-5c0285e5.css","./index-40f6c6cf.css","./WelcomeView-a1029617.css"],import.meta.url)},{path:"deployment-types",name:"onboarding-deployment-types",meta:{title:"Deployment Types",onboardingProcess:!0},component:()=>m(()=>import("./DeploymentTypes-e73a396a.js"),["./OnboardingNavigation-78fe1a36.css","./OnboardingPage-4051d978.css","./DoughnutChart-5c0285e5.css","./index-40f6c6cf.css","./DeploymentTypes-35c5cca0.css"],import.meta.url)},{path:"configuration-types",name:"onboarding-configuration-types",meta:{title:"Configuration Types",onboardingProcess:!0},component:()=>m(()=>import("./ConfigurationTypes-3d604bea.js"),["./OnboardingNavigation-78fe1a36.css","./OnboardingPage-4051d978.css","./DoughnutChart-5c0285e5.css","./index-40f6c6cf.css","./ConfigurationTypes-dc767fb4.css"],import.meta.url)},{path:"multi-zone",name:"onboarding-multi-zone",meta:{title:"Multizone",onboardingProcess:!0},component:()=>m(()=>import("./MultiZoneView-d154aeee.js"),["./LoadingBox-c2da9e95.css","./OnboardingNavigation-78fe1a36.css","./OnboardingPage-4051d978.css"],import.meta.url)},{path:"create-mesh",name:"onboarding-create-mesh",meta:{title:"Create the Mesh",onboardingProcess:!0},component:()=>m(()=>import("./CreateMesh-207d4059.js"),["./OnboardingNavigation-78fe1a36.css","./OnboardingPage-4051d978.css"],import.meta.url)},{path:"add-services",name:"onboarding-add-services",meta:{title:"Add new services",onboardingProcess:!0},component:()=>m(()=>import("./AddNewServices-ee680a82.js"),["./OnboardingNavigation-78fe1a36.css","./OnboardingPage-4051d978.css","./AddNewServices-410f14b0.css"],import.meta.url)},{path:"add-services-code",name:"onboarding-add-services-code",meta:{title:"Add new services",onboardingProcess:!0},component:()=>m(()=>import("./AddNewServicesCode-8179c57e.js"),["./CodeBlock-7d9027b4.css","./LoadingBox-c2da9e95.css","./OnboardingNavigation-78fe1a36.css","./OnboardingPage-4051d978.css"],import.meta.url)},{path:"dataplanes-overview",name:"onboarding-dataplanes-overview",meta:{title:"Data plane overview",onboardingProcess:!0},component:()=>m(()=>import("./DataplanesOverview-213d122a.js"),["./LoadingBox-c2da9e95.css","./StatusBadge-43351938.css","./OnboardingNavigation-78fe1a36.css","./OnboardingPage-4051d978.css","./DataplanesOverview-0c89c176.css"],import.meta.url)},{path:"completed",name:"onboarding-completed",meta:{title:"Completed",onboardingProcess:!0},component:()=>m(()=>import("./CompletedView-ba7a8c33.js"),["./OnboardingNavigation-78fe1a36.css","./OnboardingPage-4051d978.css"],import.meta.url)}]},{path:"/wizard",name:"wizard",children:[{path:"mesh",name:"create-mesh",meta:{title:"Create a new mesh",wizardProcess:!0},component:()=>m(()=>import("./MeshWizard-f7bb3683.js"),["./CodeBlock-7d9027b4.css","./StepSkeleton-4161d6eb.css","./ErrorBlock-180e9f40.css","./TabsWidget-4d82abdb.css","./MeshWizard-bd986a8d.css"],import.meta.url)},{path:"kubernetes-dataplane",name:"kubernetes-dataplane",meta:{title:"Create a new data plane proxy on Kubernetes",wizardProcess:!0},component:()=>m(()=>import("./DataplaneKubernetes-f1291678.js"),["./CodeBlock-7d9027b4.css","./StepSkeleton-4161d6eb.css","./EnvironmentSwitcher-8d17c23e.css","./DataplaneKubernetes-bad15b66.css"],import.meta.url)},{path:"universal-dataplane",name:"universal-dataplane",meta:{title:"Create a new data plane proxy on Universal",wizardProcess:!0},component:()=>m(()=>import("./DataplaneUniversal-b71c9fb1.js"),["./CodeBlock-7d9027b4.css","./StepSkeleton-4161d6eb.css","./EnvironmentSwitcher-8d17c23e.css","./DataplaneUniversal-451f0c43.css"],import.meta.url)}]}];function fa(t,e){const n=t?[{name:"Zones",categoryTier:"primary"},{name:"Zone CPs",routeName:"zones",insightsFieldAccessor:"global.Zone"},{name:"Zone Ingresses",routeName:"zoneingresses",insightsFieldAccessor:"global.ZoneIngress"},{name:"Zone Egresses",routeName:"zoneegresses",insightsFieldAccessor:"global.ZoneEgress"}]:[],r=e?[{name:"Mesh",categoryTier:"primary"},{name:"Mesh selector",isMeshSelector:!0},{name:"Overview",routeName:"mesh-detail-view",usesMeshParam:!0},{name:"Services",routeName:"service-list-view",insightsFieldAccessor:"mesh.services.total",usesMeshParam:!0},{name:"Gateways",routeName:"gateway-list-view",usesMeshParam:!0,insightsFieldAccessor:"mesh.dataplanes.gateway"},{name:"Data Plane Proxies",routeName:"data-plane-list-view",usesMeshParam:!0,insightsFieldAccessor:"mesh.dataplanes.standard"},{name:"Policies",routeName:"policies",usesMeshParam:!0,insightsFieldAccessor:"mesh.policies.total"}]:[];return[{name:"Home",routeName:"home",shouldOffsetFromFollowingItems:!0},...n,...r]}const da=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var zn=da;const ha="2.0.0",pa=256,va=Number.MAX_SAFE_INTEGER||9007199254740991,ga=16;var Kn={SEMVER_SPEC_VERSION:ha,MAX_LENGTH:pa,MAX_SAFE_INTEGER:va,MAX_SAFE_COMPONENT_LENGTH:ga},ke={},ma={get exports(){return ke},set exports(t){ke=t}};(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n}=Kn,r=zn;e=t.exports={};const s=e.re=[],i=e.src=[],o=e.t={};let a=0;const c=(u,l,f)=>{const h=a++;r(u,h,l),o[u]=h,i[h]=l,s[h]=new RegExp(l,f?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${i[o.NUMERICIDENTIFIER]})\\.(${i[o.NUMERICIDENTIFIER]})\\.(${i[o.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${i[o.NUMERICIDENTIFIERLOOSE]})\\.(${i[o.NUMERICIDENTIFIERLOOSE]})\\.(${i[o.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${i[o.NUMERICIDENTIFIER]}|${i[o.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${i[o.NUMERICIDENTIFIERLOOSE]}|${i[o.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${i[o.PRERELEASEIDENTIFIER]}(?:\\.${i[o.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${i[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[o.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${i[o.BUILDIDENTIFIER]}(?:\\.${i[o.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${i[o.MAINVERSION]}${i[o.PRERELEASE]}?${i[o.BUILD]}?`),c("FULL",`^${i[o.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${i[o.MAINVERSIONLOOSE]}${i[o.PRERELEASELOOSE]}?${i[o.BUILD]}?`),c("LOOSE",`^${i[o.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${i[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${i[o.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${i[o.XRANGEIDENTIFIER]})(?:\\.(${i[o.XRANGEIDENTIFIER]})(?:\\.(${i[o.XRANGEIDENTIFIER]})(?:${i[o.PRERELEASE]})?${i[o.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${i[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[o.XRANGEIDENTIFIERLOOSE]})(?:${i[o.PRERELEASELOOSE]})?${i[o.BUILD]}?)?)?`),c("XRANGE",`^${i[o.GTLT]}\\s*${i[o.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${i[o.GTLT]}\\s*${i[o.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),c("COERCERTL",i[o.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${i[o.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",c("TILDE",`^${i[o.LONETILDE]}${i[o.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${i[o.LONETILDE]}${i[o.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${i[o.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",c("CARET",`^${i[o.LONECARET]}${i[o.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${i[o.LONECARET]}${i[o.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${i[o.GTLT]}\\s*(${i[o.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${i[o.GTLT]}\\s*(${i[o.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${i[o.GTLT]}\\s*(${i[o.LOOSEPLAIN]}|${i[o.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${i[o.XRANGEPLAIN]})\\s+-\\s+(${i[o.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${i[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[o.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ma,ke);const Ea=["includePrerelease","loose","rtl"],_a=t=>t?typeof t!="object"?{loose:!0}:Ea.filter(e=>t[e]).reduce((e,n)=>(e[n]=!0,e),{}):{};var ya=_a;const Bt=/^[0-9]+$/,Xn=(t,e)=>{const n=Bt.test(t),r=Bt.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},Sa=(t,e)=>Xn(e,t);var ba={compareIdentifiers:Xn,rcompareIdentifiers:Sa};const Re=zn,{MAX_LENGTH:Gt,MAX_SAFE_INTEGER:we}=Kn,{re:Ft,t:Vt}=ke,Ta=ya,{compareIdentifiers:Q}=ba;let L=class{constructor(e,n){if(n=Ta(n),e instanceof L){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Gt)throw new TypeError(`version is longer than ${Gt} characters`);Re("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?Ft[Vt.LOOSE]:Ft[Vt.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>we||this.major<0)throw new TypeError("Invalid major version");if(this.minor>we||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>we||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<we)return i}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Re("SemVer.compare",this.version,this.options,e),!(e instanceof L)){if(typeof e=="string"&&e===this.version)return 0;e=new L(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof L||(e=new L(e,this.options)),Q(this.major,e.major)||Q(this.minor,e.minor)||Q(this.patch,e.patch)}comparePre(e){if(e instanceof L||(e=new L(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],s=e.prerelease[n];if(Re("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return Q(r,s)}while(++n)}compareBuild(e){e instanceof L||(e=new L(e,this.options));let n=0;do{const r=this.build[n],s=e.build[n];if(Re("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return Q(r,s)}while(++n)}inc(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(Q(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};var Ia=L;const jt=Ia,Oa=(t,e,n)=>new jt(t,n).compare(new jt(e,n));var tt=Oa;class Ca{constructor(e){C(this,"storageAdapter");this.storageAdapter=e}get(e){let n;try{n=this.storageAdapter.getItem(e)}catch{return null}if(n===null||!(n.startsWith("[")||n.startsWith("{")))return n;try{return JSON.parse(n)}catch{return n}}set(e,n){try{const r=typeof n=="string"?n:JSON.stringify(n);this.storageAdapter.setItem(e,r)}catch{}}has(e){try{return this.storageAdapter.getItem(e)!==null}catch{return!1}}remove(e){try{this.storageAdapter.removeItem(e)}catch{}}}const U=new Ca(window.localStorage),Tc="Kuma",Ic=12,ft=500,Ht="Disabled",Oc="kuma.io/zone";function qn(t,e,n=void 0){if(typeof t!="object"||Array.isArray(t))return n;const r=e.indexOf(".");if(r===-1)return t[e]===void 0?n:t[e];const s=e.substring(0,r),i=e.substring(r+1);return qn(t[s],i,n)}const Ra=new Intl.DateTimeFormat("en-US",{dateStyle:"long"}),wa=new Intl.DateTimeFormat("en-US",{dateStyle:"long",timeStyle:"medium"});function Aa(t){const e=new Date(Date.parse(t)),n=Math.floor((Date.now()-e.getTime())/1e3);return n<=1?"just now":n<20?`${n} seconds ago`:n<40?"half a minute ago":n<60?"less than a minute ago":n<=90?"one minute ago":n<=3540?`${Math.round(n/60)} minutes ago`:n<=5400?"1 hour ago":n<=86400?`${Math.round(n/3600)} hours ago`:n<=129600?"1 day ago":n<604800?`${Math.round(n/86400)} days ago`:n<=777600?"1 week ago":Ra.format(e)}function Cc(t){const e=new Date(Date.parse(t));return wa.format(e)}function Rc(t,e){const n=t&&typeof t=="object"&&t.constructor===Array?Object.assign({},...t):t;return e.reduce((r,s)=>({...r,[s]:n[s]}),{})}function wc(t){const{creationTime:e,modificationTime:n,...r}=t;return r}function Ac(t){const e=t.replace(/[^a-zA-Z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();return t?e:""}async function Ae(t){try{let e=null,n=0,r=[];for(;;){const s={size:ft,offset:n},{total:i,items:o,next:a}=await t(s);if(Array.isArray(o)&&(r=r.concat(o)),e===null&&(e=i),i!==e)throw new Error('Mismatch between "total" values between requests');if(!a)break;n+=ft}return{total:e,items:r}}catch(e){throw new Error(`Resource fetching failed: ${e}`)}}function Lc(t){var n;const e=((n=t.zoneInsight)==null?void 0:n.subscriptions)??[];if(e.length>0){const r=e[e.length-1];if(r.config){const s=JSON.parse(r.config);return qn(s,"dpServer.auth.type",Ht)}}return Ht}const Yn=(t={},e={})=>{const n=t.online||0,r=e.online||0,s=t.partiallyDegraded||0,i=e.partiallyDegraded||0,o=t.total||0,a=e.total||0;return{online:n+r,partiallyDegraded:s+i,total:o+a}},La=(t,e={})=>Object.entries(e).reduce((n,[r,s])=>{const i=n[r]?n[r].total:0;return{...n,[r]:{total:i+s.total}}},t),zt=(t={},e={})=>Object.entries(e).reduce((n,[r,s])=>({...n,[r]:Yn(n[r],s)}),t),Na=(t={},e={})=>({kumaDp:zt(t.kumaDp,e.kumaDp),envoy:zt(t.envoy,e.envoy)});function Wn(){return{meshesTotal:0,dataplanes:{online:0,partiallyDegraded:0,total:0},policies:{},dpVersions:{kumaDp:{},envoy:{}}}}function Ma(t={}){return Zn([t])}function Zn(t=[]){return t.reduce((e,n)=>({meshesTotal:t.length,dataplanes:Yn(e.dataplanes,n.dataplanes),policies:La(e.policies,n.policies),dpVersions:Na(e.dpVersions,n.dpVersions)}),{meshesTotal:0,dataplanes:{online:0,partiallyDegraded:0,total:0},policies:{},dpVersions:{kumaDp:{},envoy:{}}})}function Nc(t){let e=[];t.networking.inbound&&(e=t.networking.inbound.filter(r=>"tags"in r).flatMap(r=>Object.entries(r.tags)).map(([r,s])=>`${r}=${s}`)),t.networking.gateway&&(e=Object.entries(t.networking.gateway.tags).map(([r,s])=>`${r}=${s}`));const n=Array.from(new Set(e));return n.sort((r,s)=>r.localeCompare(s)),n.map(r=>r.split("=")).map(([r,s])=>({label:r,value:s}))}function Jn(t={subscriptions:[]}){return(t.subscriptions??[]).some(n=>{var r;return((r=n.connectTime)==null?void 0:r.length)&&!n.disconnectTime})?"online":"offline"}function Mc(t,e={subscriptions:[]}){const n=t.networking.inbound??[],r=n.filter(i=>i.health&&!i.health.ready).map(i=>`Inbound on port ${i.port} is not ready (kuma.io/service: ${i.tags["kuma.io/service"]})`);let s;switch(!0){case n.length===0:s="online";break;case r.length===n.length:s="offline";break;case r.length>0:s="partially_degraded";break;default:s=Jn(e)}return{status:s,reason:r}}function Dc(t){if(t===void 0||t.subscriptions.length===0)return null;const e={},n=t.subscriptions[t.subscriptions.length-1];return n.version===void 0?null:(n.version.envoy&&(e.envoy=n.version.envoy.version),n.version.kumaDp&&(e.kumaDp=n.version.kumaDp.version),n.version.dependencies&&Object.entries(n.version.dependencies).forEach(([r,s])=>{e[r]=s}),e)}function Pc(t){if(t.dataplaneInsight===void 0||t.dataplaneInsight.mTLS===void 0)return null;const{mTLS:e}=t.dataplaneInsight,n=new Date(e.certificateExpirationTime),r=new Date(n.getTime()+n.getTimezoneOffset()*6e4);return{certificateExpirationTime:{label:"Expiration Time",value:`${r.toLocaleDateString("en-US")} ${r.getHours()}:${r.getMinutes()}:${r.getSeconds()}`},lastCertificateRegeneration:{label:"Last Generated",value:Aa(e.lastCertificateRegeneration)},certificateRegenerations:{label:"Regenerations",value:e.certificateRegenerations}}}function xc(t){var r,s;return((r=t.kumaDp)==null?void 0:r.kumaCpCompatible)??!0?((s=t.envoy)==null?void 0:s.kumaDpCompatible)??!0?{kind:Da}:{kind:xa,payload:{envoy:t.envoy.version,kumaDp:t.kumaDp.version}}:{kind:Pa,payload:{kumaDp:t.kumaDp.version}}}const Da="COMPATIBLE",Uc="INCOMPATIBLE_ZONE_CP_AND_KUMA_DP_VERSIONS",$c="INCOMPATIBLE_ZONE_AND_GLOBAL_CPS_VERSIONS",Pa="INCOMPATIBLE_UNSUPPORTED_KUMA_DP",xa="INCOMPATIBLE_UNSUPPORTED_ENVOY",kc="INCOMPATIBLE_WRONG_FORMAT",Ua={status:null,tagline:null,version:null,kumaDocsVersion:"latest",clientConfig:null},$a={SET_CONFIG_DATA:(t,e)=>t.clientConfig=e,SET_STATUS:(t,e)=>t.status=e,SET_TAGLINE:(t,e)=>t.tagline=e,SET_VERSION:(t,e)=>t.version=e,SET_KUMA_DOCS_VERSION:(t,e)=>t.kumaDocsVersion=e},ka={getStatus:t=>t.status,getConfig:t=>t.clientConfig,getEnvironment:t=>{var e;return(e=t.clientConfig)==null?void 0:e.environment},getMode:t=>{var e;return(e=t.clientConfig)==null?void 0:e.mode},getTagline:t=>t.tagline,getVersion:t=>t.version,getKumaDocsVersion:t=>t.kumaDocsVersion,getConfigurationType:t=>{var e,n;return(n=(e=t.clientConfig)==null?void 0:e.store)==null?void 0:n.type},getMulticlusterStatus:(t,e)=>({}).VITE_FAKE_MULTIZONE==="true"?(console.warn("%c ✨You are currently faking Multi-Zone mode.","background: black; color: white; display: block; padding: 0.25rem;"),!0):e.getMode==="global"},Ba=t=>({bootstrapConfig({dispatch:e}){const n=e("getInfo"),r=e("getConfig");return Promise.all([n,r])},getConfig({commit:e}){return t.getConfig().then(n=>{e("SET_CONFIG_DATA",n)})},getStatus({commit:e}){return t.getStatus().then(n=>{e("SET_STATUS",n)})},getInfo({commit:e}){return t.getInfo().then(n=>{e("SET_TAGLINE",n.tagline),e("SET_VERSION",n.version);let r;const s=n.basedOnKuma??n.version,i=s.indexOf("-preview.");if(i!==-1){const o=s.substring(0,i);r=o==="0.0.0"?"dev":o.replace(/\.\d+$/,".x")}else r=s.replace(/\.\d+$/,".x");e("SET_KUMA_DOCS_VERSION",r)}).catch(n=>{console.error(n)})}}),Ga=t=>({namespaced:!0,state:()=>Ua,getters:ka,mutations:$a,actions:Ba(t)}),Fa={isOpen:!1},Va={OPEN_MODAL:t=>t.isOpen=!0,CLOSE_MODAL:t=>t.isOpen=!1},ja={meshNotificationItemMap(t,e,n){var i;return(((i=n.meshes)==null?void 0:i.items)||[]).reduce((o,a)=>(o[a.name]={hasLogging:Boolean(a.logging),hasMtls:Boolean(a.mtls),hasMetrics:Boolean(a.metrics),hasTracing:Boolean(a.tracing)},o),{})},meshNotificationItemMapWithAction(t,e){const n=e.meshNotificationItemMap;return Object.entries(n).reduce((r,[s,i])=>(Object.values(i).some(a=>!a)&&(r[s]=i),r),{})},singleMeshNotificationItems(t,e,n,r){if(n.selectedMesh===null)return[];const s=e.meshNotificationItemMap[n.selectedMesh],i=Object.entries(r.getMeshInsight.policies).filter(([a,c])=>["MeshAccessLog","MeshTrace"].includes(a)).some(([a,c])=>c.total>0),o=[{name:"Observability, Metrics & Service Map",component:"MetricsNotification",isCompleted:s.hasMetrics},{name:"Logging",component:"LoggingNotification",isCompleted:s.hasLogging||i},{name:"Zero-trust security",component:"MtlsNotification",isCompleted:s.hasMtls},{name:"Tracing",component:"TracingNotification",isCompleted:s.hasTracing}];return o.sort((a,c)=>+a.isCompleted-+c.isCompleted),o},amountOfActions(t,e){return Object.keys(e.meshNotificationItemMapWithAction).length}},Ha={openModal({commit:t}){t("OPEN_MODAL")},closeModal({commit:t}){t("CLOSE_MODAL")}},za={namespaced:!0,state:()=>Fa,getters:ja,mutations:Va,actions:Ha},Ka={isCompleted:U.get("onboardingIsCompleted")==="true",step:U.get("onboardingStep")||"onboarding-welcome",mode:"demo"},Xa={SET_STEP:(t,e)=>t.step=e,SET_IS_COMPLETED:(t,e)=>t.isCompleted=e,UPDATE_MODE:(t,e)=>t.mode=e},qa={completeOnboarding({commit:t,dispatch:e}){e("fetchDataplaneTotalCount",null,{root:!0}),e("sidebar/getInsights",null,{root:!0}),t("SET_IS_COMPLETED",!0),U.set("onboardingIsCompleted","true"),U.remove("onboardingStep")},changeStep({commit:t},e){t("SET_STEP",e),U.set("onboardingStep",e)},changeMode({commit:t},e){t("UPDATE_MODE",e)}},Ya={namespaced:!0,state:()=>Ka,mutations:Xa,actions:qa};function Kt(t){const e=t.items.reduce((n,{dataplanes:r,dataplanesByType:s,policies:i,services:o})=>{var a,c;n.services.internal+=o.internal||0,n.services.external+=o.external||0,n.services.total+=o.total||0,n.dataplanes.total+=r.total||0,n.dataplanes.standard+=((a=s.standard)==null?void 0:a.total)||0,n.dataplanes.gateway+=((c=s.gateway)==null?void 0:c.total)||0;for(const[u,l]of Object.entries(i))n.policies[u]||(n.policies[u]=0),n.policies[u]+=l.total||0;return n},{services:{total:0,internal:0,external:0},dataplanes:{total:0,standard:0,gateway:0},policies:{}});return e.policies.total=Object.values(e.policies).reduce((n,r)=>n+r,0),e}function Wa(t){return Object.entries(t.resources).reduce((e,[n,r])=>(e[n]||(e[n]=0),e[n]+=r.total||0,e),{})}const Za={insights:{global:{},mesh:{services:{total:0,internal:0,external:0},dataplanes:{total:0,standard:0,gateway:0},policies:{}}}},Ja={SET_GLOBAL_INSIGHTS:(t,e)=>t.insights.global=e,SET_MESH_INSIGHTS:(t,e)=>t.insights.mesh=e},Qa=t=>({getInsights({dispatch:e}){return Promise.all([e("getGlobalInsights"),e("getMeshInsights")])},async getMeshInsights({commit:e,rootState:n}){if(n.selectedMesh===null)return;let r;try{const s=await t.getMeshInsights({name:n.selectedMesh});r=Kt({items:[s]})}catch{r=Kt({items:[]})}e("SET_MESH_INSIGHTS",r)},async getGlobalInsights({commit:e}){const n=await t.getGlobalInsights(),r=Wa(n);e("SET_GLOBAL_INSIGHTS",r)}}),ec=t=>({namespaced:!0,state:()=>Za,mutations:Ja,actions:Qa(t)}),Xt="Online",qt="Offline",tc="Partially degraded",nc={menu:null,globalLoading:!0,pageTitle:"",meshes:{total:0,items:[],next:null},selectedMesh:"default",totalDataplaneCount:0,version:"",itemQueryNamespace:"item",totalClusters:0,serviceSummary:{total:0,internal:{total:0,online:0,offline:0,partiallyDegraded:0},external:{total:0}},overviewCharts:{dataplanes:{data:[]},meshes:{data:[]},services:{data:[]},policies:{data:[]},zones:{data:[]},zonesCPVersions:{data:[]},kumaDPVersions:{data:[]},envoyVersions:{data:[]}},meshInsight:Wn(),meshInsightsFetching:!1,serviceInsightsFetching:!1,externalServicesFetching:!1,zonesInsightsFetching:!1,policyTypes:[],policyTypesByPath:{},policyTypesByName:{}},Qn=t=>({modules:{sidebar:ec(t),config:Ga(t),notifications:za,onboarding:Ya},state:()=>nc,getters:{globalLoading:e=>e.globalLoading,getMeshList:e=>e.meshes,getItemQueryNamespace:e=>e.itemQueryNamespace,getMeshInsight:e=>e.meshInsight,getMeshInsightsFetching:e=>e.meshInsightsFetching,getServiceInsightsFetching:e=>e.serviceInsightsFetching,getExternalServicesFetching:e=>e.externalServicesFetching,getResourceFetching:({meshInsightsFetching:e,serviceInsightsFetching:n,externalServicesFetching:r})=>e||n||r,getServiceResourcesFetching:({serviceInsightsFetching:e,externalServicesFetching:n})=>e||n,getZonesInsightsFetching:({zonesInsightsFetching:e})=>e,getChart:e=>(n,{title:r,subtitle:s=void 0,showTotal:i=!1,isStatusChart:o=!1})=>({title:r,subtitle:s,showTotal:i,isStatusChart:o,dataPoints:e.overviewCharts[n].data}),shouldSuggestOnboarding:e=>{const n=e.meshes.items.length===1&&e.meshes.items[0].name==="default";return e.totalDataplaneCount===0&&n}},mutations:{SET_GLOBAL_LOADING:(e,n)=>e.globalLoading=n,SET_PAGE_TITLE:(e,n)=>e.pageTitle=n,SET_MESHES:(e,n)=>e.meshes=n,SET_SELECTED_MESH:(e,n)=>e.selectedMesh=n,SET_TOTAL_DATAPLANE_COUNT:(e,n)=>e.totalDataplaneCount=n,SET_TOTAL_CLUSTER_COUNT:(e,n)=>e.totalClusters=n,SET_INTERNAL_SERVICE_SUMMARY:(e,{items:n=[]})=>{const r={online:0,partially_degraded:0,offline:0,not_available:0},{online:s,offline:i,partially_degraded:o}=n.reduce((c,{status:u="offline"})=>({...c,[u]:c[u]+1}),r),a=s+i+o;e.serviceSummary.internal={...e.serviceSummary.internal,total:a,online:s,partiallyDegraded:o,offline:i},e.serviceSummary.total=e.serviceSummary.external.total+a},SET_EXTERNAL_SERVICE_SUMMARY:(e,{total:n=0})=>{e.serviceSummary.external.total=n,e.serviceSummary.total=e.serviceSummary.internal.total+n},SET_MESH_INSIGHT:(e,n)=>e.meshInsight=Ma(n),SET_MESH_INSIGHT_FROM_ALL_MESHES:(e,n)=>e.meshInsight=Zn(n.items),SET_ZONES_INSIGHTS_FETCHING:(e,n)=>e.zonesInsightsFetching=n,SET_MESH_INSIGHTS_FETCHING:(e,n)=>e.meshInsightsFetching=n,SET_SERVICE_INSIGHTS_FETCHING:(e,n)=>e.serviceInsightsFetching=n,SET_EXTERNAL_SERVICES_FETCHING:(e,n)=>e.externalServicesFetching=n,SET_OVERVIEW_CHART_DATA:(e,{chartName:n,data:r})=>{e.overviewCharts[n].data=r},SET_POLICY_TYPES:(e,n)=>{n.sort((r,s)=>r.name.localeCompare(s.name)),e.policyTypes=n},SET_POLICY_TYPES_BY_PATH:(e,n)=>e.policyTypesByPath=n,SET_POLICY_TYPES_BY_NAME:(e,n)=>e.policyTypesByName=n},actions:{async bootstrap({commit:e,dispatch:n,getters:r,state:s}){if(e("SET_GLOBAL_LOADING",!0),await n("config/getStatus"),r["config/getStatus"]==="OK")if(await Promise.all([n("fetchMeshList"),n("fetchDataplaneTotalCount"),n("config/bootstrapConfig")]),s.meshes.items.length>0){const i=U.get("selectedMesh");let o;if(i!==null){const a=s.meshes.items.find(c=>c.name===i);a!==void 0&&(o=a)}o===void 0&&(o=s.meshes.items[0]),await n("updateSelectedMesh",o.name),await n("sidebar/getInsights")}else await n("updateSelectedMesh",null);e("SET_GLOBAL_LOADING",!1)},updatePageTitle({commit:e},n){e("SET_PAGE_TITLE",n)},async fetchMeshList({commit:e,state:n}){const r={size:ft};try{const{total:s,items:i,next:o}=await t.getAllMeshes(r),a={items:i??[],total:s,next:o};a.items.sort((c,u)=>c.name==="default"?-1:u.name==="default"?1:c.name.localeCompare(u.name)),e("SET_MESHES",a)}catch(s){console.error(s)}},updateSelectedMesh({commit:e},n){n!==null?U.set("selectedMesh",n):U.remove("selectedMesh"),e("SET_SELECTED_MESH",n)},async fetchTotalClusterCount({commit:e}){const n=await t.getZones();e("SET_TOTAL_CLUSTER_COUNT",n.total)},async fetchDataplaneTotalCount({commit:e}){try{const n=await t.getAllDataplanes({size:1});e("SET_TOTAL_DATAPLANE_COUNT",n.total)}catch(n){console.error(n)}},async fetchMeshInsights({commit:e,dispatch:n},r){e("SET_MESH_INSIGHTS_FETCHING",!0);try{if(r===void 0){const s=await Ae(t.getAllMeshInsights.bind(t)),i=[];s.items.length>0&&i.push({title:"Mesh",data:s.items.length}),e("SET_OVERVIEW_CHART_DATA",{chartName:"meshes",data:i}),e("SET_MESH_INSIGHT_FROM_ALL_MESHES",s)}else e("SET_MESH_INSIGHT",await t.getMeshInsights({name:r}))}catch{e("SET_OVERVIEW_CHART_DATA",{chartName:"meshes",data:[]}),e("SET_MESH_INSIGHT",Wn())}finally{n("setChartsFromMeshInsights")}e("SET_MESH_INSIGHTS_FETCHING",!1)},async fetchServiceInsights({commit:e},n){e("SET_SERVICE_INSIGHTS_FETCHING",!0);try{const r=n===void 0?t.getAllServiceInsights.bind(t):t.getAllServiceInsightsFromMesh.bind(t,{mesh:n});e("SET_INTERNAL_SERVICE_SUMMARY",await Ae(r))}catch{e("SET_INTERNAL_SERVICE_SUMMARY")}e("SET_SERVICE_INSIGHTS_FETCHING",!1)},async fetchExternalServices({commit:e},n){e("SET_EXTERNAL_SERVICES_FETCHING",!0);try{const r=n===void 0?t.getAllExternalServices.bind(t):t.getAllExternalServicesFromMesh.bind(t,{mesh:n});e("SET_EXTERNAL_SERVICE_SUMMARY",await Ae(r))}catch{e("SET_EXTERNAL_SERVICE_SUMMARY")}e("SET_EXTERNAL_SERVICES_FETCHING",!1)},async fetchServices({dispatch:e},n){const r=e("fetchExternalServices",n),s=e("fetchServiceInsights",n);await Promise.all([s,r]),await e("setOverviewServicesChartData")},async fetchZonesInsights({commit:e,dispatch:n,getters:r},s=!1){e("SET_ZONES_INSIGHTS_FETCHING",!0);try{if(s){const i=await Ae(t.getAllZoneOverviews.bind(t));n("setOverviewZonesChartData",i),n("setOverviewZonesCPVersionsChartData",i)}else{const i=[{title:"Zone",data:1,route:{name:"zones"}}],o=[{title:r["config/getVersion"],data:1,route:{name:"zones"}}];e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:i}),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:o})}}catch{e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:[]}),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:[]})}e("SET_ZONES_INSIGHTS_FETCHING",!1)},async fetchPolicyTypes({commit:e}){const{policies:n}=await t.getPolicyTypes(),r=n.reduce((i,o)=>Object.assign(i,{[o.path]:o}),{}),s=n.reduce((i,o)=>Object.assign(i,{[o.name]:o}),{});e("SET_POLICY_TYPES",n),e("SET_POLICY_TYPES_BY_PATH",r),e("SET_POLICY_TYPES_BY_NAME",s)},setChartsFromMeshInsights({dispatch:e}){e("setOverviewDataplanesChartData"),e("setOverviewKumaDPVersionsChartData"),e("setOverviewEnvoyVersionsChartData")},setOverviewZonesChartData({commit:e},{items:n=[]}){const r=n.length;let s=0;n.forEach(o=>{Jn(o.zoneInsight)==="online"&&s++});const i=[];r&&(i.push({title:Xt,data:s,route:{name:"zones"}}),s!==r&&i.push({title:qt,data:r-s,route:{name:"zones"}})),e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:i})},setOverviewServicesChartData({state:e,commit:n}){const{internal:r,external:s}=e.serviceSummary,i=[];r.total&&e.selectedMesh!==null&&i.push({title:"Internal",data:r.total,route:{name:"service-list-view",params:{mesh:e.selectedMesh}}}),s.total&&e.selectedMesh!==null&&i.push({title:"External",data:s.total,route:{name:"service-list-view",params:{mesh:e.selectedMesh}}}),n("SET_OVERVIEW_CHART_DATA",{chartName:"services",data:i})},setOverviewDataplanesChartData({state:e,commit:n}){const r=e.meshInsight.dataplanes.total,s=[];if(r>0){const i=e.meshInsight.dataplanes.online??0;s.push({title:Xt,data:i});const o=e.meshInsight.dataplanes.partiallyDegraded??0;o>0&&s.push({title:tc,data:o});const a=r-o-i;a>0&&s.push({title:qt,data:a})}n("SET_OVERVIEW_CHART_DATA",{chartName:"dataplanes",data:s})},setOverviewZonesCPVersionsChartData({commit:e},{items:n}){const r=n.reduce((s,i)=>{var u;const o=((u=i.zoneInsight)==null?void 0:u.subscriptions)??[];if(o.length===0)return s;const a=o.pop(),c=s.find(l=>{var f,h;return l.title===((h=(f=a.version)==null?void 0:f.kumaCp)==null?void 0:h.version)});return c?c.data++:s.push({title:a.version.kumaCp.version,data:1,route:{name:"zones"}}),s},[]);r.sort((s,i)=>s.title==="unknown"?1:i.title==="unknown"?-1:tt(s.title,i.title)),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:r})},setOverviewEnvoyVersionsChartData({state:e,commit:n}){const{envoy:r}=e.meshInsight.dpVersions,s=Object.entries(r).map(([i,o])=>({title:i,data:o.total}));s.sort((i,o)=>i.title==="unknown"?1:o.title==="unknown"?-1:tt(i.title,o.title)),n("SET_OVERVIEW_CHART_DATA",{chartName:"envoyVersions",data:s})},setOverviewKumaDPVersionsChartData({state:e,commit:n}){const{kumaDp:r}=e.meshInsight.dpVersions,s=Object.entries(r).map(([i,o])=>({title:i,data:o.total}));s.sort((i,o)=>i.title==="unknown"?1:o.title==="unknown"?-1:tt(i.title,o.title)),n("SET_OVERVIEW_CHART_DATA",{chartName:"kumaDPVersions",data:s})}}});/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var er="store";function Bc(t){return t===void 0&&(t=null),mr(t!==null?t:er)}function ae(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function tr(t){return t!==null&&typeof t=="object"}function rc(t){return t&&typeof t.then=="function"}function sc(t,e){return function(){return t(e)}}function nr(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function rr(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;ze(t,n,[],t._modules.root,!0),Tt(t,n,e)}function Tt(t,e,n){var r=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={},a={},c=Er(!0);c.run(function(){ae(i,function(u,l){o[l]=sc(u,t),a[l]=yr(function(){return o[l]()}),Object.defineProperty(t.getters,l,{get:function(){return a[l].value},enumerable:!0})})}),t._state=_r({data:e}),t._scope=c,t.strict&&uc(t),r&&n&&t._withCommit(function(){r.data=null}),s&&s.stop()}function ze(t,e,n,r,s){var i=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!i&&!s){var a=It(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit(function(){a[c]=r.state})}var u=r.context=ic(t,o,n);r.forEachMutation(function(l,f){var h=o+f;oc(t,h,l,u)}),r.forEachAction(function(l,f){var h=l.root?f:o+f,d=l.handler||l;ac(t,h,d,u)}),r.forEachGetter(function(l,f){var h=o+f;cc(t,h,l,u)}),r.forEachChild(function(l,f){ze(t,e,n.concat(f),l,s)})}function ic(t,e,n){var r=e==="",s={dispatch:r?t.dispatch:function(i,o,a){var c=Be(i,o,a),u=c.payload,l=c.options,f=c.type;return(!l||!l.root)&&(f=e+f),t.dispatch(f,u)},commit:r?t.commit:function(i,o,a){var c=Be(i,o,a),u=c.payload,l=c.options,f=c.type;(!l||!l.root)&&(f=e+f),t.commit(f,u,l)}};return Object.defineProperties(s,{getters:{get:r?function(){return t.getters}:function(){return sr(t,e)}},state:{get:function(){return It(t.state,n)}}}),s}function sr(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,r)===e){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function oc(t,e,n,r){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(o){n.call(t,r.state,o)})}function ac(t,e,n,r){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return rc(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(c){throw t._devtoolHook.emit("vuex:error",c),c}):a})}function cc(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function uc(t){Zt(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function It(t,e){return e.reduce(function(n,r){return n[r]},t)}function Be(t,e,n){return tr(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var lc="vuex bindings",Yt="vuex:mutations",nt="vuex:actions",ee="vuex",fc=0;function dc(t,e){Lr({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[lc]},function(n){n.addTimelineLayer({id:Yt,label:"Vuex Mutations",color:Wt}),n.addTimelineLayer({id:nt,label:"Vuex Actions",color:Wt}),n.addInspector({id:ee,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===ee)if(r.filter){var s=[];cr(s,e._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[ar(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===ee){var s=r.nodeId;sr(e,s),r.state=vc(mc(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===ee){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),e._withCommit(function(){r.set(e._state.data,i,r.state.value)})}}),e.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(ee),n.sendInspectorState(ee),n.addTimelineEvent({layerId:Yt,event:{time:Date.now(),title:r.type,data:i}})}),e.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=fc++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:nt,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:nt,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var Wt=8702998,hc=6710886,pc=16777215,ir={label:"namespaced",textColor:pc,backgroundColor:hc};function or(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function ar(t,e){return{id:e||"root",label:or(e),tags:t.namespaced?[ir]:[],children:Object.keys(t._children).map(function(n){return ar(t._children[n],e+n+"/")})}}function cr(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[ir]:[]}),Object.keys(e._children).forEach(function(s){cr(t,e._children[s],n,r+s+"/")})}function vc(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),s={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var i=gc(e);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?or(o):o,editable:!1,value:dt(function(){return i[o]})}})}return s}function gc(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var s=e,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=dt(function(){return t[n]})}else e[n]=dt(function(){return t[n]})}),e}function mc(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+e+'".');return i===n.length-1?o:o._children},e==="root"?t:t.root._children)}function dt(t){try{return t()}catch(e){return e}}var w=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},ur={namespaced:{configurable:!0}};ur.namespaced.get=function(){return!!this._rawModule.namespaced};w.prototype.addChild=function(e,n){this._children[e]=n};w.prototype.removeChild=function(e){delete this._children[e]};w.prototype.getChild=function(e){return this._children[e]};w.prototype.hasChild=function(e){return e in this._children};w.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};w.prototype.forEachChild=function(e){ae(this._children,e)};w.prototype.forEachGetter=function(e){this._rawModule.getters&&ae(this._rawModule.getters,e)};w.prototype.forEachAction=function(e){this._rawModule.actions&&ae(this._rawModule.actions,e)};w.prototype.forEachMutation=function(e){this._rawModule.mutations&&ae(this._rawModule.mutations,e)};Object.defineProperties(w.prototype,ur);var X=function(e){this.register([],e,!1)};X.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};X.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};X.prototype.update=function(e){lr([],this.root,e)};X.prototype.register=function(e,n,r){var s=this;r===void 0&&(r=!0);var i=new w(n,r);if(e.length===0)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}n.modules&&ae(n.modules,function(a,c){s.register(e.concat(c),a,r)})};X.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};X.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function lr(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;lr(t.concat(r),e.getChild(r),n.modules[r])}}function fr(t){return new O(t)}var O=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var s=e.strict;s===void 0&&(s=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new X(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,a=this,c=a.dispatch,u=a.commit;this.dispatch=function(h,d){return c.call(o,h,d)},this.commit=function(h,d,g){return u.call(o,h,d,g)},this.strict=s;var l=this._modules.root.state;ze(this,l,[],this._modules.root),Tt(this,l),r.forEach(function(f){return f(n)})},Ot={state:{configurable:!0}};O.prototype.install=function(e,n){e.provide(n||er,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&dc(e,this)};Ot.state.get=function(){return this._state.data};Ot.state.set=function(t){};O.prototype.commit=function(e,n,r){var s=this,i=Be(e,n,r),o=i.type,a=i.payload,c={type:o,payload:a},u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(l){return l(c,s.state)}))};O.prototype.dispatch=function(e,n){var r=this,s=Be(e,n),i=s.type,o=s.payload,a={type:i,payload:o},c=this._actions[i];if(c){try{this._actionSubscribers.slice().filter(function(l){return l.before}).forEach(function(l){return l.before(a,r.state)})}catch{}var u=c.length>1?Promise.all(c.map(function(l){return l(o)})):c[0](o);return new Promise(function(l,f){u.then(function(h){try{r._actionSubscribers.filter(function(d){return d.after}).forEach(function(d){return d.after(a,r.state)})}catch{}l(h)},function(h){try{r._actionSubscribers.filter(function(d){return d.error}).forEach(function(d){return d.error(a,r.state,h)})}catch{}f(h)})})}};O.prototype.subscribe=function(e,n){return nr(e,this._subscribers,n)};O.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return nr(r,this._actionSubscribers,n)};O.prototype.watch=function(e,n,r){var s=this;return Zt(function(){return e(s.state,s.getters)},n,Object.assign({},r))};O.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};O.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),ze(this,this.state,e,this._modules.get(e),r.preserveState),Tt(this,this.state)};O.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=It(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),rr(this)};O.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};O.prototype.hotUpdate=function(e){this._modules.update(e),rr(this,!0)};O.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(O.prototype,Ot);var Gc=hr(function(t,e){var n={};return dr(e).forEach(function(r){var s=r.key,i=r.val;n[s]=function(){var a=this.$store.state,c=this.$store.getters;if(t){var u=pr(this.$store,"mapState",t);if(!u)return;a=u.context.state,c=u.context.getters}return typeof i=="function"?i.call(this,a,c):a[i]},n[s].vuex=!0}),n}),Fc=hr(function(t,e){var n={};return dr(e).forEach(function(r){var s=r.key,i=r.val;i=t+i,n[s]=function(){if(!(t&&!pr(this.$store,"mapGetters",t)))return this.$store.getters[i]},n[s].vuex=!0}),n});function dr(t){return Ec(t)?Array.isArray(t)?t.map(function(e){return{key:e,val:e}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function Ec(t){return Array.isArray(t)||tr(t)}function hr(t){return function(e,n){return typeof e!="string"?(n=e,e=""):e.charAt(e.length-1)!=="/"&&(e+="/"),t(e,n)}}function pr(t,e,n){var r=t._modulesNamespaceMap[n];return r}const q={EnvVars:Rt({KUMA_PRODUCT_NAME:"Kuma",KUMA_FEEDBACK_URL:"https://github.com/kumahq/kuma/issues/new/choose",KUMA_CHAT_URL:"https://kuma-mesh.slack.com",KUMA_INSTALL_URL:"https://kuma.io/install/latest/",KUMA_VERSION_URL:"https://kuma.io/latest_version/",KUMA_DOCS_URL:"https://kuma.io/docs"},{description:"EnvVars"}),Env:P(sn,{description:"Env"}),env:P(()=>t=>rn(q.Env).var(t),{description:"env"}),api:P(jn,{description:"api"}),storeKey:Rt(Symbol("store"),{description:"storeKey"}),storeConfig:P(Qn,{description:"storeConfig"}),store:P(fr,{description:"store"}),nav:P(()=>(t,e)=>fa(t,e),{description:"nav"}),routes:P(Hn,{description:"routes"}),logger:P(Fn,{description:"logger"})};se(sn,q.EnvVars);se(jn,q.Env);se(Qn,q.api);se(fr,q.storeConfig);se(Hn,q.store);se(Fn,q.Env);export{ra as A,Gc as B,U as C,Ac as D,$c as I,Oc as K,Tc as P,q as T,m as _,rn as a,Sc as b,tt as c,Gn as d,Jn as e,Ae as f,qn as g,Rc as h,Lc as i,Ic as j,Aa as k,Uc as l,Pa as m,xa as n,wc as o,Nc as p,Mc as q,Cc as r,P as s,Dc as t,Bc as u,xc as v,Da as w,kc as x,Pc as y,Fc as z};
