import{d as V,g as i,cw as j,cc as C,o as a,c,e as t,b as n,a as f,w as D,bV as u,u as r,i as b,j as d,F as k,bX as I,bY as N,k as O}from"./index.d0a5646f.js";import{S as P}from"./StatusBadge.4d44185f.js";import{T as $}from"./TagList.894ea3a8.js";import{_ as q}from"./YamlView.vue_vue_type_script_setup_true_lang.35162bda.js";const _=l=>(I("data-v-aeb75a49"),l=l(),N(),l),E={class:"entity-summary entity-section-list"},F={class:"block-list"},L={class:"entity-title"},A={class:"definition"},M=_(()=>t("span",null,"Mesh:",-1)),R={class:"definition"},X=_(()=>t("span",null,"Address:",-1)),Y={key:0,class:"definition"},z=_(()=>t("span",null,"TLS:",-1)),G={key:1,class:"definition"},H=_(()=>t("span",null,"Data plane proxies:",-1)),J={key:0},K=_(()=>t("h2",null,"Tags",-1)),Q={class:"config-section"},U=V({__name:"ServiceSummary",props:{service:{type:Object,required:!0},externalService:{type:Object,required:!1,default:null}},setup(l){const e=l,g=i(()=>({name:"service-detail-view",params:{service:e.service.name,mesh:e.service.mesh}})),p=i(()=>{var s;return e.service.serviceType==="external"&&e.externalService!==null?e.externalService.networking.address:(s=e.service.addressPort)!=null?s:null}),m=i(()=>{var s;return e.service.serviceType==="external"&&e.externalService!==null?(s=e.externalService.networking.tls)!=null&&s.enabled?"Enabled":"Disabled":null}),h=i(()=>{var s,o,v,S;if(e.service.serviceType==="external")return null;{const w=(o=(s=e.service.dataplanes)==null?void 0:s.online)!=null?o:0,B=(S=(v=e.service.dataplanes)==null?void 0:v.total)!=null?S:0;return`${w} online / ${B} total`}}),y=i(()=>{var s;return e.service.serviceType==="external"?null:(s=e.service.status)!=null?s:null}),x=i(()=>e.service.serviceType==="external"&&e.externalService!==null?Object.entries(e.externalService.tags).map(([s,o])=>({label:s,value:o})):[]),T=i(()=>{var s;return j((s=e.externalService)!=null?s:e.service)});return(s,o)=>{const v=C("router-link");return a(),c("div",E,[t("section",null,[t("div",F,[t("div",null,[t("h1",L,[t("span",null,[n(`
              Service:

              `),f(v,{to:r(g)},{default:D(()=>[n(u(e.service.name),1)]),_:1},8,["to"])]),n(),r(y)?(a(),b(P,{key:0,status:r(y)},null,8,["status"])):d("",!0)]),n(),t("div",A,[M,n(),t("span",null,u(e.service.mesh),1)]),n(),t("div",R,[X,n(),t("span",null,[r(p)!==null?(a(),c(k,{key:0},[n(u(r(p)),1)],64)):(a(),c(k,{key:1},[n("\u2014")],64))])]),n(),r(m)!==null?(a(),c("div",Y,[z,n(),t("span",null,u(r(m)),1)])):d("",!0),n(),r(h)!==null?(a(),c("div",G,[H,n(),t("span",null,u(r(h)),1)])):d("",!0)]),n(),r(x).length>0?(a(),c("div",J,[K,n(),f($,{tags:r(x)},null,8,["tags"])])):d("",!0)])]),n(),t("section",Q,[e.service.serviceType==="external"?(a(),b(q,{key:0,id:"code-block-service",content:r(T),"is-searchable":"","code-max-height":"250px"},null,8,["content"])):d("",!0)])])}}});const te=O(U,[["__scopeId","data-v-aeb75a49"]]);export{te as S};
