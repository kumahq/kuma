import{d as E,e as l,o as a,k as u,w as e,a as c,i as y,P as w,b as t,t as o,S as A,l as g,c as m,F as h,A as I,G as x,C as B}from"./index-Dxk6JoIL.js";import{S as D}from"./SummaryView-1NztUQvH.js";const R={class:"stack"},S={class:"columns"},N={key:0},P=E({__name:"ZoneEgressDetailView",props:{data:{}},setup(k){const r=k;return(T,X)=>{const b=l("XCopyButton"),v=l("KCard"),f=l("XAction"),z=l("RouterView"),C=l("AppView"),V=l("RouteView");return a(),u(V,{name:"zone-egress-detail-view",params:{subscription:"",zoneEgress:""}},{default:e(({t:n,route:_,me:p})=>[c(C,null,{default:e(()=>[y("div",R,[c(v,null,{default:e(()=>[y("div",S,[c(w,null,{title:e(()=>[t(o(n("http.api.property.status")),1)]),body:e(()=>[c(A,{status:r.data.state},null,8,["status"])]),_:2},1024),t(),r.data.namespace.length>0?(a(),u(w,{key:0},{title:e(()=>[t(`
                Namespace
              `)]),body:e(()=>[t(o(r.data.namespace),1)]),_:1})):g("",!0),t(),c(w,null,{title:e(()=>[t(o(n("http.api.property.address")),1)]),body:e(()=>[r.data.zoneEgress.socketAddress.length>0?(a(),u(b,{key:0,text:r.data.zoneEgress.socketAddress},null,8,["text"])):(a(),m(h,{key:1},[t(o(n("common.detail.none")),1)],64))]),_:2},1024)])]),_:2},1024),t(),r.data.zoneEgressInsight.subscriptions.length>0?(a(),m("div",N,[y("h2",null,o(n("zone-egresses.routes.item.subscriptions.title")),1),t(),c(I,{headers:[{...p.get("headers.instanceId"),label:n("http.api.property.instanceId"),key:"instanceId"},{...p.get("headers.version"),label:n("http.api.property.version"),key:"version"},{...p.get("headers.connected"),label:n("http.api.property.connected"),key:"connected"},{...p.get("headers.disconnected"),label:n("http.api.property.disconnected"),key:"disconnected"},{...p.get("headers.responses"),label:n("http.api.property.responses"),key:"responses"}],"is-selected-row":s=>s.id===_.params.subscription,items:r.data.zoneEgressInsight.subscriptions.map((s,d,i)=>i[i.length-(d+1)]),onResize:p.set},{instanceId:e(({row:s})=>[c(f,{"data-action":"",to:{name:"zone-egress-subscription-summary-view",params:{subscription:s.id}}},{default:e(()=>[t(o(s.controlPlaneInstanceId),1)]),_:2},1032,["to"])]),version:e(({row:s})=>{var d,i;return[t(o(((i=(d=s.version)==null?void 0:d.kumaDp)==null?void 0:i.version)??"-"),1)]}),connected:e(({row:s})=>[t(o(n("common.formats.datetime",{value:Date.parse(s.connectTime??"")})),1)]),disconnected:e(({row:s})=>[s.disconnectTime?(a(),m(h,{key:0},[t(o(n("common.formats.datetime",{value:Date.parse(s.disconnectTime)})),1)],64)):g("",!0)]),responses:e(({row:s})=>{var d;return[(a(!0),m(h,null,x([((d=s.status)==null?void 0:d.total)??{}],i=>(a(),m(h,null,[t(o(i.responsesSent)+"/"+o(i.responsesAcknowledged),1)],64))),256))]}),_:2},1032,["headers","is-selected-row","items","onResize"]),t(),c(z,null,{default:e(({Component:s})=>[_.child()?(a(),u(D,{key:0,width:"670px",onClose:function(){_.replace({name:"zone-egress-detail-view",params:{zoneEgress:_.params.zoneEgress}})}},{default:e(()=>[(a(),u(B(s),{data:r.data.zoneEgressInsight.subscriptions},null,8,["data"]))]),_:2},1032,["onClose"])):g("",!0)]),_:2},1024)])):g("",!0)])]),_:2},1024)]),_:1})}}});export{P as default};
