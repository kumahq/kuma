import{d as B,i as E,r as S,j as V,o as n,c as y,k as s,w as k,a as g,u as i,ak as j}from"./index-3d59543a.js";import{_ as b}from"./CodeBlock.vue_vue_type_style_index_0_lang-3e8641de.js";import{_ as w}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-f6291874.js";import{E as H}from"./ErrorBlock-efee1ec6.js";import{_ as C}from"./LoadingBlock.vue_vue_type_script_setup_true_lang-08383420.js";import{t as v}from"./toYaml-4e00099e.js";const M={class:"yaml-view"},O={key:3,class:"yaml-view-content"},A=B({__name:"YamlView",props:{id:{type:String,required:!0},content:{type:Object,required:!1,default:null},isLoading:{type:Boolean,required:!1,default:!1},hasError:{type:Boolean,required:!1,default:!1},isEmpty:{type:Boolean,required:!1,default:!1},codeMaxHeight:{type:String,required:!1,default:null},isSearchable:{type:Boolean,required:!1,default:!1}},setup(e){const a=e,p=E(),c=[{hash:"#universal",title:"Universal"},{hash:"#kubernetes",title:"Kubernetes"}],o=S(c[0].hash),l=p.getters["config/getEnvironment"];typeof l=="string"&&(o.value="#"+l);const m=V(()=>{var f;const t={};if(t.apiVersion="kuma.io/v1alpha1",t.kind=a.content.type,a.content.mesh!==void 0&&(t.mesh=a.content.mesh),(f=a.content.name)!=null&&f.includes(".")){const h=a.content.name.split("."),q=h.pop(),x=h.join(".");t.metadata={name:x,namespace:q}}else t.metadata={name:a.content.name};const{type:r,name:d,mesh:$,...u}=a.content;return Object.keys(u).length>0&&(t.spec=u),{universal:v(a.content),kubernetes:v(t)}});return(t,r)=>(n(),y("div",M,[e.isLoading?(n(),s(C,{key:0})):e.hasError?(n(),s(H,{key:1})):e.isEmpty?(n(),s(w,{key:2})):(n(),y("div",O,[(n(),s(i(j),{key:i(l),modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=d=>o.value=d),tabs:c},{universal:k(()=>[g(b,{id:e.id,language:"yaml",code:i(m).universal,"is-searchable":e.isSearchable,"query-key":e.id,"code-max-height":e.codeMaxHeight},null,8,["id","code","is-searchable","query-key","code-max-height"])]),kubernetes:k(()=>[g(b,{id:e.id,language:"yaml",code:i(m).kubernetes,"is-searchable":e.isSearchable,"query-key":e.id,"code-max-height":e.codeMaxHeight},null,8,["id","code","is-searchable","query-key","code-max-height"])]),_:1},8,["modelValue"]))]))]))}});export{A as _};
