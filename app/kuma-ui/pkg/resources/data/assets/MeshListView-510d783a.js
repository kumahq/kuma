import{i as k,g as A,A as D,_ as T}from"./RouteView.vue_vue_type_script_setup_true_lang-0ac8938c.js";import{_ as V}from"./RouteTitle.vue_vue_type_script_setup_true_lang-cccbfca9.js";import{D as E}from"./DataOverview-30ce4833.js";import{d as N,q as s,o as M,a as S,w as _,h as i,b as m,g as L,k as v,P as h}from"./index-f0e2f93b.js";import{Q as P}from"./QueryParameter-70743f73.js";import"./kongponents.es-d49ba82d.js";import"./EmptyBlock.vue_vue_type_script_setup_true_lang-fd5f25bc.js";import"./ErrorBlock-3bc373a3.js";import"./TagList-7e09ae10.js";import"./StatusBadge-9ddf65b2.js";const q={class:"kcard-stack"},z={class:"kcard-border"},K=N({__name:"MeshListView",props:{selectedMeshName:{type:[String,null],required:!1,default:null},offset:{type:Number,required:!1,default:0}},setup(b){const u=b,{t:r}=k(),g=A(),y={title:r("common.emptyState.title"),message:r("common.emptyState.message",{type:"Meshes"})},l=s(!0),n=s(null),o=s({headers:[{label:"Name",key:"entity"}],data:[]}),c=s(null),d=s(u.offset);w();function w(){p(u.offset)}async function p(e){d.value=e,P.set("offset",e>0?e:null),l.value=!0,n.value=null;const a=h;try{const{items:t,next:f}=await g.getAllMeshes({size:a,offset:e});c.value=f,o.value.data=x(t??[])}catch(t){o.value.data=[],t instanceof Error?n.value=t:console.error(t)}finally{l.value=!1}}function x(e){return e.map(a=>{const{name:t}=a;return{entity:a,detailViewRoute:{name:"mesh-detail-view",params:{mesh:t}}}})}return(e,a)=>(M(),S(T,null,{default:_(()=>[i(V,{title:m(r)("meshes.routes.items.title")},null,8,["title"]),L(),i(D,{breadcrumbs:[{to:{name:"mesh-list-view"},text:m(r)("meshes.routes.items.breadcrumbs")}]},{default:_(()=>[v("div",q,[v("div",z,[i(E,{"page-size":m(h),"is-loading":l.value,error:n.value,"empty-state":y,"table-data":o.value,"table-data-is-empty":o.value.data.length===0,next:c.value,"page-offset":d.value,onLoadData:p},null,8,["page-size","is-loading","error","table-data","table-data-is-empty","next","page-offset"])])])]),_:1},8,["breadcrumbs"])]),_:1}))}});export{K as default};
