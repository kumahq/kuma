import{d as O,r as a,x as R,p as m,o as e,w as o,b as i,m as f,F as T,c as n,N as l,L as d,e as s,q as Y,l as r,a9 as j,t as w,Y as q,z as E,_ as I}from"./index-TRKi7niM.js";const K={colspan:"2"},M=O({__name:"DataplanePolicyConfigSummaryView",props:{policies:{}},setup(V){const k=V;return($,t)=>{const C=a("XLayout"),g=a("XAction"),L=a("XCodeBlock"),B=a("XTable"),X=a("AppView"),x=a("DataCollection"),S=a("DataLoader"),b=a("DataSource"),A=a("RouteView"),N=R("icon-start");return e(),m(A,{name:"data-plane-policy-config-summary-view",params:{inactive:Boolean,proxyType:"",connection:"",policy:""}},{default:o(({route:z,uri:P})=>[i(b,{src:P(f(T),"/policy-types",{})},{default:o(({data:v})=>[i(S,{data:[k.policies,v]},{default:o(()=>[i(x,{items:k.policies,predicate:_=>_.kind.toLocaleLowerCase()===z.params.policy},{default:o(({items:_})=>[(e(!0),n(l,null,d(_,({kind:c,conf:F,origins:D})=>(e(),m(X,{key:c},{title:o(()=>[i(C,{size:"small"},{default:o(()=>[E((e(),n("h2",null,[s(w(c),1)])),[[N,{name:c,size:"60",default:"policy"}]])]),_:2},1024)]),default:o(()=>[t[5]||(t[5]=s()),(e(!0),n(l,null,d([Object.groupBy(v?.policyTypes??[],({name:p})=>p)],p=>(e(),n(l,{key:`${typeof p}`},[D.length>0?(e(),m(B,{key:0,variant:"kv"},{default:o(()=>[r("tr",null,[t[0]||(t[0]=r("th",{scope:"row"},`
                      Origin policies
                    `,-1)),t[1]||(t[1]=s()),r("td",null,[r("ul",null,[(e(!0),n(l,null,d(D,u=>(e(),n("li",{key:u.kri},[(e(!0),n(l,null,d([f(j).fromString(u.kri)],y=>(e(),n(l,{key:typeof y},[p[c]?(e(),m(g,{key:0,to:{name:"policy-detail-view",params:{mesh:y.mesh,policyPath:p[c][0].path,policy:y.name}}},{default:o(()=>[s(w(u.kri),1)]),_:2},1032,["to"])):(e(),n(l,{key:1},[s(w(u.kri),1)],64))],64))),128))]))),128))])])]),t[4]||(t[4]=s()),r("tr",null,[r("td",K,[i(C,{type:"stack",size:"small"},{default:o(()=>[t[2]||(t[2]=r("span",null,"Config",-1)),t[3]||(t[3]=s()),i(L,{code:f(q).stringify(F),language:"yaml","show-copy-button":!1},null,8,["code"])]),_:2},1024)])])]),_:2},1024)):Y("",!0)],64))),128))]),_:2},1024))),128))]),_:2},1032,["items","predicate"])]),_:2},1032,["data"])]),_:2},1032,["src"])]),_:1})}}}),G=I(M,[["__scopeId","data-v-70f9a8c7"]]);export{G as default};
