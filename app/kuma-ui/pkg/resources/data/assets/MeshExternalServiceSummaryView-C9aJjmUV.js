import{d as D,e as i,o as p,p as m,w as o,a as r,l,b as t,Q as d,t as c,q as u}from"./index-DDn9K2Ij.js";import{_ as B}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-EPmzdLqu.js";const F={class:"stack"},M={class:"stack-with-borders"},N={class:"mt-4"},q=D({__name:"MeshExternalServiceSummaryView",props:{items:{}},setup(y){const h=y;return(A,e)=>{const C=i("RouteTitle"),g=i("XAction"),x=i("KumaPort"),b=i("XBadge"),w=i("DataSource"),z=i("AppView"),k=i("DataCollection"),E=i("RouteView");return p(),m(E,{name:"mesh-external-service-summary-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1}},{default:o(({route:n,t:v,can:R})=>[r(k,{items:h.items,predicate:s=>s.id===n.params.service},{item:o(({item:s})=>[r(z,null,{title:o(()=>[l("h2",null,[r(g,{to:{name:"mesh-external-service-detail-view",params:{mesh:n.params.mesh,service:n.params.service}}},{default:o(()=>[r(C,{title:v("services.routes.item.title",{name:s.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:o(()=>[e[13]||(e[13]=t()),l("div",F,[l("div",M,[s.namespace.length>0?(p(),m(d,{key:0,layout:"horizontal"},{title:o(()=>e[0]||(e[0]=[t(`
                  Namespace
                `)])),body:o(()=>[t(c(s.namespace),1)]),_:2},1024)):u("",!0),e[8]||(e[8]=t()),R("use zones")&&s.zone?(p(),m(d,{key:1,layout:"horizontal"},{title:o(()=>e[2]||(e[2]=[t(`
                  Zone
                `)])),body:o(()=>[r(g,{to:{name:"zone-cp-detail-view",params:{zone:s.zone}}},{default:o(()=>[t(c(s.zone),1)]),_:2},1032,["to"])]),_:2},1024)):u("",!0),e[9]||(e[9]=t()),s.spec.match?(p(),m(d,{key:2,layout:"horizontal"},{title:o(()=>e[4]||(e[4]=[t(`
                  Port
                `)])),body:o(()=>[r(x,{port:s.spec.match},null,8,["port"])]),_:2},1024)):u("",!0),e[10]||(e[10]=t()),r(d,{layout:"horizontal"},{title:o(()=>e[6]||(e[6]=[t(`
                  TLS
                `)])),body:o(()=>[r(b,{appearance:"neutral"},{default:o(()=>{var a;return[t(c((a=s.spec.tls)!=null&&a.enabled?"Enabled":"Disabled"),1)]}),_:2},1024)]),_:2},1024)]),e[12]||(e[12]=t()),l("div",null,[l("h3",null,c(v("services.routes.item.config")),1),e[11]||(e[11]=t()),l("div",N,[r(B,{resource:s.config,"is-searchable":"",query:n.params.codeSearch,"is-filter-mode":n.params.codeFilter,"is-reg-exp-mode":n.params.codeRegExp,onQueryChange:a=>n.update({codeSearch:a}),onFilterModeChange:a=>n.update({codeFilter:a}),onRegExpModeChange:a=>n.update({codeRegExp:a})},{default:o(({copy:a,copying:S})=>[S?(p(),m(w,{key:0,src:`/meshes/${n.params.mesh}/mesh-service/${n.params.service}/as/kubernetes?no-store`,onChange:_=>{a(f=>f(_))},onError:_=>{a((f,V)=>V(_))}},null,8,["src","onChange","onError"])):u("",!0)]),_:2},1032,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])])])])]),_:2},1024)]),_:2},1032,["items","predicate"])]),_:1})}}});export{q as default};
