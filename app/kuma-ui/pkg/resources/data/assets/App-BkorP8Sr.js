import{d as C,r as l,c as _,o as u,a as k,b as n,w as o,e,t as c,n as G,_ as z,f as H,h as P,g as V,i as q,u as F,j as Y,k as Z,l as j,m as h,p as g,q as r,s as i,F as O,v as U,x as J,y as Q,z as W,A as $}from"./index-D_WxlpfD.js";const tt=""+new URL("product-logo-CDoXkXpC.png",import.meta.url).href,et={class:"app-navigator"},ot=C({__name:"AppNavigator",props:{active:{type:Boolean,default:!1},label:{default:""},to:{default:()=>({})}},setup(p){const s=p;return(m,a)=>{const y=l("XAction");return u(),_("li",et,[k(m.$slots,"default",{},()=>[n(y,{class:G({"is-active":s.active}),to:s.to},{default:o(()=>[e(c(s.label),1)]),_:1},8,["class","to"])],!0)])}}}),A=z(ot,[["__scopeId","data-v-a28d552b"]]),nt=C({name:"github-button",props:{href:String,ariaLabel:String,title:String,dataIcon:String,dataColorScheme:String,dataSize:String,dataShowCount:String,dataText:String},render:function(){const p={ref:"_"};for(const s in this.$props)p[P(s)]=this.$props[s];return V("span",[q(this.$slots,"default")?V("a",p,this.$slots.default()):V("a",p)])},mounted:function(){this.paint()},beforeUpdate:function(){this.reset()},updated:function(){this.paint()},beforeUnmount:function(){this.reset()},methods:{paint:function(){if(this.$el.lastChild!==this.$refs._)return;const p=this.$el.appendChild(document.createElement("span")),s=this;H(()=>import("./buttons.esm-DK2fWHEW.js"),[],import.meta.url).then(function(m){s.$el.lastChild===p&&m.render(p.appendChild(s.$refs._),function(a){s.$el.lastChild===p&&p.parentNode.replaceChild(a,p)})})},reset:function(){this.$refs._!=null&&this.$el.replaceChild(this.$refs._,this.$el.lastChild)}}}),at={class:"application-shell"},st={role:"banner"},it={class:"horizontal-list"},rt={class:"upgrade-check-wrapper"},lt={class:"horizontal-list"},ut={class:"app-status app-status--mobile"},dt={class:"app-status app-status--desktop"},pt={class:"app-content-container"},mt={class:"app-sidebar"},ct={"aria-label":"Main"},ft={key:0},_t={key:1,role:"separator",class:"navigation-separator"},vt={key:2},gt={class:"app-main-content"},ht={key:0},bt={class:"notifications"},kt=["data-testid"],yt=C({__name:"ApplicationShell",setup(p){const s=F(),m=Y(),{t:a}=Z(),y=j();return(d,t)=>{const b=l("XTeleportSlot"),E=l("XI18n"),N=l("XNotification"),v=l("XAction"),f=l("XLayout"),X=l("XAlert"),w=l("DataSource"),I=l("XPop"),L=l("XIcon"),T=l("XActionGroup"),x=l("DataSink"),B=l("XNotificationHub");return u(),_("div",at,[n(b,{name:"modal-layer"}),t[23]||(t[23]=e()),n(w,{src:"/me/~notifications"},{default:o(({data:M})=>[M?(u(),h(B,{key:0,uri:"application-shell",dismissed:M},{default:o(D=>[i(y)("use state")?g("",!0):(u(),h(N,{key:0,uri:"global-store-type-memory"},{default:o(()=>[n(E,{path:"common.warnings.GLOBAL_STORE_TYPE_MEMORY"})]),_:1})),t[21]||(t[21]=e()),r("header",st,[r("div",it,[k(d.$slots,"header",{},()=>[n(v,{to:{name:"home"}},{default:o(()=>[k(d.$slots,"home",{},void 0,!0)]),_:3}),t[3]||(t[3]=e()),n(i(nt),{class:"gh-star",href:"https://github.com/kumahq/kuma","aria-label":"Star kumahq/kuma on GitHub"},{default:o(()=>t[0]||(t[0]=[e(`
                Star
              `)])),_:1}),t[4]||(t[4]=e()),r("div",rt,[n(w,{src:"/control-plane/version/latest"},{default:o(({data:S})=>[S&&i(m)("KUMA_VERSION")!==S.version?(u(),h(X,{key:0,class:"upgrade-alert","data-testid":"upgrade-check",appearance:"info"},{default:o(()=>[n(f,{type:"separated"},{default:o(()=>[r("p",null,c(i(a)("common.product.name"))+` update available
                      `,1),t[2]||(t[2]=e()),n(v,{appearance:"primary",href:i(a)("common.product.href.install")},{default:o(()=>t[1]||(t[1]=[e(`
                        Update
                      `)])),_:1},8,["href"])]),_:1})]),_:1})):g("",!0)]),_:1})])],!0)]),t[16]||(t[16]=e()),r("div",lt,[k(d.$slots,"content-info",{},()=>[r("div",ut,[n(I,{width:"280"},{content:o(()=>[r("p",null,[e(c(i(a)("common.product.name"))+" ",1),r("b",null,c(i(m)("KUMA_VERSION")),1),t[6]||(t[6]=e(" on ")),r("b",null,c(i(a)(`common.product.environment.${i(m)("KUMA_ENVIRONMENT")}`)),1),e(" ("+c(i(a)(`common.product.mode.${i(m)("KUMA_MODE")}`))+`)
                    `,1)])]),default:o(()=>[n(v,{appearance:"tertiary"},{default:o(()=>t[5]||(t[5]=[e(`
                    Info
                  `)])),_:1}),t[7]||(t[7]=e())]),_:1})]),t[14]||(t[14]=e()),r("p",dt,[e(c(i(a)("common.product.name"))+" ",1),r("b",null,c(i(m)("KUMA_VERSION")),1),t[8]||(t[8]=e(" on ")),r("b",null,c(i(a)(`common.product.environment.${i(m)("KUMA_ENVIRONMENT")}`)),1),e(" ("+c(i(a)(`common.product.mode.${i(m)("KUMA_MODE")}`))+`)
              `,1)]),t[15]||(t[15]=e()),n(T,null,{control:o(()=>[n(v,{appearance:"tertiary"},{default:o(()=>[n(L,{name:"help"},{default:o(()=>t[9]||(t[9]=[e(`
                      Help
                    `)])),_:1})]),_:1})]),default:o(()=>[t[12]||(t[12]=e()),n(v,{href:i(a)("common.product.href.docs.index"),target:"_blank",rel:"noopener noreferrer"},{default:o(()=>t[10]||(t[10]=[e(`
                  Documentation
                `)])),_:1},8,["href"]),t[13]||(t[13]=e()),n(v,{href:i(a)("common.product.href.feedback"),target:"_blank",rel:"noopener noreferrer"},{default:o(()=>t[11]||(t[11]=[e(`
                  Feedback
                `)])),_:1},8,["href"])]),_:1})],!0)])]),t[22]||(t[22]=e()),r("div",pt,[r("div",mt,[r("nav",ct,[s.navigation?(u(),_("ul",ft,[k(d.$slots,"navigation",{},void 0,!0)])):g("",!0),t[17]||(t[17]=e()),s.navigation&&s.bottomNavigation?(u(),_("div",_t)):g("",!0),t[18]||(t[18]=e()),s.bottomNavigation?(u(),_("ul",vt,[k(d.$slots,"bottomNavigation",{},void 0,!0)])):g("",!0)])]),t[20]||(t[20]=e()),r("main",gt,[n(f,{type:"stack"},{default:o(()=>[D.notifications.size>0?(u(),_("aside",ht,[n(x,{src:"/me/~notifications"},{default:o(()=>[n(f,{type:"stack"},{default:o(()=>[(u(!0),_(O,null,U(D.notifications,([S,K])=>(u(),h(X,{key:S,variant:S},{default:o(()=>[r("ul",bt,[(u(!0),_(O,null,U(K,R=>(u(),_("li",{key:R,"data-testid":`notification-${R}`},[n(N,{uri:R},null,8,["uri"])],8,kt))),128))])]),_:2},1032,["variant"]))),128))]),_:2},1024)]),_:2},1024)])):g("",!0),t[19]||(t[19]=e()),r("div",null,[k(d.$slots,"default",{},void 0,!0)])]),_:2},1024)])])]),_:2},1032,["dismissed"])):g("",!0)]),_:3})])}}}),St=z(yt,[["__scopeId","data-v-aa289088"]]),$t=["alt"],At=C({__name:"App",setup(p){var y;const s=J(),m=((y=s.getRoutes().find(d=>d.name==="app"))==null?void 0:y.children.map(d=>(d.name=String(d.name),d)))??[],a=Q({name:""});return s.afterEach(()=>{const d=s.currentRoute.value.matched.map(b=>b.name),t=m.find(b=>d.includes(b.name));t&&t.name!==a.value.name&&(a.value=t)}),(d,t)=>{const b=l("RouterView"),E=l("AppView"),N=l("RouteView"),v=l("DataSource"),f=W("style");return u(),h(v,{src:"/control-plane/addresses"},{default:o(({data:X})=>[typeof X<"u"?(u(),h(N,{key:0,name:"app",attrs:{class:"kuma-ready"},"data-testid-root":"mesh-app"},{default:o(({t:w,can:I})=>[n(St,{class:"kuma-application"},{home:o(()=>[r("img",{class:"logo",src:tt,alt:`${w("common.product.name")} Logo`,"data-testid":"logo"},null,8,$t)]),navigation:o(()=>[$(n(A,{"data-testid":"control-planes-navigator",active:a.value.name==="home",label:"Home",to:{name:"home"}},null,8,["active"]),[[f,"--icon: var(--icon-home)"]]),t[0]||(t[0]=e()),I("use zones")?$((u(),h(A,{key:0,"data-testid":"zones-navigator",active:a.value.name==="zone-index-view",label:"Zones",to:{name:"zone-index-view"}},null,8,["active"])),[[f,"--icon: var(--icon-zones)"]]):$((u(),h(A,{key:1,"data-testid":"zone-egresses-navigator",active:a.value.name==="zone-egress-index-view",label:"Zone Egresses",to:{name:"zone-egress-list-view"}},null,8,["active"])),[[f,"--icon: var(--icon-zone-egresses)"]]),t[1]||(t[1]=e()),$(n(A,{active:a.value.name==="mesh-index-view","data-testid":"meshes-navigator",label:"Meshes",to:{name:"mesh-index-view"}},null,8,["active"]),[[f,"--icon: var(--icon-meshes)"]])]),bottomNavigation:o(()=>[$(n(A,{active:a.value.name==="configuration-view","data-testid":"configuration-navigator",label:"Configuration",to:{name:"configuration-view"}},null,8,["active"]),[[f,"--icon: var(--icon-configuration)"]])]),default:o(()=>[t[2]||(t[2]=e()),t[3]||(t[3]=e()),t[4]||(t[4]=e()),n(E,null,{default:o(()=>[n(b)]),_:1})]),_:2},1024)]),_:1})):g("",!0)]),_:1})}}}),Xt=z(At,[["__scopeId","data-v-5aec8b56"]]);export{Xt as default};
