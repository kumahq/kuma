import{d as A,r as u,c as S,o as f,a as g,b as a,w as o,e,t as v,n as R,_ as z,f as D,h as M,g as V,i as U,u as O,j as x,k as K,l as r,m as i,p as h,q as k,s as T,v as B,x as L,y as G,z as b}from"./index-Dq_FLkmZ.js";const P=""+new URL("product-logo-CDoXkXpC.png",import.meta.url).href,q={class:"app-navigator"},H=A({__name:"AppNavigator",props:{active:{type:Boolean,default:!1},label:{default:""},to:{default:()=>({})}},setup(d){const s=d;return(p,n)=>{const c=u("XAction");return f(),S("li",q,[g(p.$slots,"default",{},()=>[a(c,{class:R({"is-active":s.active}),to:s.to},{default:o(()=>[e(v(s.label),1)]),_:1},8,["class","to"])],!0)])}}}),$=z(H,[["__scopeId","data-v-a28d552b"]]),Z=A({name:"github-button",props:{href:String,ariaLabel:String,title:String,dataIcon:String,dataColorScheme:String,dataSize:String,dataShowCount:String,dataText:String},render:function(){const d={ref:"_"};for(const s in this.$props)d[M(s)]=this.$props[s];return V("span",[U(this.$slots,"default")?V("a",d,this.$slots.default()):V("a",d)])},mounted:function(){this.paint()},beforeUpdate:function(){this.reset()},updated:function(){this.paint()},beforeUnmount:function(){this.reset()},methods:{paint:function(){if(this.$el.lastChild!==this.$refs._)return;const d=this.$el.appendChild(document.createElement("span")),s=this;D(()=>import("./buttons.esm-DK2fWHEW.js"),[],import.meta.url).then(function(p){s.$el.lastChild===d&&p.render(d.appendChild(s.$refs._),function(n){s.$el.lastChild===d&&d.parentNode.replaceChild(n,d)})})},reset:function(){this.$refs._!=null&&this.$el.replaceChild(this.$refs._,this.$el.lastChild)}}}),j={class:"application-shell"},F={role:"banner"},J={class:"horizontal-list"},Q={class:"upgrade-check-wrapper"},W={class:"horizontal-list"},Y={class:"app-status app-status--mobile"},tt={class:"app-status app-status--desktop"},et={class:"app-content-container"},ot={class:"app-sidebar"},nt={"aria-label":"Main"},at={key:0},st={key:1,role:"separator",class:"navigation-separator"},it={key:2},rt={class:"app-main-content"},lt=A({__name:"ApplicationShell",setup(d){const s=O(),p=x(),{t:n}=K();return(c,t)=>{const l=u("XTeleportSlot"),m=u("XAction"),w=u("XLayout"),N=u("XAlert"),C=u("DataSource"),_=u("XPop"),X=u("XIcon"),E=u("XActionGroup");return f(),S("div",j,[a(l,{name:"modal-layer"}),t[20]||(t[20]=e()),r("header",F,[r("div",J,[g(c.$slots,"header",{},()=>[a(m,{to:{name:"control-plane-root-view"}},{default:o(()=>[g(c.$slots,"home",{},void 0,!0)]),_:3}),t[3]||(t[3]=e()),a(i(Z),{class:"gh-star",href:"https://github.com/kumahq/kuma","aria-label":"Star kumahq/kuma on GitHub"},{default:o(()=>t[0]||(t[0]=[e(`
            Star
          `)])),_:1}),t[4]||(t[4]=e()),r("div",Q,[a(C,{src:"/control-plane/version/latest"},{default:o(({data:y})=>[y&&i(p)("KUMA_VERSION")!==y.version?(f(),h(N,{key:0,class:"upgrade-alert","data-testid":"upgrade-check",appearance:"info"},{default:o(()=>[a(w,{type:"separated"},{default:o(()=>[r("p",null,v(i(n)("common.product.name"))+` update available
                  `,1),t[2]||(t[2]=e()),a(m,{appearance:"primary",href:i(n)("common.product.href.install")},{default:o(()=>t[1]||(t[1]=[e(`
                    Update
                  `)])),_:1},8,["href"])]),_:1})]),_:1})):k("",!0)]),_:1})])],!0)]),t[16]||(t[16]=e()),r("div",W,[g(c.$slots,"content-info",{},()=>[r("div",Y,[a(_,{width:"280"},{content:o(()=>[r("p",null,[e(v(i(n)("common.product.name"))+" ",1),r("b",null,v(i(p)("KUMA_VERSION")),1),t[6]||(t[6]=e(" on ")),r("b",null,v(i(n)(`common.product.environment.${i(p)("KUMA_ENVIRONMENT")}`)),1),e(" ("+v(i(n)(`common.product.mode.${i(p)("KUMA_MODE")}`))+`)
                `,1)])]),default:o(()=>[a(m,{appearance:"tertiary"},{default:o(()=>t[5]||(t[5]=[e(`
                Info
              `)])),_:1}),t[7]||(t[7]=e())]),_:1})]),t[14]||(t[14]=e()),r("p",tt,[e(v(i(n)("common.product.name"))+" ",1),r("b",null,v(i(p)("KUMA_VERSION")),1),t[8]||(t[8]=e(" on ")),r("b",null,v(i(n)(`common.product.environment.${i(p)("KUMA_ENVIRONMENT")}`)),1),e(" ("+v(i(n)(`common.product.mode.${i(p)("KUMA_MODE")}`))+`)
          `,1)]),t[15]||(t[15]=e()),a(E,null,{control:o(()=>[a(m,{appearance:"tertiary"},{default:o(()=>[a(X,{name:"help"},{default:o(()=>t[9]||(t[9]=[e(`
                  Help
                `)])),_:1})]),_:1})]),default:o(()=>[t[12]||(t[12]=e()),a(m,{href:i(n)("common.product.href.docs.index"),target:"_blank",rel:"noopener noreferrer"},{default:o(()=>t[10]||(t[10]=[e(`
              Documentation
            `)])),_:1},8,["href"]),t[13]||(t[13]=e()),a(m,{href:i(n)("common.product.href.feedback"),target:"_blank",rel:"noopener noreferrer"},{default:o(()=>t[11]||(t[11]=[e(`
              Feedback
            `)])),_:1},8,["href"])]),_:1})],!0)])]),t[21]||(t[21]=e()),r("div",et,[r("div",ot,[r("nav",nt,[s.navigation?(f(),S("ul",at,[g(c.$slots,"navigation",{},void 0,!0)])):k("",!0),t[17]||(t[17]=e()),s.navigation&&s.bottomNavigation?(f(),S("div",st)):k("",!0),t[18]||(t[18]=e()),s.bottomNavigation?(f(),S("ul",it,[g(c.$slots,"bottomNavigation",{},void 0,!0)])):k("",!0)])]),t[19]||(t[19]=e()),r("main",rt,[a(w,{type:"stack"},{default:o(()=>[r("div",null,[g(c.$slots,"default",{},void 0,!0)])]),_:3})])])])}}}),dt=z(lt,[["__scopeId","data-v-c99f550b"]]),pt=["alt"],ut=A({__name:"App",setup(d){var c;const s=T(),p=((c=s.getRoutes().find(t=>t.name==="control-plane-root-view"))==null?void 0:c.children.map(t=>(t.name=String(t.name),t)))??[],n=B({name:""});return s.afterEach(()=>{const t=s.currentRoute.value.matched.map(m=>m.name),l=p.find(m=>t.includes(m.name));l&&l.name!==n.value.name&&(n.value=l)}),(t,l)=>{const m=u("RouterView"),w=u("AppView"),N=u("RouteView"),C=u("DataSource"),_=L("style");return f(),h(C,{src:"/control-plane/addresses"},{default:o(({data:X})=>[typeof X<"u"?(f(),h(N,{key:0,name:"app",attrs:{class:"kuma-ready"},"data-testid-root":"mesh-app"},{default:o(({t:E,can:y})=>[a(dt,{class:"kuma-application"},{home:o(()=>[r("img",{class:"logo",src:P,alt:`${E("common.product.name")} Logo`,"data-testid":"logo"},null,8,pt)]),navigation:o(()=>[b(a($,{"data-testid":"control-planes-navigator",active:n.value.name==="control-plane-detail-view",label:"Home",to:{name:"control-plane-root-view"}},null,8,["active"]),[[_,"--icon: var(--icon-home)"]]),l[0]||(l[0]=e()),y("use zones")?b((f(),h($,{key:0,"data-testid":"zones-navigator",active:n.value.name==="zone-index-view",label:"Zones",to:{name:"zone-index-view"}},null,8,["active"])),[[_,"--icon: var(--icon-zones)"]]):b((f(),h($,{key:1,"data-testid":"zone-egresses-navigator",active:n.value.name==="zone-egress-index-view",label:"Zone Egresses",to:{name:"zone-egress-list-view"}},null,8,["active"])),[[_,"--icon: var(--icon-zone-egresses)"]]),l[1]||(l[1]=e()),b(a($,{active:n.value.name==="mesh-index-view","data-testid":"meshes-navigator",label:"Meshes",to:{name:"mesh-index-view"}},null,8,["active"]),[[_,"--icon: var(--icon-meshes)"]])]),bottomNavigation:o(()=>[b(a($,{active:n.value.name==="configuration-view","data-testid":"configuration-navigator",label:"Configuration",to:{name:"configuration-view"}},null,8,["active"]),[[_,"--icon: var(--icon-configuration)"]])]),default:o(()=>[l[2]||(l[2]=e()),l[3]||(l[3]=e()),l[4]||(l[4]=e()),a(w,{notifications:!0},{default:o(()=>[a(m,null,{default:o(({Component:I})=>[(f(),h(G(I)))]),_:1})]),_:1})]),_:2},1024)]),_:1})):k("",!0)]),_:1})}}}),ct=z(ut,[["__scopeId","data-v-b5373a26"]]);export{ct as default};
