import{d as M,r as n,p as c,o as i,w as s,b as a,e as l,l as f,I as N,m as P,ac as q,q as K,B as T,t as u,c as g,M as w,K as y,y as $,_ as G}from"./index-YTN-fqo2.js";import{S as I}from"./SummaryView-BHlbMjyi.js";const Z=M({__name:"MeshMultiZoneServiceListView",setup(E){return(F,r)=>{const z=n("RouteTitle"),C=n("XSearch"),d=n("XAction"),b=n("XCopyButton"),X=n("KumaPort"),_=n("XLayout"),V=n("XBadge"),k=n("XActionGroup"),S=n("RouterView"),B=n("DataCollection"),L=n("DataLoader"),A=n("XCard"),R=n("AppView"),x=n("RouteView");return i(),c(x,{name:"mesh-multi-zone-service-list-view",params:{page:1,size:Number,mesh:"",service:"",s:""}},{default:s(({route:e,t:h,uri:D,me:p})=>[a(z,{render:!1,title:h("services.routes.mesh-multi-zone-service-list-view.title")},null,8,["title"]),r[6]||(r[6]=l()),a(R,{docs:h("services.mesh-multi-zone-service.href.docs")},{default:s(()=>[a(A,null,{default:s(()=>[a(_,null,{default:s(()=>[f("search",null,[f("form",{onSubmit:r[0]||(r[0]=N(()=>{},["prevent"]))},[a(C,{class:"search-field",keys:["name"],value:e.params.s,onChange:t=>e.update({s:t})},null,8,["value","onChange"])],32)]),r[5]||(r[5]=l()),a(L,{src:D(P(q),"/meshes/:mesh/mesh-multi-zone-services",{mesh:e.params.mesh},{page:e.params.page,size:e.params.size,search:e.params.s})},{loadable:s(({data:t})=>[a(B,{type:"services",items:(t==null?void 0:t.items)??[void 0],page:e.params.page,"page-size":e.params.size,total:t==null?void 0:t.total,onChange:e.update},{default:s(()=>[a(T,{headers:[{...p.get("headers.name"),label:"Name",key:"name"},{...p.get("headers.ports"),label:"Ports",key:"ports"},{...p.get("headers.labels"),label:"Selector",key:"labels"},{...p.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],items:t==null?void 0:t.items,"is-selected-row":o=>o.name===e.params.service,onResize:p.set},{name:s(({row:o})=>[a(b,{text:o.name},{default:s(()=>[a(d,{"data-action":"",to:{name:"mesh-multi-zone-service-summary-view",params:{mesh:o.mesh,service:o.id},query:{page:e.params.page,size:e.params.size,s:e.params.s}}},{default:s(()=>[l(u(o.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),ports:s(({row:o})=>[a(_,{type:"separated",truncate:""},{default:s(()=>[(i(!0),g(w,null,y(o.spec.ports,m=>(i(),c(X,{key:m.port,port:{...m,targetPort:void 0}},null,8,["port"]))),128))]),_:2},1024)]),labels:s(({row:o})=>[a(_,{type:"separated",truncate:""},{default:s(()=>[(i(!0),g(w,null,y(o.spec.selector.meshService.matchLabels,(m,v)=>(i(),c(V,{key:`${v}:${m}`,appearance:"info"},{default:s(()=>[l(u(v)+":"+u(m),1)]),_:2},1024))),128))]),_:2},1024)]),actions:s(({row:o})=>[a(k,null,{default:s(()=>[a(d,{to:{name:"mesh-multi-zone-service-detail-view",params:{mesh:o.mesh,service:o.id}}},{default:s(()=>[l(u(h("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1032,["headers","items","is-selected-row","onResize"]),r[4]||(r[4]=l()),t!=null&&t.items&&e.params.service?(i(),c(S,{key:0},{default:s(o=>[a(I,{onClose:m=>e.replace({name:"mesh-multi-zone-service-list-view",params:{mesh:e.params.mesh},query:{page:e.params.page,size:e.params.size,s:e.params.s}})},{default:s(()=>[(i(),c($(o.Component),{items:t==null?void 0:t.items},null,8,["items"]))]),_:2},1032,["onClose"])]),_:2},1024)):K("",!0)]),_:2},1032,["items","page","page-size","total","onChange"])]),_:2},1032,["src"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["docs"])]),_:1})}}}),J=G(Z,[["__scopeId","data-v-f1ae79b3"]]);export{J as default};
