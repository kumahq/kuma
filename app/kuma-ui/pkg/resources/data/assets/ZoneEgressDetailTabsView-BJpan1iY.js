import{d as J,x as G,r as s,o as a,q as b,w as o,b as t,p as L,as as S,c as _,s as v,e as n,m as g,Z as H,M as X,N as C,t as z,T as K,I as Q,_ as W}from"./index-CvmQ8qmc.js";const Y={key:0},ee=["onSubmit"],oe=["disabled"],te={key:0},se={key:0},ne=J({__name:"ZoneEgressDetailTabsView",setup(ae){const r=G({eds:!1,xds:!0,clusters:!0,stats:!0,proxy:!0}),A=V=>async e=>{const m=document.createElement("a");m.download=e.name,m.href=e.url,setTimeout(()=>{window.URL.revokeObjectURL(m.href)},6e4),await Promise.resolve(),m.click(),await Promise.resolve(),V()};return(V,e)=>{const m=s("RouteTitle"),N=s("XCopyButton"),x=s("XAction"),k=s("XI18n"),T=s("XCheckbox"),U=s("XAlert"),D=s("DataLoader"),h=s("XLayout"),I=s("XModal"),B=s("XDisclosure"),M=s("XTeleportTemplate"),O=s("XTabs"),Z=s("RouterView"),$=s("AppView"),j=s("DataSource"),P=s("RouteView");return a(),b(P,{name:"zone-egress-detail-tabs-view",params:{zone:"",proxy:""}},{default:o(({route:u,can:q,t:l,uri:R})=>[t(j,{src:R(L(S),"/zone-egress-overviews/:name",{name:u.params.proxy})},{default:o(({data:d,error:F})=>[t($,{docs:l("zone-ingresses.href.docs"),breadcrumbs:[...q("use zones")?[{to:{name:"zone-cp-list-view"},text:l("zone-cps.routes.item.breadcrumbs")},{to:{name:"zone-cp-detail-view",params:{zone:u.params.zone}},text:u.params.zone}]:[],{to:{name:"zone-egress-list-view",params:{zone:u.params.zone}},text:l("zone-egresses.routes.item.breadcrumbs")}]},{title:o(()=>[d?(a(),_("h1",Y,[t(N,{text:d.name},{default:o(()=>[t(m,{title:l("zone-egresses.routes.item.title",{name:d.name})},null,8,["title"])]),_:2},1032,["text"])])):v("",!0)]),actions:o(()=>[t(B,null,{default:o(({expanded:w,toggle:i})=>[t(x,{appearance:"primary",onClick:i},{default:o(()=>e[1]||(e[1]=[n(`
              Download Bundle
            `)])),_:2},1032,["onClick"]),e[6]||(e[6]=n()),w?(a(),b(M,{key:0,to:{name:"modal-layer"}},{default:o(()=>[t(B,null,{default:o(({expanded:y,toggle:E})=>[g("form",{onSubmit:H(E,["prevent"])},[t(I,{title:l("zone-egresses.routes.item.download.title"),onCancel:i},{"footer-actions":o(()=>[t(h,{type:"separated"},{default:o(()=>[(a(!0),_(X,null,C([A(i)],p=>(a(),b(D,{key:typeof p,variant:"spinner",src:y?R(L(S),"/zone-egresses/:name/as/tarball/:spec",{name:u.params.proxy,spec:JSON.stringify(r.value)},{cacheControl:"no-cache"}):"",onChange:p,onError:E},{error:o(()=>[t(U,{appearance:"warning","show-icon":""},{default:o(()=>[t(k,{t:"zone-ingresses.routes.item.download.error"})]),_:1})]),_:2},1032,["src","onChange","onError"]))),128)),e[4]||(e[4]=n()),t(x,{appearance:"primary",type:"submit",disabled:y||Object.values(r.value).every(p=>!p)},{default:o(()=>[n(z(l("zone-egresses.routes.item.download.action")),1)]),_:2},1032,["disabled"])]),_:2},1024)]),default:o(()=>[g("fieldset",{disabled:y},[t(k,{path:"zone-egresses.routes.item.download.description"}),e[3]||(e[3]=n()),g("ul",null,[(a(!0),_(X,null,C(r.value,(p,c)=>(a(),_(X,{key:typeof p},[c!=="eds"?(a(),_("li",te,[t(T,{modelValue:r.value[c],"onUpdate:modelValue":f=>r.value[c]=f,onChange:f=>{c==="xds"&&!f&&(r.value.eds=!1)}},{default:o(()=>[n(z(l(`zone-egresses.routes.item.download.options.${c}`)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),e[2]||(e[2]=n()),c==="xds"?(a(),_("ul",se,[g("li",null,[t(T,{modelValue:r.value.eds,"onUpdate:modelValue":e[0]||(e[0]=f=>r.value.eds=f),disabled:!r.value.xds},{default:o(()=>[n(z(l("zone-egresses.routes.item.download.options.eds")),1)]),_:2},1032,["modelValue","disabled"])])])):v("",!0)])):v("",!0)],64))),128))])],8,oe),e[5]||(e[5]=n())]),_:2},1032,["title","onCancel"])],40,ee)]),_:2},1024)]),_:2},1024)):v("",!0)]),_:2},1024)]),default:o(()=>[e[8]||(e[8]=n()),e[9]||(e[9]=n()),t(D,{data:[d],errors:[F]},{default:o(()=>{var w;return[t(O,{selected:(w=u.child())==null?void 0:w.name},K({_:2},[C(u.children,({name:i})=>({name:`${i}-tab`,fn:o(()=>[t(x,{to:{name:i}},{default:o(()=>[n(z(l(`zone-egresses.routes.item.navigation.${i}`)),1)]),_:2},1032,["to"])])}))]),1032,["selected"]),e[7]||(e[7]=n()),t(Z,null,{default:o(i=>[(a(),b(Q(i.Component),{networking:d==null?void 0:d.zoneEgress.networking,data:d},null,8,["networking","data"]))]),_:2},1024)]}),_:2},1032,["data","errors"])]),_:2},1032,["docs","breadcrumbs"])]),_:2},1032,["src"])]),_:1})}}}),le=W(ne,[["__scopeId","data-v-5f0faa6b"]]);export{le as default};
