import{P as C}from"./kongponents.es-5ca9e130.js";import{A as I,a as A}from"./AccordionList-fc691476.js";import{_ as N}from"./CodeBlock.vue_vue_type_style_index_0_lang-cadc6770.js";import{D,a as V}from"./DefinitionListItem-97bb646e.js";import{_ as T,S as B}from"./SubscriptionHeader.vue_vue_type_script_setup_true_lang-60a557a2.js";import{T as L}from"./TabsWidget-a1cf8c62.js";import{_ as Z}from"./WarningsWidget.vue_vue_type_script_setup_true_lang-b038c61c.js";import{u as x}from"./store-444aa12f.js";import{d as E,c,A as P,D as j,I as q,e as u,w as t,b as o,o as r,i as F,t as p,g as l,j as m,q as v,h as b,F as g,f as $}from"./index-6ef061d4.js";const G={class:"entity-heading"},Y=E({__name:"ZoneDetails",props:{zoneOverview:{type:Object,required:!0}},setup(w){const a=w,O=x(),f=[{hash:"#overview",title:"Overview"},{hash:"#insights",title:"Zone Insights"},{hash:"#config",title:"Config"},{hash:"#warnings",title:"Warnings"}],d=c(()=>{const{type:n,name:s}=a.zoneOverview,e=P(a.zoneOverview.zoneInsight);return{type:n,name:s,status:e,"Authentication Type":j(a.zoneOverview)}}),k=c(()=>{var s;const n=((s=a.zoneOverview.zoneInsight)==null?void 0:s.subscriptions)??[];return Array.from(n).reverse()}),h=c(()=>{var e;const n=[],s=((e=a.zoneOverview.zoneInsight)==null?void 0:e.subscriptions)??[];if(s.length>0){const i=s[s.length-1],z=i.version.kumaCp.version||"-",{kumaCpGlobalCompatible:S=!0}=i.version.kumaCp;S||n.push({kind:q,payload:{zoneCpVersion:z,globalCpVersion:O.getters["config/getVersion"]}})}return n}),_=c(()=>{var e;const n=((e=a.zoneOverview.zoneInsight)==null?void 0:e.subscriptions)??[],s=n[n.length-1];return s.config?JSON.stringify(JSON.parse(s.config),null,2):null}),y=c(()=>h.value.length===0?f.filter(n=>n.hash!=="#warnings"):f);return(n,s)=>(r(),u(L,{tabs:o(y)},{tabHeader:t(()=>[F("h1",G,`
        Zone: `+p(o(d).name),1)]),overview:t(()=>[l(V,null,{default:t(()=>[(r(!0),m(g,null,v(o(d),(e,i)=>(r(),u(D,{key:i,term:i},{default:t(()=>[i==="status"?(r(),u(o(C),{key:0,appearance:e==="Offline"?"danger":"success"},{default:t(()=>[b(p(e),1)]),_:2},1032,["appearance"])):(r(),m(g,{key:1},[b(p(e),1)],64))]),_:2},1032,["term"]))),128))]),_:1})]),insights:t(()=>[l(A,{"initially-open":0},{default:t(()=>[(r(!0),m(g,null,v(o(k),(e,i)=>(r(),u(I,{key:i},{"accordion-header":t(()=>[l(T,{details:e},null,8,["details"])]),"accordion-content":t(()=>[l(B,{details:e},null,8,["details"])]),_:2},1024))),128))]),_:1})]),config:t(()=>[o(_)!==null?(r(),u(N,{key:0,id:"code-block-zone-config",language:"json",code:o(_),"is-searchable":"","query-key":"zone-config"},null,8,["code"])):$("",!0)]),warnings:t(()=>[l(Z,{warnings:o(h)},null,8,["warnings"])]),_:1},8,["tabs"]))}});export{Y as _};
