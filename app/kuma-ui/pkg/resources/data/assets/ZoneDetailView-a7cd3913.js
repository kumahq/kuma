import{d as y,L as S,aG as I,f as u,aF as A,aH as B,o as _,j as h,g as z,k as b,l as e,h as s,w as t,m as g,ac as v,D as i,i as r,Y as D,a3 as w,A as E,_ as x}from"./index-0ab7ff60.js";import{_ as T}from"./SubscriptionList.vue_vue_type_script_setup_true_lang-eeafae65.js";import{_ as Z}from"./WarningsWidget.vue_vue_type_script_setup_true_lang-30dfbb6c.js";import{f as L}from"./dataplane-30467516.js";import"./AccordionList-60b4ff60.js";const $={class:"stack"},G={class:"columns",style:{"--columns":"3"}},P={key:1},j=y({__name:"ZoneDetails",props:{zoneOverview:{type:Object,required:!0}},setup(d){const n=d,{t:c}=S(),m=I(),C=u(()=>{var a;for(const o of((a=n.zoneOverview.zoneInsight)==null?void 0:a.subscriptions)??[])if(o.config)return JSON.parse(o.config).environment;return"kubernetes"}),O=u(()=>A(n.zoneOverview)),k=u(()=>B(n.zoneOverview)),f=u(()=>{var p;const a=[],o=((p=n.zoneOverview.zoneInsight)==null?void 0:p.subscriptions)??[];if(o.length>0){const l=o[o.length-1],V=l.version.kumaCp.version||"-",{kumaCpGlobalCompatible:N=!0}=l.version.kumaCp;N||a.push({kind:L,payload:{zoneCpVersion:V,globalCpVersion:m("KUMA_VERSION")}})}return a});return(a,o)=>{var p;return _(),h("div",$,[f.value.length>0?(_(),z(Z,{key:0,warnings:f.value},null,8,["warnings"])):b("",!0),e(),s(r(w),null,{body:t(()=>[g("div",G,[s(v,null,{title:t(()=>[e(i(r(c)("http.api.property.status")),1)]),body:t(()=>[s(D,{status:O.value},null,8,["status"])]),_:1}),e(),s(v,null,{title:t(()=>[e(i(r(c)("http.api.property.type")),1)]),body:t(()=>[e(i(C.value),1)]),_:1}),e(),s(v,null,{title:t(()=>[e(i(r(c)("http.api.property.authenticationType")),1)]),body:t(()=>[e(i(k.value),1)]),_:1})])]),_:1}),e(),(((p=n.zoneOverview.zoneInsight)==null?void 0:p.subscriptions)??[]).length>0?(_(),h("div",P,[g("h2",null,i(r(c)("zone-cps.detail.subscriptions")),1),e(),s(r(w),{class:"mt-4"},{body:t(()=>{var l;return[s(T,{subscriptions:((l=n.zoneOverview.zoneInsight)==null?void 0:l.subscriptions)??[]},null,8,["subscriptions"])]}),_:1})])):b("",!0)])}}}),H=y({__name:"ZoneDetailView",props:{data:{}},setup(d){const n=d;return(c,m)=>(_(),z(x,{name:"zone-cp-detail-view","data-testid":"zone-cp-detail-view"},{default:t(()=>[s(E,null,{default:t(()=>[s(j,{"zone-overview":n.data,"data-testid":"detail-view-details"},null,8,["zone-overview"])]),_:1})]),_:1}))}});export{H as default};
