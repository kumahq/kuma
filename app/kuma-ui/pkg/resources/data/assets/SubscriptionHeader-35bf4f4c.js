import{d as h,ac as L,j as g,c as b,o as r,e as u,q as n,A,g as o,h as O,w as k,f as S,T as j,n as B,ad as D,a as H,b as d,v as N,t as s,N as q,F as y,s as C,p as E,m as P}from"./index-b69407d3.js";import{f as I,g as w}from"./RouteView.vue_vue_type_script_setup_true_lang-b15b5899.js";const R=["aria-expanded"],U={key:0,class:"accordion-item-content","data-testid":"accordion-item-content"},V=h({__name:"AccordionItem",setup(p){const e=L("parentAccordion"),t=g(null),c=b(()=>e===void 0?!1:e.multipleOpen&&Array.isArray(e.active.value)&&t.value!==null?e.active.value.includes(t.value):t.value===e.active.value);e!==void 0&&(t.value=e.count.value++);function i(){c.value?v():l()}function v(){e!==void 0&&(e.multipleOpen&&Array.isArray(e.active.value)&&t.value!==null?e.active.value.splice(e.active.value.indexOf(t.value),1):e.active.value=null)}function l(){e!==void 0&&(e.multipleOpen&&Array.isArray(e.active.value)&&t.value!==null?e.active.value.push(t.value):e.active.value=t.value)}function _(a){a instanceof HTMLElement&&(a.style.height=`${a.scrollHeight}px`)}function m(a){a instanceof HTMLElement&&(a.style.height="auto")}return(a,f)=>(r(),u("li",{class:B(["accordion-item",{active:c.value}])},[n("button",{class:"accordion-item-header",type:"button","aria-expanded":c.value?"true":"false","data-testid":"accordion-item-button",onClick:i},[A(a.$slots,"accordion-header",{},void 0,!0)],8,R),o(),O(j,{name:"accordion",onEnter:_,onAfterEnter:m,onBeforeLeave:_},{default:k(()=>[c.value?(r(),u("div",U,[A(a.$slots,"accordion-content",{},void 0,!0)])):S("",!0)]),_:3})],2))}});const ue=I(V,[["__scopeId","data-v-23e6bd5e"]]),M={class:"accordion-list"},F=h({__name:"AccordionList",props:{initiallyOpen:{type:[Number,Array],required:!1,default:null},multipleOpen:{type:Boolean,required:!1,default:!1}},setup(p){const e=p,t=g(0),c=g(e.initiallyOpen!==null?e.initiallyOpen:e.multipleOpen?[]:null);return D("parentAccordion",{multipleOpen:e.multipleOpen,active:c,count:t}),(i,v)=>(r(),u("ul",M,[A(i.$slots,"default",{},void 0,!0)]))}});const pe=I(F,[["__scopeId","data-v-bdbadd5e"]]),z={class:"stack"},G={key:1},J={class:"row"},K={class:"header"},Q={class:"header"},W=["data-testid"],X={class:"type"},Y=h({__name:"SubscriptionDetails",props:{subscription:{type:Object,required:!0},isDiscoverySubscription:{type:Boolean,default:!1}},setup(p){const e=p,{t}=w(),c=b(()=>{var v;let i;if("controlPlaneInstanceId"in e.subscription){const{lastUpdateTime:l,total:_,...m}=e.subscription.status;i=m}else i=((v=e.subscription.status)==null?void 0:v.stat)??{};return i?Object.entries(i).map(([l,_])=>{const{responsesSent:m="0",responsesAcknowledged:a="0",responsesRejected:f="0"}=_;return{type:l,responsesSent:m,responsesAcknowledged:a,responsesRejected:f}}):[]});return(i,v)=>(r(),u("div",z,[c.value.length===0?(r(),H(d(q),{key:0,appearance:"info"},{alertIcon:k(()=>[O(d(N),{icon:"portal"})]),alertMessage:k(()=>[o(s(d(t)("common.detail.subscriptions.no_stats",{id:e.subscription.id})),1)]),_:1})):(r(),u("div",G,[n("div",J,[n("div",K,s(d(t)("common.detail.subscriptions.type")),1),o(),n("div",Q,s(d(t)("common.detail.subscriptions.responses_sent_acknowledged")),1)]),o(),(r(!0),u(y,null,C(c.value,(l,_)=>(r(),u("div",{key:_,class:"row","data-testid":`subscription-status-${l.type}`},[n("div",X,s(d(t)(`http.api.property.${l.type}`)),1),o(),n("div",null,s(l.responsesSent)+"/"+s(l.responsesAcknowledged),1)],8,W))),128))]))]))}});const _e=I(Y,[["__scopeId","data-v-ae4644aa"]]),Z=""+new URL("icon-deployed-code-e3c999ba.svg",import.meta.url).href,ee=""+new URL("icon-connected-037e001a.svg",import.meta.url).href,te=""+new URL("icon-disconnected-ba3c2624.svg",import.meta.url).href,$=p=>(E("data-v-ba38cfdb"),p=p(),P(),p),se={class:"subscription-header"},ne={class:"instance-id"},oe=$(()=>n("img",{src:Z},null,-1)),ae=$(()=>n("img",{src:ee},null,-1)),ce=$(()=>n("img",{src:te},null,-1)),ie={class:"responses-sent-acknowledged"},re=h({__name:"SubscriptionHeader",props:{subscription:{type:Object,required:!0}},setup(p){const e=p,{t,formatIsoDate:c}=w(),i=b(()=>"globalInstanceId"in e.subscription?e.subscription.globalInstanceId:null),v=b(()=>"controlPlaneInstanceId"in e.subscription?e.subscription.controlPlaneInstanceId:null),l=b(()=>e.subscription.connectTime?c(e.subscription.connectTime):null),_=b(()=>e.subscription.disconnectTime?c(e.subscription.disconnectTime):null),m=b(()=>{var x;const{responsesSent:a=0,responsesAcknowledged:f=0,responsesRejected:T=0}=((x=e.subscription.status)==null?void 0:x.total)??{};return{responsesSent:a,responsesAcknowledged:f,responsesRejected:T}});return(a,f)=>(r(),u("header",se,[n("span",ne,[oe,o(),i.value?(r(),u(y,{key:0},[n("b",null,s(d(t)("http.api.property.globalInstanceId")),1),o(": "+s(i.value),1)],64)):v.value?(r(),u(y,{key:1},[n("b",null,s(d(t)("http.api.property.controlPlaneInstanceId")),1),o(": "+s(v.value),1)],64)):S("",!0)]),o(),n("span",null,[ae,o(),n("b",null,s(d(t)("common.detail.subscriptions.connect_time")),1),o(": "+s(l.value),1)]),o(),n("span",null,[_.value?(r(),u(y,{key:0},[ce,o(),n("b",null,s(d(t)("common.detail.subscriptions.disconnect_time")),1),o(": "+s(_.value),1)],64)):S("",!0)]),o(),n("span",ie,s(d(t)("common.detail.subscriptions.responses_sent_acknowledged"))+`:

      `+s(m.value.responsesSent)+"/"+s(m.value.responsesAcknowledged),1)]))}});const ve=I(re,[["__scopeId","data-v-ba38cfdb"]]);export{ue as A,ve as S,pe as a,_e as b};
