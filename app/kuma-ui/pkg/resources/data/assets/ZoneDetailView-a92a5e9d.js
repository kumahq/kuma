import{d as y,c as u,aj as N,o as _,e as h,a as z,f as b,g as e,h as s,w as t,i as g,t as i,b as r,k as w}from"./index-109d614e.js";import{g as I,G as A,F as B,D as v,S as D,A as E,_ as x}from"./RouteView.vue_vue_type_script_setup_true_lang-6a5fe479.js";import{_ as T}from"./SubscriptionList.vue_vue_type_script_setup_true_lang-8d9146b2.js";import{_ as Z}from"./WarningsWidget.vue_vue_type_script_setup_true_lang-a93825c5.js";import{f as $}from"./dataplane-30467516.js";import"./WarningIcon.vue_vue_type_script_setup_true_lang-f6b38182.js";import"./AccordionList-c1bef8b2.js";const G={class:"stack"},L={class:"columns",style:{"--columns":"3"}},P={key:1},j=y({__name:"ZoneDetails",props:{zoneOverview:{type:Object,required:!0}},setup(d){const n=d,{t:p}=I(),m=A(),C=u(()=>{var a;for(const o of((a=n.zoneOverview.zoneInsight)==null?void 0:a.subscriptions)??[])if(o.config)return JSON.parse(o.config).environment;return"kubernetes"}),O=u(()=>B(n.zoneOverview)),k=u(()=>N(n.zoneOverview)),f=u(()=>{var c;const a=[],o=((c=n.zoneOverview.zoneInsight)==null?void 0:c.subscriptions)??[];if(o.length>0){const l=o[o.length-1],S=l.version.kumaCp.version||"-",{kumaCpGlobalCompatible:V=!0}=l.version.kumaCp;V||a.push({kind:$,payload:{zoneCpVersion:S,globalCpVersion:m("KUMA_VERSION")}})}return a});return(a,o)=>{var c;return _(),h("div",G,[f.value.length>0?(_(),z(Z,{key:0,warnings:f.value},null,8,["warnings"])):b("",!0),e(),s(r(w),null,{body:t(()=>[g("div",L,[s(v,null,{title:t(()=>[e(i(r(p)("http.api.property.status")),1)]),body:t(()=>[s(D,{status:O.value},null,8,["status"])]),_:1}),e(),s(v,null,{title:t(()=>[e(i(r(p)("http.api.property.type")),1)]),body:t(()=>[e(i(C.value),1)]),_:1}),e(),s(v,null,{title:t(()=>[e(i(r(p)("http.api.property.authenticationType")),1)]),body:t(()=>[e(i(k.value),1)]),_:1})])]),_:1}),e(),(((c=n.zoneOverview.zoneInsight)==null?void 0:c.subscriptions)??[]).length>0?(_(),h("div",P,[g("h2",null,i(r(p)("zone-cps.detail.subscriptions")),1),e(),s(r(w),{class:"mt-4"},{body:t(()=>{var l;return[s(T,{subscriptions:((l=n.zoneOverview.zoneInsight)==null?void 0:l.subscriptions)??[]},null,8,["subscriptions"])]}),_:1})])):b("",!0)])}}}),H=y({__name:"ZoneDetailView",props:{data:{}},setup(d){const n=d;return(p,m)=>(_(),z(x,{name:"zone-cp-detail-view","data-testid":"zone-cp-detail-view"},{default:t(()=>[s(E,null,{default:t(()=>[s(j,{"zone-overview":n.data,"data-testid":"detail-view-details"},null,8,["zone-overview"])]),_:1})]),_:1}))}});export{H as default};
