import{d as h,K as w,r as x,o as i,a as o,w as a,h as t,b as d,i as y,g as v,e as T,F as k,j as N}from"./index-8422fc56.js";import{e as V,A as $,T as g,g as B,E as C,f as R,_ as E}from"./RouteView.vue_vue_type_script_setup_true_lang-90043e39.js";import{_ as A}from"./RouteTitle.vue_vue_type_script_setup_true_lang-2207a44e.js";import{N as D}from"./NavTabs-ccb707fa.js";import"./WarningIcon.vue_vue_type_script_setup_true_lang-0fd32299.js";const G=h({__name:"ServiceDetailTabsView",setup(F){const{t:c}=V(),f=w();function _(n){var m;return(((m=f.getRoutes().find(e=>e.name==="service-detail-tabs-view"))==null?void 0:m.children)??[]).filter(e=>!((n.serviceType===void 0||n.serviceType==="internal")&&e.name==="service-config-view"||n.serviceType==="external"&&e.name==="service-data-plane-proxies-view")).map(e=>{var u,p;const s=typeof e.name>"u"?(u=e.children)==null?void 0:u[0]:e,r=s.name,l=((p=s.meta)==null?void 0:p.module)??"";return{title:c(`services.routes.item.navigation.${r}`),routeName:r,module:l}})}return(n,b)=>{const m=x("RouterView");return i(),o(E,{name:"service-detail-tabs-view","data-testid":"service-detail-tabs-view"},{default:a(({route:e})=>[t($,{breadcrumbs:[{to:{name:"mesh-detail-view",params:{mesh:e.params.mesh}},text:e.params.mesh},{to:{name:"services-list-view",params:{mesh:e.params.mesh}},text:d(c)("services.routes.item.breadcrumbs")}]},{title:a(()=>[y("h1",null,[t(g,{text:e.params.service},{default:a(()=>[t(A,{title:d(c)("services.routes.item.title",{name:e.params.service}),render:!0},null,8,["title"])]),_:2},1032,["text"])])]),default:a(()=>[v(),t(B,{src:`/meshes/${e.params.mesh}/service-insights/${e.params.service}`},{default:a(({data:s,error:r})=>[r?(i(),o(C,{key:0,error:r},null,8,["error"])):s===void 0?(i(),o(R,{key:1})):(i(),T(k,{key:2},[t(D,{class:"route-service-detail-view-tabs",tabs:_(s)},null,8,["tabs"]),v(),t(m,null,{default:a(l=>[(i(),o(N(l.Component),{data:s},null,8,["data"]))]),_:2},1024)],64))]),_:2},1032,["src"])]),_:2},1032,["breadcrumbs"])]),_:1})}}});export{G as default};
