import{d as N,r as l,p as u,o as m,w as d,b as p,e as s,l as n,c as g,t as i,N as T,L as _,M as q,q as f,m as y,Y as w,a2 as A}from"./index-AyKB-3zh.js";const Q={key:0},P={key:1},K={key:2},j=N({__name:"MeshExternalServiceSummaryView",props:{items:{}},setup(v){const b=v;return(Y,e)=>{const M=l("RouteTitle"),x=l("XAction"),R=l("XSelect"),C=l("XLayout"),S=l("KumaPort"),E=l("XBadge"),X=l("XTable"),h=l("XCodeBlock"),V=l("DataLoader"),B=l("AppView"),F=l("DataCollection"),L=l("RouteView");return m(),u(L,{name:"mesh-external-service-summary-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:d(({route:a,t:c,can:z,uri:D})=>[p(F,{items:b.items,predicate:r=>r.id===a.params.service},{item:d(({item:r})=>[p(B,null,{title:d(()=>[n("h2",null,[p(x,{to:{name:"mesh-external-service-detail-view",params:{mesh:a.params.mesh,service:a.params.service}}},{default:d(()=>[p(M,{title:c("services.routes.item.title",{name:r.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:d(()=>[e[13]||(e[13]=s()),p(C,{type:"stack"},{default:d(()=>[n("header",null,[p(C,{type:"separated",size:"max"},{default:d(()=>[n("h3",null,i(c("services.routes.item.config")),1),e[0]||(e[0]=s()),(m(),g(T,null,_([["structured","universal","k8s"]],t=>n("div",{key:typeof t},[p(R,{label:c("services.routes.item.format"),selected:a.params.format,onChange:o=>{a.update({format:o})},onVnodeBeforeMount:o=>{var k;return((k=o==null?void 0:o.props)==null?void 0:k.selected)&&t.includes(o.props.selected)&&o.props.selected!==a.params.format&&a.update({format:o.props.selected})}},q({_:2},[_(t,o=>({name:`${o}-option`,fn:d(()=>[s(i(c(`services.routes.item.formats.${o}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024)]),e[12]||(e[12]=s()),a.params.format==="structured"?(m(),u(X,{key:0,"data-testid":"structured-view",variant:"kv"},{default:d(()=>[r.namespace.length>0?(m(),g("tr",Q,[e[1]||(e[1]=n("th",{scope:"row"},`
                    Namespace
                  `,-1)),e[2]||(e[2]=s()),n("td",null,i(r.namespace),1)])):f("",!0),e[9]||(e[9]=s()),z("use zones")&&r.zone?(m(),g("tr",P,[e[3]||(e[3]=n("th",{scope:"row"},`
                    Zone
                  `,-1)),e[4]||(e[4]=s()),n("td",null,[p(x,{to:{name:"zone-cp-detail-view",params:{zone:r.zone}}},{default:d(()=>[s(i(r.zone),1)]),_:2},1032,["to"])])])):f("",!0),e[10]||(e[10]=s()),r.spec.match?(m(),g("tr",K,[e[5]||(e[5]=n("th",{scope:"row"},`
                    Port
                  `,-1)),e[6]||(e[6]=s()),n("td",null,[p(S,{port:r.spec.match},null,8,["port"])])])):f("",!0),e[11]||(e[11]=s()),n("tr",null,[e[7]||(e[7]=n("th",{scope:"row"},`
                    TLS
                  `,-1)),e[8]||(e[8]=s()),n("td",null,[p(E,{appearance:"neutral"},{default:d(()=>{var t;return[s(i((t=r.spec.tls)!=null&&t.enabled?"Enabled":"Disabled"),1)]}),_:2},1024)])])]),_:2},1024)):a.params.format==="universal"?(m(),u(h,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",code:y(w).stringify(r.config),"show-k8s-copy-button":!1,"is-searchable":"",query:a.params.codeSearch,"is-filter-mode":a.params.codeFilter,"is-reg-exp-mode":a.params.codeRegExp,onQueryChange:t=>a.update({codeSearch:t}),onFilterModeChange:t=>a.update({codeFilter:t}),onRegExpModeChange:t=>a.update({codeRegExp:t})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(m(),u(V,{key:2,src:D(y(A),"/meshes/:mesh/mesh-external-service/:name/as/kubernetes",{mesh:a.params.mesh,name:a.params.service})},{default:d(({data:t})=>[p(h,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:y(w).stringify(t),"show-k8s-copy-button":!1,"is-searchable":"",query:a.params.codeSearch,"is-filter-mode":a.params.codeFilter,"is-reg-exp-mode":a.params.codeRegExp,onQueryChange:o=>a.update({codeSearch:o}),onFilterModeChange:o=>a.update({codeFilter:o}),onRegExpModeChange:o=>a.update({codeRegExp:o})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024)]),_:2},1032,["items","predicate"])]),_:1})}}});export{j as default};
