import{d as f,r as o,o as p,m as _,w as a,b as n,l as k,aE as C,A,T as v,e as l,t as m,c as V,F as x}from"./index-BEf7lh5F.js";const X=f({__name:"BuiltinGatewayListView",setup(D){return(B,L)=>{const c=o("XAction"),u=o("XActionGroup"),g=o("DataCollection"),w=o("DataLoader"),d=o("KCard"),h=o("AppView"),b=o("RouteView");return p(),_(b,{name:"builtin-gateway-list-view",params:{page:1,size:50,mesh:"",gateway:""}},{default:a(({route:s,t:r,can:y,me:i,uri:z})=>[n(h,null,{default:a(()=>[n(d,null,{default:a(()=>[n(w,{src:z(k(C),"/meshes/:mesh/mesh-gateways",{mesh:s.params.mesh},{page:s.params.page,size:s.params.size})},{loadable:a(({data:t})=>[n(g,{type:"gateways",items:(t==null?void 0:t.items)??[void 0]},{default:a(()=>[n(A,{class:"builtin-gateway-collection","data-testid":"builtin-gateway-collection",headers:[{...i.get("headers.name"),label:"Name",key:"name"},...y("use zones")?[{...i.get("headers.zone"),label:"Zone",key:"zone"}]:[],{...i.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],"page-number":s.params.page,"page-size":s.params.size,total:t==null?void 0:t.total,items:t==null?void 0:t.items,onChange:s.update,onResize:i.set},{name:a(({row:e})=>[n(v,{text:e.name},{default:a(()=>[n(c,{"data-action":"",to:{name:"builtin-gateway-detail-view",params:{mesh:e.mesh,gateway:e.name}}},{default:a(()=>[l(m(e.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),zone:a(({row:e})=>[e.labels&&e.labels["kuma.io/origin"]==="zone"&&e.labels["kuma.io/zone"]?(p(),_(c,{key:0,to:{name:"zone-cp-detail-view",params:{zone:e.labels["kuma.io/zone"]}}},{default:a(()=>[l(m(e.labels["kuma.io/zone"]),1)]),_:2},1032,["to"])):(p(),V(x,{key:1},[l(m(r("common.detail.none")),1)],64))]),actions:a(({row:e})=>[n(u,null,{default:a(()=>[n(c,{to:{name:"builtin-gateway-detail-view",params:{mesh:e.mesh,gateway:e.name}}},{default:a(()=>[l(m(r("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1032,["headers","page-number","page-size","total","items","onChange","onResize"])]),_:2},1032,["items"])]),_:2},1032,["src"])]),_:2},1024)]),_:2},1024)]),_:1})}}});export{X as default};
