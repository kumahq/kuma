import{d as N,r as y,p as u,o as d,w as e,b as o,c as k,N as w,L as h,e as t,l as _,t as l,M as q,q as f,O as g,m as A,V as Q,n as $,_ as O}from"./index-kAtOCIeM.js";import{T as v}from"./TagList-B58Lou13.js";import{_ as V}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-DVBQo3la.js";const j={class:"stack-with-borders"},I={class:"stack-with-borders"},Z={key:0},G={key:0},H=N({__name:"DataPlaneSummaryView",props:{items:{},routeName:{}},setup(E){const R=E;return(J,a)=>{const M=y("XEmptyState"),T=y("RouteTitle"),S=y("XAction"),b=y("XBadge"),m=y("XLayout"),X=y("XSelect"),x=y("XCopyButton"),z=y("DataCollection"),D=y("DataLoader"),B=y("AppView"),F=y("RouteView");return d(),u(F,{name:R.routeName,params:{mesh:"",proxy:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:e(({route:r,t:n,uri:P,can:L})=>[o(z,{items:R.items,predicate:C=>C.id===r.params.proxy},{empty:e(()=>[o(M,null,{title:e(()=>[_("h2",null,l(n("common.collection.summary.empty_title",{type:"Data Plane Proxy"})),1)]),default:e(()=>[a[0]||(a[0]=t()),_("p",null,l(n("common.collection.summary.empty_message",{type:"Data Plane Proxy"})),1)]),_:2,__:[0]},1024)]),default:e(({items:C})=>[(d(!0),k(w,null,h([C[0]],p=>(d(),u(B,{key:p.id},{title:e(()=>[o(m,{size:"small"},{default:e(()=>[_("h2",{class:$(`type-${p.dataplaneType}`)},[o(S,{to:{name:"data-plane-detail-view",params:{proxy:p.id}}},{default:e(()=>[o(T,{title:n("data-planes.routes.item.title",{name:p.name})},null,8,["title"])]),_:2},1032,["to"])],2),a[1]||(a[1]=t()),o(b,{appearance:n(`common.status.appearance.${p.status}`,void 0,{defaultMessage:"neutral"})},{default:e(()=>[t(l(n(`http.api.value.${p.status}`)),1)]),_:2},1032,["appearance"])]),_:2,__:[1]},1024)]),default:e(()=>[a[31]||(a[31]=t()),o(m,null,{default:e(()=>[_("header",null,[o(m,{type:"separated",size:"max"},{default:e(()=>[_("h3",null,l(n("data-planes.routes.item.config")),1),a[2]||(a[2]=t()),(d(),k(w,null,h([["structured","universal","k8s"]],i=>_("div",{key:typeof i},[o(X,{label:n("data-planes.routes.item.format"),selected:r.params.format,onChange:s=>{r.update({format:s})},onVnodeBeforeMount:s=>{var c;return((c=s==null?void 0:s.props)==null?void 0:c.selected)&&i.includes(s.props.selected)&&s.props.selected!==r.params.format&&r.update({format:s.props.selected})}},q({_:2},[h(i,s=>({name:`${s}-option`,fn:e(()=>[t(l(n(`data-planes.routes.item.formats.${s}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2,__:[2]},1024)])]),_:2},1024),a[32]||(a[32]=t()),r.params.format==="structured"?(d(),u(m,{key:0,type:"stack",size:"large","data-testid":"structured-view"},{default:e(()=>[_("div",j,[o(g,{layout:"horizontal"},{title:e(()=>a[3]||(a[3]=[t(`
                      Type
                    `)])),body:e(()=>[t(l(n(`data-planes.type.${p.dataplaneType}`)),1)]),_:2,__:[4]},1024),a[9]||(a[9]=t()),p.namespace.length>0?(d(),u(g,{key:0,layout:"horizontal"},{title:e(()=>[t(l(n("data-planes.routes.item.namespace")),1)]),body:e(()=>[t(l(p.namespace),1)]),_:2,__:[5]},1024)):f("",!0),a[10]||(a[10]=t()),L("use zones")&&p.zone?(d(),u(g,{key:1,layout:"horizontal"},{title:e(()=>a[6]||(a[6]=[t(`
                      Zone
                    `)])),body:e(()=>[o(S,{to:{name:"zone-cp-detail-view",params:{zone:p.zone}}},{default:e(()=>[t(l(p.zone),1)]),_:2},1032,["to"])]),_:2,__:[7]},1024)):f("",!0),a[11]||(a[11]=t()),o(g,{layout:"horizontal"},{title:e(()=>[t(l(n("http.api.property.modificationTime")),1)]),body:e(()=>[t(l(n("common.formats.datetime",{value:Date.parse(p.modificationTime)})),1)]),_:2,__:[8]},1024)]),a[28]||(a[28]=t()),p.dataplane.networking.gateway?(d(),u(m,{key:0,type:"stack"},{default:e(()=>[_("h3",null,l(n("data-planes.routes.item.gateway")),1),a[15]||(a[15]=t()),_("div",I,[o(g,{layout:"horizontal"},{title:e(()=>[t(l(n("http.api.property.tags")),1)]),body:e(()=>[o(v,{alignment:"right",tags:p.dataplane.networking.gateway.tags},null,8,["tags"])]),_:2,__:[12]},1024),a[14]||(a[14]=t()),o(g,{layout:"horizontal"},{title:e(()=>[t(l(n("http.api.property.address")),1)]),body:e(()=>[o(x,{text:`${p.dataplane.networking.address}`},null,8,["text"])]),_:2,__:[13]},1024)])]),_:2,__:[15]},1024)):f("",!0),a[29]||(a[29]=t()),p.dataplaneType==="standard"?(d(),u(z,{key:1,items:p.dataplane.networking.inbounds},{default:e(({items:i})=>[o(m,{"data-testid":"dataplane-inbounds"},{default:e(()=>[_("h3",null,l(n("data-planes.routes.item.inbounds")),1),a[22]||(a[22]=t()),(d(!0),k(w,null,h(i,(s,c)=>(d(),u(m,{key:c,class:"inbound"},{default:e(()=>[s.tags["kuma.io/service"]?(d(),k("h4",Z,[o(x,{text:s.tags["kuma.io/service"]},{default:e(()=>[t(l(n("data-planes.routes.item.inbound_name",{service:s.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])])):f("",!0),a[21]||(a[21]=t()),o(m,{class:"stack-with-borders",size:"small"},{default:e(()=>[o(g,{layout:"horizontal"},{title:e(()=>[t(l(n("http.api.property.state")),1)]),body:e(()=>[s.state==="Ready"?(d(),u(b,{key:0,appearance:"success"},{default:e(()=>[t(l(n(`http.api.value.${s.state}`)),1)]),_:2},1024)):(d(),u(b,{key:1,appearance:"danger"},{default:e(()=>[t(l(n(`http.api.value.${s.state}`)),1)]),_:2},1024))]),_:2,__:[16]},1024),a[19]||(a[19]=t()),o(g,{layout:"horizontal"},{title:e(()=>[t(l(n("http.api.property.tags")),1)]),body:e(()=>[o(v,{alignment:"right",tags:s.tags},null,8,["tags"])]),_:2,__:[17]},1024),a[20]||(a[20]=t()),o(g,{layout:"horizontal"},{title:e(()=>[t(l(n("http.api.property.address")),1)]),body:e(()=>[o(x,{text:s.addressPort},null,8,["text"])]),_:2,__:[18]},1024)]),_:2,__:[19,20]},1024)]),_:2,__:[21]},1024))),128))]),_:2,__:[22]},1024)]),_:2},1032,["items"])):f("",!0),a[30]||(a[30]=t()),p.dataplaneType==="standard"?(d(),u(z,{key:2,items:p.dataplane.networking.outbounds},{default:e(({items:i})=>[o(m,{"data-testid":"dataplane-outbounds"},{default:e(()=>[_("h3",null,l(n("data-planes.routes.item.outbounds")),1),a[27]||(a[27]=t()),(d(!0),k(w,null,h(i,(s,c)=>(d(),u(m,{key:c,class:"inbound",size:"small"},{default:e(()=>[s.tags["kuma.io/service"]?(d(),k("h4",G,[o(x,{text:s.tags["kuma.io/service"]},{default:e(()=>[t(l(n("data-planes.routes.item.inbound_name",{service:s.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])])):f("",!0),a[26]||(a[26]=t()),o(m,{class:"stack-with-borders",size:"small"},{default:e(()=>[Object.keys(s.tags).length?(d(),u(g,{key:0,layout:"horizontal"},{title:e(()=>[t(l(n("http.api.property.tags")),1)]),body:e(()=>[o(v,{alignment:"right",tags:s.tags},null,8,["tags"])]),_:2,__:[23]},1024)):f("",!0),a[25]||(a[25]=t()),o(g,{layout:"horizontal"},{title:e(()=>[t(l(n("http.api.property.address")),1)]),body:e(()=>[o(x,{text:s.addressPort},null,8,["text"])]),_:2,__:[24]},1024)]),_:2,__:[25]},1024)]),_:2,__:[26]},1024))),128))]),_:2,__:[27]},1024)]),_:2},1032,["items"])):f("",!0)]),_:2,__:[28,29,30]},1024)):r.params.format==="universal"?(d(),u(V,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",resource:p.config,"show-k8s-copy-button":!1,"is-searchable":"",query:r.params.codeSearch,"is-filter-mode":r.params.codeFilter,"is-reg-exp-mode":r.params.codeRegExp,onQueryChange:i=>r.update({codeSearch:i}),onFilterModeChange:i=>r.update({codeFilter:i}),onRegExpModeChange:i=>r.update({codeRegExp:i})},null,8,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(d(),u(D,{key:2,src:P(A(Q),"/meshes/:mesh/dataplanes/:name/as/kubernetes",{mesh:r.params.mesh,name:r.params.proxy})},{default:e(({data:i})=>[o(V,{"data-testid":"codeblock-yaml-k8s",language:"yaml",resource:i,"show-k8s-copy-button":!1,"is-searchable":"",query:r.params.codeSearch,"is-filter-mode":r.params.codeFilter,"is-reg-exp-mode":r.params.codeRegExp,onQueryChange:s=>r.update({codeSearch:s}),onFilterModeChange:s=>r.update({codeFilter:s}),onRegExpModeChange:s=>r.update({codeRegExp:s})},null,8,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2,__:[31,32]},1024))),128))]),_:2,__:[33]},1032,["items","predicate"])]),_:1},8,["name"])}}}),Y=O(H,[["__scopeId","data-v-6aa2fff1"]]);export{Y as default};
