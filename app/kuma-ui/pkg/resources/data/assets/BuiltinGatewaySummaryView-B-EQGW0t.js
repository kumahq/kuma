import{d as q,r as y,p as g,o as l,w as i,b as u,a0 as z,c as p,N as f,L as w,e as t,l as n,t as o,M as D,q as c,m as h,Y as C,W as j,_ as v}from"./index-8QMKyk4n.js";const A={key:0},G={scope:"row"},Q={key:1},$={scope:"row"},O={key:2},Y={scope:"row"},I={key:3},W={scope:"row"},H={key:4},J={scope:"row"},K={key:5},P={scope:"row"},U={key:6},Z={scope:"row"},ee={key:7},te={scope:"row"},oe=q({__name:"BuiltinGatewaySummaryView",props:{items:{},routeName:{}},setup(R){const x=R;return(ae,e)=>{const B=y("XEmptyState"),E=y("RouteTitle"),S=y("XAction"),M=y("XSelect"),_=y("XLayout"),X=y("XBadge"),V=y("XTable"),k=y("XCodeBlock"),F=y("DataLoader"),T=y("AppView"),L=y("RouteView");return l(),g(L,{name:x.routeName,params:{mesh:"",gateway:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:i(({route:r,t:m,uri:N})=>[u(z,{items:x.items,predicate:b=>b.id===r.params.gateway,find:!0},{empty:i(()=>[u(B,null,{title:i(()=>[n("h2",null,o(m("common.collection.summary.empty_title",{type:"Gateway"})),1)]),default:i(()=>[e[0]||(e[0]=t()),n("p",null,o(m("common.collection.summary.empty_message",{type:"Gateway"})),1)]),_:2},1024)]),default:i(({items:b})=>[(l(!0),p(f,null,w([b[0]],s=>(l(),g(T,{key:s.id},{title:i(()=>[n("h2",null,[u(S,{to:{name:"builtin-gateway-detail-view",params:{mesh:s.mesh,gateway:s.id}}},{default:i(()=>[u(E,{title:m("builtin-gateways.routes.item.title",{name:s.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:i(()=>[e[19]||(e[19]=t()),u(_,{type:"stack"},{default:i(()=>[n("header",null,[u(_,{type:"separated",size:"max"},{default:i(()=>[n("h3",null,o(m("gateways.routes.item.config")),1),e[1]||(e[1]=t()),(l(),p(f,null,w([["structured","universal","k8s"]],d=>n("div",{key:typeof d},[u(M,{label:m("gateways.routes.item.format"),selected:r.params.format,onChange:a=>{r.update({format:a})},onVnodeBeforeMount:a=>a?.props?.selected&&d.includes(a.props.selected)&&a.props.selected!==r.params.format&&r.update({format:a.props.selected})},D({_:2},[w(d,a=>({name:`${a}-option`,fn:i(()=>[t(o(m(`gateways.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024)]),e[18]||(e[18]=t()),r.params.format==="structured"?(l(),p(f,{key:0},[u(V,{"data-testid":"structured-view",variant:"kv"},{default:i(()=>[s.type.length>0?(l(),p("tr",A,[n("th",G,o(m("gateways.routes.item.type")),1),e[2]||(e[2]=t()),n("td",null,o(s.type),1)])):c("",!0),e[10]||(e[10]=t()),s.namespace.length>0?(l(),p("tr",Q,[n("th",$,o(m("gateways.routes.item.namespace")),1),e[3]||(e[3]=t()),n("td",null,o(s.namespace),1)])):c("",!0),e[11]||(e[11]=t()),s.mesh.length>0?(l(),p("tr",O,[n("th",Y,o(m("gateways.routes.item.mesh")),1),e[4]||(e[4]=t()),n("td",null,o(s.mesh),1)])):c("",!0),e[12]||(e[12]=t()),s.zone.length>0?(l(),p("tr",I,[n("th",W,o(m("gateways.routes.item.zone")),1),e[5]||(e[5]=t()),n("td",null,o(s.zone),1)])):c("",!0),e[13]||(e[13]=t()),s.creationTime.length>0?(l(),p("tr",H,[n("th",J,o(m("gateways.routes.item.created")),1),e[6]||(e[6]=t()),n("td",null,o(m("common.formats.datetime",{value:Date.parse(s.creationTime)})),1)])):c("",!0),e[14]||(e[14]=t()),s.modificationTime.length>0?(l(),p("tr",K,[n("th",P,o(m("gateways.routes.item.modified")),1),e[7]||(e[7]=t()),n("td",null,o(m("common.formats.datetime",{value:Date.parse(s.modificationTime)})),1)])):c("",!0),e[15]||(e[15]=t()),Object.keys(s.labels).length>0?(l(),p("tr",U,[n("th",Z,o(m("gateways.routes.item.labels")),1),e[8]||(e[8]=t()),n("td",null,[u(_,{type:"separated",justify:"end"},{default:i(()=>[(l(!0),p(f,null,w(Object.entries(s.labels),([d,a])=>(l(),g(X,{key:`${d}:${a}`,appearance:"info",class:"label"},{default:i(()=>[d.includes("kuma.io/zone")?(l(),g(S,{key:0,to:{name:"builtin-gateway-list-view",query:{s:`zone:${a}`}}},{default:i(()=>[t(o(d)+":"+o(a),1)]),_:2},1032,["to"])):(l(),p(f,{key:1},[t(o(d)+":"+o(a),1)],64))]),_:2},1024))),128))]),_:2},1024)])])):c("",!0),e[16]||(e[16]=t()),s.selectors.length>0?(l(),p("tr",ee,[n("th",te,o(m("gateways.routes.item.selectors")),1),e[9]||(e[9]=t()),n("td",null,[u(_,{type:"separated",justify:"end"},{default:i(()=>[(l(!0),p(f,null,w(Object.entries(s.selectors[0].match),([d,a])=>(l(),g(X,{key:`${d}:${a}`,appearance:"info"},{default:i(()=>[t(o(d)+":"+o(a),1)]),_:2},1024))),128))]),_:2},1024)])])):c("",!0)]),_:2},1024),e[17]||(e[17]=t()),u(k,{"data-testid":"codeblock-yaml-structured-conf",language:"yaml",code:h(C).stringify(s.conf),"show-k8s-copy-button":!1},null,8,["code"])],64)):r.params.format==="universal"?(l(),g(k,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",code:h(C).stringify(s.config),"show-k8s-copy-button":!1,"is-searchable":"",query:r.params.codeSearch,"is-filter-mode":r.params.codeFilter,"is-reg-exp-mode":r.params.codeRegExp,onQueryChange:d=>r.update({codeSearch:d}),onFilterModeChange:d=>r.update({codeFilter:d}),onRegExpModeChange:d=>r.update({codeRegExp:d})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(l(),g(F,{key:2,src:N(h(j),"/meshes/:mesh/mesh-gateways/:name/as/kubernetes",{mesh:r.params.mesh,name:r.params.gateway})},{default:i(({data:d})=>[u(k,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:h(C).stringify(d),"show-k8s-copy-button":!1,"is-searchable":"",query:r.params.codeSearch,"is-filter-mode":r.params.codeFilter,"is-reg-exp-mode":r.params.codeRegExp,onQueryChange:a=>r.update({codeSearch:a}),onFilterModeChange:a=>r.update({codeFilter:a}),onRegExpModeChange:a=>r.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024))),128))]),_:2},1032,["items","predicate"])]),_:1},8,["name"])}}}),ne=v(oe,[["__scopeId","data-v-59ab3fe4"]]);export{ne as default};
