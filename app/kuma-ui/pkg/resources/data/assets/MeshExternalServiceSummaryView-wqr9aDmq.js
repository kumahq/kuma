import{d as N,r as d,p,o as i,w as o,b as l,e as n,l as u,c as k,t as m,N as q,L as b,M as A,q as f,O as g,m as y,Y as v,a1 as Q}from"./index-CIntnFRJ.js";const T={key:0,class:"stack-with-borders","data-testid":"structured-view"},Y=N({__name:"MeshExternalServiceSummaryView",props:{items:{}},setup(w){const M=w;return(P,a)=>{const R=d("RouteTitle"),_=d("XAction"),S=d("XSelect"),h=d("XLayout"),E=d("KumaPort"),z=d("XBadge"),C=d("XCodeBlock"),V=d("DataLoader"),B=d("AppView"),F=d("DataCollection"),X=d("RouteView");return i(),p(X,{name:"mesh-external-service-summary-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:o(({route:e,t:c,can:L,uri:D})=>[l(F,{items:M.items,predicate:r=>r.id===e.params.service},{item:o(({item:r})=>[l(B,null,{title:o(()=>[u("h2",null,[l(_,{to:{name:"mesh-external-service-detail-view",params:{mesh:e.params.mesh,service:e.params.service}}},{default:o(()=>[l(R,{title:c("services.routes.item.title",{name:r.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:o(()=>[a[13]||(a[13]=n()),l(h,{type:"stack"},{default:o(()=>[u("header",null,[l(h,{type:"separated",size:"max"},{default:o(()=>[u("h3",null,m(c("services.routes.item.config")),1),a[0]||(a[0]=n()),(i(),k(q,null,b([["structured","universal","k8s"]],s=>u("div",{key:typeof s},[l(S,{label:c("services.routes.item.format"),selected:e.params.format,onChange:t=>{e.update({format:t})},onVnodeBeforeMount:t=>{var x;return((x=t==null?void 0:t.props)==null?void 0:x.selected)&&s.includes(t.props.selected)&&t.props.selected!==e.params.format&&e.update({format:t.props.selected})}},A({_:2},[b(s,t=>({name:`${t}-option`,fn:o(()=>[n(m(c(`services.routes.item.formats.${t}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2,__:[0]},1024)]),a[12]||(a[12]=n()),e.params.format==="structured"?(i(),k("div",T,[r.namespace.length>0?(i(),p(g,{key:0,layout:"horizontal"},{title:o(()=>a[1]||(a[1]=[n(`
                    Namespace
                  `,-1)])),body:o(()=>[n(m(r.namespace),1)]),_:2,__:[2]},1024)):f("",!0),a[9]||(a[9]=n()),L("use zones")&&r.zone?(i(),p(g,{key:1,layout:"horizontal"},{title:o(()=>a[3]||(a[3]=[n(`
                    Zone
                  `,-1)])),body:o(()=>[l(_,{to:{name:"zone-cp-detail-view",params:{zone:r.zone}}},{default:o(()=>[n(m(r.zone),1)]),_:2},1032,["to"])]),_:2,__:[4]},1024)):f("",!0),a[10]||(a[10]=n()),r.spec.match?(i(),p(g,{key:2,layout:"horizontal"},{title:o(()=>a[5]||(a[5]=[n(`
                    Port
                  `,-1)])),body:o(()=>[l(E,{port:r.spec.match},null,8,["port"])]),_:2,__:[6]},1024)):f("",!0),a[11]||(a[11]=n()),l(g,{layout:"horizontal"},{title:o(()=>a[7]||(a[7]=[n(`
                    TLS
                  `,-1)])),body:o(()=>[l(z,{appearance:"neutral"},{default:o(()=>{var s;return[n(m((s=r.spec.tls)!=null&&s.enabled?"Enabled":"Disabled"),1)]}),_:2},1024)]),_:2,__:[8]},1024)])):e.params.format==="universal"?(i(),p(C,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",code:y(v).stringify(r.config),"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:s=>e.update({codeSearch:s}),onFilterModeChange:s=>e.update({codeFilter:s}),onRegExpModeChange:s=>e.update({codeRegExp:s})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(i(),p(V,{key:2,src:D(y(Q),"/meshes/:mesh/mesh-external-service/:name/as/kubernetes",{mesh:e.params.mesh,name:e.params.service})},{default:o(({data:s})=>[l(C,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:y(v).stringify(s),"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:t=>e.update({codeSearch:t}),onFilterModeChange:t=>e.update({codeFilter:t}),onRegExpModeChange:t=>e.update({codeRegExp:t})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2,__:[12]},1024)]),_:2,__:[13]},1024)]),_:2},1032,["items","predicate"])]),_:1})}}});export{Y as default};
