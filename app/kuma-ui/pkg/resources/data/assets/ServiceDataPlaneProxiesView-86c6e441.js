import{d as h,L as b,o as l,g as n,w as a,h as s,A as w,m as x,C as k,i as c,l as p,p as S,j as z,F as $,G as q,a3 as C,af as P,D as V,k as B,_ as T,q as F}from"./index-0ab7ff60.js";import{D as N,K as A}from"./KFilterBar-fee6b8fc.js";import"./dataplane-30467516.js";const L=h({__name:"ServiceDataPlaneProxiesView",props:{page:{},size:{},search:{},query:{},gatewayType:{}},setup(_){const r=_,{t:y}=b();return(I,J)=>(l(),n(T,{name:"service-data-plane-proxies-view","data-testid":"service-data-plane-proxies-view"},{default:a(({route:i})=>[s(w,null,{title:a(()=>[x("h2",null,[s(k,{title:c(y)("services.routes.item.navigation.service-data-plane-proxies-view"),render:!0},null,8,["title"])])]),default:a(()=>[p(),s(S,{src:`/meshes/${i.params.mesh}/dataplanes/for/${i.params.service}/of/${r.gatewayType}?page=${r.page}&size=${r.size}&search=${r.search}`},{default:a(({data:t,error:f})=>{var u,d,m,g;return[(l(!0),z($,null,q([typeof((g=(m=(d=(u=t==null?void 0:t.items)==null?void 0:u[0])==null?void 0:d.dataplane)==null?void 0:m.networking)==null?void 0:g.gateway)>"u"],o=>(l(),n(c(C),{key:o},{body:a(()=>[s(N,{"data-testid":"data-plane-collection",class:"data-plane-collection","page-number":r.page,"page-size":r.size,total:t==null?void 0:t.total,items:t==null?void 0:t.items,error:f,gateways:o,onChange:({page:e,size:v})=>{i.update({page:String(e),size:String(v)})}},{toolbar:a(()=>[s(A,{class:"data-plane-proxy-filter",placeholder:"tag: 'kuma.io/protocol: http'",query:r.query,fields:{name:{description:"filter by name or parts of a name"},protocol:{description:"filter by “kuma.io/protocol” value"},tag:{description:"filter by tags (e.g. “tag: version:2”)"},zone:{description:"filter by “kuma.io/zone” value"}},onFieldsChange:e=>i.update({query:e.query,s:e.query.length>0?JSON.stringify(e.fields):""})},null,8,["placeholder","query","fields","onFieldsChange"]),p(),o?(l(),n(c(P),{key:0,label:"Type","overlay-label":!0,items:[{label:"All",value:"all"},{label:"Builtin",value:"builtin"},{label:"Delegated",value:"delegated"}].map(e=>({...e,selected:e.value===r.gatewayType})),appearance:"select",onSelected:e=>i.update({gatewayType:String(e.value)})},{"item-template":a(({item:e})=>[p(V(e.label),1)]),_:2},1032,["items","onSelected"])):B("",!0)]),_:2},1032,["page-number","page-size","total","items","error","gateways","onChange"])]),_:2},1024))),128))]}),_:2},1032,["src"])]),_:2},1024)]),_:1}))}});const G=F(L,[["__scopeId","data-v-2791905d"]]);export{G as default};
