import{e as g,o as s,f as n,g as o,t as w,p as r,q as m,G as c,F as v,i as b,h as S,cU as k,a as p,w as y,b as C,r as f}from"./index.d0c2efa7.js";const I={name:"FormFragment",props:{title:{type:String,required:!1,default:null},forAttr:{type:String,required:!1,default:null},allInline:{type:Boolean,default:!1},hideLabelCol:{type:Boolean,default:!1},equalCols:{type:Boolean,default:!1},shiftRight:{type:Boolean,default:!1}}},z={class:"form-line-wrapper"},$={key:0,class:"form-line__col"},E=["for"];function q(t,_,e,u,a,l){return s(),n("div",z,[o("div",{class:m(["form-line",{"has-equal-cols":e.equalCols}])},[e.hideLabelCol?r("",!0):(s(),n("div",$,[o("label",{for:e.forAttr,class:"k-input-label"},w(e.title)+": ",9,E)])),o("div",{class:m(["form-line__col",{"is-inline":e.allInline,"is-shifted-right":e.shiftRight}])},[c(t.$slots,"default")],2)],2)])}const se=g(I,[["render",q],["__scopeId","data-v-03ab9d16"]]);const B={props:{steps:{type:Array,default:()=>{}},sidebarContent:{type:Array,required:!0,default:()=>{}},footerEnabled:{type:Boolean,default:!0},nextDisabled:{type:Boolean,default:!0}},emits:["goToStep"],data(){return{start:0}},computed:{step:{get(){return this.steps[this.start].slug},set(t){return this.steps[t].slug}},indexCanAdvance(){return this.start>=this.steps.length-1},indexCanReverse(){return this.start<=0}},mounted(){this.setStartingStep()},methods:{goToNextStep(){this.start++,this.updateQuery("step",this.start),this.$emit("goToStep",this.step)},goToPrevStep(){this.start--,this.updateQuery("step",this.start),this.$emit("goToStep",this.step)},updateQuery(t,_){const e=this.$router,u=this.$route;u.query?e.push({query:Object.assign({},u.query,{[t]:_})}):e.push({query:{[t]:_}})},setStartingStep(){const t=this.$route.query.step;this.start=t||0}}},x={class:"wizard-steps"},F={class:"wizard-steps__content-wrapper"},R={class:"wizard-steps__indicator"},N={class:"wizard-steps__indicator__controls",role:"tablist","aria-label":"steptabs"},T=["aria-selected","aria-controls"],A={class:"wizard-steps__content"},K={ref:"wizardForm",autocomplete:"off"},D=["id","aria-labelledby"],V={key:0,class:"wizard-steps__footer"},L={class:"wizard-steps__sidebar"},P={class:"wizard-steps__sidebar__content"};function Q(t,_,e,u,a,l){const h=f("KButton");return s(),n("div",x,[o("div",F,[o("header",R,[o("ul",N,[(s(!0),n(v,null,b(e.steps,(i,d)=>(s(),n("li",{key:i.slug,"aria-selected":l.step===i.slug?"true":"false","aria-controls":`wizard-steps__content__item--${d}`,class:m([{"is-complete":d<=a.start},"wizard-steps__indicator__item"])},[o("span",null,w(i.label),1)],10,T))),128))])]),o("div",A,[o("form",K,[(s(!0),n(v,null,b(e.steps,(i,d)=>(s(),n("div",{id:`wizard-steps__content__item--${d}`,key:i.slug,"aria-labelledby":`wizard-steps__content__item--${d}`,role:"tabpanel",tabindex:"0",class:"wizard-steps__content__item"},[l.step===i.slug?c(t.$slots,i.slug,{key:0},void 0,!0):r("",!0)],8,D))),128))],512)]),e.footerEnabled?(s(),n("footer",V,[S(p(h,{appearance:"outline",onClick:l.goToPrevStep},{default:y(()=>[C(" \u2039 Previous ")]),_:1},8,["onClick"]),[[k,!l.indexCanReverse]]),S(p(h,{disabled:e.nextDisabled,appearance:"primary",onClick:l.goToNextStep},{default:y(()=>[C(" Next \u203A ")]),_:1},8,["disabled","onClick"]),[[k,!l.indexCanAdvance]])])):r("",!0)]),o("aside",L,[o("div",P,[(s(!0),n(v,null,b(e.sidebarContent,(i,d)=>(s(),n("div",{key:i.name,class:m(["wizard-steps__sidebar__item",`wizard-steps__sidebar__item--${d}`])},[c(t.$slots,i.name,{},void 0,!0)],2))),128))])])])}const ne=g(B,[["render",Q],["__scopeId","data-v-e6184caf"]]);const U={},j={class:"card-icon icon-success mb-3",role:"img"};function G(t,_,e,u,a,l){return s(),n("i",j," \u2713 ")}const O=g(U,[["render",G],["__scopeId","data-v-632fdab2"]]);const H={name:"EntityScanner",components:{IconSuccess:O},props:{interval:{type:Number,required:!1,default:1e3},retries:{type:Number,required:!1,default:3600},shouldStart:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},loaderFunction:{type:Function,required:!0},canComplete:{type:Boolean,default:!1}},emits:["hide-siblings"],data(){return{i:0,isRunning:!1,isComplete:!1,intervalId:null}},watch:{shouldStart(t,_){t!==_&&t===!0&&this.runScanner()}},mounted(){this.shouldStart===!0&&this.runScanner()},beforeUnmount(){clearInterval(this.intervalId)},methods:{runScanner(){this.isRunning=!0,this.isComplete=!1,this.intervalId=setInterval(()=>{this.i++,this.loaderFunction(),(this.i===this.retries||this.canComplete===!0)&&(clearInterval(this.intervalId),this.isRunning=!1,this.isComplete=!0,this.$emit("hide-siblings",!0))},this.interval)}}},J={key:0,class:"scanner"},M={class:"scanner-content"},W={key:0,class:"card-icon mb-3"},X={key:1,class:"card-icon mb-3"},Y={key:3},Z={key:1};function ee(t,_,e,u,a,l){const h=f("KIcon"),i=f("IconSuccess"),d=f("KEmptyState");return e.shouldStart?(s(),n("div",J,[o("div",M,[p(d,{"cta-is-hidden":""},{title:y(()=>[a.isRunning?(s(),n("div",W,[p(h,{icon:"spinner",color:"rgba(0, 0, 0, 0.1)",size:"42"})])):r("",!0),a.isComplete&&e.hasError===!1&&a.isRunning===!1?(s(),n("div",X,[p(i)])):r("",!0),a.isRunning?c(t.$slots,"loading-title",{key:2},void 0,!0):r("",!0),a.isRunning===!1?(s(),n("div",Y,[e.hasError?c(t.$slots,"error-title",{key:0},void 0,!0):r("",!0),a.isComplete&&e.hasError===!1?c(t.$slots,"complete-title",{key:1},void 0,!0):r("",!0)])):r("",!0)]),message:y(()=>[a.isRunning?c(t.$slots,"loading-content",{key:0},void 0,!0):r("",!0),a.isRunning===!1?(s(),n("div",Z,[e.hasError?c(t.$slots,"error-content",{key:0},void 0,!0):r("",!0),a.isComplete&&e.hasError===!1?c(t.$slots,"complete-content",{key:1},void 0,!0):r("",!0)])):r("",!0)]),_:3})])])):r("",!0)}const re=g(H,[["render",ee],["__scopeId","data-v-5ffa385d"]]);export{re as E,se as F,ne as S};
