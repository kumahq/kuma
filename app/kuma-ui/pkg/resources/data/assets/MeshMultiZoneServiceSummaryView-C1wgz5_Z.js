import{d as A,r as n,p as i,o as d,w as s,b as r,e as p,l,c as y,t as f,N as h,L as g,M as D,m as _,Y as v,a1 as T}from"./index-8QMKyk4n.js";const N=A({__name:"MeshMultiZoneServiceSummaryView",props:{items:{}},setup(k){const x=k;return(q,o)=>{const w=n("RouteTitle"),M=n("XAction"),S=n("XSelect"),c=n("XLayout"),b=n("KumaPort"),R=n("XBadge"),X=n("XTable"),C=n("XCodeBlock"),B=n("DataLoader"),E=n("AppView"),F=n("DataCollection"),V=n("RouteView");return d(),i(V,{name:"mesh-multi-zone-service-summary-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:s(({route:e,t:u,uri:L})=>[r(F,{items:x.items,predicate:m=>m.id===e.params.service},{item:s(({item:m})=>[r(E,null,{title:s(()=>[l("h2",null,[r(M,{to:{name:"mesh-multi-zone-service-detail-view",params:{mesh:e.params.mesh,service:e.params.service}}},{default:s(()=>[r(w,{title:u("services.routes.item.title",{name:m.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:s(()=>[o[7]||(o[7]=p()),r(c,{type:"stack"},{default:s(()=>[l("header",null,[r(c,{type:"separated",size:"max"},{default:s(()=>[l("h3",null,f(u("services.routes.item.config")),1),o[0]||(o[0]=p()),(d(),y(h,null,g([["structured","universal","k8s"]],a=>l("div",{key:typeof a},[r(S,{label:u("services.routes.item.format"),selected:e.params.format,onChange:t=>{e.update({format:t})},onVnodeBeforeMount:t=>t?.props?.selected&&a.includes(t.props.selected)&&t.props.selected!==e.params.format&&e.update({format:t.props.selected})},D({_:2},[g(a,t=>({name:`${t}-option`,fn:s(()=>[p(f(u(`services.routes.item.formats.${t}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024)]),o[6]||(o[6]=p()),e.params.format==="structured"?(d(),i(X,{key:0,"data-testid":"structured-view",variant:"kv"},{default:s(()=>[l("tr",null,[o[1]||(o[1]=l("th",{scope:"row"},`
                    Ports
                  `,-1)),o[2]||(o[2]=p()),l("td",null,[r(c,{type:"separated",truncate:""},{default:s(()=>[(d(!0),y(h,null,g(m.spec.ports,a=>(d(),i(b,{key:a.port,port:{...a,targetPort:void 0}},null,8,["port"]))),128))]),_:2},1024)])]),o[5]||(o[5]=p()),l("tr",null,[o[3]||(o[3]=l("th",{scope:"row"},`
                    Selector
                  `,-1)),o[4]||(o[4]=p()),l("td",null,[r(c,{type:"separated",truncate:""},{default:s(()=>[(d(!0),y(h,null,g(m.spec.selector.meshService.matchLabels,(a,t)=>(d(),i(R,{key:`${t}:${a}`,appearance:"info"},{default:s(()=>[p(f(t)+":"+f(a),1)]),_:2},1024))),128))]),_:2},1024)])])]),_:2},1024)):e.params.format==="universal"?(d(),i(C,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",code:_(v).stringify(m.config),"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:a=>e.update({codeSearch:a}),onFilterModeChange:a=>e.update({codeFilter:a}),onRegExpModeChange:a=>e.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(d(),i(B,{key:2,src:L(_(T),"/meshes/:mesh/mesh-multi-zone-service/:name/as/kubernetes",{mesh:e.params.mesh,name:e.params.service})},{default:s(({data:a})=>[r(C,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:_(v).stringify(a),"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:t=>e.update({codeSearch:t}),onFilterModeChange:t=>e.update({codeFilter:t}),onRegExpModeChange:t=>e.update({codeRegExp:t})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024)]),_:2},1032,["items","predicate"])]),_:1})}}});export{N as default};
