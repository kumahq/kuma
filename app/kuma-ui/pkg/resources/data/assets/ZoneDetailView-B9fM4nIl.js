import{d as B,p as m,o as l,w as n,b as a,r,c as b,e,L as _,M as N,N as g,q as I,l as o,t as d,T as $,n as L,m as j,A as R,_ as E}from"./index-DCInHvfM.js";const O=B({__name:"ZoneDetailView",props:{data:{}},setup(w){const s=w;return(Z,t)=>{const y=r("XAction"),z=r("XI18n"),C=r("XNotification"),p=r("XBadge"),X=r("XIcon"),c=r("XLayout"),k=r("XDl"),V=r("XAboutCard"),D=r("AppView"),S=r("DataSource"),T=r("RouteView");return l(),m(T,{name:"zone-cp-detail-view",params:{zone:"",subscription:""}},{default:n(({t:i,uri:x})=>[a(S,{src:x(j(R),"/control-plane/outdated/:version",{version:s.data.zoneInsight.version?.kumaCp?.version??"-"})},{default:n(({data:v})=>[a(D,{docs:i("zones.href.docs.cta"),notifications:!0},{default:n(()=>[(l(!0),b(g,null,_([{bool:s.data.zoneInsight.store==="memory",key:"store-memory"},{bool:!s.data.zoneInsight.version?.kumaCp?.kumaCpGlobalCompatible,key:"global-cp-incompatible",params:{zoneCpVersion:s.data.zoneInsight.version?.kumaCp?.version??"-",globalCpVersion:v?.version??""}},{bool:(s.data.zoneInsight.connectedSubscription?.status.total.responsesRejected??0)>0,key:"global-nack-response"}],({bool:u,key:f,params:A})=>(l(),m(C,{key:f,notify:u,"data-testid":`warning-${f}`,uri:`zone-cps.notifications.${f}.${s.data.id}`},{default:n(()=>[a(z,{path:`zone-cps.notifications.${f}`,params:Object.fromEntries(Object.entries(A??{}))},N({_:2},[f==="global-nack-response"?{name:"link",fn:n(()=>[a(y,{"data-action":"",to:{name:"zone-cp-subscription-summary-view",params:{subscription:s.data.zoneInsight.connectedSubscription?.id}}},{default:n(()=>[...t[0]||(t[0]=[e(`
                  zone control plane summary
                `,-1)])]),_:1},8,["to"])]),key:"0"}:void 0]),1032,["path","params"])]),_:2},1032,["notify","data-testid","uri"]))),128)),t[17]||(t[17]=e()),a(c,{"data-testid":"detail-view-details",type:"stack"},{default:n(()=>[a(V,{title:i("zone-cps.detail.about.title"),created:s.data.creationTime,modified:s.data.modificationTime,class:"about-section"},{default:n(()=>[a(c,null,{default:n(()=>[a(k,{variant:"x-stack"},{default:n(()=>[o("div",null,[o("dt",null,d(i("http.api.property.status")),1),t[1]||(t[1]=e()),o("dd",null,[a($,{status:s.data.state},null,8,["status"])])]),t[6]||(t[6]=e()),o("div",{class:L({version:!0,outdated:v?.outdated})},[o("dt",null,d(i("zone-cps.routes.item.version")),1),t[3]||(t[3]=e()),o("dd",null,[a(c,{type:"separated"},{default:n(()=>[a(p,{appearance:v?.outdated===!0?"warning":"decorative"},{default:n(()=>[e(d(s.data.zoneInsight.version?.kumaCp?.version??"â€”"),1)]),_:2},1032,["appearance"]),t[2]||(t[2]=e()),v?.outdated===!0?(l(),m(X,{key:0,name:"info"},{default:n(()=>[a(z,{path:"zone-cps.routes.item.version_warning"})]),_:1})):I("",!0)]),_:2},1024)])],2),t[7]||(t[7]=e()),o("div",null,[o("dt",null,d(i("http.api.property.type")),1),t[4]||(t[4]=e()),o("dd",null,[a(p,{appearance:"decorative"},{default:n(()=>[e(d(i(`common.product.environment.${s.data.zoneInsight.environment||"unknown"}`)),1)]),_:2},1024)])]),t[8]||(t[8]=e()),o("div",null,[o("dt",null,d(i("zone-cps.routes.item.authentication_type")),1),t[5]||(t[5]=e()),o("dd",null,[a(p,{appearance:"decorative"},{default:n(()=>[e(d(s.data.zoneInsight.authenticationType||i("common.not_applicable")),1)]),_:2},1024)])])]),_:2},1024),t[16]||(t[16]=e()),s.data.zoneInsight.subscriptions.length>0?(l(),m(c,{key:0,"data-testid":"about-zone-cp-subscriptions",class:"about-subsection"},{default:n(()=>[a(c,{type:"separated"},{default:n(()=>[o("h3",null,d(i("zone-cps.routes.item.subscriptions.title")),1),t[9]||(t[9]=e()),a(y,{"data-action":"",appearance:"anchor",to:{name:"zone-cp-subscriptions-list-view"}},{default:n(()=>[e(`
                    (`+d(i("zone-cps.routes.item.subscriptions.show-details"))+`)
                  `,1)]),_:2},1024)]),_:2},1024),t[15]||(t[15]=e()),(l(!0),b(g,null,_([s.data.zoneInsight.connectedSubscription],u=>(l(),b(g,{key:typeof u},[!u?.disconnectTime&&u?.connectTime?(l(),m(k,{key:0,variant:"x-stack"},{default:n(()=>[o("div",null,[o("dt",null,d(i("zone-cps.routes.item.subscriptions.connected")),1),t[10]||(t[10]=e()),o("dd",null,[a(p,{appearance:"neutral"},{default:n(()=>[e(d(i("common.formats.datetime",{value:Date.parse(u.connectTime)})),1)]),_:2},1024)])]),t[13]||(t[13]=e()),o("div",null,[o("dt",null,d(i("zone-cps.routes.item.subscriptions.instanceId")),1),t[11]||(t[11]=e()),o("dd",null,[a(p,{appearance:"info"},{default:n(()=>[e(d(u.zoneInstanceId),1)]),_:2},1024)])]),t[14]||(t[14]=e()),o("div",null,[o("dt",null,d(i("zone-cps.routes.item.subscriptions.version")),1),t[12]||(t[12]=e()),o("dd",null,[a(p,{appearance:"info"},{default:n(()=>[e(d(u.version?.kumaCp.version??i("common.unknown")),1)]),_:2},1024)])])]),_:2},1024)):(l(),m(z,{key:1,path:"zone-cps.routes.item.subscriptions.disconnected"}))],64))),128))]),_:2},1024)):I("",!0)]),_:2},1024)]),_:2},1032,["title","created","modified"])]),_:2},1024)]),_:2},1032,["docs"])]),_:2},1032,["src"])]),_:1})}}}),F=E(O,[["__scopeId","data-v-881b4adc"]]);export{F as default};
