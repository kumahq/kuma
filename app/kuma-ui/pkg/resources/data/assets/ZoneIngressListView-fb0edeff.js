import{h,A as x,i as A,E as R,j as C,T as z,S as $,K as N,k as T,_ as E,f as L}from"./RouteView.vue_vue_type_script_setup_true_lang-07b4cab0.js";import{d as P,r as S,o as a,a as i,w as o,h as l,k as B,b as t,g as d,l as V,t as _,e as g,F as f,R as w,D as Z,m as D,n as O}from"./index-5cc1bd9e.js";import{_ as F}from"./MultizoneInfo.vue_vue_type_script_setup_true_lang-ff9e4a59.js";import{_ as K}from"./RouteTitle.vue_vue_type_script_setup_true_lang-9295e5a4.js";import{e as U}from"./dataplane-e7ae9fed.js";import"./WarningIcon.vue_vue_type_script_setup_true_lang-bebc6d7a.js";const q=P({__name:"ZoneIngressListView",props:{page:{type:Number,required:!0},size:{type:Number,required:!0}},setup(k){const m=k,{t:n}=h();function b(v){return v.map(p=>{const{name:u}=p,y={name:"zone-ingress-detail-view",params:{zoneIngress:u}},{networking:e}=p.zoneIngress;let r;e!=null&&e.address&&(e!=null&&e.port)&&(r=`${e.address}:${e.port}`);let c;e!=null&&e.advertisedAddress&&(e!=null&&e.advertisedPort)&&(c=`${e.advertisedAddress}:${e.advertisedPort}`);const s=U(p.zoneIngressInsight??{});return{detailViewRoute:y,name:u,addressPort:r,advertisedAddressPort:c,status:s}})}return(v,p)=>{const u=S("RouterLink");return a(),i(E,{name:"zone-ingress-list-view"},{default:o(({route:y,can:e})=>[l(x,null,{title:o(()=>[B("h1",null,[l(K,{title:t(n)("zone-ingresses.routes.items.title"),render:!0},null,8,["title"])])]),default:o(()=>[d(),e("use zones")?(a(),i(A,{key:1,src:`/zone-ingresses?size=${m.size}&page=${m.page}`},{default:o(({data:r,error:c})=>[l(t(V),null,{body:o(()=>[c!==void 0?(a(),i(R,{key:0,error:c},null,8,["error"])):(a(),i(C,{key:1,class:"zone-ingress-collection","data-testid":"zone-ingress-collection",headers:[{label:"Name",key:"name"},{label:"Address",key:"addressPort"},{label:"Advertised address",key:"advertisedAddressPort"},{label:"Status",key:"status"},{label:"Actions",key:"actions",hideLabel:!0}],"page-number":m.page,"page-size":m.size,total:r==null?void 0:r.total,items:r?b(r.items):void 0,error:c,"empty-state-message":t(n)("common.emptyState.message",{type:"Zone Ingresses"}),"empty-state-cta-to":t(n)("zone-ingresses.href.docs"),"empty-state-cta-text":t(n)("common.documentation"),onChange:y.update},{name:o(({row:s,rowValue:I})=>[l(u,{to:s.detailViewRoute,"data-testid":"detail-view-link"},{default:o(()=>[d(_(I),1)]),_:2},1032,["to"])]),addressPort:o(({rowValue:s})=>[s?(a(),i(z,{key:0,text:s},null,8,["text"])):(a(),g(f,{key:1},[d(_(t(n)("common.collection.none")),1)],64))]),advertisedAddressPort:o(({rowValue:s})=>[s?(a(),i(z,{key:0,text:s},null,8,["text"])):(a(),g(f,{key:1},[d(_(t(n)("common.collection.none")),1)],64))]),status:o(({rowValue:s})=>[s?(a(),i($,{key:0,status:s},null,8,["status"])):(a(),g(f,{key:1},[d(_(t(n)("common.collection.none")),1)],64))]),actions:o(({row:s})=>[l(t(w),{class:"actions-dropdown","data-testid":"actions-dropdown","kpop-attributes":{placement:"bottomEnd",popoverClasses:"mt-5 more-actions-popover"},width:"150"},{default:o(()=>[l(t(Z),{class:"non-visual-button",appearance:"secondary",size:"small"},{icon:o(()=>[l(t(D),{color:t(N),icon:"more",size:t(T)},null,8,["color","size"])]),_:1})]),items:o(()=>[l(t(O),{item:{to:s.detailViewRoute,label:t(n)("common.collection.actions.view")}},null,8,["item"])]),_:2},1024)]),_:2},1032,["page-number","page-size","total","items","error","empty-state-message","empty-state-cta-to","empty-state-cta-text","onChange"]))]),_:2},1024)]),_:2},1032,["src"])):(a(),i(F,{key:0}))]),_:2},1024)]),_:1})}}});const M=L(q,[["__scopeId","data-v-4d4c8ca5"]]);export{M as default};
