import{D as V,K as k}from"./KFilterBar-4b89f8ce.js";import{d as C,r as o,o as s,i as l,w as r,j as i,p as z,n as c,l as q,F as P,I as T,H as B,m as y,t as K}from"./index-df368167.js";import"./dataplane-0a086c06.js";const $=C({__name:"ServiceDataPlaneProxiesView",setup(F){return(N,I)=>{const f=o("RouteTitle"),v=o("KSelect"),b=o("KCard"),p=o("DataSource"),h=o("AppView"),w=o("RouteView");return s(),l(p,{src:"/me"},{default:r(({data:m})=>[m?(s(),l(w,{key:0,name:"service-data-plane-proxies-view",params:{page:1,size:m.pageSize,query:"",s:"",mesh:"",service:"",gatewayType:""}},{default:r(({route:e,t:S})=>[i(h,null,{title:r(()=>[z("h2",null,[i(f,{title:S("services.routes.item.navigation.service-data-plane-proxies-view"),render:!0},null,8,["title"])])]),default:r(()=>[c(),i(p,{src:`/meshes/${e.params.mesh}/dataplanes/for/${e.params.service}/of/all?page=${e.params.page}&size=${e.params.size}&search=${e.params.s}`},{default:r(({data:a,error:x})=>{var u,_,d,g;return[(s(!0),q(P,null,T([typeof((g=(d=(_=(u=a==null?void 0:a.items)==null?void 0:u[0])==null?void 0:_.dataplane)==null?void 0:d.networking)==null?void 0:g.gateway)>"u"],n=>(s(),l(b,{key:n},{body:r(()=>[i(V,{"data-testid":"data-plane-collection",class:"data-plane-collection","page-number":parseInt(e.params.page),"page-size":parseInt(e.params.size),total:a==null?void 0:a.total,items:a==null?void 0:a.items,error:x,gateways:n,onChange:e.update},{toolbar:r(()=>[i(k,{class:"data-plane-proxy-filter",placeholder:"tag: 'kuma.io/protocol: http'",query:e.params.query,fields:{name:{description:"filter by name or parts of a name"},protocol:{description:"filter by “kuma.io/protocol” value"},tag:{description:"filter by tags (e.g. “tag: version:2”)"},zone:{description:"filter by “kuma.io/zone” value"}},onFieldsChange:t=>e.update({query:t.query,s:t.query.length>0?JSON.stringify(t.fields):""})},null,8,["placeholder","query","fields","onFieldsChange"]),c(),n?(s(),l(v,{key:0,label:"Type","overlay-label":!0,items:[{label:"All",value:"all"},{label:"Builtin",value:"builtin"},{label:"Delegated",value:"delegated"}].map(t=>({...t,selected:t.value===e.params.gatewayType})),appearance:"select",onSelected:t=>e.update({gatewayType:String(t.value)})},{"item-template":r(({item:t})=>[c(B(t.label),1)]),_:2},1032,["items","onSelected"])):y("",!0)]),_:2},1032,["page-number","page-size","total","items","error","gateways","onChange"])]),_:2},1024))),128))]}),_:2},1032,["src"])]),_:2},1024)]),_:2},1032,["params"])):y("",!0)]),_:1})}}});const j=K($,[["__scopeId","data-v-9b859c26"]]);export{j as default};
