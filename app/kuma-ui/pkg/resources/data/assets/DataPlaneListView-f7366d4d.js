import{D as g,K as y}from"./KFilterBar-b0aed985.js";import{d as h,r as s,o as n,g as r,w as a,h as o,m as V,l as k,E as w,k as C,q as v}from"./index-a63a3d32.js";import"./constants-b84da159.js";import"./dataplane-a974028d.js";const b=h({__name:"DataPlaneListView",setup(q){return(z,x)=>{const c=s("RouteTitle"),m=s("KCard"),_=s("AppView"),p=s("DataSource"),d=s("RouteView");return n(),r(p,{src:"/me"},{default:a(({data:u})=>[u?(n(),r(d,{key:0,name:"data-planes-list-view",params:{page:1,size:50,query:"",s:"",mesh:""}},{default:a(({route:e,t:f})=>[o(p,{src:`/meshes/${e.params.mesh}/dataplanes?page=${e.params.page}&size=${e.params.size}&search=${e.params.s}`},{default:a(({data:t,error:i})=>[o(_,null,{title:a(()=>[V("h2",null,[o(c,{title:f("data-planes.routes.items.title"),render:!0},null,8,["title"])])]),default:a(()=>[k(),o(m,null,{body:a(()=>[i!==void 0?(n(),r(w,{key:0,error:i},null,8,["error"])):(n(),r(g,{key:1,"data-testid":"data-plane-collection",class:"data-plane-collection","page-number":parseInt(e.params.page),"page-size":parseInt(e.params.size),total:t==null?void 0:t.total,items:t==null?void 0:t.items,error:i,onChange:e.update},{toolbar:a(()=>[o(y,{class:"data-plane-proxy-filter",placeholder:"tag: 'kuma.io/protocol: http'",query:e.params.query,fields:{name:{description:"filter by name or parts of a name"},service:{description:"filter by “kuma.io/service” value"},tag:{description:"filter by tags (e.g. “tag: version:2”)"},zone:{description:"filter by “kuma.io/zone” value"}},onFieldsChange:l=>e.update({query:l.query,s:l.query.length>0?JSON.stringify(l.fields):""})},null,8,["placeholder","query","fields","onFieldsChange"])]),_:2},1032,["page-number","page-size","total","items","error","onChange"]))]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])]),_:1})):C("",!0)]),_:1})}}});const L=v(b,[["__scopeId","data-v-6732afd8"]]);export{L as default};
