import{d as B,r as a,o,g as n,w as t,h as i,m as R,l as d,E as $,$ as D,C as g,a5 as h,j as z,F as k,S as P,i as x,a1 as L,K as N,k as T,q as E}from"./index-77212499.js";import{_ as Z}from"./MultizoneInfo.vue_vue_type_script_setup_true_lang-a6f89361.js";import{g as F}from"./dataplane-0a086c06.js";const M=B({__name:"ZoneIngressListView",setup(j){function C(I){return I.map(m=>{const{name:p}=m,y={name:"zone-ingress-detail-view",params:{zoneIngress:p}},{networking:e}=m.zoneIngress;let u;e!=null&&e.address&&(e!=null&&e.port)&&(u=`${e.address}:${e.port}`);let _;e!=null&&e.advertisedAddress&&(e!=null&&e.advertisedPort)&&(_=`${e.advertisedAddress}:${e.advertisedPort}`);const v=F(m.zoneIngressInsight??{});return{detailViewRoute:y,name:p,addressPort:u,advertisedAddressPort:_,status:v}})}return(I,m)=>{const p=a("RouteTitle"),y=a("RouterLink"),e=a("KButton"),u=a("KDropdownItem"),_=a("KDropdownMenu"),v=a("KCard"),b=a("DataSource"),A=a("AppView"),V=a("RouteView");return o(),n(b,{src:"/me"},{default:t(({data:w})=>[w?(o(),n(V,{key:0,name:"zone-ingress-list-view",params:{page:1,size:w.pageSize}},{default:t(({route:l,can:K,t:r})=>[i(A,null,{title:t(()=>[R("h1",null,[i(p,{title:r("zone-ingresses.routes.items.title"),render:!0},null,8,["title"])])]),default:t(()=>[d(),K("use zones")?(o(),n(b,{key:1,src:`/zone-ingress-overviews?page=${l.params.page}&size=${l.params.size}`},{default:t(({data:c,error:f})=>[i(v,null,{body:t(()=>[f!==void 0?(o(),n($,{key:0,error:f},null,8,["error"])):(o(),n(D,{key:1,class:"zone-ingress-collection","data-testid":"zone-ingress-collection",headers:[{label:"Name",key:"name"},{label:"Address",key:"addressPort"},{label:"Advertised address",key:"advertisedAddressPort"},{label:"Status",key:"status"},{label:"Actions",key:"actions",hideLabel:!0}],"page-number":parseInt(l.params.page),"page-size":parseInt(l.params.size),total:c==null?void 0:c.total,items:c?C(c.items):void 0,error:f,"empty-state-message":r("common.emptyState.message",{type:"Zone Ingresses"}),"empty-state-cta-to":r("zone-ingresses.href.docs"),"empty-state-cta-text":r("common.documentation"),onChange:l.update},{name:t(({row:s,rowValue:S})=>[i(y,{to:s.detailViewRoute,"data-testid":"detail-view-link"},{default:t(()=>[d(g(S),1)]),_:2},1032,["to"])]),addressPort:t(({rowValue:s})=>[s?(o(),n(h,{key:0,text:s},null,8,["text"])):(o(),z(k,{key:1},[d(g(r("common.collection.none")),1)],64))]),advertisedAddressPort:t(({rowValue:s})=>[s?(o(),n(h,{key:0,text:s},null,8,["text"])):(o(),z(k,{key:1},[d(g(r("common.collection.none")),1)],64))]),status:t(({rowValue:s})=>[s?(o(),n(P,{key:0,status:s},null,8,["status"])):(o(),z(k,{key:1},[d(g(r("common.collection.none")),1)],64))]),actions:t(({row:s})=>[i(_,{class:"actions-dropdown","data-testid":"actions-dropdown","kpop-attributes":{placement:"bottomEnd",popoverClasses:"mt-5 more-actions-popover"},width:"150"},{default:t(()=>[i(e,{class:"non-visual-button",appearance:"secondary",size:"small"},{default:t(()=>[i(x(L),{size:x(N)},null,8,["size"])]),_:1})]),items:t(()=>[i(u,{item:{to:s.detailViewRoute,label:r("common.collection.actions.view")}},null,8,["item"])]),_:2},1024)]),_:2},1032,["page-number","page-size","total","items","error","empty-state-message","empty-state-cta-to","empty-state-cta-text","onChange"]))]),_:2},1024)]),_:2},1032,["src"])):(o(),n(Z,{key:0}))]),_:2},1024)]),_:2},1032,["params"])):T("",!0)]),_:1})}}});const W=E(M,[["__scopeId","data-v-5323a484"]]);export{W as default};
