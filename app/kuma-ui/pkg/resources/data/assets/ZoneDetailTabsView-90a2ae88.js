import{d as g,$ as C,N as A,a0 as R,t as O,o as i,j as T,h as a,w as t,i as e,an as B,az as Z,l as u,C as k,am as $,g as r,m as x,k as E,r as p,E as M,s as S,a9 as j,a1 as I,n as q}from"./index-65a641bf.js";import{_ as K}from"./DeleteResourceModal.vue_vue_type_script_setup_true_lang-29e4bc37.js";import{N as L}from"./NavTabs-5e82969b.js";const W=g({__name:"ZoneActionMenu",props:{zoneOverview:{type:Object,required:!0},kpopAttributes:{type:Object,default:()=>({placement:"bottomEnd"})}},setup(y){const n=y,{t:s}=C(),h=A(),f=R(),c=O(!1);function o(){c.value=!c.value}async function m(){await h.deleteZone({name:n.zoneOverview.name})}function l(){f.push({name:"zone-cp-list-view"})}return(d,v)=>(i(),T("div",null,[a(e($),{"button-appearance":"creation","kpop-attributes":n.kpopAttributes,label:e(s)("zones.action_menu.toggle_button"),"show-caret":"",width:"280"},{items:t(()=>[a(e(B),{"is-dangerous":"","data-testid":"delete-button",onClick:Z(o,["prevent"])},{default:t(()=>[u(k(e(s)("zones.action_menu.delete_button")),1)]),_:1},8,["onClick"])]),_:1},8,["kpop-attributes","label"]),u(),c.value?(i(),r(K,{key:0,"confirmation-text":n.zoneOverview.name,"delete-function":m,"is-visible":"","action-button-text":e(s)("common.delete_modal.proceed_button"),title:e(s)("common.delete_modal.title",{type:"Zone"}),"data-testid":"delete-zone-modal",onCancel:o,onDelete:l},{"body-content":t(()=>[x("p",null,k(e(s)("common.delete_modal.text1",{type:"Zone",name:n.zoneOverview.name})),1),u(),x("p",null,k(e(s)("common.delete_modal.text2")),1)]),_:1},8,["confirmation-text","action-button-text","title"])):E("",!0)]))}}),J=g({__name:"ZoneDetailTabsView",setup(y){var c;const{t:n}=C(),f=(((c=R().getRoutes().find(o=>o.name==="zone-cp-detail-tabs-view"))==null?void 0:c.children)??[]).map(o=>{var _,b;const m=typeof o.name>"u"?(_=o.children)==null?void 0:_[0]:o,l=m.name,d=((b=m.meta)==null?void 0:b.module)??"";return{title:n(`zone-cps.routes.item.navigation.${l}`),routeName:l,module:d}});return(o,m)=>{const l=p("RouteTitle"),d=p("RouterView"),v=p("AppView"),_=p("DataSource"),b=p("RouteView");return i(),r(b,{name:"zone-cp-detail-tabs-view",params:{zone:""}},{default:t(({can:D,route:w})=>[a(_,{src:`/zone-cps/${w.params.zone}`},{default:t(({data:z,error:V})=>[V!==void 0?(i(),r(M,{key:0,error:V},null,8,["error"])):z===void 0?(i(),r(S,{key:1})):(i(),r(v,{key:2,breadcrumbs:[{to:{name:"zone-cp-list-view"},text:e(n)("zone-cps.routes.item.breadcrumbs")}]},j({title:t(()=>[x("h1",null,[a(I,{text:w.params.zone},{default:t(()=>[a(l,{title:e(n)("zone-cps.routes.item.title",{name:w.params.zone}),render:!0},null,8,["title"])]),_:2},1032,["text"])])]),default:t(()=>[u(),u(),a(L,{class:"route-zone-detail-view-tabs",tabs:e(f)},null,8,["tabs"]),u(),a(d,null,{default:t(N=>[(i(),r(q(N.Component),{data:z},null,8,["data"]))]),_:2},1024)]),_:2},[D("create zones")?{name:"actions",fn:t(()=>[a(W,{"zone-overview":z},null,8,["zone-overview"])]),key:"0"}:void 0]),1032,["breadcrumbs"]))]),_:2},1032,["src"])]),_:1})}}});export{J as default};
