import{_ as w,q as D,r as d,o as t,f as l,b as c,w as o,n as r,e as _,h as a,t as h,p as u,A as K,u as k,d as g,x as S,j as T,F as C}from"./index.6180ff6f.js";import{d as x}from"./datadogEvents.f0c2b8e0.js";const O={name:"PaginationWidget",props:{hasPrevious:{type:Boolean,default:!1},hasNext:{type:Boolean,default:!1}},emits:["next","previous"],methods:{onNextButtonClick(){this.$emit("next"),D.logger.info(x.PAGINATION_NEXT_BUTTON_CLICKED)},onPreviousButtonClick(){this.$emit("previous"),D.logger.info(x.PAGINATION_PREVIOUS_BUTTON_CLICKED)}}},I={class:"pagination"},R=_(" \u2039 Previous "),A=_(" Next \u203A ");function z(n,m,e,E,p,i){const v=d("KButton");return t(),l("div",I,[e.hasPrevious?(t(),c(v,{key:0,ref:"paginatePrev",appearance:"primary",onClick:i.onPreviousButtonClick},{default:o(()=>[R]),_:1},8,["onClick"])):r("",!0),e.hasNext?(t(),c(v,{key:1,ref:"paginateNext",appearance:"primary",onClick:i.onNextButtonClick},{default:o(()=>[A]),_:1},8,["onClick"])):r("",!0)])}const H=w(O,[["render",z],["__scopeId","data-v-f3449a4f"]]);const W={name:"EntityTag",props:{tag:{type:Object,required:!0}},methods:{cleanTagLabel(n){return n.toLowerCase().replace(".","-").replace("/","-")}}},V={class:"entity-tag"};function j(n,m,e,E,p,i){return t(),l("span",V,[a("span",{class:u(["entity-tag__label",`entity-tag__label--${i.cleanTagLabel(e.tag.label)}`])},h(e.tag.label),3),a("span",{class:u(["entity-tag__value",`entity-tag__value--${e.tag.value}`])},h(e.tag.value),3)])}const F=w(W,[["render",j],["__scopeId","data-v-4f6025e1"]]),U="/assets/icon-empty-table.dbb0b754.svg";const q={name:"DataOverview",components:{PaginationWidget:H,EntityTag:F},props:{pageSize:{type:Number,default:12},isLoading:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},error:{type:Object,required:!1,default:null},isEmpty:{type:Boolean,default:!1},emptyState:{type:Object,default:null},tableData:{type:Object,default:null},tableHasBorder:{type:Boolean,required:!1,default:!1},tableDataIsEmpty:{type:Boolean,default:!1},showWarnings:{type:Boolean},next:{type:Boolean,default:!1}},emits:["table-action","refresh","load-data"],data(){return{selectedRow:"",pageOffset:0}},computed:{customSlots(){return this.tableData.headers.map(({key:n})=>n).filter(n=>this.$slots[n])},isReady(){return!this.isEmpty&&!this.hasError&&!this.isLoading},tableHeaders(){return this.showWarnings?this.tableData.headers:this.tableData.headers.filter(({key:n})=>n!=="warnings")},tableDataFiltered(){return{data:this.tableData.data,total:this.tableData.data.length}},shouldShowApiError(){return this.error instanceof K}},watch:{isLoading(n){!n&&this.tableData.data.length>0&&(this.selectedRow=this.tableData.data[0].name)}},methods:{tableRowHandler(n,m,e){this.selectedRow=m.name,this.$emit("table-action",m)},onRefreshButtonClick(){this.$emit("refresh"),this.$emit("load-data",this.pageOffset),D.logger.info(x.TABLE_REFRESH_BUTTON_CLICKED)},goToPreviousPage(){this.pageOffset-=this.pageSize,this.$emit("load-data",this.pageOffset)},goToNextPage(){this.pageOffset+=this.pageSize,this.$emit("load-data",this.pageOffset)}}},$={class:"data-overview","data-testid":"data-overview"},M={class:"data-table-controls mb-2"},G=a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},[a("g",{fill:"#fff","fill-rule":"nonzero"},[a("path",{d:"M18 5.5a12.465 12.465 0 00-8.118 2.995 1.5 1.5 0 001.847 2.363l.115-.095A9.437 9.437 0 0118 8.5l.272.004a9.487 9.487 0 019.07 7.75l.04.246H25a.5.5 0 00-.416.777l4 6a.5.5 0 00.832 0l4-6 .04-.072A.5.5 0 0033 16.5h-2.601l-.017-.15C29.567 10.2 24.294 5.5 18 5.5zM2.584 18.723l-.04.072A.5.5 0 003 19.5h2.6l.018.15C6.433 25.8 11.706 30.5 18 30.5c3.013 0 5.873-1.076 8.118-2.995a1.5 1.5 0 00-1.847-2.363l-.115.095A9.437 9.437 0 0118 27.5l-.272-.004a9.487 9.487 0 01-9.07-7.75l-.041-.246H11a.5.5 0 00.416-.777l-4-6a.5.5 0 00-.832 0l-4 6z"})])],-1),X=[G],J=a("span",null,"Refresh",-1),Q={key:0,class:"data-overview-content"},Y={key:0,class:"data-overview-table"},Z=a("span",{class:"entity-status__dot"},null,-1),ee={class:"entity-status__label"},te={class:"entity-total-updates"},ae={key:0,class:"action-link__active-state"},se=_(" \u2713 "),ne=a("span",{class:"sr-only"}," Selected ",-1),oe=[se,ne],ie={key:1,class:"action-link__normal-state"},le={key:1},re=a("div",{class:"card-icon mb-3"},[a("img",{src:U})],-1),ce={key:0},de={key:1},_e={key:2,class:"data-overview-content mt-6"},he={class:"card-icon mb-3"},ue=_(" Data Loading\u2026 "),ge={class:"card-icon mb-3"},ye=_(" An error has occurred while trying to load this data. ");function fe(n,m,e,E,p,i){const v=d("KButton"),b=d("EntityTag"),y=d("KIcon"),N=d("KTable"),P=d("PaginationWidget"),B=d("KEmptyState");return t(),l("div",$,[a("div",M,[k(n.$slots,"additionalControls"),g(v,{class:"ml-2 refresh-button",appearance:"primary",size:"small",disabled:e.isLoading,onClick:i.onRefreshButtonClick},{default:o(()=>[a("div",{class:u(["refresh-icon",{"is-spinning":e.isLoading}])},X,2),J]),_:1},8,["disabled","onClick"])]),i.isReady?(t(),l("div",Q,[!e.tableDataIsEmpty&&e.tableData?(t(),l("div",Y,[g(N,{class:u(["micro-table",{"data-table-is-hidden":e.tableDataIsEmpty,"has-border":e.tableHasBorder}]),fetcher:()=>i.tableDataFiltered,headers:i.tableHeaders,"disable-pagination":"","is-clickable":"","onRow:click":i.tableRowHandler},S({status:o(({rowValue:s})=>[a("div",{class:u(["entity-status",{"is-offline":s.toString().toLowerCase()==="offline"||s===!1,"is-degraded":s.toString().toLowerCase()==="partially degraded"||s===!1}])},[Z,a("span",ee,h(s),1)],2)]),tags:o(({rowValue:s})=>[(t(!0),l(C,null,T(s,(f,L)=>(t(),c(b,{key:L,tag:f},null,8,["tag"]))),128))]),totalUpdates:o(({row:s})=>[a("span",te,[a("span",null,h(s.totalUpdates),1)])]),actions:o(({row:s})=>[a("a",{class:u(["data-table-action-link",{"is-active":p.selectedRow===s.name}])},[p.selectedRow===s.name?(t(),l("span",ae,oe)):(t(),l("span",ie," View "))],2)]),dpVersion:o(({row:s,rowValue:f})=>[a("div",{class:u({"with-warnings":s.unsupportedEnvoyVersion||s.unsupportedKumaDPVersion||s.kumaDpAndKumaCpMismatch})},h(f),3)]),envoyVersion:o(({row:s,rowValue:f})=>[a("div",{class:u({"with-warnings":s.unsupportedEnvoyVersion})},h(f),3)]),_:2},[T(i.customSlots,s=>({name:s,fn:o(({rowValue:f,row:L})=>[k(n.$slots,s,{rowValue:f,row:L})])})),e.showWarnings?{name:"warnings",fn:o(({row:s})=>[s.withWarnings?(t(),c(y,{key:0,class:"mr-1",icon:"warning",color:"var(--black-75)","secondary-color":"var(--yellow-300)",size:"20"})):(t(),l("div",le))]),key:"0"}:void 0]),1032,["class","fetcher","headers","onRow:click"]),g(P,{"has-previous":p.pageOffset>0,"has-next":e.next,onNext:i.goToNextPage,onPrevious:i.goToPreviousPage},null,8,["has-previous","has-next","onNext","onPrevious"])])):r("",!0),e.tableDataIsEmpty&&e.tableData?(t(),c(B,{key:1,"cta-is-hidden":""},S({title:o(()=>[re,e.emptyState.title?(t(),l("span",ce,h(e.emptyState.title),1)):(t(),l("span",de," No Items Found "))]),_:2},[e.emptyState.message?{name:"message",fn:o(()=>[_(h(e.emptyState.message),1)]),key:"0"}:void 0]),1024)):r("",!0),n.$slots.content?(t(),l("div",_e,[k(n.$slots,"content")])):r("",!0)])):r("",!0),e.isLoading?(t(),c(B,{key:1,"cta-is-hidden":""},{title:o(()=>[a("div",he,[g(y,{icon:"spinner",color:"rgba(0, 0, 0, 0.25)",size:"42"})]),ue]),_:1})):r("",!0),e.hasError?(t(),c(B,{key:2,"cta-is-hidden":""},{title:o(()=>[a("div",ge,[g(y,{class:"kong-icon--centered",icon:"warning",color:"var(--black-75)","secondary-color":"var(--yellow-300)",size:"42"})]),i.shouldShowApiError?(t(),l(C,{key:0},[_(h(e.error.message),1)],64)):(t(),l(C,{key:1},[ye],64))]),_:1})):r("",!0)])}const Se=w(q,[["render",fe]]);const me={name:"LabelList",props:{items:{type:Object,default:null},title:{type:String,default:null},isLoading:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1}},computed:{isReady(){return!this.isEmpty&&!this.hasError&&!this.isLoading}}},pe={key:0,class:"label-list-content"},ve={class:"label-list__col-wrapper multi-col"},be={class:"card-icon mb-3"},ke=_(" Data Loading... "),we={class:"card-icon mb-3"},Ee=_(" There is no data to display. "),Be={class:"card-icon mb-3"},Le=_(" An error has occurred while trying to load this data. ");function Ce(n,m,e,E,p,i){const v=d("KCard"),b=d("KIcon"),y=d("KEmptyState");return t(),l("div",null,[i.isReady?(t(),l("div",pe,[!e.isLoading&&!e.isEmpty?(t(),c(v,{key:0,"border-variant":"noBorder"},{body:o(()=>[a("div",ve,[k(n.$slots,"default")])]),_:3})):r("",!0)])):r("",!0),e.isLoading?(t(),c(y,{key:1,"cta-is-hidden":"","data-testid":"label-list-loading-section"},{title:o(()=>[a("div",be,[g(b,{icon:"spinner",color:"rgba(0, 0, 0, 0.1)",size:"42"})]),ke]),_:1})):r("",!0),e.isEmpty&&!e.isLoading?(t(),c(y,{key:2,"cta-is-hidden":""},{title:o(()=>[a("div",we,[g(b,{class:"kong-icon--centered",icon:"warning",color:"var(--black-75)","secondary-color":"var(--yellow-300)",size:"42"})]),Ee]),_:1})):r("",!0),e.hasError?(t(),c(y,{key:3,"cta-is-hidden":""},{title:o(()=>[a("div",Be,[g(b,{class:"kong-icon--centered",icon:"warning",color:"var(--black-75)","secondary-color":"var(--yellow-300)",size:"42"})]),Le]),_:1})):r("",!0)])}const Te=w(me,[["render",Ce]]);export{Se as D,Te as L};
