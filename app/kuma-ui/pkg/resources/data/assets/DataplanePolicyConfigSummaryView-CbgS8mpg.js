import{d as S,r as n,p as y,o as t,w as o,b as c,c as a,N as s,L as m,e as p,q as $,l,m as V,a8 as z,t as f,Y as O,_ as R}from"./index-CVq6R7kv.js";import{P as Y}from"./PolicyTypeTag-Cz-PBEUE.js";const j={colspan:"2"},q=S({__name:"DataplanePolicyConfigSummaryView",props:{policies:{},policyTypesData:{}},setup(B){const X=B;return(v,e)=>{const _=n("XLayout"),D=n("XAction"),L=n("XCodeBlock"),T=n("XTable"),b=n("AppView"),x=n("DataCollection"),A=n("RouteView");return t(),y(A,{name:"data-plane-policy-config-summary-view",params:{inactive:Boolean,proxyType:"",connection:"",policy:""}},{default:o(({route:N})=>[c(x,{items:X.policies,predicate:d=>d.kind.toLocaleLowerCase()===N.params.policy},{default:o(({items:d})=>[(t(!0),a(s,null,m(d,({kind:r,conf:P,origins:k})=>(t(),y(b,{key:r},{title:o(()=>[c(_,{size:"small"},{default:o(()=>[l("h2",null,[c(Y,{"policy-type":r},{default:o(()=>[p(f(r),1)]),_:2},1032,["policy-type"])])]),_:2},1024)]),default:o(()=>{var w;return[e[5]||(e[5]=p()),(t(!0),a(s,null,m([Object.groupBy(((w=v.policyTypesData)==null?void 0:w.policyTypes)??[],({name:i})=>i)],i=>(t(),a(s,{key:`${typeof i}`},[k.length>0?(t(),y(T,{key:0,variant:"kv"},{default:o(()=>[l("tr",null,[e[0]||(e[0]=l("th",{scope:"row"},`
                  Origin policies
                `,-1)),e[1]||(e[1]=p()),l("td",null,[l("ul",null,[(t(!0),a(s,null,m(k,u=>(t(),a("li",{key:u.kri},[(t(!0),a(s,null,m([V(z).fromString(u.kri)],({mesh:C,name:g})=>(t(),a(s,{key:`${C}-${g}`},[i[r]?(t(),y(D,{key:0,to:{name:"policy-detail-view",params:{mesh:C,policyPath:i[r][0].path,policy:g}}},{default:o(()=>[p(f(u.kri),1)]),_:2},1032,["to"])):(t(),a(s,{key:1},[p(f(u.kri),1)],64))],64))),128))]))),128))])])]),e[4]||(e[4]=p()),l("tr",null,[l("td",j,[c(_,{type:"stack",size:"small"},{default:o(()=>[e[2]||(e[2]=l("span",null,"Config",-1)),e[3]||(e[3]=p()),c(L,{code:V(O).stringify(P),language:"yaml","show-copy-button":!1},null,8,["code"])]),_:2},1024)])])]),_:2},1024)):$("",!0)],64))),128))]}),_:2},1024))),128))]),_:1},8,["items","predicate"])]),_:1})}}}),I=R(q,[["__scopeId","data-v-59a88dbe"]]);export{I as default};
