import{d as T,r,p as m,o as n,w as e,b as s,e as l,O as X,c as h,L as y,M as _,t as c,m as v,a1 as q,K as Q,l as z,N as K,Y as S,_ as P}from"./index-Cm1uwdVF.js";const $=T({__name:"MeshMultiZoneServiceDetailView",props:{data:{}},setup(f){const p=f;return(j,i)=>{const R=r("KumaPort"),u=r("XLayout"),C=r("XBadge"),w=r("XAboutCard"),B=r("XCopyButton"),V=r("XAction"),E=r("DataCollection"),k=r("DataLoader"),b=r("XCard"),F=r("XSelect"),x=r("XCodeBlock"),L=r("AppView"),A=r("RouteView");return n(),m(A,{name:"mesh-multi-zone-service-detail-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,environment:String}},{default:e(({route:o,t:d,uri:D,me:g})=>[s(L,null,{default:e(()=>[s(u,{type:"stack"},{default:e(()=>[s(w,{title:d("services.mesh-multi-zone-service.about.title"),created:p.data.creationTime,modified:p.data.modificationTime},{default:e(()=>[s(X,{layout:"horizontal"},{title:e(()=>[l(c(d("http.api.property.ports")),1)]),body:e(()=>[p.data.spec.ports.length?(n(),m(u,{key:0,type:"separated",truncate:""},{default:e(()=>[(n(!0),h(y,null,_(p.data.spec.ports,a=>(n(),m(R,{key:a.port,port:{...a,targetPort:void 0}},null,8,["port"]))),128))]),_:1})):(n(),h(y,{key:1},[l(c(d("common.detail.none")),1)],64))]),_:2},1024),i[2]||(i[2]=l()),s(X,{layout:"horizontal"},{title:e(()=>[l(c(d("http.api.property.selector")),1)]),body:e(()=>[Object.keys(f.data.spec.selector.meshService.matchLabels??{}).length?(n(),m(u,{key:0,type:"separated",truncate:""},{default:e(()=>[(n(!0),h(y,null,_(f.data.spec.selector.meshService.matchLabels,(a,t)=>(n(),m(C,{key:`${t}:${a}`,appearance:"info"},{default:e(()=>[l(c(t)+":"+c(a),1)]),_:2},1024))),128))]),_:1})):(n(),h(y,{key:1},[l(c(d("common.detail.none")),1)],64))]),_:2},1024)]),_:2},1032,["title","created","modified"]),i[6]||(i[6]=l()),s(b,null,{title:e(()=>[l(c(d("services.detail.hostnames.title")),1)]),default:e(()=>[i[4]||(i[4]=l()),s(k,{src:D(v(q),"/meshes/:mesh/:serviceType/:serviceName/_hostnames",{mesh:o.params.mesh,serviceType:"meshmultizoneservices",serviceName:o.params.service}),variant:"list"},{default:e(({data:a})=>[s(E,{type:"hostnames",items:a.items},{default:e(()=>[s(Q,{type:"hostnames-collection","data-testid":"hostnames-collection",items:a.items,headers:[{...g.get("headers.hostname"),label:d("services.detail.hostnames.hostname"),key:"hostname"},{...g.get("headers.zones"),label:d("services.detail.hostnames.zone"),key:"zones"}],onResize:g.set},{hostname:e(({row:t})=>[z("b",null,[s(B,{text:t.hostname},null,8,["text"])])]),zones:e(({row:t})=>[s(u,{type:"separated"},{default:e(()=>[(n(!0),h(y,null,_(t.zones,(M,N)=>(n(),m(C,{key:N,appearance:"decorative"},{default:e(()=>[s(V,{to:{name:"zone-cp-detail-view",params:{zone:M.name}}},{default:e(()=>[l(c(M.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1024)]),_:1},8,["items","headers","onResize"])]),_:2},1032,["items"])]),_:2},1032,["src"])]),_:2},1024),i[7]||(i[7]=l()),s(b,null,{default:e(()=>[s(u,null,{default:e(()=>[s(u,{type:"separated",justify:"end"},{default:e(()=>[(n(),h(y,null,_([["universal","k8s"]],a=>z("div",{key:typeof a},[s(F,{label:d("services.routes.item.format"),selected:o.params.environment,onChange:t=>{o.update({environment:t})},onVnodeBeforeMount:t=>t?.props?.selected&&a.includes(t.props.selected)&&t.props.selected!==o.params.environment&&o.update({environment:t.props.selected})},K({_:2},[_(a,t=>({name:`${t}-option`,fn:e(()=>[l(c(d(`services.routes.item.formats.${t}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024),i[5]||(i[5]=l()),o.params.environment==="universal"?(n(),m(x,{key:0,"data-testid":"codeblock-yaml-universal",language:"yaml",code:v(S).stringify(p.data.config),"is-searchable":"",query:o.params.codeSearch,"is-filter-mode":o.params.codeFilter,"is-reg-exp-mode":o.params.codeRegExp,onQueryChange:a=>o.update({codeSearch:a}),onFilterModeChange:a=>o.update({codeFilter:a}),onRegExpModeChange:a=>o.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(n(),m(k,{key:1,src:`/meshes/${p.data.mesh}/mesh-multi-zone-service/${p.data.id}/as/kubernetes`},{default:e(({data:a})=>[s(x,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:v(S).stringify(a),"is-searchable":"",query:o.params.codeSearch,"is-filter-mode":o.params.codeFilter,"is-reg-exp-mode":o.params.codeRegExp,onQueryChange:t=>o.update({codeSearch:t}),onFilterModeChange:t=>o.update({codeFilter:t}),onRegExpModeChange:t=>o.update({codeRegExp:t})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1})}}}),Y=P($,[["__scopeId","data-v-b8020a19"]]);export{Y as default};
