import{d as T,r as n,p as u,o as e,w as o,b as y,c as a,N as i,L as m,e as l,q as S,l as s,O,m as g,t as _,Y as $,_ as z}from"./index-BEsZ2Mcw.js";import{P as K}from"./PolicyTypeTag-Bdi8ogG6.js";import{K as R}from"./kri-CjUta6FR.js";const Y={class:"mt-2"},j=T({__name:"DataplanePolicyConfigSummaryView",props:{policies:{},policyTypesData:{}},setup(V){const v=V;return(B,t)=>{const D=n("XLayout"),L=n("XAction"),X=n("XCodeBlock"),b=n("AppView"),x=n("DataCollection"),A=n("RouteView");return e(),u(A,{name:"data-plane-policy-config-summary-view",params:{inactive:Boolean,proxyType:"",connection:"",policy:""}},{default:o(({route:N})=>[y(x,{items:v.policies,predicate:d=>d.kind.toLocaleLowerCase()===N.params.policy},{default:o(({items:d})=>[(e(!0),a(i,null,m(d,({kind:r,conf:P,origins:f})=>(e(),u(b,{key:r},{title:o(()=>[y(D,{size:"small"},{default:o(()=>[s("h2",null,[y(K,{"policy-type":r},{default:o(()=>[l(_(r),1)]),_:2},1032,["policy-type"])])]),_:2},1024)]),default:o(()=>{var k;return[t[5]||(t[5]=l()),(e(!0),a(i,null,m([Object.groupBy(((k=B.policyTypesData)==null?void 0:k.policyTypes)??[],({name:p})=>p)],p=>(e(),a("div",{key:`${typeof p}`,class:"stack-with-borders"},[f.length>0?(e(),u(O,{key:0,layout:"horizontal"},{title:o(()=>t[0]||(t[0]=[l(`
                  Origin policies
                `,-1)])),body:o(()=>[s("ul",null,[(e(!0),a(i,null,m(f,c=>(e(),a("li",{key:c.kri},[(e(!0),a(i,null,m([g(R).fromString(c.kri)],({mesh:w,name:C})=>(e(),a(i,{key:`${w}-${C}`},[p[r]?(e(),u(L,{key:0,to:{name:"policy-detail-view",params:{mesh:w,policyPath:p[r][0].path,policy:C}}},{default:o(()=>[l(_(c.kri),1)]),_:2},1032,["to"])):(e(),a(i,{key:1},[l(_(c.kri),1)],64))],64))),128))]))),128))])]),_:2,__:[1]},1024)):S("",!0),t[4]||(t[4]=l()),s("div",null,[t[2]||(t[2]=s("dt",null,`
                  Config
                `,-1)),t[3]||(t[3]=l()),s("dd",Y,[s("div",null,[y(X,{code:g($).stringify(P),language:"yaml","show-copy-button":!1},null,8,["code"])])])])]))),128))]}),_:2,__:[5]},1024))),128))]),_:2},1032,["items","predicate"])]),_:1})}}}),I=z(j,[["__scopeId","data-v-283f686e"]]);export{I as default};
