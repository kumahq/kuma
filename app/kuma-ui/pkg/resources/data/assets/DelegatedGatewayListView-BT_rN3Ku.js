import{d as A,r as o,p as y,o as i,w as a,b as t,l as h,e as l,I as V,m as D,a1 as B,K as L,t as d,T as N,c as m,N as g,_ as P}from"./index-8QMKyk4n.js";const S=A({__name:"DelegatedGatewayListView",setup(G){return(R,p)=>{const f=o("XSearch"),_=o("XAction"),u=o("XCopyButton"),w=o("XActionGroup"),v=o("DataCollection"),C=o("DataLoader"),k=o("XLayout"),X=o("XCard"),b=o("AppView"),x=o("RouteView");return i(),y(x,{name:"delegated-gateway-list-view",params:{page:1,size:Number,mesh:"",s:""}},{default:a(({route:s,t:r,me:n,uri:z})=>[t(b,{docs:r("delegated-gateways.href.docs")},{default:a(()=>[t(X,null,{default:a(()=>[t(k,null,{default:a(()=>[h("search",null,[h("form",{onSubmit:p[0]||(p[0]=V(()=>{},["prevent"]))},[t(f,{class:"search-field",keys:["name"],value:s.params.s,onChange:c=>s.update({page:1,s:c})},null,8,["value","onChange"])],32)]),p[5]||(p[5]=l()),t(C,{src:z(D(B),"/meshes/:mesh/service-insights/of/:serviceType",{mesh:s.params.mesh,serviceType:"gateway_delegated"},{page:s.params.page,size:s.params.size,search:s.params.s}),variant:"list"},{default:a(({data:c})=>[t(v,{type:"gateways",items:c.items,page:s.params.page,"page-size":s.params.size,total:c.total,onChange:s.update},{default:a(()=>[t(L,{class:"delegated-gateway-collection","data-testid":"delegated-gateway-collection",headers:[{...n.get("headers.name"),label:"Name",key:"name"},{...n.get("headers.addressPort"),label:"Address",key:"addressPort"},{...n.get("headers.dataplanes"),label:"DP proxies (online / total)",key:"dataplanes"},{...n.get("headers.status"),label:"Status",key:"status"},{...n.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],items:c.items,onResize:n.set},{name:a(({row:e})=>[t(u,{text:e.name},{default:a(()=>[t(_,{to:{name:"delegated-gateway-detail-view",params:{mesh:e.mesh,service:e.name},query:{page:s.params.page,size:s.params.size}}},{default:a(()=>[l(d(e.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),addressPort:a(({row:e})=>[e.addressPort?(i(),y(u,{key:0,text:e.addressPort},null,8,["text"])):(i(),m(g,{key:1},[l(d(r("common.collection.none")),1)],64))]),dataplanes:a(({row:e})=>[e.dataplanes?(i(),m(g,{key:0},[l(d(e.dataplanes.online||0)+" / "+d(e.dataplanes.total||0),1)],64)):(i(),m(g,{key:1},[l(d(r("common.collection.none")),1)],64))]),status:a(({row:e})=>[t(N,{status:e.status},null,8,["status"])]),actions:a(({row:e})=>[t(w,null,{default:a(()=>[t(_,{to:{name:"delegated-gateway-detail-view",params:{mesh:e.mesh,service:e.name}}},{default:a(()=>[l(d(r("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1032,["headers","items","onResize"])]),_:2},1032,["items","page","page-size","total","onChange"])]),_:2},1032,["src"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["docs"])]),_:1})}}}),I=P(S,[["__scopeId","data-v-8a6c8bf8"]]);export{I as default};
