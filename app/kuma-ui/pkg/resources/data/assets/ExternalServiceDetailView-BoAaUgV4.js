import{d as B,r as n,p as m,o as c,w as t,b as s,l as u,m as p,ag as C,e as d,q as F,O as v,t as g,c as w,N as L,L as k,M as q,Y as b}from"./index-CkXLkVEV.js";import{T as A}from"./TagList-CqQdyvXW.js";const D={class:"stack"},Y=B({__name:"ExternalServiceDetailView",setup(N){return(T,r)=>{const M=n("XCopyButton"),X=n("XAboutCard"),E=n("XSelect"),_=n("XLayout"),f=n("XCodeBlock"),y=n("DataLoader"),R=n("XCard"),S=n("AppView"),V=n("RouteView");return c(),m(V,{name:"external-service-detail-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,environment:String}},{default:t(({route:e,t:i,uri:h})=>[s(S,null,{default:t(()=>[u("div",D,[s(y,{src:h(p(C),"/meshes/:mesh/external-services/:name",{mesh:e.params.mesh,name:e.params.service})},{default:t(({data:l})=>[s(X,{"data-testid":"external-service-details",title:i("external-services.detail.about.title"),created:l.creationTime,modified:l.modificationTime},{default:t(()=>[s(v,{layout:"horizontal"},{title:t(()=>[d(g(i("http.api.property.address")),1)]),body:t(()=>[s(M,{variant:"badge",format:"default",text:l.networking.address},null,8,["text"])]),_:2,__:[0]},1024),r[2]||(r[2]=d()),l.tags?(c(),m(v,{key:0,layout:"horizontal"},{title:t(()=>[d(g(i("http.api.property.tags")),1)]),body:t(()=>[s(A,{tags:l.tags,"should-truncate":""},null,8,["tags"])]),_:2,__:[1]},1024)):F("",!0)]),_:2,__:[2]},1032,["title","created","modified"]),r[5]||(r[5]=d()),s(R,null,{title:t(()=>[u("h3",null,g(i("external-services.detail.config")),1)]),default:t(()=>[r[4]||(r[4]=d()),s(_,null,{default:t(()=>[s(_,{type:"separated",justify:"end"},{default:t(()=>[(c(),w(L,null,k([["universal","k8s"]],o=>u("div",{key:typeof o},[s(E,{label:i("external-services.routes.item.format"),selected:e.params.environment,onChange:a=>{e.update({environment:a})},onVnodeBeforeMount:a=>{var x;return((x=a==null?void 0:a.props)==null?void 0:x.selected)&&o.includes(a.props.selected)&&a.props.selected!==e.params.environment&&e.update({environment:a.props.selected})}},q({_:2},[k(o,a=>({name:`${a}-option`,fn:t(()=>[d(g(i(`external-services.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024),r[3]||(r[3]=d()),e.params.environment==="universal"?(c(),m(f,{key:0,"data-testid":"codeblock-yaml-universal",language:"yaml",code:p(b).stringify(l.config),"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:o=>e.update({codeSearch:o}),onFilterModeChange:o=>e.update({codeFilter:o}),onRegExpModeChange:o=>e.update({codeRegExp:o})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(c(),m(y,{key:1,src:h(p(C),"/meshes/:mesh/external-services/:name/as/kubernetes",{mesh:e.params.mesh,name:e.params.service})},{default:t(({data:o})=>[s(f,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:p(b).stringify(o),"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:a=>e.update({codeSearch:a}),onFilterModeChange:a=>e.update({codeFilter:a}),onRegExpModeChange:a=>e.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2,__:[3]},1024)]),_:2,__:[4]},1024)]),_:2,__:[5]},1032,["src"])])]),_:2},1024)]),_:1})}}});export{Y as default};
