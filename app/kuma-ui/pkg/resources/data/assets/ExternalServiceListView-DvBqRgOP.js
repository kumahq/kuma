import{d as h,h as l,o as r,a as i,w as e,j as s,k as c,T as w,C as z,X as x,t as p,b as C,F as S,z as g,M as V,e as b,A as E}from"./index-ChTNn-OB.js";import{e as R}from"./kong-icons.es249-CTaCOXIv.js";const A=h({__name:"ExternalServiceListView",setup(L){return(N,B)=>{const k=l("RouteTitle"),d=l("RouterLink"),v=l("KCard"),f=l("AppView"),_=l("DataSource"),y=l("RouteView");return r(),i(_,{src:"/me"},{default:e(({data:u})=>[u?(r(),i(y,{key:0,name:"external-service-list-view",params:{page:1,size:u.pageSize,mesh:""}},{default:e(({route:a,t:n})=>[s(_,{src:`/meshes/${a.params.mesh}/external-services?page=${a.params.page}&size=${a.params.size}`},{default:e(({data:o,error:m})=>[s(k,{render:!1,title:n("external-services.routes.items.title")},null,8,["title"]),c(),s(f,null,{default:e(()=>[s(v,null,{default:e(()=>[m!==void 0?(r(),i(w,{key:0,error:m},null,8,["error"])):(r(),i(z,{key:1,class:"external-service-collection","data-testid":"external-service-collection","empty-state-message":n("common.emptyState.message",{type:"External Services"}),"empty-state-cta-to":n("external-services.href.docs"),"empty-state-cta-text":n("common.documentation"),headers:[{label:"Name",key:"name"},{label:"Address",key:"address"},{label:"Details",key:"details",hideLabel:!0}],"page-number":a.params.page,"page-size":a.params.size,total:o==null?void 0:o.total,items:o==null?void 0:o.items,error:m,onChange:a.update},{name:e(({row:t})=>[s(x,{text:t.name},{default:e(()=>[s(d,{to:{name:"external-service-detail-view",params:{mesh:t.mesh,service:t.name},query:{page:a.params.page,size:a.params.size}}},{default:e(()=>[c(p(t.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),address:e(({row:t})=>[t.networking.address?(r(),i(x,{key:0,text:t.networking.address},null,8,["text"])):(r(),C(S,{key:1},[c(p(n("common.collection.none")),1)],64))]),details:e(({row:t})=>[s(d,{class:"details-link","data-testid":"details-link",to:{name:"external-service-detail-view",params:{mesh:t.mesh,service:t.name}}},{default:e(()=>[c(p(n("common.collection.details_link"))+" ",1),s(g(R),{decorative:"",size:g(V)},null,8,["size"])]),_:2},1032,["to"])]),_:2},1032,["empty-state-message","empty-state-cta-to","empty-state-cta-text","page-number","page-size","total","items","error","onChange"]))]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])]),_:2},1032,["params"])):b("",!0)]),_:1})}}}),T=E(A,[["__scopeId","data-v-4343b8c2"]]);export{T as default};
