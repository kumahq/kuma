import{d as G,v as H,r as o,o as d,p as V,w as a,b as t,m as R,Z as B,R as L,e as n,l as u,$ as Q,t as _,c as f,J as S,K as A,q as h,F as W,_ as Y}from"./index-Ds8TyCyC.js";const ee=["onSubmit"],ae=["disabled"],te={key:0},oe={key:0},ne=G({__name:"DataPlaneDetailTabsView",props:{mesh:{}},setup(P){const N=P,m=H({eds:!1,xds:!1,dataplane:!1,clusters:!1,stats:!1}),U=async w=>{const e=document.createElement("a");e.download=w.name,e.href=w.url,setTimeout(()=>{window.URL.revokeObjectURL(e.href)},6e4),await Promise.resolve(),e.click()};return(w,e)=>{const g=o("RouteTitle"),E=o("XCopyButton"),b=o("XAction"),C=o("XI18n"),y=o("XCheckbox"),$=o("XAlert"),x=o("DataLoader"),I=o("XLayout"),M=o("XModal"),D=o("XDisclosure"),F=o("XTeleportTemplate"),J=o("XTabs"),O=o("RouterView"),j=o("AppView"),q=o("DataSource"),K=o("RouteView");return d(),V(K,{name:"data-plane-detail-tabs-view",params:{mesh:"",dataPlane:""}},{default:a(({route:s,t:r,uri:T})=>[t(q,{src:T(R(B),"/meshes/:mesh/dataplane-overviews/:name",{mesh:s.params.mesh,name:s.params.dataPlane})},{default:a(({data:p,error:Z})=>[t(j,{breadcrumbs:[{to:{name:"mesh-detail-view",params:{mesh:s.params.mesh}},text:s.params.mesh},{to:{name:"data-plane-list-view",params:{mesh:s.params.mesh}},text:r("data-planes.routes.item.breadcrumbs")}]},L({actions:a(()=>[t(D,null,{default:a(({expanded:c,toggle:l})=>[t(b,{appearance:"primary",onClick:l},{default:a(()=>e[1]||(e[1]=[n(`
              Download Bundle
            `)])),_:2},1032,["onClick"]),e[6]||(e[6]=n()),c?(d(),V(F,{key:0,to:{name:"modal-layer"}},{default:a(()=>[t(D,null,{default:a(({expanded:v,toggle:k})=>[u("form",{onSubmit:Q(k,["prevent"])},[t(M,{title:r("data-planes.routes.item.download.title"),onCancel:l},{"footer-actions":a(()=>[t(I,{type:"separated"},{default:a(()=>[t(x,{variant:"spinner",src:v?T(R(B),"/meshes/:mesh/dataplanes/:name/as/tarball/:spec",{mesh:s.params.mesh,name:s.params.dataPlane,spec:JSON.stringify(m.value)},{cacheControl:"no-cache"}):"",onChange:U,onError:k},{error:a(()=>[t($,{appearance:"warning","show-icon":""},{default:a(()=>[t(C,{t:"data-planes.routes.item.download.error"})]),_:1})]),_:2},1032,["src","onError"]),e[4]||(e[4]=n()),t(b,{appearance:"primary",type:"submit",disabled:v},{default:a(()=>[n(_(r("data-planes.routes.item.download.action")),1)]),_:2},1032,["disabled"])]),_:2},1024)]),default:a(()=>[u("fieldset",{disabled:v},[t(C,{t:"data-planes.routes.item.download.description"}),e[3]||(e[3]=n()),u("ul",null,[(d(!0),f(S,null,A(m.value,(z,i)=>(d(),f(S,{key:typeof z},[i!=="eds"?(d(),f("li",te,[t(y,{modelValue:m.value[i],"onUpdate:modelValue":X=>m.value[i]=X},{default:a(()=>[n(_(r(`data-planes.routes.item.download.options.${i}`)),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]),e[2]||(e[2]=n()),i==="xds"?(d(),f("ul",oe,[u("li",null,[t(y,{modelValue:m.value.eds,"onUpdate:modelValue":e[0]||(e[0]=X=>m.value.eds=X)},{default:a(()=>[n(_(r("data-planes.routes.item.download.options.eds")),1)]),_:2},1032,["modelValue"])])])):h("",!0)])):h("",!0)],64))),128))])],8,ae),e[5]||(e[5]=n())]),_:2},1032,["title","onCancel"])],40,ee)]),_:2},1024)]),_:2},1024)):h("",!0)]),_:2},1024)]),default:a(()=>[e[8]||(e[8]=n()),e[9]||(e[9]=n()),t(x,{data:[p],errors:[Z]},{default:a(()=>{var c;return[t(J,{selected:(c=s.child())==null?void 0:c.name},L({_:2},[A(s.children,({name:l})=>({name:`${l}-tab`,fn:a(()=>[t(b,{to:{name:l}},{default:a(()=>[n(_(r(`data-planes.routes.item.navigation.${l}`)),1)]),_:2},1032,["to"])])}))]),1032,["selected"]),e[7]||(e[7]=n()),t(O,null,{default:a(l=>[(d(),V(W(l.Component),{data:p,mesh:N.mesh},null,8,["data","mesh"]))]),_:2},1024)]}),_:2},1032,["data","errors"])]),_:2},[p?{name:"title",fn:a(()=>[u("h1",null,[t(E,{text:p.name},{default:a(()=>[t(g,{title:r("data-planes.routes.item.title",{name:p.name})},null,8,["title"])]),_:2},1032,["text"])])]),key:"0"}:void 0]),1032,["breadcrumbs"])]),_:2},1032,["src"])]),_:1})}}}),le=Y(ne,[["__scopeId","data-v-b653b62c"]]);export{le as default};
