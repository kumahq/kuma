import{d as F,r as n,p as l,o as d,w as s,b as t,e as m,c as M,L as R,M as g,l as E,N as S,t as V,m as b,F as v}from"./index-CighNsQT.js";const X=F({__name:"PolicyDetailConfigView",props:{data:{}},setup(u){const h=u;return(w,c)=>{const y=n("XSelect"),r=n("XLayout"),p=n("XCodeBlock"),f=n("DataLoader"),_=n("XCard"),C=n("AppView"),x=n("RouteView");return d(),l(x,{name:"policy-detail-config-view",params:{mesh:"",policy:"",policyPath:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,environment:String}},{default:s(({route:e,uri:k,t:i})=>[t(C,null,{default:s(()=>[t(_,null,{default:s(()=>[t(r,null,{default:s(()=>[t(r,{type:"separated",justify:"end"},{default:s(()=>[(d(),M(R,null,g([["universal","k8s"]],o=>E("div",{key:typeof o},[t(y,{label:i("policies.routes.item.format"),selected:e.params.environment,onChange:a=>{e.update({environment:a})},onVnodeBeforeMount:a=>a?.props?.selected&&o.includes(a.props.selected)&&a.props.selected!==e.params.environment&&e.update({environment:a.props.selected})},S({_:2},[g(o,a=>({name:`${a}-option`,fn:s(()=>[m(V(i(`policies.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024),c[0]||(c[0]=m()),e.params.environment==="universal"?(d(),l(p,{key:0,"data-testid":"codeblock-yaml-universal",language:"yaml",code:h.data.yaml,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:o=>e.update({codeSearch:o}),onFilterModeChange:o=>e.update({codeFilter:o}),onRegExpModeChange:o=>e.update({codeRegExp:o})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(d(),l(f,{key:1,src:k(b(v),"/meshes/:mesh/policy-path/:path/policy/:name/as/kubernetes",{mesh:e.params.mesh,path:e.params.policyPath,name:e.params.policy})},{default:s(({data:o})=>[t(p,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:o,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:a=>e.update({codeSearch:a}),onFilterModeChange:a=>e.update({codeFilter:a}),onRegExpModeChange:a=>e.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1})}}});export{X as default};
