import{d as A,r as n,p as y,o as p,w as a,b as s,l as h,e as c,I as V,m as D,af as B,K as L,t as i,S,c as m,N as _,_ as N}from"./index-Cj2OFF4l.js";const P=A({__name:"DelegatedGatewayListView",setup(G){return(R,d)=>{const f=n("XSearch"),g=n("XAction"),u=n("XCopyButton"),w=n("XActionGroup"),v=n("DataCollection"),C=n("DataLoader"),k=n("XLayout"),X=n("XCard"),b=n("AppView"),x=n("RouteView");return p(),y(x,{name:"delegated-gateway-list-view",params:{page:1,size:Number,mesh:"",s:""}},{default:a(({route:t,t:r,me:l,uri:z})=>[s(b,{docs:r("delegated-gateways.href.docs")},{default:a(()=>[s(X,null,{default:a(()=>[s(k,null,{default:a(()=>[h("search",null,[h("form",{onSubmit:d[0]||(d[0]=V(()=>{},["prevent"]))},[s(f,{class:"search-field",keys:["name"],value:t.params.s,onChange:o=>t.update({page:1,s:o})},null,8,["value","onChange"])],32)]),d[5]||(d[5]=c()),s(C,{src:z(D(B),"/meshes/:mesh/service-insights/of/:serviceType",{mesh:t.params.mesh,serviceType:"gateway_delegated"},{page:t.params.page,size:t.params.size,search:t.params.s})},{loadable:a(({data:o})=>[s(v,{type:"gateways",items:(o==null?void 0:o.items)??[void 0],page:t.params.page,"page-size":t.params.size,total:o==null?void 0:o.total,onChange:t.update},{default:a(()=>[s(L,{class:"delegated-gateway-collection","data-testid":"delegated-gateway-collection",headers:[{...l.get("headers.name"),label:"Name",key:"name"},{...l.get("headers.addressPort"),label:"Address",key:"addressPort"},{...l.get("headers.dataplanes"),label:"DP proxies (online / total)",key:"dataplanes"},{...l.get("headers.status"),label:"Status",key:"status"},{...l.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],items:o==null?void 0:o.items,onResize:l.set},{name:a(({row:e})=>[s(u,{text:e.name},{default:a(()=>[s(g,{to:{name:"delegated-gateway-detail-view",params:{mesh:e.mesh,service:e.name},query:{page:t.params.page,size:t.params.size}}},{default:a(()=>[c(i(e.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),addressPort:a(({row:e})=>[e.addressPort?(p(),y(u,{key:0,text:e.addressPort},null,8,["text"])):(p(),m(_,{key:1},[c(i(r("common.collection.none")),1)],64))]),dataplanes:a(({row:e})=>[e.dataplanes?(p(),m(_,{key:0},[c(i(e.dataplanes.online||0)+" / "+i(e.dataplanes.total||0),1)],64)):(p(),m(_,{key:1},[c(i(r("common.collection.none")),1)],64))]),status:a(({row:e})=>[s(S,{status:e.status},null,8,["status"])]),actions:a(({row:e})=>[s(w,null,{default:a(()=>[s(g,{to:{name:"delegated-gateway-detail-view",params:{mesh:e.mesh,service:e.name}}},{default:a(()=>[c(i(r("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2,__:[1,2,3,4]},1032,["headers","items","onResize"])]),_:2},1032,["items","page","page-size","total","onChange"])]),_:2},1032,["src"])]),_:2,__:[5]},1024)]),_:2},1024)]),_:2},1032,["docs"])]),_:1})}}}),I=N(P,[["__scopeId","data-v-178dedfa"]]);export{I as default};
