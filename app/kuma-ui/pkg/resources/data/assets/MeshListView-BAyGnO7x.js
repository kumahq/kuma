import{d as S,P as x,p as c,o as d,w as e,b as a,r as t,e as i,q as f,m as h,l as u,I as B,K as M,t as p,H as N,_ as I}from"./index-8QMKyk4n.js";const q=S({__name:"MeshListView",setup(G){const _=x();return(H,n)=>{const w=t("RouteTitle"),v=t("XI18n"),y=t("XTeleportTemplate"),C=t("XSearch"),g=t("XAction"),X=t("DataCollection"),z=t("DataLoader"),V=t("XLayout"),k=t("XCard"),T=t("AppView"),b=t("DataSource"),A=t("RouteView");return d(),c(A,{name:"mesh-list-view",params:{page:1,size:Number,mesh:"",s:""}},{default:e(({route:o,t:r,me:m,uri:D})=>[a(b,{src:D(h(N),"/mesh-insights",{},{page:o.params.page,size:o.params.size,search:o.params.s})},{default:e(({data:l,error:L,refresh:R})=>[a(T,{docs:l?.items.length?r("meshes.href.docs"):""},{title:e(()=>[u("h1",null,[a(w,{title:r("meshes.routes.items.title")},null,8,["title"])])]),default:e(()=>[n[5]||(n[5]=i()),l?.items.length?(d(),c(v,{key:0,path:"meshes.routes.items.intro","default-path":"common.i18n.ignore-error"})):f("",!0),n[6]||(n[6]=i()),(l?.items??[]).length>0?(d(),c(y,{key:1,to:{name:"mesh-list-view-actions"}},{default:e(()=>[a(h(_))]),_:1})):f("",!0),n[7]||(n[7]=i()),a(k,null,{default:e(()=>[a(V,null,{default:e(()=>[u("search",null,[u("form",{onSubmit:n[0]||(n[0]=B(()=>{},["prevent"]))},[a(C,{class:"search-field",keys:["name"],value:o.params.s,onChange:s=>o.update({page:1,s})},null,8,["value","onChange"])],32)]),n[4]||(n[4]=i()),a(z,{data:[l],errors:[L],variant:"list"},{default:e(()=>[a(X,{type:"meshes",items:l?.items??[void 0],page:o.params.page,"page-size":o.params.size,total:l?.total,onChange:o.update},{default:e(()=>[a(M,{class:"mesh-collection","data-testid":"mesh-collection",headers:[{...m.get("headers.name"),label:r("meshes.common.name"),key:"name"},{...m.get("headers.services"),label:r("meshes.routes.items.collection.services"),key:"services"},{...m.get("headers.dataplanes"),label:r("meshes.routes.items.collection.dataplanes"),key:"dataplanes"},{...m.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],items:l?.items,"is-selected-row":s=>s.name===o.params.mesh,onResize:m.set},{name:e(({row:s})=>[a(g,{"data-action":"",to:{name:"mesh-detail-view",params:{mesh:s.name},query:{page:o.params.page,size:o.params.size}}},{default:e(()=>[i(p(s.name),1)]),_:2},1032,["to"])]),services:e(({row:s})=>[i(p(s.services.internal),1)]),dataplanes:e(({row:s})=>[i(p(s.dataplanesByType.standard.online)+" / "+p(s.dataplanesByType.standard.total),1)]),actions:e(({row:s})=>[a(h(_),{item:s,onChange:R},{default:e(()=>[a(g,{to:{name:"mesh-detail-view",params:{mesh:s.name}}},{default:e(()=>[i(p(r("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1032,["item","onChange"])]),_:2},1032,["headers","items","is-selected-row","onResize"])]),_:2},1032,["items","page","page-size","total","onChange"])]),_:2},1032,["data","errors"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["docs"])]),_:2},1032,["src"])]),_:1})}}}),P=I(q,[["__scopeId","data-v-4c0f1898"]]);export{P as default};
