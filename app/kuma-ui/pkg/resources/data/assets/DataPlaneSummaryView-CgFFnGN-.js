import{d as A,e as u,o as i,m,w as e,a as s,k as r,t as o,b as a,c as y,H as v,J as w,n as K,P as d,S as X,l as c,a0 as E,K as I,p as g,$ as z,q as L}from"./index-DFND9Fci.js";import{q as O}from"./kong-icons.es678-Df_Ec1MT.js";import{T as b}from"./TagList-B8-MTeaC.js";const U={class:"stack"},q={class:"stack-with-borders"},Z={class:"status-with-reason"},F={key:0},G={class:"mt-4"},H={class:"stack-with-borders"},J={class:"mt-4 stack"},j={class:"mt-2 stack-with-borders"},M=A({__name:"DataPlaneSummaryView",props:{items:{}},setup(C){const P=C;return(Q,t)=>{const D=u("XEmptyState"),V=u("RouteTitle"),T=u("XAction"),R=u("KTooltip"),f=u("DataCollection"),x=u("XBadge"),$=u("AppView"),B=u("RouteView");return i(),m(B,{name:"data-plane-summary-view",params:{dataPlane:""}},{default:e(({t:n,route:S,can:N})=>[s(f,{items:P.items,predicate:k=>k.id===S.params.dataPlane,find:!0},{empty:e(()=>[s(D,null,{title:e(()=>[r("h2",null,o(n("common.collection.summary.empty_title",{type:"Data Plane Proxy"})),1)]),default:e(()=>[t[0]||(t[0]=a()),r("p",null,o(n("common.collection.summary.empty_message",{type:"Data Plane Proxy"})),1)]),_:2},1024)]),default:e(({items:k})=>[(i(!0),y(v,null,w([k[0]],l=>(i(),m($,{key:l.id},{title:e(()=>[r("h2",{class:K(`type-${l.dataplaneType}`)},[s(T,{to:{name:"data-plane-detail-view",params:{dataPlane:l.id}}},{default:e(()=>[s(V,{title:n("data-planes.routes.item.title",{name:l.name})},null,8,["title"])]),_:2},1032,["to"])],2)]),default:e(()=>[t[27]||(t[27]=a()),r("div",U,[r("div",q,[s(d,{layout:"horizontal"},{title:e(()=>[a(o(n("http.api.property.status")),1)]),body:e(()=>[r("div",Z,[s(X,{status:l.status},null,8,["status"]),t[2]||(t[2]=a()),l.dataplaneType==="standard"?(i(),m(f,{key:0,items:l.dataplane.networking.inbounds,predicate:_=>_.state!=="Ready",empty:!1},{default:e(({items:_})=>[s(R,{class:"reason-tooltip"},{content:e(()=>[r("ul",null,[(i(!0),y(v,null,w(_,p=>(i(),y("li",{key:`${p.service}:${p.port}`},o(n("data-planes.routes.item.unhealthy_inbound",{service:p.service,port:p.port})),1))),128))])]),default:e(()=>[s(c(O),{color:c(E),size:c(I)},null,8,["color","size"]),t[1]||(t[1]=a())]),_:2},1024)]),_:2},1032,["items","predicate"])):g("",!0)])]),_:2},1024),t[10]||(t[10]=a()),s(d,{layout:"horizontal"},{title:e(()=>t[4]||(t[4]=[a(`
                    Type
                  `)])),body:e(()=>[a(o(n(`data-planes.type.${l.dataplaneType}`)),1)]),_:2},1024),t[11]||(t[11]=a()),l.namespace.length>0?(i(),m(d,{key:0,layout:"horizontal"},{title:e(()=>[a(o(n("data-planes.routes.item.namespace")),1)]),body:e(()=>[a(o(l.namespace),1)]),_:2},1024)):g("",!0),t[12]||(t[12]=a()),N("use zones")&&l.zone?(i(),m(d,{key:1,layout:"horizontal"},{title:e(()=>t[7]||(t[7]=[a(`
                    Zone
                  `)])),body:e(()=>[s(T,{to:{name:"zone-cp-detail-view",params:{zone:l.zone}}},{default:e(()=>[a(o(l.zone),1)]),_:2},1032,["to"])]),_:2},1024)):g("",!0),t[13]||(t[13]=a()),s(d,{layout:"horizontal"},{title:e(()=>[a(o(n("data-planes.routes.item.last_updated")),1)]),body:e(()=>[a(o(n("common.formats.datetime",{value:Date.parse(l.modificationTime)})),1)]),_:2},1024)]),t[25]||(t[25]=a()),l.dataplane.networking.gateway?(i(),y("div",F,[r("h3",null,o(n("data-planes.routes.item.gateway")),1),t[17]||(t[17]=a()),r("div",G,[r("div",H,[s(d,{layout:"horizontal"},{title:e(()=>[a(o(n("http.api.property.tags")),1)]),body:e(()=>[s(b,{alignment:"right",tags:l.dataplane.networking.gateway.tags},null,8,["tags"])]),_:2},1024),t[16]||(t[16]=a()),s(d,{layout:"horizontal"},{title:e(()=>[a(o(n("http.api.property.address")),1)]),body:e(()=>[s(z,{text:`${l.dataplane.networking.address}`},null,8,["text"])]),_:2},1024)])])])):g("",!0),t[26]||(t[26]=a()),l.dataplaneType==="standard"?(i(),m(f,{key:1,items:l.dataplane.networking.inbounds},{default:e(({items:_})=>[r("div",null,[r("h3",null,o(n("data-planes.routes.item.inbounds")),1),t[24]||(t[24]=a()),r("div",J,[(i(!0),y(v,null,w(_,(p,h)=>(i(),y("div",{key:h,class:"inbound"},[r("h4",null,[s(z,{text:p.tags["kuma.io/service"]},{default:e(()=>[a(o(n("data-planes.routes.item.inbound_name",{service:p.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])]),t[23]||(t[23]=a()),r("div",j,[s(d,{layout:"horizontal"},{title:e(()=>[a(o(n("http.api.property.state")),1)]),body:e(()=>[p.state==="Ready"?(i(),m(x,{key:0,appearance:"success"},{default:e(()=>[a(o(n(`http.api.value.${p.state}`)),1)]),_:2},1024)):(i(),m(x,{key:1,appearance:"danger"},{default:e(()=>[a(o(n(`http.api.value.${p.state}`)),1)]),_:2},1024))]),_:2},1024),t[21]||(t[21]=a()),s(d,{layout:"horizontal"},{title:e(()=>[a(o(n("http.api.property.tags")),1)]),body:e(()=>[s(b,{alignment:"right",tags:p.tags},null,8,["tags"])]),_:2},1024),t[22]||(t[22]=a()),s(d,{layout:"horizontal"},{title:e(()=>[a(o(n("http.api.property.address")),1)]),body:e(()=>[s(z,{text:p.addressPort},null,8,["text"])]),_:2},1024)])]))),128))])])]),_:2},1032,["items"])):g("",!0)])]),_:2},1024))),128))]),_:2},1032,["items","predicate"])]),_:1})}}}),et=L(M,[["__scopeId","data-v-915b988c"]]);export{et as default};
