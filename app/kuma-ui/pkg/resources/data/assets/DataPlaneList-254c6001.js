var Ke=Object.defineProperty;var Me=(e,n,t)=>n in e?Ke(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var ee=(e,n,t)=>(Me(e,typeof n!="symbol"?n+"":n,t),t);import{d as ue,r as I,m as A,s as J,o as c,f as _,e as v,b as o,a as C,u as F,y as Be,t as P,U as Ae,V as Re,N as Ce,F as M,k as R,g as K,h as je,Q as ze,p as de,j as ce,A as Ee,W as De,z as xe,B as qe,v as He,c as B,w as D,M as Se,E as Qe,G as Ge,X as Je,Y as Ze,K as Ye,H as We,Z as Xe,J as et,C as Pe,_ as tt}from"./index-2aa994fe.js";import{l as te,Z as at,B as nt,J as st,T as lt}from"./kongponents.es-7e228e6a.js";import{C as ot}from"./ContentWrapper-358295f8.js";import{D as it}from"./DataOverview-447fda19.js";import{_ as rt}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-d8e16f78.js";import{_ as pe,u as ut,g as dt,m as ct,b as pt}from"./RouteView.vue_vue_type_script_setup_true_lang-49cffe7a.js";import{a as z,D as re}from"./DefinitionListItem-7bd1502c.js";import{_ as ft}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-0bfb6b79.js";import{S as mt}from"./StatusBadge-174a2d36.js";import{T as vt}from"./TagList-7d4ec55b.js";import{T as gt}from"./TextWithCopyButton-71e1d5a6.js";import{Q as q}from"./QueryParameter-70743f73.js";const Ie=[{key:"status",label:"Status"},{key:"entity",label:"Name"},{key:"type",label:"Type"},{key:"service",label:"Service"},{key:"protocol",label:"Protocol"},{key:"zone",label:"Zone"},{key:"lastConnected",label:"Last Connected"},{key:"lastUpdated",label:"Last Updated"},{key:"totalUpdates",label:"Total Updates"},{key:"dpVersion",label:"Kuma DP version"},{key:"envoyVersion",label:"Envoy version"}],yt=["entity"],ht=Ie.filter(e=>!yt.includes(e.key)).map(e=>({tableHeaderKey:e.key,label:e.label,isChecked:!1})),Oe=["status","entity","type","service","protocol","zone","lastUpdated","dpVersion"];function _t(e,n=Oe){return Ie.filter(t=>n.includes(t.key)?e?!0:t.key!=="zone":!1)}function bt(e,n,t){return Math.max(n,Math.min(e,t))}const kt=["ControlLeft","ControlRight","ShiftLeft","ShiftRight","AltLeft"];class wt{constructor(n,t){ee(this,"commands");ee(this,"keyMap");ee(this,"boundTriggerShortcuts");this.commands=t,this.keyMap=Object.fromEntries(Object.entries(n).map(([w,r])=>[w.toLowerCase(),r])),this.boundTriggerShortcuts=this.triggerShortcuts.bind(this)}registerListener(){document.addEventListener("keydown",this.boundTriggerShortcuts)}unRegisterListener(){document.removeEventListener("keydown",this.boundTriggerShortcuts)}triggerShortcuts(n){Tt(n,this.keyMap,this.commands)}}function Tt(e,n,t){const w=Ct(e.code),r=[e.ctrlKey?"ctrl":"",e.shiftKey?"shift":"",e.altKey?"alt":"",w].filter(m=>m!=="").join("+"),u=n[r];if(!u)return;const h=t[u];h.isAllowedContext&&!h.isAllowedContext(e)||(h.shouldPreventDefaultAction&&e.preventDefault(),!(h.isDisabled&&h.isDisabled())&&h.trigger(e))}function Ct(e){return kt.includes(e)?"":e.replace(/^Key/,"").toLowerCase()}function Dt(e,n){const t=" "+e,w=t.matchAll(/ ([-\s\w]+):\s*/g),r=[];for(const u of Array.from(w)){if(u.index===void 0)continue;const h=St(u[1]);if(n.length>0&&!n.includes(h))throw new Error(`Unknown field “${h}”. Known fields: ${n.join(", ")}`);const m=u.index+u[0].length,T=t.substring(m);let S;if(/^\s*["']/.test(T)){const p=T.match(/['"](.*?)['"]/);if(p!==null)S=p[1];else throw new Error(`Quote mismatch for field “${h}”.`)}else{const p=T.indexOf(" "),g=p===-1?T.length:p;S=T.substring(0,g)}S!==""&&r.push([h,S])}return r}function St(e){return e.trim().replace(/\s+/g,"-").replace(/-[a-z]/g,(n,t)=>t===0?n:n.substring(1).toUpperCase())}const Ue=e=>(de("data-v-2fcde9ea"),e=e(),ce(),e),Pt=Ue(()=>v("span",{class:"visually-hidden"},"Focus filter",-1)),At=["for"],Et=["id","placeholder"],xt={key:0,class:"k-suggestion-box","data-testid":"k-filter-bar-suggestion-box"},It={class:"k-suggestion-list"},Ot={key:0,class:"k-filter-bar-error"},Ut={key:0},Vt=["title","data-filter-field"],Nt={class:"visually-hidden"},$t=Ue(()=>v("span",{class:"visually-hidden"},"Clear query",-1)),Ft=ue({__name:"KFilterBar",props:{id:{type:String,required:!0},fields:{type:Object,required:!0},placeholder:{type:String,required:!1,default:null},query:{type:String,required:!1,default:""}},emits:["fields-change"],setup(e,{emit:n}){const t=e,w=I(null),r=I(null),u=I(t.query),h=I([]),m=I(null),T=I(!1),S=I(-1),O=A(()=>Object.keys(t.fields)),p=A(()=>Object.entries(t.fields).slice(0,5).map(([a,l])=>({fieldName:a,...l}))),g=A(()=>O.value.length>0?`Filter by ${O.value.join(", ")}`:"Filter"),y=A(()=>t.placeholder??g.value);J(()=>h.value,function(a,l){i(a,l)||(m.value=null,n("fields-change",{fields:a,query:u.value}))}),J(()=>u.value,function(){u.value===""&&(m.value=null),T.value=!0});const b={Enter:"submitQuery",Escape:"closeSuggestionBox",ArrowDown:"jumpToNextSuggestion",ArrowUp:"jumpToPreviousSuggestion"},k={submitQuery:{trigger:E,isAllowedContext(a){return r.value!==null&&a.composedPath().includes(r.value)},shouldPreventDefaultAction:!0},jumpToNextSuggestion:{trigger:L,isAllowedContext(a){return r.value!==null&&a.composedPath().includes(r.value)},shouldPreventDefaultAction:!0},jumpToPreviousSuggestion:{trigger:H,isAllowedContext(a){return r.value!==null&&a.composedPath().includes(r.value)},shouldPreventDefaultAction:!0},closeSuggestionBox:{trigger:G,isAllowedContext(a){return w.value!==null&&a.composedPath().includes(w.value)}}};function N(){const a=new wt(b,k);je(function(){a.registerListener()}),ze(function(){a.unRegisterListener()}),s(u.value)}N();function U(a){const l=a.target;s(l.value)}function E(){if(r.value instanceof HTMLInputElement)if(S.value===-1)s(r.value.value),T.value=!1;else{const a=p.value[S.value].fieldName;a&&Q(r.value,a)}}function L(){Z(1)}function H(){Z(-1)}function Z(a){S.value=bt(S.value+a,-1,p.value.length-1)}function ae(){r.value instanceof HTMLInputElement&&r.value.focus()}function ne(a){const d=a.currentTarget.getAttribute("data-filter-field");d&&r.value instanceof HTMLInputElement&&Q(r.value,d)}function Q(a,l){const d=u.value===""||u.value.endsWith(" ")?"":" ";u.value+=d+l+":",a.focus(),S.value=-1}function Y(){u.value="",r.value instanceof HTMLInputElement&&(r.value.value="",r.value.focus(),s(""))}function se(a){a.relatedTarget===null&&G(),w.value instanceof HTMLElement&&a.relatedTarget instanceof Node&&!w.value.contains(a.relatedTarget)&&G()}function G(){T.value=!1}function s(a){m.value=null;try{const l=Dt(a,O.value);l.sort((d,V)=>d[0].localeCompare(V[0])),h.value=l}catch(l){if(l instanceof Error)m.value=l,T.value=!0;else throw l}}function i(a,l){return JSON.stringify(a)===JSON.stringify(l)}return(a,l)=>(c(),_("div",{ref_key:"filterBar",ref:w,class:"k-filter-bar","data-testid":"k-filter-bar"},[v("button",{class:"k-focus-filter-input-button",title:"Focus filter",type:"button","data-testid":"k-filter-bar-focus-filter-input-button",onClick:ae},[Pt,o(),C(F(te),{"aria-hidden":"true",class:"k-filter-icon",color:"var(--grey-400)","data-testid":"k-filter-bar-filter-icon","hide-title":"",icon:"filter",size:"20"})]),o(),v("label",{for:`${t.id}-filter-bar-input`,class:"visually-hidden"},[Be(a.$slots,"default",{},()=>[o(P(g.value),1)],!0)],8,At),o(),Ae(v("input",{id:`${t.id}-filter-bar-input`,ref_key:"filterInput",ref:r,"onUpdate:modelValue":l[0]||(l[0]=d=>u.value=d),class:"k-filter-bar-input",type:"text",placeholder:y.value,"data-testid":"k-filter-bar-filter-input",onFocus:l[1]||(l[1]=d=>T.value=!0),onBlur:se,onChange:U},null,40,Et),[[Re,u.value]]),o(),T.value?(c(),_("div",xt,[v("div",It,[m.value!==null?(c(),_("p",Ot,P(m.value.message),1)):(c(),_("button",{key:1,class:Ce(["k-submit-query-button",{"k-submit-query-button-is-selected":S.value===-1}]),title:"Submit query",type:"button","data-testid":"k-filter-bar-submit-query-button",onClick:E},`
          Submit `+P(u.value),3)),o(),(c(!0),_(M,null,R(p.value,(d,V)=>(c(),_("div",{key:`${t.id}-${V}`,class:Ce(["k-suggestion-list-item",{"k-suggestion-list-item-is-selected":S.value===V}])},[v("b",null,P(d.fieldName),1),d.description!==""?(c(),_("span",Ut,": "+P(d.description),1)):K("",!0),o(),v("button",{class:"k-apply-suggestion-button",title:`Add ${d.fieldName}:`,type:"button","data-filter-field":d.fieldName,"data-testid":"k-filter-bar-apply-suggestion-button",onClick:ne},[v("span",Nt,"Add "+P(d.fieldName)+":",1),o(),C(F(te),{"aria-hidden":"true",color:"currentColor","hide-title":"",icon:"chevronRight",size:"16"})],8,Vt)],2))),128))])])):K("",!0),o(),u.value!==""?(c(),_("button",{key:1,class:"k-clear-query-button",title:"Clear query",type:"button","data-testid":"k-filter-bar-clear-query-button",onClick:Y},[$t,o(),C(F(te),{"aria-hidden":"true",color:"currentColor",icon:"clear","hide-title":"",size:"20"})])):K("",!0)],512))}});const Lt=pe(Ft,[["__scopeId","data-v-2fcde9ea"]]),Ve=e=>(de("data-v-fc544ac8"),e=e(),ce(),e),Kt={class:"entity-section-list"},Mt={class:"entity-title","data-testid":"data-plane-proxy-title"},Bt={class:"mt-2 heading-with-icon"},Rt={key:0},jt=Ve(()=>v("h4",null,"Insights",-1)),zt={class:"block-list"},qt={key:0,class:"mt-2"},Ht=Ve(()=>v("summary",null,`
                  Responses (acknowledged / sent)
                `,-1)),Qt=ue({__name:"DataPlaneEntitySummary",props:{dataPlaneOverview:{type:Object,required:!0}},setup(e){const n=e,t=ut(),{t:w}=dt(),r=A(()=>({name:"data-plane-detail-view",params:{mesh:n.dataPlaneOverview.mesh,dataPlane:n.dataPlaneOverview.name}})),u=A(()=>Ee(n.dataPlaneOverview.dataplane)),h=A(()=>{var g;const p=Array.from(((g=n.dataPlaneOverview.dataplaneInsight)==null?void 0:g.subscriptions)??[]);return p.reverse(),p.map(y=>{const b=y.connectTime!==void 0?De(y.connectTime):"—",k=y.disconnectTime!==void 0?De(y.disconnectTime):"—",N=Object.entries(y.status).filter(([U])=>!["total","lastUpdateTime"].includes(U)).map(([U,E])=>{const L=`${E.responsesAcknowledged??0} / ${E.responsesSent??0}`;return{type:U.toUpperCase(),ratio:L,responsesSent:E.responsesSent??0,responsesAcknowledged:E.responsesAcknowledged??0,responsesRejected:E.responsesRejected??0}});return{subscription:y,formattedConnectDate:b,formattedDisconnectDate:k,statuses:N}})}),m=A(()=>{const{status:p}=xe(n.dataPlaneOverview.dataplane,n.dataPlaneOverview.dataplaneInsight);return p}),T=A(()=>{const p=qe(n.dataPlaneOverview.dataplaneInsight);return p!==null?Object.entries(p).map(([g,y])=>({name:g,version:y})):[]}),S=A(()=>{var E;const p=((E=n.dataPlaneOverview.dataplaneInsight)==null?void 0:E.subscriptions)??[];if(p.length===0)return[];const g=p[p.length-1];if(!g.version)return[];const y=[],b=g.version.envoy,k=g.version.kumaDp;if(!(b.kumaDpCompatible!==void 0?b.kumaDpCompatible:!0)){const L=`Envoy ${b.version} is not supported by Kuma DP ${k.version}.`;y.push(L)}if(!(k.kumaCpCompatible!==void 0?k.kumaCpCompatible:!0)){const L=`Kuma DP ${k.version} is not supported by this Kuma control plane.`;y.push(L)}return y});async function O(p){const{mesh:g,name:y}=n.dataPlaneOverview;return await t.getDataplaneFromMesh({mesh:g,name:y},p)}return(p,g)=>{const y=He("router-link");return c(),B(F(at),null,{body:D(()=>[v("div",Kt,[v("section",null,[v("h3",Mt,[v("span",null,[o(`
              DPP:

              `),C(gt,{text:e.dataPlaneOverview.name},{default:D(()=>[C(y,{to:r.value},{default:D(()=>[o(P(e.dataPlaneOverview.name),1)]),_:1},8,["to"])]),_:1},8,["text"])]),o(),C(mt,{status:m.value},null,8,["status"])]),o(),C(re,{class:"mt-4"},{default:D(()=>[u.value!==null?(c(),B(z,{key:0,term:"Tags"},{default:D(()=>[C(vt,{tags:u.value},null,8,["tags"])]),_:1})):K("",!0),o(),T.value.length>0?(c(),B(z,{key:1,term:"Dependencies"},{default:D(()=>[v("ul",null,[(c(!0),_(M,null,R(T.value,(b,k)=>(c(),_("li",{key:k},P(b.name)+": "+P(b.version),1))),128))]),o(),S.value.length>0?(c(),_(M,{key:0},[v("h5",Bt,[o(`
                  Warnings

                  `),C(F(te),{class:"ml-1",icon:"warning",color:"var(--black-500)","secondary-color":"var(--yellow-300)",size:"20"})]),o(),(c(!0),_(M,null,R(S.value,(b,k)=>(c(),_("p",{key:k},P(b),1))),128))],64)):K("",!0)]),_:1})):K("",!0)]),_:1})]),o(),h.value.length>0?(c(),_("section",Rt,[jt,o(),v("div",zt,[(c(!0),_(M,null,R(h.value,(b,k)=>(c(),_("div",{key:k},[C(re,null,{default:D(()=>[C(z,{term:"Connect time","data-testid":`data-plane-connect-time-${k}`},{default:D(()=>[o(P(b.formattedConnectDate),1)]),_:2},1032,["data-testid"]),o(),C(z,{term:"Disconnect time","data-testid":`data-plane-disconnect-time-${k}`},{default:D(()=>[o(P(b.formattedDisconnectDate),1)]),_:2},1032,["data-testid"]),o(),C(z,{term:F(w)("http.api.property.controlPlaneInstanceId")},{default:D(()=>[o(P(b.subscription.controlPlaneInstanceId),1)]),_:2},1032,["term"])]),_:2},1024),o(),b.statuses.length>0?(c(),_("details",qt,[Ht,o(),C(re,null,{default:D(()=>[(c(!0),_(M,null,R(b.statuses,(N,U)=>(c(),B(z,{key:`${k}-${U}`,term:N.type,"data-testid":`data-plane-subscription-status-${k}-${U}`},{default:D(()=>[o(P(N.ratio),1)]),_:2},1032,["term","data-testid"]))),128))]),_:2},1024)])):K("",!0)]))),128))])])):K("",!0),o(),C(ft,{id:"code-block-data-plane-summary","resource-fetcher":O,"resource-fetcher-watch-key":n.dataPlaneOverview.name,"code-max-height":"250px"},null,8,["resource-fetcher-watch-key"])])]),_:1})}}});const Gt=pe(Qt,[["__scopeId","data-v-fc544ac8"]]),Jt=["protocol","service","zone"];function Zt(e){const n=new Map;for(const[t,w]of e){const r=Jt.includes(t),u=r?"tag":t;n.has(u)||n.set(u,[]);const h=n.get(u);let m;u==="tag"?m=(r?`kuma.io/${t}:${w}`:w).replace(/\s+/g,""):m=w,h.push(m.trim())}return n}const Yt=e=>(de("data-v-cd17e7f9"),e=e(),ce(),e),Wt={key:0},Xt=Yt(()=>v("label",{for:"data-planes-type-filter",class:"mr-2"},`
              Type:
            `,-1)),ea=["value"],ta=["for"],aa=["id","checked","onChange"],na=ue({__name:"DataPlaneList",props:{dataPlaneOverviews:{type:Array,required:!0},isLoading:{type:Boolean,required:!1,default:!1},error:{type:[Error,null],required:!1,default:null},nextUrl:{type:String,required:!1,default:null},pageOffset:{type:Number,required:!1,default:0},selectedDppName:{type:String,required:!1,default:null},isGatewayView:{type:Boolean,required:!1,default:!1},gatewayType:{type:String,required:!1,default:"true"},dppFilterFields:{type:Object,required:!0}},emits:["load-data"],setup(e,{emit:n}){const t=e,w=ct(),r=pt(),u={true:"All",builtin:"Builtin",delegated:"Delegated"},h={title:"No Data",message:"There are no data plane proxies present."},m=I(Oe),T=I({headers:[],data:[]}),S=I(q.get("filterQuery")??""),O=I(t.gatewayType),p=I({}),g=I(null),y=A(()=>r.getters["config/getMulticlusterStatus"]),b=A(()=>({name:r.getters["config/getEnvironment"]==="universal"?"universal-dataplane":"kubernetes-dataplane"})),k=A(()=>"tag"in t.dppFilterFields?'tag: "kuma.io/protocol: http"':"name"in t.dppFilterFields?"name: cluster":"field: value"),N=A(()=>{let s=_t(y.value,m.value);return t.isGatewayView?s=s.filter(i=>i.key!=="protocol"):s=s.filter(i=>i.key!=="type"),{data:T.value.data,headers:s}}),U=A(()=>ht.filter(s=>t.isGatewayView?s.tableHeaderKey!=="protocol":s.tableHeaderKey!=="type").filter(s=>y.value?!0:s.tableHeaderKey!=="zone").map(s=>{const i=m.value.includes(s.tableHeaderKey);return{...s,isChecked:i}}));J(O,function(){H(0)}),J(p,function(){H(0)}),J(()=>t.dataPlaneOverviews,function(){Q()});function E(){const s=Pe.get("dpVisibleTableHeaderKeys");Array.isArray(s)&&(m.value=s),Q()}E();function L(s){H(s)}function H(s){const i={...p.value};"gateway"in i||(i.gateway=O.value),n("load-data",s,i)}function Z(s){s.stopPropagation()}function ae(s,i){const a=s.target,l=m.value.findIndex(d=>d===i);a.checked&&l===-1?m.value.push(i):!a.checked&&l>-1&&m.value.splice(l,1),Pe.set("dpVisibleTableHeaderKeys",Array.from(new Set(m.value)))}function ne(){w.info(tt.CREATE_DATA_PLANE_PROXY_CLICKED)}function Q(){var s;try{T.value.data=se(t.dataPlaneOverviews??[]),Y({name:t.selectedDppName??((s=t.dataPlaneOverviews[0])==null?void 0:s.name)})}catch(i){console.error(i)}}function Y({name:s}){s&&t.dataPlaneOverviews.length>0?(g.value=t.dataPlaneOverviews.find(i=>i.name===s)??t.dataPlaneOverviews[0],q.set(t.isGatewayView?"gateway":"dpp",g.value.name)):(g.value=null,q.set(t.isGatewayView?"gateway":"dpp",null))}function se(s){return s.map(i=>{var ve,ge,ye,he,_e,be;const a=i.mesh,l=i.name,d=((ve=i.dataplane.networking.gateway)==null?void 0:ve.type)||"STANDARD",V={name:d==="STANDARD"?"data-plane-detail-view":"gateway-detail-view",params:{mesh:a,dataPlane:l}},W=["kuma.io/protocol","kuma.io/service","kuma.io/zone"],X=Ee(i.dataplane).filter(f=>W.includes(f.label)),le=(ge=X.find(f=>f.label==="kuma.io/service"))==null?void 0:ge.value,Ne=(ye=X.find(f=>f.label==="kuma.io/protocol"))==null?void 0:ye.value,oe=(he=X.find(f=>f.label==="kuma.io/zone"))==null?void 0:he.value;let fe;le!==void 0&&(fe={name:"service-detail-view",params:{mesh:a,service:le}});let me;oe!==void 0&&(me={name:"zone-cp-detail-view",params:{zone:oe}});const{status:$e}=xe(i.dataplane,i.dataplaneInsight),Fe=((_e=i.dataplaneInsight)==null?void 0:_e.subscriptions)??[],Le={totalUpdates:0,totalRejectedUpdates:0,dpVersion:null,envoyVersion:null,selectedTime:NaN,selectedUpdateTime:NaN,version:null},x=Fe.reduce((f,$)=>{var ke,we;if($.connectTime){const Te=Date.parse($.connectTime);(!f.selectedTime||Te>f.selectedTime)&&(f.selectedTime=Te)}const ie=Date.parse($.status.lastUpdateTime);return ie&&(!f.selectedUpdateTime||ie>f.selectedUpdateTime)&&(f.selectedUpdateTime=ie),{totalUpdates:f.totalUpdates+parseInt($.status.total.responsesSent??"0",10),totalRejectedUpdates:f.totalRejectedUpdates+parseInt($.status.total.responsesRejected??"0",10),dpVersion:((ke=$.version)==null?void 0:ke.kumaDp.version)||f.dpVersion,envoyVersion:((we=$.version)==null?void 0:we.envoy.version)||f.envoyVersion,selectedTime:f.selectedTime,selectedUpdateTime:f.selectedUpdateTime,version:$.version||f.version}},Le),j={entity:i,detailViewRoute:V,type:d,zone:{title:oe??"—",route:me},service:{title:le??"—",route:fe},protocol:Ne??"—",status:$e,totalUpdates:x.totalUpdates,totalRejectedUpdates:x.totalRejectedUpdates,dpVersion:x.dpVersion??"—",envoyVersion:x.envoyVersion??"—",warnings:[],unsupportedEnvoyVersion:!1,unsupportedKumaDPVersion:!1,kumaDpAndKumaCpMismatch:!1,lastUpdated:x.selectedUpdateTime?Se(new Date(x.selectedUpdateTime).toUTCString()):"—",lastConnected:x.selectedTime?Se(new Date(x.selectedTime).toUTCString()):"—",overview:i};if(x.version){const{kind:f}=Qe(x.version);switch(f!==Ge&&j.warnings.push(f),f){case Ze:j.unsupportedEnvoyVersion=!0;break;case Je:j.unsupportedKumaDPVersion=!0;break}}return y.value&&x.dpVersion&&X.find($=>$.label===Ye)&&typeof((be=x.version)==null?void 0:be.kumaDp.kumaCpCompatible)=="boolean"&&!x.version.kumaDp.kumaCpCompatible&&(j.warnings.push(We),j.kumaDpAndKumaCpMismatch=!0),j})}function G({fields:s,query:i}){const a=q.get("filterFields"),l=a!==null?JSON.parse(a):{},d=JSON.stringify(l),V=Object.fromEntries(Zt(s)),W=JSON.stringify(V);q.set("filterQuery",i||null),q.set("filterFields",W),d!==W&&(p.value=V)}return(s,i)=>(c(),B(ot,null,{content:D(()=>{var a;return[C(it,{"selected-entity-name":(a=g.value)==null?void 0:a.name,"page-size":F(et),"is-loading":t.isLoading,error:e.error,"empty-state":h,"table-data":N.value,"table-data-is-empty":N.value.data.length===0,next:t.nextUrl!==null,"page-offset":t.pageOffset,onTableAction:Y,onLoadData:L},{additionalControls:D(()=>[C(Lt,{id:"data-plane-proxy-filter",class:"data-plane-proxy-filter",placeholder:k.value,query:S.value,fields:t.dppFilterFields,onFieldsChange:G},null,8,["placeholder","query","fields"]),o(),t.isGatewayView?(c(),_("div",Wt,[Xt,o(),Ae(v("select",{id:"data-planes-type-filter","onUpdate:modelValue":i[0]||(i[0]=l=>O.value=l),"data-testid":"data-planes-type-filter"},[(c(),_(M,null,R(u,(l,d)=>v("option",{key:d,value:d},P(l),9,ea)),64))],512),[[Xe,O.value]])])):K("",!0),o(),C(F(nt),{label:"Columns",icon:"cogwheel","button-appearance":"outline"},{items:D(()=>[v("div",{onClick:Z},[(c(!0),_(M,null,R(U.value,(l,d)=>(c(),B(F(st),{key:d,class:"table-header-selector-item",item:l},{default:D(()=>[v("label",{for:`data-plane-table-header-checkbox-${d}`,class:"k-checkbox table-header-selector-item-checkbox"},[v("input",{id:`data-plane-table-header-checkbox-${d}`,checked:l.isChecked,type:"checkbox",class:"k-input",onChange:V=>ae(V,l.tableHeaderKey)},null,40,aa),o(" "+P(l.label),1)],8,ta)]),_:2},1032,["item"]))),128))])]),_:1}),o(),C(F(lt),{appearance:"creation",to:b.value,icon:"plus","data-testid":"data-plane-create-data-plane-button",onClick:ne},{default:D(()=>[o(`
            Create data plane proxy
          `)]),_:1},8,["to"])]),_:1},8,["selected-entity-name","page-size","is-loading","error","table-data","table-data-is-empty","next","page-offset"])]}),sidebar:D(()=>[g.value!==null?(c(),B(Gt,{key:0,"data-plane-overview":g.value},null,8,["data-plane-overview"])):(c(),B(rt,{key:1}))]),_:1}))}});const ya=pe(na,[["__scopeId","data-v-cd17e7f9"]]);export{ya as D};
