import{aA as A,d as S,$ as B,aB as D,f as d,ax as E,o as m,j as b,g as V,k as w,l as t,h as s,w as n,m as y,a4 as g,C as r,i as p,S as x,a6 as z,r as C}from"./index-65a641bf.js";import{_ as T}from"./SubscriptionList.vue_vue_type_script_setup_true_lang-cebe25df.js";import{_ as Z}from"./WarningsWidget.vue_vue_type_script_setup_true_lang-7fa0f533.js";import{f as L}from"./dataplane-a974028d.js";import{D as O}from"./constants-b84da159.js";import"./AccordionList-ef6865fb.js";function R(c){var o;const e=((o=c.zoneInsight)==null?void 0:o.subscriptions)??[];if(e.length>0){const u=e[e.length-1];if(u.config){const l=JSON.parse(u.config);return A(l,"dpServer.auth.type",O)}}return O}const $={class:"stack"},J={class:"columns",style:{"--columns":"3"}},P={key:1},j=S({__name:"ZoneDetails",props:{zoneOverview:{type:Object,required:!0}},setup(c){const e=c,{t:o}=B(),u=D(),l=d(()=>{var a;for(const i of((a=e.zoneOverview.zoneInsight)==null?void 0:a.subscriptions)??[])if(i.config)return JSON.parse(i.config).environment;return"kubernetes"}),f=d(()=>E(e.zoneOverview)),k=d(()=>R(e.zoneOverview)),h=d(()=>{var _;const a=[],i=((_=e.zoneOverview.zoneInsight)==null?void 0:_.subscriptions)??[];if(i.length>0){const v=i[i.length-1],I=v.version.kumaCp.version||"-",{kumaCpGlobalCompatible:N=!0}=v.version.kumaCp;N||a.push({kind:L,payload:{zoneCpVersion:I,globalCpVersion:u("KUMA_VERSION")}})}return a});return(a,i)=>{var _;return m(),b("div",$,[h.value.length>0?(m(),V(Z,{key:0,warnings:h.value},null,8,["warnings"])):w("",!0),t(),s(p(z),null,{body:n(()=>[y("div",J,[s(g,null,{title:n(()=>[t(r(p(o)("http.api.property.status")),1)]),body:n(()=>[s(x,{status:f.value},null,8,["status"])]),_:1}),t(),s(g,null,{title:n(()=>[t(r(p(o)("http.api.property.type")),1)]),body:n(()=>[t(r(l.value),1)]),_:1}),t(),s(g,null,{title:n(()=>[t(r(p(o)("http.api.property.authenticationType")),1)]),body:n(()=>[t(r(k.value),1)]),_:1})])]),_:1}),t(),(((_=e.zoneOverview.zoneInsight)==null?void 0:_.subscriptions)??[]).length>0?(m(),b("div",P,[y("h2",null,r(p(o)("zone-cps.detail.subscriptions")),1),t(),s(p(z),{class:"mt-4"},{body:n(()=>{var v;return[s(T,{subscriptions:((v=e.zoneOverview.zoneInsight)==null?void 0:v.subscriptions)??[]},null,8,["subscriptions"])]}),_:1})])):w("",!0)])}}}),H=S({__name:"ZoneDetailView",props:{data:{}},setup(c){const e=c;return(o,u)=>{const l=C("AppView"),f=C("RouteView");return m(),V(f,{name:"zone-cp-detail-view"},{default:n(()=>[s(l,null,{default:n(()=>[s(j,{"zone-overview":e.data,"data-testid":"detail-view-details"},null,8,["zone-overview"])]),_:1})]),_:1})}}});export{H as default};
