import{d as H,I as j,F as R,o as i,m as y,w as n,c as u,G as ot,E as tt,q as P,r as S,k as s,a as V,e,j as lt,p as D,b as d,t as r,l as c,H as g,J as N,n as ct,D as ut,R as X,Y as z,S as pt,a2 as _t,K as J,a1 as ft,a3 as et,a4 as mt,a5 as gt,L as yt,M as vt}from"./index-_1cV718N.js";import{q as ht}from"./kong-icons.es676-DrgyLUej.js";import{S as bt}from"./SummaryView-BvDTSyzB.js";import{T as rt}from"./TagList-sExQAAJz.js";import{_ as $t}from"./SubscriptionList.vue_vue_type_script_setup_true_lang-sOimGi-7.js";import"./AccordionList-DsraDpRZ.js";const kt=["aria-hidden"],at='<path d="M15 18L21 12L15 6L13.6 7.4L17.2 11H3V13H17.2L13.6 16.6L15 18Z" fill="currentColor"/>',xt=H({__name:"ForwardIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:j,validator:o=>{if(typeof o=="number"&&o>0)return!0;if(typeof o=="string"){const a=String(o).replace(/px/gi,""),t=Number(a);if(t&&!isNaN(t)&&Number.isInteger(t)&&t>0)return!0}return!1}},as:{type:String,required:!1,default:"span"},staticIds:{type:Boolean,default:!1}},setup(o){const a=o,t=R(()=>{if(typeof a.size=="number"&&a.size>0)return`${a.size}px`;if(typeof a.size=="string"){const _=String(a.size).replace(/px/gi,""),p=Number(_);if(p&&!isNaN(p)&&Number.isInteger(p)&&p>0)return`${p}px`}return j}),b=R(()=>({boxSizing:"border-box",color:a.color,display:a.display,flexShrink:"0",height:t.value,lineHeight:"0",width:t.value})),B=_=>{const p={},$=Math.random().toString(36).substring(2,12);return _.replace(/id="([^"]+)"/g,(T,w)=>{const K=`${$}-${w}`;return p[w]=K,`id="${K}"`}).replace(/#([^\s^")]+)/g,(T,w)=>p[w]?`#${p[w]}`:T)},L=_=>{const p={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","`":"&#039;"};return _.replace(/[<>"'`]/g,$=>p[$])},v=`${a.title?`<title data-testid="kui-icon-svg-title">${L(a.title)}</title>`:""}${a.staticIds?at:B(at)}`;return(_,p)=>(i(),y(tt(o.as),{"aria-hidden":o.decorative?"true":void 0,class:"kui-icon forward-icon","data-testid":"kui-icon-wrapper-forward-icon",style:ot(b.value)},{default:n(()=>[(i(),u("svg",{"aria-hidden":o.decorative?"true":void 0,"data-testid":"kui-icon-svg-forward-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg",innerHTML:v},null,8,kt))]),_:1},8,["aria-hidden","style"]))}}),wt=["aria-hidden"],nt='<path d="M12 21V19H19V5H12V3H19C19.55 3 20.0208 3.19583 20.4125 3.5875C20.8042 3.97917 21 4.45 21 5V19C21 19.55 20.8042 20.0208 20.4125 20.4125C20.0208 20.8042 19.55 21 19 21H12ZM10 17L8.625 15.55L11.175 13H3V11H11.175L8.625 8.45L10 7L15 12L10 17Z" fill="currentColor"/>',St=H({__name:"GatewayIcon",props:{title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"currentColor"},display:{type:String,required:!1,default:"block"},decorative:{type:Boolean,required:!1,default:!1},size:{type:[Number,String],required:!1,default:j,validator:o=>{if(typeof o=="number"&&o>0)return!0;if(typeof o=="string"){const a=String(o).replace(/px/gi,""),t=Number(a);if(t&&!isNaN(t)&&Number.isInteger(t)&&t>0)return!0}return!1}},as:{type:String,required:!1,default:"span"},staticIds:{type:Boolean,default:!1}},setup(o){const a=o,t=R(()=>{if(typeof a.size=="number"&&a.size>0)return`${a.size}px`;if(typeof a.size=="string"){const _=String(a.size).replace(/px/gi,""),p=Number(_);if(p&&!isNaN(p)&&Number.isInteger(p)&&p>0)return`${p}px`}return j}),b=R(()=>({boxSizing:"border-box",color:a.color,display:a.display,flexShrink:"0",height:t.value,lineHeight:"0",width:t.value})),B=_=>{const p={},$=Math.random().toString(36).substring(2,12);return _.replace(/id="([^"]+)"/g,(T,w)=>{const K=`${$}-${w}`;return p[w]=K,`id="${K}"`}).replace(/#([^\s^")]+)/g,(T,w)=>p[w]?`#${p[w]}`:T)},L=_=>{const p={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","`":"&#039;"};return _.replace(/[<>"'`]/g,$=>p[$])},v=`${a.title?`<title data-testid="kui-icon-svg-title">${L(a.title)}</title>`:""}${a.staticIds?nt:B(nt)}`;return(_,p)=>(i(),y(tt(o.as),{"aria-hidden":o.decorative?"true":void 0,class:"kui-icon gateway-icon","data-testid":"kui-icon-wrapper-gateway-icon",style:ot(b.value)},{default:n(()=>[(i(),u("svg",{"aria-hidden":o.decorative?"true":void 0,"data-testid":"kui-icon-svg-gateway-icon",fill:"none",height:"100%",role:"img",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg",innerHTML:v},null,8,wt))]),_:1},8,["aria-hidden","style"]))}}),Ct=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Bt=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],It=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Nt=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],it=(o,a,t)=>{let b=o;return typeof a=="string"||Array.isArray(a)?b=o.toLocaleString(a,t):(a===!0||t!==void 0)&&(b=o.toLocaleString(void 0,t)),b};function Y(o,a){if(!Number.isFinite(o))throw new TypeError(`Expected a finite number, got ${typeof o}: ${o}`);a={bits:!1,binary:!1,space:!0,...a};const t=a.bits?a.binary?Nt:It:a.binary?Bt:Ct,b=a.space?" ":"";if(a.signed&&o===0)return` 0${b}${t[0]}`;const B=o<0,L=B?"-":a.signed?"+":"";B&&(o=-o);let v;if(a.minimumFractionDigits!==void 0&&(v={minimumFractionDigits:a.minimumFractionDigits}),a.maximumFractionDigits!==void 0&&(v={maximumFractionDigits:a.maximumFractionDigits,...v}),o<1){const T=it(o,a.locale,v);return L+T+b+t[0]}const _=Math.min(Math.floor(a.binary?Math.log(o)/Math.log(1024):Math.log10(o)/3),t.length-1);o/=(a.binary?1024:1e3)**_,v||(o=o.toPrecision(3));const p=it(Number(o),a.locale,v),$=t[_];return L+p+b+$}const Tt={},qt={class:"card"},zt={class:"title"},Lt={class:"body"};function Dt(o,a){const t=S("KCard");return i(),y(t,{class:"data-card"},{default:n(()=>[s("dl",null,[s("div",qt,[s("dt",zt,[V(o.$slots,"title",{},void 0,!0)]),e(),s("dd",Lt,[V(o.$slots,"default",{},void 0,!0)])])])]),_:3})}const dt=P(Tt,[["render",Dt],["__scopeId","data-v-3f9a3cf3"]]),Kt={class:"title"},Mt={key:0},Vt={"data-testid":"grpc-success"},Et={"data-testid":"grpc-failure"},Ht={"data-testid":"rq-2xx"},Rt={"data-testid":"rq-4xx"},Pt={"data-testid":"rq-5xx"},At={"data-testid":"connections-total"},Ut={key:0,"data-testid":"bytes-received"},Ft={key:1,"data-testid":"bytes-sent"},Gt=H({__name:"ConnectionCard",props:{protocol:{},service:{default:""},traffic:{default:void 0},direction:{default:"downstream"}},setup(o){const{t:a}=lt(),t=o,b=B=>{const L=B.target;if(B.isTrusted&&L.nodeName.toLowerCase()!=="a"){const v=L.closest(".service-traffic-card, a");if(v){const _=v.nodeName.toLowerCase()==="a"?v:v.querySelector("[data-action]");_!==null&&"click"in _&&typeof _.click=="function"&&_.click()}}};return(B,L)=>{const v=S("KBadge"),_=S("KSkeletonBox");return i(),y(dt,{class:"service-traffic-card",onClick:b},{title:n(()=>[t.service.length>0?(i(),y(rt,{key:0,tags:[{label:"kuma.io/service",value:t.service}]},null,8,["tags"])):D("",!0),e(),s("div",Kt,[d(v,{class:"protocol",appearance:t.protocol==="passthrough"?"success":"info"},{default:n(()=>[e(r(c(a)(`data-planes.components.service_traffic_card.protocol.${t.protocol}`,{},{defaultMessage:c(a)(`http.api.value.${t.protocol}`)})),1)]),_:1},8,["appearance"]),e(),V(B.$slots,"default",{},void 0,!0)])]),default:n(()=>{var p,$,T,w,K,A,U,F,G,O,C,f;return[e(),t.traffic?(i(),u("dl",Mt,[t.protocol==="passthrough"?(i(!0),u(g,{key:0},N([["http","tcp"].reduce((k,x)=>{var Z;const M=t.direction;return Object.entries(((Z=t.traffic)==null?void 0:Z[x])||{}).reduce((l,[m,h])=>[`${M}_cx_tx_bytes_total`,`${M}_cx_rx_bytes_total`].includes(m)?{...l,[m]:h+(l[m]??0)}:l,k)},{})],(k,x)=>(i(),u(g,{key:x},[s("div",null,[s("dt",null,r(c(a)("data-planes.components.service_traffic_card.tx")),1),e(),s("dd",null,r(c(Y)(k.downstream_cx_rx_bytes_total??0)),1)]),e(),s("div",null,[s("dt",null,r(c(a)("data-planes.components.service_traffic_card.rx")),1),e(),s("dd",null,r(c(Y)(k.downstream_cx_tx_bytes_total??0)),1)])],64))),128)):t.protocol==="grpc"?(i(),u(g,{key:1},[s("div",Vt,[s("dt",null,r(c(a)("data-planes.components.service_traffic_card.grpc_success")),1),e(),s("dd",null,r(c(a)("common.formats.integer",{value:(p=t.traffic.grpc)==null?void 0:p.success})),1)]),e(),s("div",Et,[s("dt",null,r(c(a)("data-planes.components.service_traffic_card.grpc_failure")),1),e(),s("dd",null,r(c(a)("common.formats.integer",{value:($=t.traffic.grpc)==null?void 0:$.failure})),1)])],64)):t.protocol.startsWith("http")?(i(),u(g,{key:2},[(i(!0),u(g,null,N([((T=t.traffic.http)==null?void 0:T[`${t.direction}_rq_1xx`])??0].filter(k=>k!==0),k=>(i(),u("div",{key:k,"data-testid":"rq-1xx"},[s("dt",null,r(c(a)("data-planes.components.service_traffic_card.1xx")),1),e(),s("dd",null,r(c(a)("common.formats.integer",{value:k})),1)]))),128)),e(),s("div",Ht,[s("dt",null,r(c(a)("data-planes.components.service_traffic_card.2xx")),1),e(),s("dd",null,r(c(a)("common.formats.integer",{value:(w=t.traffic.http)==null?void 0:w[`${t.direction}_rq_2xx`]})),1)]),e(),(i(!0),u(g,null,N([((K=t.traffic.http)==null?void 0:K[`${t.direction}_rq_3xx`])??0].filter(k=>k!==0),k=>(i(),u("div",{key:k,"data-testid":"rq-3xx"},[s("dt",null,r(c(a)("data-planes.components.service_traffic_card.3xx")),1),e(),s("dd",null,r(c(a)("common.formats.integer",{value:k})),1)]))),128)),e(),s("div",Rt,[s("dt",null,r(c(a)("data-planes.components.service_traffic_card.4xx")),1),e(),s("dd",null,r(c(a)("common.formats.integer",{value:(A=t.traffic.http)==null?void 0:A[`${t.direction}_rq_4xx`]})),1)]),e(),s("div",Pt,[s("dt",null,r(c(a)("data-planes.components.service_traffic_card.5xx")),1),e(),s("dd",null,r(c(a)("common.formats.integer",{value:(U=t.traffic.http)==null?void 0:U[`${t.direction}_rq_5xx`]})),1)])],64)):(i(),u(g,{key:3},[s("div",At,[s("dt",null,r(c(a)("data-planes.components.service_traffic_card.cx")),1),e(),s("dd",null,r(c(a)("common.formats.integer",{value:(F=t.traffic.tcp)==null?void 0:F[`${t.direction}_cx_total`]})),1)]),e(),typeof((G=t.traffic.tcp)==null?void 0:G[`${t.direction}_cx_tx_bytes_total`])<"u"?(i(),u("div",Ut,[s("dt",null,r(c(a)("data-planes.components.service_traffic_card.rx")),1),e(),s("dd",null,r(c(Y)((O=t.traffic.tcp)==null?void 0:O[`${t.direction}_cx_tx_bytes_total`])),1)])):D("",!0),e(),typeof((C=t.traffic.tcp)==null?void 0:C[`${t.direction}_cx_rx_bytes_total`])<"u"?(i(),u("div",Ft,[s("dt",null,r(c(a)("data-planes.components.service_traffic_card.tx")),1),e(),s("dd",null,r(c(Y)((f=t.traffic.tcp)==null?void 0:f[`${t.direction}_cx_rx_bytes_total`])),1)])):D("",!0)],64))])):(i(),y(_,{key:1,width:"10"}))]}),_:3})}}}),W=P(Gt,[["__scopeId","data-v-f7ef7711"]]),Ot={class:"body"},Zt=H({__name:"ConnectionGroup",props:{type:{}},setup(o){const a=o;return(t,b)=>{const B=S("KCard");return i(),y(B,{class:ct(["service-traffic-group",`type-${a.type}`])},{default:n(()=>[s("div",Ot,[V(t.$slots,"default",{},void 0,!0)])]),_:3},8,["class"])}}}),Q=P(Zt,[["__scopeId","data-v-9402d5d1"]]),Yt={class:"service-traffic"},jt={class:"actions"},Xt=H({__name:"ConnectionTraffic",setup(o){return(a,t)=>(i(),u("div",Yt,[s("div",jt,[V(a.$slots,"actions",{},void 0,!0)]),e(),d(dt,{class:"header"},{title:n(()=>[V(a.$slots,"title",{},void 0,!0)]),_:3}),e(),V(a.$slots,"default",{},void 0,!0)]))}}),st=P(Xt,[["__scopeId","data-v-e6bd176c"]]),Jt=o=>(yt("data-v-e05bac42"),o=o(),vt(),o),Wt={"data-testid":"dataplane-warnings"},Qt=["data-testid","innerHTML"],te={key:0,"data-testid":"warning-stats-loading"},ee={class:"stack","data-testid":"dataplane-details"},ae={class:"stack"},ne={class:"columns"},ie={class:"status-with-reason"},se={class:"columns"},oe={class:"columns"},re=Jt(()=>s("span",null,"Outbounds",-1)),de={"data-testid":"dataplane-mtls"},le={class:"columns"},ce=["innerHTML"],ue={key:0,"data-testid":"dataplane-subscriptions"},pe=H({__name:"DataPlaneDetailView",props:{data:{},mesh:{}},setup(o){const a=ut(),t=o,b=R(()=>t.data.warnings.concat(...t.data.isCertExpired?[{kind:"CERT_EXPIRED"}]:[]));return(B,L)=>{const v=S("KTooltip"),_=S("DataCollection"),p=S("XAction"),$=S("KCard"),T=S("KInputSwitch"),w=S("KButton"),K=S("RouterLink"),A=S("RouterView"),U=S("KAlert"),F=S("AppView"),G=S("DataSource"),O=S("RouteView");return i(),y(O,{params:{mesh:"",dataPlane:"",inactive:!1},name:"data-plane-detail-view"},{default:n(({route:C,t:f,can:k})=>[d(G,{src:`/meshes/${C.params.mesh}/dataplanes/${C.params.dataPlane}/stats/${t.data.dataplane.networking.inboundAddress}`},{default:n(({data:x,error:M,refresh:Z})=>[d(F,null,X({default:n(()=>[e(),s("div",ee,[d($,null,{default:n(()=>[s("div",ae,[s("div",ne,[d(z,null,{title:n(()=>[e(r(f("http.api.property.status")),1)]),body:n(()=>[s("div",ie,[d(pt,{status:t.data.status},null,8,["status"]),e(),t.data.dataplaneType==="standard"?(i(),y(_,{key:0,items:t.data.dataplane.networking.inbounds,predicate:l=>!l.health.ready,empty:!1},{default:n(({items:l})=>[d(v,{class:"reason-tooltip"},{content:n(()=>[s("ul",null,[(i(!0),u(g,null,N(l,m=>(i(),u("li",{key:`${m.service}:${m.port}`},r(f("data-planes.routes.item.unhealthy_inbound",{service:m.service,port:m.port})),1))),128))])]),default:n(()=>[d(c(ht),{color:c(_t),size:c(J)},null,8,["color","size"]),e()]),_:2},1024)]),_:2},1032,["items","predicate"])):D("",!0)])]),_:2},1024),e(),k("use zones")&&t.data.zone?(i(),y(z,{key:0},{title:n(()=>[e(`
                    Zone
                  `)]),body:n(()=>[d(p,{to:{name:"zone-cp-detail-view",params:{zone:t.data.zone}}},{default:n(()=>[e(r(t.data.zone),1)]),_:1},8,["to"])]),_:1})):D("",!0),e(),d(z,null,{title:n(()=>[e(`
                    Type
                  `)]),body:n(()=>[e(r(f(`data-planes.type.${t.data.dataplaneType}`)),1)]),_:2},1024),e(),t.data.namespace.length>0?(i(),y(z,{key:1},{title:n(()=>[e(`
                    Namespace
                  `)]),body:n(()=>[e(r(t.data.namespace),1)]),_:1})):D("",!0)]),e(),s("div",se,[d(z,null,{title:n(()=>[e(r(f("data-planes.routes.item.last_updated")),1)]),body:n(()=>[e(r(f("common.formats.datetime",{value:Date.parse(t.data.modificationTime)})),1)]),_:2},1024),e(),t.data.dataplane.networking.gateway?(i(),u(g,{key:0},[d(z,null,{title:n(()=>[e(r(f("http.api.property.tags")),1)]),body:n(()=>[d(rt,{tags:t.data.dataplane.networking.gateway.tags},null,8,["tags"])]),_:2},1024),e(),d(z,null,{title:n(()=>[e(r(f("http.api.property.address")),1)]),body:n(()=>[d(ft,{text:`${t.data.dataplane.networking.address}`},null,8,["text"])]),_:2},1024)],64)):D("",!0)])])]),_:2},1024),e(),d($,{class:"traffic","data-testid":"dataplane-traffic"},{default:n(()=>[s("div",oe,[d(st,null,{title:n(()=>[d(c(xt),{display:"inline-block",decorative:"",size:c(J)},null,8,["size"]),e(`
                  Inbounds
                `)]),default:n(()=>[e(),d(Q,{type:"inbound","data-testid":"dataplane-inbounds"},{default:n(()=>[(i(!0),u(g,null,N([t.data.dataplane.networking.type==="gateway"?Object.entries((x==null?void 0:x.inbounds)??{}).reduce((l,[m,h])=>{var q;const I=m.split("_").at(-1);return I===(((q=t.data.dataplane.networking.admin)==null?void 0:q.port)??"9901")?l:l.concat([{...t.data.dataplane.networking.inbounds[0],name:m,port:Number(I),protocol:["http","tcp"].find(E=>typeof h[E]<"u")??"tcp",addressPort:`${t.data.dataplane.networking.inbounds[0].address}:${I}`}])},[]):t.data.dataplane.networking.inbounds],l=>(i(),y(_,{key:l,items:l,predicate:m=>m.port!==49151},X({default:n(({items:m})=>[(i(!0),u(g,null,N(m,h=>(i(),u(g,{key:`${h.name}`},[(i(!0),u(g,null,N([x==null?void 0:x.inbounds[h.name]],I=>(i(),y(W,{key:I,"data-testid":"dataplane-inbound",protocol:h.protocol,service:k("use service-insights",t.mesh)?h.tags["kuma.io/service"]:"",traffic:typeof M>"u"?I:{name:"",protocol:h.protocol,port:`${h.port}`}},{default:n(()=>[d(p,{"data-action":"",to:{name:(q=>q.includes("bound")?q.replace("-outbound-","-inbound-"):"connection-inbound-summary-overview-view")(String(c(a).name)),params:{connection:h.name},query:{inactive:C.params.inactive}}},{default:n(()=>[e(r(h.name.replace("localhost","").replace("_",":")),1)]),_:2},1032,["to"])]),_:2},1032,["protocol","service","traffic"]))),128))],64))),128))]),_:2},[t.data.dataplaneType==="delegated"?{name:"empty",fn:n(()=>[d(et,null,{default:n(()=>[e(`
                          This proxy is a delegated gateway therefore `+r(f("common.product.name"))+` does not have any visibility into inbounds for this gateway
                        `,1)]),_:2},1024)]),key:"0"}:void 0]),1032,["items","predicate"]))),128))]),_:2},1024)]),_:2},1024),e(),d(st,null,X({title:n(()=>[d(c(St),{display:"inline-block",decorative:"",size:c(J)},null,8,["size"]),e(),re]),default:n(()=>[e(),e(),typeof M>"u"?(i(),u(g,{key:0},[typeof x>"u"?(i(),y(mt,{key:0})):(i(),u(g,{key:1},N(["upstream"],l=>(i(),u(g,{key:l},[d(Q,{type:"passthrough"},{default:n(()=>[d(W,{protocol:"passthrough",traffic:x.passthrough},{default:n(()=>[e(`
                          Non mesh traffic
                        `)]),_:2},1032,["traffic"])]),_:2},1024),e(),d(_,{predicate:C.params.inactive?void 0:([m,h])=>{var I,q;return((typeof h.tcp<"u"?(I=h.tcp)==null?void 0:I[`${l}_cx_rx_bytes_total`]:(q=h.http)==null?void 0:q[`${l}_rq_total`])??0)>0},items:Object.entries(x.outbounds)},{default:n(({items:m})=>[m.length>0?(i(),y(Q,{key:0,type:"outbound","data-testid":"dataplane-outbounds"},{default:n(()=>[(i(),u(g,null,N([/-([a-f0-9]){16}$/],h=>(i(),u(g,{key:h},[(i(!0),u(g,null,N(m,([I,q])=>(i(),y(W,{key:`${I}`,"data-testid":"dataplane-outbound",protocol:["grpc","http","tcp"].find(E=>typeof q[E]<"u")??"tcp",traffic:q,service:q.$resourceMeta.type===""?I.replace(h,""):void 0,direction:l},{default:n(()=>[d(K,{"data-action":"",to:{name:(E=>E.includes("bound")?E.replace("-inbound-","-outbound-"):"connection-outbound-summary-overview-view")(String(c(a).name)),params:{connection:I},query:{inactive:C.params.inactive?null:void 0}}},{default:n(()=>[e(r(I),1)]),_:2},1032,["to"])]),_:2},1032,["protocol","traffic","service","direction"]))),128))],64))),64))]),_:2},1024)):D("",!0)]),_:2},1032,["predicate","items"])],64))),64))],64)):(i(),y(et,{key:1}))]),_:2},[x?{name:"actions",fn:n(()=>[d(T,{modelValue:C.params.inactive,"onUpdate:modelValue":l=>C.params.inactive=l,"data-testid":"dataplane-outbounds-inactive-toggle"},{label:n(()=>[e(`
                      Show inactive
                    `)]),_:2},1032,["modelValue","onUpdate:modelValue"]),e(),d(w,{appearance:"primary",onClick:Z},{default:n(()=>[d(c(gt)),e(`

                    Refresh
                  `)]),_:2},1032,["onClick"])]),key:"0"}:void 0]),1024)])]),_:2},1024),e(),d(A,null,{default:n(l=>[l.route.name!==C.name?(i(),y(bt,{key:0,width:"670px",onClose:function(){C.replace({name:"data-plane-detail-view",params:{mesh:C.params.mesh,dataPlane:C.params.dataPlane},query:{inactive:C.params.inactive?null:void 0}})}},{default:n(()=>[(i(),y(tt(l.Component),{data:l.route.name.includes("-inbound-")?t.data.dataplane.networking.inbounds:(x==null?void 0:x.outbounds)||{},"dataplane-overview":t.data},null,8,["data","dataplane-overview"]))]),_:2},1032,["onClose"])):D("",!0)]),_:2},1024),e(),s("div",de,[s("h2",null,r(f("data-planes.routes.item.mtls.title")),1),e(),t.data.dataplaneInsight.mTLS?(i(!0),u(g,{key:0},N([t.data.dataplaneInsight.mTLS],l=>(i(),y($,{key:l,class:"mt-4"},{default:n(()=>[s("div",le,[d(z,null,{title:n(()=>[e(r(f("data-planes.routes.item.mtls.expiration_time.title")),1)]),body:n(()=>[e(r(f("common.formats.datetime",{value:Date.parse(l.certificateExpirationTime)})),1)]),_:2},1024),e(),d(z,null,{title:n(()=>[e(r(f("data-planes.routes.item.mtls.generation_time.title")),1)]),body:n(()=>[e(r(f("common.formats.datetime",{value:Date.parse(l.lastCertificateRegeneration)})),1)]),_:2},1024),e(),d(z,null,{title:n(()=>[e(r(f("data-planes.routes.item.mtls.regenerations.title")),1)]),body:n(()=>[e(r(f("common.formats.integer",{value:l.certificateRegenerations})),1)]),_:2},1024),e(),d(z,null,{title:n(()=>[e(r(f("data-planes.routes.item.mtls.issued_backend.title")),1)]),body:n(()=>[e(r(l.issuedBackend),1)]),_:2},1024),e(),d(z,null,{title:n(()=>[e(r(f("data-planes.routes.item.mtls.supported_backends.title")),1)]),body:n(()=>[s("ul",null,[(i(!0),u(g,null,N(l.supportedBackends,m=>(i(),u("li",{key:m},r(m),1))),128))])]),_:2},1024)])]),_:2},1024))),128)):(i(),y(U,{key:1,class:"mt-4",appearance:"warning"},{default:n(()=>[s("div",{innerHTML:f("data-planes.routes.item.mtls.disabled")},null,8,ce)]),_:2},1024))]),e(),t.data.dataplaneInsight.subscriptions.length>0?(i(),u("div",ue,[s("h2",null,r(f("data-planes.routes.item.subscriptions.title")),1),e(),d($,{class:"mt-4"},{default:n(()=>[d($t,{subscriptions:t.data.dataplaneInsight.subscriptions},null,8,["subscriptions"])]),_:1})])):D("",!0)])]),_:2},[b.value.length>0||M?{name:"notifications",fn:n(()=>[s("ul",Wt,[(i(!0),u(g,null,N(b.value,l=>(i(),u("li",{key:l.kind,"data-testid":`warning-${l.kind}`,innerHTML:f(`common.warnings.${l.kind}`,l.payload)},null,8,Qt))),128)),e(),M?(i(),u("li",te,[e(`
              The below view is not enhanced with runtime stats (Error loading stats: `),s("strong",null,r(M.toString()),1),e(`)
            `)])):D("",!0)])]),key:"0"}:void 0]),1024)]),_:2},1032,["src"])]),_:1})}}}),he=P(pe,[["__scopeId","data-v-e05bac42"]]);export{he as default};
