import{aH as V,aI as h,d as C,L as D,aJ as A,f as d,aE as B,o as v,j as b,g as O,k as w,l as t,h as n,w as s,m as y,ab as f,D as r,i as c,X as E,a2 as z,A as x,_ as L}from"./index-dd2240de.js";import{_ as T}from"./SubscriptionList.vue_vue_type_script_setup_true_lang-1625c634.js";import{_ as Z}from"./WarningsWidget.vue_vue_type_script_setup_true_lang-a332d87b.js";import{f as J}from"./dataplane-30467516.js";import"./AccordionList-9b2440b0.js";function $(p){var o;const e=((o=p.zoneInsight)==null?void 0:o.subscriptions)??[];if(e.length>0){const u=e[e.length-1];if(u.config){const m=JSON.parse(u.config);return V(m,"dpServer.auth.type",h)}}return h}const P={class:"stack"},j={class:"columns",style:{"--columns":"3"}},G={key:1},M=C({__name:"ZoneDetails",props:{zoneOverview:{type:Object,required:!0}},setup(p){const e=p,{t:o}=D(),u=A(),m=d(()=>{var a;for(const i of((a=e.zoneOverview.zoneInsight)==null?void 0:a.subscriptions)??[])if(i.config)return JSON.parse(i.config).environment;return"kubernetes"}),S=d(()=>B(e.zoneOverview)),k=d(()=>$(e.zoneOverview)),g=d(()=>{var l;const a=[],i=((l=e.zoneOverview.zoneInsight)==null?void 0:l.subscriptions)??[];if(i.length>0){const _=i[i.length-1],I=_.version.kumaCp.version||"-",{kumaCpGlobalCompatible:N=!0}=_.version.kumaCp;N||a.push({kind:J,payload:{zoneCpVersion:I,globalCpVersion:u("KUMA_VERSION")}})}return a});return(a,i)=>{var l;return v(),b("div",P,[g.value.length>0?(v(),O(Z,{key:0,warnings:g.value},null,8,["warnings"])):w("",!0),t(),n(c(z),null,{body:s(()=>[y("div",j,[n(f,null,{title:s(()=>[t(r(c(o)("http.api.property.status")),1)]),body:s(()=>[n(E,{status:S.value},null,8,["status"])]),_:1}),t(),n(f,null,{title:s(()=>[t(r(c(o)("http.api.property.type")),1)]),body:s(()=>[t(r(m.value),1)]),_:1}),t(),n(f,null,{title:s(()=>[t(r(c(o)("http.api.property.authenticationType")),1)]),body:s(()=>[t(r(k.value),1)]),_:1})])]),_:1}),t(),(((l=e.zoneOverview.zoneInsight)==null?void 0:l.subscriptions)??[]).length>0?(v(),b("div",G,[y("h2",null,r(c(o)("zone-cps.detail.subscriptions")),1),t(),n(c(z),{class:"mt-4"},{body:s(()=>{var _;return[n(T,{subscriptions:((_=e.zoneOverview.zoneInsight)==null?void 0:_.subscriptions)??[]},null,8,["subscriptions"])]}),_:1})])):w("",!0)])}}}),X=C({__name:"ZoneDetailView",props:{data:{}},setup(p){const e=p;return(o,u)=>(v(),O(L,{name:"zone-cp-detail-view","data-testid":"zone-cp-detail-view"},{default:s(()=>[n(x,null,{default:s(()=>[n(M,{"zone-overview":e.data,"data-testid":"detail-view-details"},null,8,["zone-overview"])]),_:1})]),_:1}))}});export{X as default};
