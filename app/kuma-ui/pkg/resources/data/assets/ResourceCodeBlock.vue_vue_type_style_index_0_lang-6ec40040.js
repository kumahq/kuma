import{_ as f}from"./CodeBlock.vue_vue_type_style_index_0_lang-9954ba89.js";import{C as h}from"./CopyButton-c9ea289f.js";import{d as b,l as _,N as x,a as g,o as T,b as C,w as r,e as u,q as n,f as k,t as q}from"./index-eeb8fb94.js";import{t as K}from"./toYaml-4e00099e.js";const N=b({__name:"ResourceCodeBlock",props:{id:{},resource:{},resourceFetcher:{},codeMaxHeight:{default:void 0},isSearchable:{type:Boolean,default:!1},query:{default:""}},emits:["query-change"],setup(l,{emit:m}){const{t:o}=_(),e=l,p=m,d=x(()=>c(e.resource));async function y(){const t=await e.resourceFetcher({format:"kubernetes"});return c(t)}function c(t){const{creationTime:a,modificationTime:i,...s}=t;return K(s)}return(t,a)=>{const i=g("KTooltip");return T(),C(f,{id:t.id,language:"yaml",code:d.value,"is-searchable":e.isSearchable,"code-max-height":e.codeMaxHeight,query:e.query,onQueryChange:a[0]||(a[0]=s=>p("query-change",s))},{"secondary-actions":r(()=>[u(i,{class:"kubernetes-copy-button-tooltip",label:n(o)("common.copyKubernetesText"),placement:"bottomEnd","max-width":"200","position-fixed":""},{default:r(()=>[u(h,{class:"kubernetes-copy-button","get-text":y,"copy-text":n(o)("common.copyKubernetesText"),"has-border":"","hide-title":""},{default:r(()=>[k(q(n(o)("common.copyKubernetesShortText")),1)]),_:1},8,["copy-text"])]),_:1},8,["label"])]),_:1},8,["id","code","is-searchable","code-max-height","query"])}}});export{N as _};
