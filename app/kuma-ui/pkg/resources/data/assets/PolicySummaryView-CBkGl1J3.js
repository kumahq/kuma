import{_ as b}from"./PolicySummary.vue_vue_type_script_setup_true_lang-CS-5slkP.js";import{_ as v}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-CawNJ-kc.js";import{d as D,r as a,o as p,q as i,w as t,b as n,m,t as d,e as c,c as g,M,N as C,T as N,s as f,_ as A}from"./index-oTPgN0we.js";const B={key:0},q=D({__name:"PolicySummaryView",props:{items:{},policyType:{}},setup(x){const y=x;return(L,s)=>{const S=a("XEmptyState"),w=a("RouteTitle"),E=a("XAction"),V=a("XSelect"),R=a("XLayout"),k=a("DataSource"),X=a("AppView"),T=a("DataCollection"),$=a("RouteView");return p(),i($,{name:"policy-summary-view",params:{mesh:"",policyPath:"",policy:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:"structured"}},{default:t(({route:e,t:r})=>[n(T,{items:y.items,predicate:u=>u.id===e.params.policy,find:!0},{empty:t(()=>[n(S,null,{title:t(()=>[m("h2",null,d(r("common.collection.summary.empty_title",{type:y.policyType.name})),1)]),default:t(()=>[s[0]||(s[0]=c()),m("p",null,d(r("common.collection.summary.empty_message",{type:y.policyType.name})),1)]),_:2},1024)]),default:t(({items:u})=>[(p(!0),g(M,null,C([u[0]],l=>(p(),i(X,{key:l.id},{title:t(()=>[m("h2",null,[n(E,{to:{name:"policy-detail-view",params:{mesh:e.params.mesh,policyPath:e.params.policyPath,policy:e.params.policy}}},{default:t(()=>[n(w,{title:r("policies.routes.item.title",{name:l.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:t(()=>[s[3]||(s[3]=c()),l?(p(),i(b,{key:0,policy:l,format:e.params.format},{header:t(()=>[m("header",null,[n(R,{type:"separated",size:"max"},{default:t(()=>[m("h3",null,d(r("policies.routes.item.config")),1),s[1]||(s[1]=c()),l.spec?(p(),g("div",B,[n(V,{label:r("policies.routes.item.format"),selected:e.params.format,onChange:o=>{e.update({format:o})}},N({_:2},[C(["structured","yaml"],o=>({name:`${o}-option`,fn:t(()=>[c(d(r(`policies.routes.item.formats.${o}`)),1)])}))]),1032,["label","selected","onChange"])])):f("",!0)]),_:2},1024)])]),default:t(()=>[s[2]||(s[2]=c()),n(v,{resource:l.config,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:o=>e.update({codeSearch:o}),onFilterModeChange:o=>e.update({codeFilter:o}),onRegExpModeChange:o=>e.update({codeRegExp:o})},{default:t(({copy:o,copying:F})=>[F?(p(),i(k,{key:0,src:`/meshes/${e.params.mesh}/policy-path/${e.params.policyPath}/policy/${e.params.policy}/as/kubernetes?no-store`,onChange:_=>{o(h=>h(_))},onError:_=>{o((h,P)=>P(_))}},null,8,["src","onChange","onError"])):f("",!0)]),_:2},1032,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["policy","format"])):f("",!0)]),_:2},1024))),128))]),_:2},1032,["items","predicate"])]),_:1})}}}),j=A(q,[["__scopeId","data-v-fa37a4c6"]]);export{j as default};
