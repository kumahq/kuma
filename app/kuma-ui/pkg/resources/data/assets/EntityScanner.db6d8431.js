import{k as b,o as s,c as n,e as l,bV as I,j as r,b as i,ci as g,c0 as c,O as E,m as z,cc as f,F as S,cd as k,cA as C,cT as w,a as h,w as v,p as B}from"./index.d0a5646f.js";const q={name:"FormFragment",props:{title:{type:String,required:!1,default:null},forAttr:{type:String,required:!1,default:null},allInline:{type:Boolean,default:!1},hideLabelCol:{type:Boolean,default:!1},equalCols:{type:Boolean,default:!1},shiftRight:{type:Boolean,default:!1}}},x={class:"form-line-wrapper"},R={key:0,class:"form-line__col"},$=["for"];function F(e,d,t,p,o,u){return s(),n("div",x,[l("div",{class:g(["form-line",{"has-equal-cols":t.equalCols}])},[t.hideLabelCol?r("",!0):(s(),n("div",R,[l("label",{for:t.forAttr,class:"k-input-label"},I(t.title)+`:
        `,9,$)])),i(),l("div",{class:g(["form-line__col",{"is-inline":t.allInline,"is-shifted-right":t.shiftRight}])},[c(e.$slots,"default")],2)],2)])}const oe=b(q,[["render",F],["__scopeId","data-v-072dcdd9"]]);const K={components:{KButton:E,KIcon:z},props:{steps:{type:Array,default:()=>{}},sidebarContent:{type:Array,required:!0,default:()=>{}},footerEnabled:{type:Boolean,default:!0},nextDisabled:{type:Boolean,default:!0}},emits:["goToStep"],data(){return{start:0}},computed:{step:{get(){return this.steps[this.start].slug},set(e){return this.steps[e].slug}},indexCanAdvance(){return this.start>=this.steps.length-1},indexCanReverse(){return this.start<=0}},mounted(){this.setStartingStep()},methods:{goToNextStep(){this.start++,this.updateQuery("step",this.start),this.$emit("goToStep",this.step)},goToPrevStep(){this.start--,this.updateQuery("step",this.start),this.$emit("goToStep",this.step)},updateQuery(e,d){const t=this.$router,p=this.$route;p.query?t.push({query:Object.assign({},p.query,{[e]:d})}):t.push({query:{[e]:d}})},setStartingStep(){const e=this.$route.query.step;this.start=e||0}}},N={class:"wizard-steps"},T={class:"wizard-steps__content-wrapper"},A={class:"wizard-steps__indicator"},V={class:"wizard-steps__indicator__controls",role:"tablist","aria-label":"steptabs"},D=["aria-selected","aria-controls"],L={class:"wizard-steps__content"},O={ref:"wizardForm",autocomplete:"off"},P=["id","aria-labelledby"],Q={key:0,class:"wizard-steps__footer"},j={class:"wizard-steps__sidebar"},U={class:"wizard-steps__sidebar__content"};function G(e,d,t,p,o,u){const m=f("KIcon"),y=f("KButton");return s(),n("div",N,[l("div",T,[l("header",A,[l("ul",V,[(s(!0),n(S,null,k(t.steps,(a,_)=>(s(),n("li",{key:a.slug,"aria-selected":u.step===a.slug?"true":"false","aria-controls":`wizard-steps__content__item--${_}`,class:g([{"is-complete":_<=o.start},"wizard-steps__indicator__item"])},[l("span",null,I(a.label),1)],10,D))),128))])]),i(),l("div",L,[l("form",O,[(s(!0),n(S,null,k(t.steps,(a,_)=>(s(),n("div",{id:`wizard-steps__content__item--${_}`,key:a.slug,"aria-labelledby":`wizard-steps__content__item--${_}`,role:"tabpanel",tabindex:"0",class:"wizard-steps__content__item"},[u.step===a.slug?c(e.$slots,a.slug,{key:0},void 0,!0):r("",!0)],8,P))),128))],512)]),i(),t.footerEnabled?(s(),n("footer",Q,[C(h(y,{appearance:"outline","data-testid":"next-previous-button",onClick:u.goToPrevStep},{default:v(()=>[h(m,{icon:"chevronLeft",color:"currentColor",size:"16","hide-title":""}),i(`

          Previous
        `)]),_:1},8,["onClick"]),[[w,!u.indexCanReverse]]),i(),C(h(y,{disabled:t.nextDisabled,appearance:"primary","data-testid":"next-step-button",onClick:u.goToNextStep},{default:v(()=>[i(`
          Next

          `),h(m,{icon:"chevronRight",color:"currentColor",size:"16","hide-title":""})]),_:1},8,["disabled","onClick"]),[[w,!u.indexCanAdvance]])])):r("",!0)]),i(),l("aside",j,[l("div",U,[(s(!0),n(S,null,k(t.sidebarContent,(a,_)=>(s(),n("div",{key:a.name,class:g(["wizard-steps__sidebar__item",`wizard-steps__sidebar__item--${_}`])},[c(e.$slots,a.name,{},void 0,!0)],2))),128))])])])}const ae=b(K,[["render",G],["__scopeId","data-v-26c0afb3"]]);const H={},J={class:"icon-success mb-3",role:"img"};function M(e,d){return s(),n("i",J,`
    \u2713
  `)}const W=b(H,[["render",M],["__scopeId","data-v-fdd227f8"]]);const X={name:"EntityScanner",components:{IconSuccess:W,KEmptyState:B,KIcon:z},props:{interval:{type:Number,required:!1,default:1e3},retries:{type:Number,required:!1,default:3600},shouldStart:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},loaderFunction:{type:Function,required:!0},canComplete:{type:Boolean,default:!1}},emits:["hide-siblings"],data(){return{i:0,isRunning:!1,isComplete:!1,intervalId:null}},watch:{shouldStart(e,d){e!==d&&e===!0&&this.runScanner()}},mounted(){this.shouldStart===!0&&this.runScanner()},beforeUnmount(){clearInterval(this.intervalId)},methods:{runScanner(){this.isRunning=!0,this.isComplete=!1,this.intervalId=setInterval(()=>{this.i++,this.loaderFunction(),(this.i===this.retries||this.canComplete===!0)&&(clearInterval(this.intervalId),this.isRunning=!1,this.isComplete=!0,this.$emit("hide-siblings",!0))},this.interval)}}},Y={key:0,class:"scanner"},Z={class:"scanner-content"},ee={key:0,class:"mb-3"},te={key:1,class:"mb-3"},se={key:3},ne={key:1};function re(e,d,t,p,o,u){const m=f("KIcon"),y=f("IconSuccess"),a=f("KEmptyState");return t.shouldStart?(s(),n("div",Y,[l("div",Z,[h(a,{"cta-is-hidden":""},{title:v(()=>[o.isRunning?(s(),n("div",ee,[h(m,{icon:"spinner",color:"rgba(0, 0, 0, 0.1)",size:"42"})])):r("",!0),i(),o.isComplete&&t.hasError===!1&&o.isRunning===!1?(s(),n("div",te,[h(y)])):r("",!0),i(),o.isRunning?c(e.$slots,"loading-title",{key:2},void 0,!0):r("",!0),i(),o.isRunning===!1?(s(),n("div",se,[t.hasError?c(e.$slots,"error-title",{key:0},void 0,!0):r("",!0),i(),o.isComplete&&t.hasError===!1?c(e.$slots,"complete-title",{key:1},void 0,!0):r("",!0)])):r("",!0)]),message:v(()=>[o.isRunning?c(e.$slots,"loading-content",{key:0},void 0,!0):r("",!0),i(),o.isRunning===!1?(s(),n("div",ne,[t.hasError?c(e.$slots,"error-content",{key:0},void 0,!0):r("",!0),i(),o.isComplete&&t.hasError===!1?c(e.$slots,"complete-content",{key:1},void 0,!0):r("",!0)])):r("",!0)]),_:3})])])):r("",!0)}const le=b(X,[["render",re],["__scopeId","data-v-08046da7"]]);export{le as E,oe as F,ae as S};
