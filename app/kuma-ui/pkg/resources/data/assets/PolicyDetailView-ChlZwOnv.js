import{d as N,r as p,p as m,o as d,w as e,b as t,e as a,q as y,O as f,t as s,m as B,F as T,K as L,c as K,L as P,y as q,l as F}from"./index-CC3th7Bv.js";const S=N({__name:"PolicyDetailView",props:{data:{}},setup(h){const l=h;return(G,i)=>{const z=p("XBadge"),_=p("XAction"),w=p("KumaTargetRef"),C=p("XAboutCard"),b=p("XActionGroup"),k=p("XDrawer"),v=p("RouterView"),X=p("DataCollection"),V=p("DataLoader"),A=p("XCard"),D=p("AppView"),R=p("RouteView");return d(),m(R,{name:"policy-detail-view",params:{page:1,size:Number,s:"",mesh:"",policy:"",policyPath:"",proxy:""}},{default:e(({route:o,t:r,uri:x,can:g,me:c})=>[t(D,null,{default:e(()=>[t(C,{title:r("policies.detail.about.title"),created:l.data.creationTime,modified:l.data.modificationTime},{default:e(()=>[t(f,{layout:"horizontal"},{title:e(()=>[a(s(r("http.api.property.type")),1)]),body:e(()=>[t(z,{appearance:"decorative"},{default:e(()=>[a(s(l.data.type),1)]),_:1})]),_:2},1024),i[4]||(i[4]=a()),l.data.namespace.length>0?(d(),m(f,{key:0,layout:"horizontal"},{title:e(()=>[a(s(r("http.api.property.namespace")),1)]),body:e(()=>[t(z,{appearance:"decorative"},{default:e(()=>[a(s(l.data.namespace),1)]),_:1})]),_:2},1024)):y("",!0),i[5]||(i[5]=a()),g("use zones")&&l.data.zone?(d(),m(f,{key:1,layout:"horizontal"},{title:e(()=>[a(s(r("http.api.property.zone")),1)]),body:e(()=>[t(z,{appearance:"decorative"},{default:e(()=>[t(_,{to:{name:"zone-cp-detail-view",params:{zone:l.data.zone}}},{default:e(()=>[a(s(l.data.zone),1)]),_:1},8,["to"])]),_:1})]),_:2},1024)):y("",!0),i[6]||(i[6]=a()),l.data.spec?(d(),m(f,{key:2,layout:"horizontal"},{title:e(()=>[a(s(r("http.api.property.targetRef")),1)]),body:e(()=>[t(w,{"target-ref":l.data.spec?.targetRef},null,8,["target-ref"])]),_:2},1024)):y("",!0)]),_:2},1032,["title","created","modified"]),i[12]||(i[12]=a()),t(A,null,{title:e(()=>[F("h3",null,s(r("policies.detail.data-planes.title")),1)]),default:e(()=>[i[11]||(i[11]=a()),t(V,{src:x(B(T),"/meshes/:mesh/policy-path/:path/policy/:name/dataplanes",{mesh:o.params.mesh,path:o.params.policyPath,name:l.data.id},{page:o.params.page,size:o.params.size}),variant:"list"},{default:e(({data:u})=>[t(X,{type:"data-planes",items:u.items,page:o.params.page,"page-size":o.params.size,total:u.total,onChange:o.update},{default:e(()=>[t(L,{headers:[{...c.get("headers.name"),label:"Name",key:"name"},{...c.get("headers.namespace"),label:"Namespace",key:"namespace"},...g("use zones")?[{...c.get("headers.zone"),label:"Zone",key:"zone"}]:[],{...c.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],items:u.items,"is-selected-row":n=>n.id===o.params.proxy,onResize:c.set},{name:e(({row:n})=>[t(_,{"data-action":"",to:{name:"data-plane-detail-view",params:{proxy:n.id}}},{default:e(()=>[a(s(n.name),1)]),_:2},1032,["to"])]),namespace:e(({row:n})=>[a(s(n.namespace),1)]),zone:e(({row:n})=>[n.zone?(d(),m(_,{key:0,to:{name:"zone-cp-detail-view",params:{zone:n.zone}}},{default:e(()=>[a(s(n.zone),1)]),_:2},1032,["to"])):(d(),K(P,{key:1},[a(s(r("common.collection.none")),1)],64))]),actions:e(({row:n})=>[t(b,null,{default:e(()=>[t(_,{to:{name:"data-plane-detail-view",params:{proxy:n.id}}},{default:e(()=>[a(s(r("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1032,["headers","items","is-selected-row","onResize"]),i[10]||(i[10]=a()),t(v,null,{default:e(({Component:n})=>[o.child()?(d(),m(k,{key:0,onClose:E=>o.replace({params:{mesh:o.params.mesh},query:{page:o.params.page,size:o.params.size,s:o.params.s}})},{default:e(()=>[typeof u<"u"?(d(),m(q(n),{key:0,items:u.items},null,8,["items"])):y("",!0)]),_:2},1032,["onClose"])):y("",!0)]),_:2},1024)]),_:2},1032,["items","page","page-size","total","onChange"])]),_:2},1032,["src"])]),_:2},1024)]),_:2},1024)]),_:1})}}});export{S as default};
