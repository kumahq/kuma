import{d as A,r as u,c as S,o as m,a as g,b as a,w as o,e,t as c,n as I,_ as z,f as R,h as D,g as V,i as M,u as U,j as O,k as x,l as r,m as i,p as h,q as k,s as K,v as T,x as B,y as L,z as b}from"./index-DzjyxUQd.js";const G=""+new URL("product-logo-CDoXkXpC.png",import.meta.url).href,P={class:"app-navigator"},q=A({__name:"AppNavigator",props:{active:{type:Boolean,default:!1},label:{default:""},to:{default:()=>({})}},setup(d){const s=d;return(p,n)=>{const l=u("XAction");return m(),S("li",P,[g(p.$slots,"default",{},()=>[a(l,{class:I({"is-active":s.active}),to:s.to},{default:o(()=>[e(c(s.label),1)]),_:1},8,["class","to"])],!0)])}}}),$=z(q,[["__scopeId","data-v-a28d552b"]]),H=A({name:"github-button",props:{href:String,ariaLabel:String,title:String,dataIcon:String,dataColorScheme:String,dataSize:String,dataShowCount:String,dataText:String},render:function(){const d={ref:"_"};for(const s in this.$props)d[D(s)]=this.$props[s];return V("span",[M(this.$slots,"default")?V("a",d,this.$slots.default()):V("a",d)])},mounted:function(){this.paint()},beforeUpdate:function(){this.reset()},updated:function(){this.paint()},beforeUnmount:function(){this.reset()},methods:{paint:function(){if(this.$el.lastChild!==this.$refs._)return;const d=this.$el.appendChild(document.createElement("span")),s=this;R(()=>import("./buttons.esm-DK2fWHEW.js"),[],import.meta.url).then(function(p){s.$el.lastChild===d&&p.render(d.appendChild(s.$refs._),function(n){s.$el.lastChild===d&&d.parentNode.replaceChild(n,d)})})},reset:function(){this.$refs._!=null&&this.$el.replaceChild(this.$refs._,this.$el.lastChild)}}}),Z={class:"application-shell"},j={role:"banner"},F={class:"horizontal-list"},J={class:"upgrade-check-wrapper"},Q={class:"horizontal-list"},W={class:"app-status app-status--mobile"},Y={class:"app-status app-status--desktop"},tt={class:"app-content-container"},et={class:"app-sidebar"},ot={"aria-label":"Main"},nt={key:0},at={key:1,role:"separator",class:"navigation-separator"},st={key:2},it={class:"app-main-content"},rt=A({__name:"ApplicationShell",setup(d){const s=U(),p=O(),{t:n}=x();return(l,t)=>{const v=u("XTeleportSlot"),f=u("XAction"),w=u("XLayout"),N=u("XAlert"),_=u("DataSource"),C=u("XPop"),X=u("XIcon"),E=u("XActionGroup");return m(),S("div",Z,[a(v,{name:"modal-layer"}),t[20]||(t[20]=e()),r("header",j,[r("div",F,[g(l.$slots,"header",{},()=>[a(f,{to:{name:"control-plane-root-view"}},{default:o(()=>[g(l.$slots,"home",{},void 0,!0)]),_:3}),t[3]||(t[3]=e()),a(i(H),{class:"gh-star",href:"https://github.com/kumahq/kuma","aria-label":"Star kumahq/kuma on GitHub"},{default:o(()=>[...t[0]||(t[0]=[e(`
            Star
          `,-1)])]),_:1}),t[4]||(t[4]=e()),r("div",J,[a(_,{src:"/control-plane/version/latest"},{default:o(({data:y})=>[y&&i(p)("KUMA_VERSION")!==y.version?(m(),h(N,{key:0,class:"upgrade-alert","data-testid":"upgrade-check",appearance:"info"},{default:o(()=>[a(w,{type:"separated"},{default:o(()=>[r("p",null,c(i(n)("common.product.name"))+` update available
                  `,1),t[2]||(t[2]=e()),a(f,{appearance:"primary",href:i(n)("common.product.href.install")},{default:o(()=>[...t[1]||(t[1]=[e(`
                    Update
                  `,-1)])]),_:1},8,["href"])]),_:1})]),_:1})):k("",!0)]),_:1})])],!0)]),t[16]||(t[16]=e()),r("div",Q,[g(l.$slots,"content-info",{},()=>[r("div",W,[a(C,{width:"280"},{content:o(()=>[r("p",null,[e(c(i(n)("common.product.name"))+" ",1),r("b",null,c(i(p)("KUMA_VERSION")),1),t[6]||(t[6]=e(" on ",-1)),r("b",null,c(i(n)(`common.product.environment.${i(p)("KUMA_ENVIRONMENT")}`)),1),e(" ("+c(i(n)(`common.product.mode.${i(p)("KUMA_MODE")}`))+`)
                `,1)])]),default:o(()=>[a(f,{appearance:"tertiary"},{default:o(()=>[...t[5]||(t[5]=[e(`
                Info
              `,-1)])]),_:1}),t[7]||(t[7]=e())]),_:1})]),t[14]||(t[14]=e()),r("p",Y,[e(c(i(n)("common.product.name"))+" ",1),r("b",null,c(i(p)("KUMA_VERSION")),1),t[8]||(t[8]=e(" on ",-1)),r("b",null,c(i(n)(`common.product.environment.${i(p)("KUMA_ENVIRONMENT")}`)),1),e(" ("+c(i(n)(`common.product.mode.${i(p)("KUMA_MODE")}`))+`)
          `,1)]),t[15]||(t[15]=e()),a(E,null,{control:o(()=>[a(f,{appearance:"tertiary"},{default:o(()=>[a(X,{name:"help"},{default:o(()=>[...t[9]||(t[9]=[e(`
                  Help
                `,-1)])]),_:1})]),_:1})]),default:o(()=>[t[12]||(t[12]=e()),a(f,{href:i(n)("common.product.href.docs.index"),target:"_blank",rel:"noopener noreferrer"},{default:o(()=>[...t[10]||(t[10]=[e(`
              Documentation
            `,-1)])]),_:1},8,["href"]),t[13]||(t[13]=e()),a(f,{href:i(n)("common.product.href.feedback"),target:"_blank",rel:"noopener noreferrer"},{default:o(()=>[...t[11]||(t[11]=[e(`
              Feedback
            `,-1)])]),_:1},8,["href"])]),_:1})],!0)])]),t[21]||(t[21]=e()),r("div",tt,[r("div",et,[r("nav",ot,[s.navigation?(m(),S("ul",nt,[g(l.$slots,"navigation",{},void 0,!0)])):k("",!0),t[17]||(t[17]=e()),s.navigation&&s.bottomNavigation?(m(),S("div",at)):k("",!0),t[18]||(t[18]=e()),s.bottomNavigation?(m(),S("ul",st,[g(l.$slots,"bottomNavigation",{},void 0,!0)])):k("",!0)])]),t[19]||(t[19]=e()),r("main",it,[a(w,{type:"stack"},{default:o(()=>[r("div",null,[g(l.$slots,"default",{},void 0,!0)])]),_:3})])])])}}}),lt=z(rt,[["__scopeId","data-v-e77fb665"]]),dt=["alt"],pt=A({__name:"App",setup(d){const s=K(),p=s.getRoutes().find(l=>l.name==="control-plane-root-view")?.children.map(l=>(l.name=String(l.name),l))??[],n=T({name:""});return s.afterEach(()=>{const l=s.currentRoute.value.matched.map(v=>v.name),t=p.find(v=>l.includes(v.name));t&&t.name!==n.value.name&&(n.value=t)}),(l,t)=>{const v=u("RouterView"),f=u("AppView"),w=u("RouteView"),N=u("DataSource"),_=B("style");return m(),h(N,{src:"/control-plane/addresses"},{default:o(({data:C})=>[typeof C<"u"?(m(),h(w,{key:0,name:"app",attrs:{class:"kuma-ready"},"data-testid-root":"mesh-app"},{default:o(({t:X,can:E})=>[a(lt,{class:"kuma-application"},{home:o(()=>[r("img",{class:"logo",src:G,alt:`${X("common.product.name")} Logo`,"data-testid":"logo"},null,8,dt)]),navigation:o(()=>[b(a($,{"data-testid":"control-planes-navigator",active:n.value.name==="control-plane-detail-view",label:"Home",to:{name:"control-plane-root-view"}},null,8,["active"]),[[_,"--icon: var(--icon-home)"]]),t[0]||(t[0]=e()),E("use zones")?b((m(),h($,{key:0,"data-testid":"zones-navigator",active:n.value.name==="zone-index-view",label:"Zones",to:{name:"zone-index-view"}},null,8,["active"])),[[_,"--icon: var(--icon-zones)"]]):b((m(),h($,{key:1,"data-testid":"zone-egresses-navigator",active:n.value.name==="zone-egress-index-view",label:"ZoneEgresses",to:{name:"zone-egress-list-view"}},null,8,["active"])),[[_,"--icon: var(--icon-zone-egresses)"]]),t[1]||(t[1]=e()),b(a($,{active:n.value.name==="mesh-index-view","data-testid":"meshes-navigator",label:"Meshes",to:{name:"mesh-index-view"}},null,8,["active"]),[[_,"--icon: var(--icon-meshes)"]])]),bottomNavigation:o(()=>[b(a($,{active:n.value.name==="configuration-view","data-testid":"configuration-navigator",label:"Configuration",to:{name:"configuration-view"}},null,8,["active"]),[[_,"--icon: var(--icon-configuration)"]])]),default:o(()=>[t[2]||(t[2]=e()),t[3]||(t[3]=e()),t[4]||(t[4]=e()),a(f,{notifications:!0},{default:o(()=>[a(v,null,{default:o(({Component:y})=>[(m(),h(L(y)))]),_:1})]),_:1})]),_:2},1024)]),_:1})):k("",!0)]),_:1})}}}),mt=z(pt,[["__scopeId","data-v-20cb2a10"]]);export{mt as default};
