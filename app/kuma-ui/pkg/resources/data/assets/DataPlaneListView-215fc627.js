import{D as g,K as y}from"./KFilterBar-4799bc27.js";import{d as h,r as s,o as n,i,w as a,j as o,p as V,n as b,E as w,m as C,t as k}from"./index-24ab6634.js";import"./AppCollection-e79aabd5.js";import"./EmptyBlock.vue_vue_type_script_setup_true_lang-8b72529c.js";import"./StatusBadge-04acac34.js";import"./dataplane-0a086c06.js";const v=h({__name:"DataPlaneListView",setup(z){return(q,x)=>{const c=s("RouteTitle"),m=s("KCard"),_=s("AppView"),p=s("DataSource"),d=s("RouteView");return n(),i(p,{src:"/me"},{default:a(({data:u})=>[u?(n(),i(d,{key:0,name:"data-plane-list-view",params:{page:1,size:50,query:"",s:"",mesh:""}},{default:a(({route:e,t:f})=>[o(p,{src:`/meshes/${e.params.mesh}/dataplanes?page=${e.params.page}&size=${e.params.size}&search=${e.params.s}`},{default:a(({data:t,error:r})=>[o(_,null,{title:a(()=>[V("h2",null,[o(c,{title:f("data-planes.routes.items.title"),render:!0},null,8,["title"])])]),default:a(()=>[b(),o(m,null,{body:a(()=>[r!==void 0?(n(),i(w,{key:0,error:r},null,8,["error"])):(n(),i(g,{key:1,"data-testid":"data-plane-collection",class:"data-plane-collection","page-number":parseInt(e.params.page),"page-size":parseInt(e.params.size),total:t==null?void 0:t.total,items:t==null?void 0:t.items,error:r,onChange:e.update},{toolbar:a(()=>[o(y,{class:"data-plane-proxy-filter",placeholder:"tag: 'kuma.io/protocol: http'",query:e.params.query,fields:{name:{description:"filter by name or parts of a name"},service:{description:"filter by “kuma.io/service” value"},tag:{description:"filter by tags (e.g. “tag: version:2”)"},zone:{description:"filter by “kuma.io/zone” value"}},onFieldsChange:l=>e.update({query:l.query,s:l.query.length>0?JSON.stringify(l.fields):""})},null,8,["placeholder","query","fields","onFieldsChange"])]),_:2},1032,["page-number","page-size","total","items","error","onChange"]))]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])]),_:1})):C("",!0)]),_:1})}}});const R=k(v,[["__scopeId","data-v-58f131b4"]]);export{R as default};
