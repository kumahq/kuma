import{d as D,g as x,h as g,r as h,o as l,l as p,j as i,w as t,n as e,H as n,k as a,p as u,i as b,a8 as R,K as C,m as B,a7 as f,F as w,t as P,e as L,D as N,G as E,aa as G}from"./index-1d7076e0.js";import{_ as K}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-d20914a5.js";import{S as $}from"./StatusBadge-8def1553.js";import{T as V}from"./TagList-40e7707b.js";import{a as A,d as U,b as j}from"./dataplane-0a086c06.js";const z={class:"stack"},F={class:"status-with-reason"},H=D({__name:"DataPlaneSummary",props:{dataplaneOverview:{}},setup(r){const{t:s,formatIsoDate:k}=x(),o=r,d=g(()=>A(o.dataplaneOverview.dataplane,o.dataplaneOverview.dataplaneInsight)),m=g(()=>U(o.dataplaneOverview.dataplane)),_=g(()=>j(o.dataplaneOverview.dataplaneInsight)),c=g(()=>{var y;const v=((y=o.dataplaneOverview.dataplaneInsight)==null?void 0:y.subscriptions)??[];if(v.length===0)return null;const S=v[v.length-1];return k(S.status.lastUpdateTime)});return(v,S)=>{const y=h("KTooltip");return l(),p("div",z,[i(f,null,{title:t(()=>[e(n(a(s)("http.api.property.status")),1)]),body:t(()=>[u("div",F,[i($,{status:d.value.status},null,8,["status"]),e(),d.value.reason.length>0?(l(),b(y,{key:0,label:d.value.reason.join(", "),class:"reason-tooltip"},{default:t(()=>[i(a(R),{size:a(C),"hide-title":""},null,8,["size"])]),_:1},8,["label"])):B("",!0)])]),_:1}),e(),i(f,null,{title:t(()=>[e(n(a(s)("http.api.property.tags")),1)]),body:t(()=>[m.value.length>0?(l(),b(V,{key:0,tags:m.value},null,8,["tags"])):(l(),p(w,{key:1},[e(n(a(s)("common.detail.none")),1)],64))]),_:1}),e(),i(f,null,{title:t(()=>[e(n(a(s)("http.api.property.dependencies")),1)]),body:t(()=>[_.value!==null?(l(),b(V,{key:0,tags:_.value},null,8,["tags"])):(l(),p(w,{key:1},[e(n(a(s)("common.detail.none")),1)],64))]),_:1}),e(),i(f,null,{title:t(()=>[e(n(a(s)("data-planes.routes.item.last_updated")),1)]),body:t(()=>[c.value?(l(),p(w,{key:0},[e(n(c.value),1)],64)):(l(),p(w,{key:1},[e(n(a(s)("common.detail.none")),1)],64))]),_:1}),e(),i(f,null,{title:t(()=>[e(n(a(s)("data-planes.routes.item.certificate_info")),1)]),body:t(()=>{var T,I,O;return[(I=(T=o.dataplaneOverview.dataplaneInsight)==null?void 0:T.mTLS)!=null&&I.certificateExpirationTime?(l(),p(w,{key:0},[e(n(a(k)((O=o.dataplaneOverview.dataplaneInsight)==null?void 0:O.mTLS.certificateExpirationTime)),1)],64)):(l(),p(w,{key:1},[e(n(a(s)("data-planes.routes.item.no_certificate")),1)],64))]}),_:1})])}}});const W=P(H,[["__scopeId","data-v-7f165bbf"]]),Z=r=>(N("data-v-b90b45fd"),r=r(),E(),r),q={class:"summary-title-wrapper"},J=Z(()=>u("img",{"aria-hidden":"true",src:G},null,-1)),M={class:"summary-title"},Q={key:1,class:"stack"},X=D({__name:"DataPlaneSummaryView",props:{name:{},dataplaneOverview:{default:void 0}},setup(r){const{t:s}=x(),k=L(),o=r,d=g(()=>{var m,_,c;return((c=(_=(m=o.dataplaneOverview)==null?void 0:m.dataplane)==null?void 0:_.networking)==null?void 0:c.gateway)!==void 0});return(m,_)=>{const c=h("RouteTitle"),v=h("RouterLink"),S=h("AppView"),y=h("RouteView");return l(),b(y,{name:a(k).name},{default:t(()=>[i(S,null,{title:t(()=>[u("div",q,[J,e(),u("h2",M,[i(v,{to:{name:d.value?"gateway-detail-view":"data-plane-detail-view",params:{dataPlane:o.name}}},{default:t(()=>[i(c,{title:a(s)("data-planes.routes.item.title",{name:o.name}),render:!0},null,8,["title"])]),_:1},8,["to"])])])]),default:t(()=>[e(),o.dataplaneOverview===void 0?(l(),b(K,{key:0},{message:t(()=>[u("p",null,n(a(s)("common.collection.summary.empty_message",{type:d.value?"Gateway":"Dataplane"})),1)]),default:t(()=>[e(n(a(s)("common.collection.summary.empty_title",{type:d.value?"Gateway":"Dataplane"}))+" ",1)]),_:1})):(l(),p("div",Q,[u("div",null,[u("h3",null,n(a(s)("data-planes.routes.item.overview")),1),e(),i(W,{class:"mt-4","dataplane-overview":o.dataplaneOverview},null,8,["dataplane-overview"])])]))]),_:1})]),_:1},8,["name"])}}});const ne=P(X,[["__scopeId","data-v-b90b45fd"]]);export{ne as default};
