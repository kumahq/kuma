import{d as h,r as a,m,o as i,w as s,p as _,e as r,b as o,M as R,s as b,am as B,C as S,t as d,S as T,c as D,F as N,K as E,q as L}from"./index-BZVHwOre.js";import{S as q}from"./SummaryView-DOccwuLZ.js";const Z=h({__name:"ZoneEgressListView",setup(F){return(G,n)=>{const u=a("RouteTitle"),y=a("XI18n"),g=a("XAction"),w=a("XCopyButton"),f=a("XActionGroup"),k=a("RouterView"),C=a("DataCollection"),x=a("DataLoader"),A=a("XCard"),V=a("AppView"),v=a("RouteView");return i(),m(v,{name:"zone-egress-list-view",params:{page:1,size:Number,zone:"",proxy:"",proxyType:""}},{default:s(({route:e,t:l,me:p,uri:X,can:z})=>[z("use zones")?(i(),m(u,{key:0,render:!1,title:l("zone-egresses.routes.items.title")},null,8,["title"])):_("",!0),n[6]||(n[6]=r()),o(V,{docs:l("zone-egresses.href.docs")},R({default:s(()=>[n[4]||(n[4]=r()),o(y,{path:"zone-egresses.routes.items.intro","default-path":"common.i18n.ignore-error"}),n[5]||(n[5]=r()),o(A,null,{default:s(()=>[o(x,{src:X(b(B),"/zone-cps/:name/egresses",{name:e.params.zone||"*"},{page:e.params.page,size:e.params.size}),variant:"list"},{default:s(({data:c})=>[o(C,{type:"zone-egresses",items:c.items,page:e.params.page,"page-size":e.params.size,total:c.total,onChange:e.update},{default:s(()=>[o(S,{class:"zone-egress-collection","data-testid":"zone-egress-collection",headers:[{...p.get("headers.name"),label:"Name",key:"name"},{...p.get("headers.socketAddress"),label:"Address",key:"socketAddress"},{...p.get("headers.status"),label:"Status",key:"status"},{...p.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],items:c.items,"is-selected-row":t=>t.name===e.params.proxy,onResize:p.set},{name:s(({row:t})=>[o(g,{"data-action":"",to:{name:"zone-egress-summary-view",params:{zone:e.params.zone,proxy:t.id},query:{page:e.params.page,size:e.params.size}}},{default:s(()=>[r(d(t.name),1)]),_:2},1032,["to"])]),socketAddress:s(({row:t})=>[t.zoneEgress.socketAddress.length>0?(i(),m(w,{key:0,text:t.zoneEgress.socketAddress},null,8,["text"])):(i(),D(N,{key:1},[r(d(l("common.collection.none")),1)],64))]),status:s(({row:t})=>[o(T,{status:t.state},null,8,["status"])]),actions:s(({row:t})=>[o(f,null,{default:s(()=>[o(g,{to:{name:"zone-egress-detail-view",params:{proxyType:"egresses",proxy:t.id}}},{default:s(()=>[r(d(l("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1032,["headers","items","is-selected-row","onResize"]),n[3]||(n[3]=r()),o(k,null,{default:s(({Component:t})=>[e.child()?(i(),m(q,{key:0,onClose:I=>e.replace({name:"zone-egress-list-view",params:{zone:e.params.zone,proxyType:e.params.proxyType},query:{page:e.params.page,size:e.params.size}})},{default:s(()=>[(i(),m(E(t),{items:c.items},null,8,["items"]))]),_:2},1032,["onClose"])):_("",!0)]),_:2},1024)]),_:2},1032,["items","page","page-size","total","onChange"])]),_:2},1032,["src"])]),_:2},1024)]),_:2},[z("use zones")?void 0:{name:"title",fn:s(()=>[L("h1",null,[o(u,{title:l("zone-egresses.routes.items.title")},null,8,["title"])])]),key:"0"}]),1032,["docs"])]),_:1})}}});export{Z as default};
