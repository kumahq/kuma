import{d as F,p,o as s,w as a,b as i,e as d,r as e,c as N,L as j,N as A,t as B,m as M,A as O}from"./index-nKo0SQOd.js";const T=F({__name:"ZoneConfigView",props:{data:{}},setup(z){const o=z;return($,r)=>{const k=e("RouteTitle"),y=e("XI18n"),w=e("XNotification"),x=e("XCodeBlock"),R=e("XAlert"),X=e("XCard"),v=e("AppView"),I=e("DataSource"),V=e("RouteView");return s(),p(V,{name:"zone-cp-config-view",params:{zone:"",codeSearch:"",codeFilter:!1,codeRegExp:!1}},{default:a(({route:t,t:m,uri:S})=>{var u,g;return[i(k,{render:!1,title:m("zone-cps.routes.item.navigation.zone-cp-config-view")},null,8,["title"]),r[1]||(r[1]=d()),i(I,{src:S(M(O),"/control-plane/outdated/:version",{version:((g=(u=o.data.zoneInsight.version)==null?void 0:u.kumaCp)==null?void 0:g.version)??"-"})},{default:a(({data:l})=>[i(v,{notifications:!0},{default:a(()=>{var _,f,C,h,b;return[(s(!0),N(A,null,j([{bool:o.data.zoneInsight.store==="memory",key:"store-memory"},{bool:!((f=(_=o.data.zoneInsight.version)==null?void 0:_.kumaCp)!=null&&f.kumaCpGlobalCompatible),key:"global-cp-incompatible",params:{zoneCpVersion:((h=(C=o.data.zoneInsight.version)==null?void 0:C.kumaCp)==null?void 0:h.version)??"-",globalCpVersion:(l==null?void 0:l.version)??""}},{bool:(((b=o.data.zoneInsight.connectedSubscription)==null?void 0:b.status.total.responsesRejected)??0)>0,key:"global-nack-response"}],({bool:n,key:c,params:E})=>(s(),p(w,{key:c,notify:n,"data-testid":`warning-${c}`,uri:`zone-cps.notifications.${c}.${o.data.id}`},{default:a(()=>[i(y,{path:`zone-cps.notifications.${c}`,params:Object.fromEntries(Object.entries(E??{}))},null,8,["path","params"])]),_:2},1032,["notify","data-testid","uri"]))),128)),r[0]||(r[0]=d()),i(X,null,{default:a(()=>[Object.keys(o.data.zoneInsight.config).length>0?(s(),p(x,{key:0,language:"json",code:JSON.stringify(o.data.zoneInsight.config,null,2),"is-searchable":"",query:t.params.codeSearch,"is-filter-mode":t.params.codeFilter,"is-reg-exp-mode":t.params.codeRegExp,onQueryChange:n=>t.update({codeSearch:n}),onFilterModeChange:n=>t.update({codeFilter:n}),onRegExpModeChange:n=>t.update({codeRegExp:n})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(s(),p(R,{key:1,class:"mt-4","data-testid":"warning-no-subscriptions",variant:"warning"},{default:a(()=>[d(B(m("zone-cps.detail.no_subscriptions")),1)]),_:2},1024))]),_:2},1024)]}),_:2,__:[0]},1024)]),_:2},1032,["src"])]}),_:1,__:[1]})}}});export{T as default};
