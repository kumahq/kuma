import{d as N,r as s,p as u,o as r,w as t,b as l,ae as q,c as g,N as x,L as _,e as i,l as c,t as p,M as A,q as D,O as G,m as f,Y as b,a6 as Q,_ as T}from"./index-CMmpZv7D.js";const z={key:0,class:"stack-with-borders","data-testid":"structured-view"},Y=N({__name:"BuiltinGatewaySummaryView",props:{items:{},routeName:{}},setup(S){const h=S;return(v,n)=>{const R=s("XEmptyState"),E=s("RouteTitle"),M=s("XAction"),V=s("XSelect"),w=s("XLayout"),C=s("XCodeBlock"),B=s("DataLoader"),F=s("AppView"),X=s("RouteView");return r(),u(X,{name:h.routeName,params:{mesh:"",gateway:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:t(({route:e,t:d,uri:L})=>[l(q,{items:h.items,predicate:y=>y.id===e.params.gateway,find:!0},{empty:t(()=>[l(R,null,{title:t(()=>[c("h2",null,p(d("common.collection.summary.empty_title",{type:"Gateway"})),1)]),default:t(()=>[n[0]||(n[0]=i()),c("p",null,p(d("common.collection.summary.empty_message",{type:"Gateway"})),1)]),_:2,__:[0]},1024)]),default:t(({items:y})=>[(r(!0),g(x,null,_([y[0]],m=>(r(),u(F,{key:m.id},{title:t(()=>[c("h2",null,[l(M,{to:{name:"builtin-gateway-detail-view",params:{mesh:m.mesh,gateway:m.id}}},{default:t(()=>[l(E,{title:d("builtin-gateways.routes.item.title",{name:m.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:t(()=>[n[4]||(n[4]=i()),l(w,{type:"stack"},{default:t(()=>[c("header",null,[l(w,{type:"separated",size:"max"},{default:t(()=>[c("h3",null,p(d("gateways.routes.item.config")),1),n[1]||(n[1]=i()),(r(),g(x,null,_([["structured","universal","k8s"]],o=>c("div",{key:typeof o},[l(V,{label:d("gateways.routes.item.format"),selected:e.params.format,onChange:a=>{e.update({format:a})},onVnodeBeforeMount:a=>{var k;return((k=a==null?void 0:a.props)==null?void 0:k.selected)&&o.includes(a.props.selected)&&a.props.selected!==e.params.format&&e.update({format:a.props.selected})}},A({_:2},[_(o,a=>({name:`${a}-option`,fn:t(()=>[i(p(d(`gateways.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2,__:[1]},1024)]),n[3]||(n[3]=i()),e.params.format==="structured"?(r(),g("div",z,[m.namespace.length>0?(r(),u(G,{key:0,layout:"horizontal"},{title:t(()=>[i(p(d("gateways.routes.item.namespace")),1)]),body:t(()=>[i(p(m.namespace),1)]),_:2,__:[2]},1024)):D("",!0)])):e.params.format==="universal"?(r(),u(C,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",code:f(b).stringify(m.config),"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:o=>e.update({codeSearch:o}),onFilterModeChange:o=>e.update({codeFilter:o}),onRegExpModeChange:o=>e.update({codeRegExp:o})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(r(),u(B,{key:2,src:L(f(Q),"/meshes/:mesh/mesh-gateways/:name/as/kubernetes",{mesh:e.params.mesh,name:e.params.gateway})},{default:t(({data:o})=>[l(C,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:f(b).stringify(o),"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:a=>e.update({codeSearch:a}),onFilterModeChange:a=>e.update({codeFilter:a}),onRegExpModeChange:a=>e.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2,__:[3]},1024)]),_:2,__:[4]},1024))),128))]),_:2,__:[5]},1032,["items","predicate"])]),_:1},8,["name"])}}}),O=T(Y,[["__scopeId","data-v-253c2bf5"]]);export{O as default};
