import{k as E,_ as V,r as c,o as l,f as w,b as u,w as n,d as a,n as d,h as r,e as p,z as j,B as L}from"./index.6180ff6f.js";import{j as K}from"./index.124532c3.js";import{C as O}from"./CodeBlock.c76d2442.js";const T={name:"YamlView",components:{CodeBlock:O},props:{title:{type:String,default:null},content:{type:Object,default:null},loaders:{type:Boolean,default:!0},isLoading:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1}},data(){return{tabs:[{hash:"#universal",title:"Universal"},{hash:"#kubernetes",title:"Kubernetes"}]}},computed:{...E({environment:"config/getEnvironment"}),isReady(){return!this.isEmpty&&!this.hasError&&!this.isLoading},activeTab:{get(){const e=this.environment;return{hash:`#${e}`,nohash:e}},set(e){return{hash:`#${e}`,nohash:e}}},yamlTitle(){var e;return this.title?this.title:(e=this.content)!=null&&e.name?`Entity Overview for ${this.content.name}`:"Entity Overview"},yamlContent(){const e=this.content,h=()=>{const i={},y=Object.assign({},this.content),{name:t,mesh:v,type:b}=y,_=()=>{const o=Object.assign({},this.content);return delete o.type,delete o.mesh,delete o.name,o&&Object.entries(o).length>0?o:!1};if(i.apiVersion="kuma.io/v1alpha1",i.kind=b,v!==void 0&&(i.mesh=y.mesh),t!=null&&t.includes(".")){const o=t.split("."),f=o.pop(),k=o.join(".");i.metadata={name:k,namespace:f}}else i.metadata={name:t};return _()&&(i.spec=_()),i};return{universal:K(e),kubernetes:K(h())}}}},B=e=>(j("data-v-62d74c68"),e=e(),L(),e),Y={class:"yaml-view"},x={key:0,class:"yaml-view-content"},z=p(" Copy Universal YAML "),I=B(()=>r("div",null,[r("p",null,"Entity copied to clipboard!")],-1)),S=p(" Copy Kubernetes YAML "),N=B(()=>r("div",null,[r("p",null,"Entity copied to clipboard!")],-1)),P={key:1},A={class:"card-icon mb-3"},U=p(" Data Loading... "),M={class:"card-icon mb-3"},R=p(" There is no data to display. "),D={class:"card-icon mb-3"},G=p(" An error has occurred while trying to load this data. ");function q(e,h,s,i,y,t){const v=c("KButton"),b=c("KPop"),_=c("KClipboardProvider"),o=c("CodeBlock"),f=c("KTabs"),k=c("KCard"),g=c("KIcon"),C=c("KEmptyState");return l(),w("div",Y,[t.isReady?(l(),w("div",x,[!s.isLoading&&!s.isEmpty?(l(),u(k,{key:0,title:t.yamlTitle,"border-variant":"noBorder"},{body:n(()=>[(l(),u(f,{key:e.environment,modelValue:t.activeTab.hash,"onUpdate:modelValue":h[0]||(h[0]=m=>t.activeTab.hash=m),tabs:y.tabs},{universal:n(()=>[a(_,null,{default:n(({copyToClipboard:m})=>[a(b,{placement:"bottom"},{content:n(()=>[I]),default:n(()=>[a(v,{class:"copy-button",appearance:"primary",size:"small",onClick:()=>{m(t.yamlContent.universal)}},{default:n(()=>[z]),_:2},1032,["onClick"])]),_:2},1024)]),_:1}),a(o,{language:"yaml",code:t.yamlContent.universal},null,8,["code"])]),kubernetes:n(()=>[a(_,null,{default:n(({copyToClipboard:m})=>[a(b,{placement:"bottom"},{content:n(()=>[N]),default:n(()=>[a(v,{class:"copy-button",appearance:"primary",size:"small",onClick:()=>{m(t.yamlContent.kubernetes)}},{default:n(()=>[S]),_:2},1032,["onClick"])]),_:2},1024)]),_:1}),a(o,{language:"yaml",code:t.yamlContent.kubernetes},null,8,["code"])]),_:1},8,["modelValue","tabs"]))]),_:1},8,["title"])):d("",!0)])):d("",!0),s.loaders===!0?(l(),w("div",P,[s.isLoading?(l(),u(C,{key:0,"cta-is-hidden":""},{title:n(()=>[r("div",A,[a(g,{icon:"spinner",color:"rgba(0, 0, 0, 0.1)",size:"42"})]),U]),_:1})):d("",!0),s.isEmpty&&!s.isLoading?(l(),u(C,{key:1,"cta-is-hidden":""},{title:n(()=>[r("div",M,[a(g,{class:"kong-icon--centered",icon:"warning",color:"var(--black-75)","secondary-color":"var(--yellow-300)",size:"42"})]),R]),_:1})):d("",!0),s.hasError?(l(),u(C,{key:2,"cta-is-hidden":""},{title:n(()=>[r("div",D,[a(g,{class:"kong-icon--centered",icon:"warning",color:"var(--black-75)","secondary-color":"var(--yellow-300)",size:"42"})]),G]),_:1})):d("",!0)])):d("",!0)])}const Q=V(T,[["render",q],["__scopeId","data-v-62d74c68"]]);export{Q as Y};
