import{d as H,v as K,r as o,p as y,o as m,w as e,b as t,m as B,ap as S,M as A,e as n,L,t as c,y as Q,q as V,l as f,I as W,c as w,N,_ as Y}from"./index-e-rHSYgt.js";const Z=["onSubmit"],ee=["disabled"],te={key:0},ae={key:0},oe=H({__name:"DataPlaneDetailTabsView",props:{mesh:{}},setup(R){const M=R,l=K({eds:!1,xds:!0,clusters:!0,stats:!0,proxy:!0,policies:!0});return(ne,a)=>{const $=o("RouteTitle"),I=o("XCopyButton"),E=o("XBadge"),h=o("XLayout"),v=o("XAction"),C=o("XI18n"),D=o("XCheckbox"),U=o("XAlert"),X=o("DataLoader"),O=o("XDownload"),P=o("XModal"),g=o("XDisclosure"),j=o("XTeleportTemplate"),q=o("XTabs"),z=o("RouterView"),F=o("AppView"),J=o("RouteView");return m(),y(J,{name:"data-plane-detail-tabs-view",params:{mesh:"",proxy:""}},{default:e(({route:r,t:d,uri:T})=>[t(X,{src:T(B(S),"/meshes/:mesh/dataplane-overviews/:name",{mesh:r.params.mesh,name:r.params.proxy})},{default:e(({data:s,error:G})=>[t(F,{breadcrumbs:[{to:{name:"mesh-detail-view",params:{mesh:r.params.mesh}},text:r.params.mesh},{to:{name:"data-plane-list-view",params:{mesh:r.params.mesh}},text:d("data-planes.routes.item.breadcrumbs")}]},A({actions:e(()=>[t(g,null,{default:e(({expanded:b,toggle:p})=>[t(v,{appearance:"primary",onClick:p},{default:e(()=>a[2]||(a[2]=[n(`
              Download bundle
            `,-1)])),_:2,__:[2]},1032,["onClick"]),a[7]||(a[7]=n()),b?(m(),y(j,{key:0,to:{name:"modal-layer"}},{default:e(()=>[t(g,null,{default:e(({expanded:x,toggle:k})=>[f("form",{onSubmit:W(k,["prevent"])},[t(P,{title:d("data-planes.routes.item.download.title"),onCancel:p},{"footer-actions":e(()=>[t(h,{type:"separated"},{default:e(()=>[t(O,{onStart:p},{default:e(({download:u})=>[t(X,{variant:"spinner",src:x?T(B(S),"/meshes/:mesh/dataplanes/:name/as/tarball/:spec",{mesh:r.params.mesh,name:r.params.proxy,spec:JSON.stringify(l.value)},{cacheControl:"no-cache"}):"",onChange:u,onError:k},{error:e(()=>[t(U,{appearance:"warning","show-icon":""},{default:e(()=>[t(C,{t:"data-planes.routes.item.download.error"})]),_:1})]),_:2},1032,["src","onChange","onError"])]),_:2},1032,["onStart"]),a[5]||(a[5]=n()),t(v,{appearance:"primary",type:"submit",disabled:x||Object.values(l.value).every(u=>!u)},{default:e(()=>[n(c(d("data-planes.routes.item.download.action")),1)]),_:2},1032,["disabled"])]),_:2,__:[5]},1024)]),default:e(()=>[f("fieldset",{disabled:x},[t(C,{path:"data-planes.routes.item.download.description"}),a[4]||(a[4]=n()),f("ul",null,[(m(!0),w(N,null,L(l.value,(u,i)=>(m(),w(N,{key:typeof u},[i!=="eds"?(m(),w("li",te,[t(D,{modelValue:l.value[i],"onUpdate:modelValue":_=>l.value[i]=_,onChange:_=>{i==="xds"&&!_&&(l.value.eds=!1)}},{default:e(()=>[n(c(d(`data-planes.routes.item.download.options.${i}`)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),a[3]||(a[3]=n()),i==="xds"?(m(),w("ul",ae,[f("li",null,[t(D,{modelValue:l.value.eds,"onUpdate:modelValue":a[0]||(a[0]=_=>l.value.eds=_),disabled:!l.value.xds},{default:e(()=>[n(c(d("data-planes.routes.item.download.options.eds")),1)]),_:2},1032,["modelValue","disabled"])])])):V("",!0)])):V("",!0)],64))),128))])],8,ee),a[6]||(a[6]=n())]),_:2,__:[6]},1032,["title","onCancel"])],40,Z)]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2,__:[7]},1024)]),default:e(()=>[a[9]||(a[9]=n()),a[10]||(a[10]=n()),t(X,{data:[s],errors:[G]},{default:e(()=>{var b;return[t(q,{selected:(b=r.child())==null?void 0:b.name},A({_:2},[L(r.children,({name:p})=>({name:`${p}-tab`,fn:e(()=>[t(v,{to:{name:p}},{default:e(()=>[n(c(d(`data-planes.routes.item.navigation.${p}`)),1)]),_:2},1032,["to"])])}))]),1032,["selected"]),a[8]||(a[8]=n()),t(z,null,{default:e(({Component:p})=>[(m(),y(Q(p),{data:s,networking:s==null?void 0:s.dataplane.networking,mesh:M.mesh},null,8,["data","networking","mesh"]))]),_:2},1024)]}),_:2,__:[8]},1032,["data","errors"])]),_:2},[s?{name:"title",fn:e(()=>[t(h,{size:"small"},{default:e(()=>[f("h1",null,[t(I,{text:s.name},{default:e(()=>[t($,{title:d("data-planes.routes.item.title",{name:s.name})},null,8,["title"])]),_:2},1032,["text"])]),a[1]||(a[1]=n()),t(E,{appearance:d(`common.status.appearance.${s.status}`,void 0,{defaultMessage:"neutral"})},{default:e(()=>[n(c(d(`http.api.value.${s.status}`)),1)]),_:2},1032,["appearance"])]),_:2,__:[1]},1024)]),key:"0"}:void 0]),1032,["breadcrumbs"])]),_:2},1032,["src"])]),_:1})}}}),le=Y(oe,[["__scopeId","data-v-9c18542c"]]);export{le as default};
