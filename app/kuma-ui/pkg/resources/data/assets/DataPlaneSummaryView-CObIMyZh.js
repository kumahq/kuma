import{d as K,h as p,o as r,a as c,w as t,j as e,a8 as N,k as a,t as o,g as n,b as u,F as g,B as f,l as $,V as d,z as k,a7 as L,K as S,e as m,a3 as w,A}from"./index-CMlVV7ds.js";import{m as I}from"./kong-icons.es321-Cx0JLnQl.js";import{S as O}from"./StatusBadge-C6ZtkHTK.js";import{T}from"./TagList-BYpti6SX.js";const U={class:"stack"},E={class:"stack-with-borders"},F={class:"status-with-reason"},j={key:0},G={class:"mt-4"},Z={class:"stack-with-borders"},q={class:"mt-4 stack"},H={class:"mt-2 stack-with-borders"},J=K({__name:"DataPlaneSummaryView",props:{items:{}},setup(b){const x=b;return(M,Q)=>{const z=p("RouteTitle"),C=p("RouterLink"),V=p("KTooltip"),y=p("DataCollection"),v=p("KBadge"),D=p("AppView"),P=p("RouteView");return r(),c(P,{name:"data-plane-summary-view",params:{dataPlane:""}},{default:t(({t:s,route:B})=>[e(y,{items:x.items,predicate:h=>h.id===B.params.dataPlane,find:!0},{empty:t(()=>[e(N,null,{title:t(()=>[a(o(s("common.collection.summary.empty_title",{type:"Data Plane Proxy"})),1)]),default:t(()=>[a(),n("p",null,o(s("common.collection.summary.empty_message",{type:"Data Plane Proxy"})),1)]),_:2},1024)]),default:t(({items:h})=>[(r(!0),u(g,null,f([h[0]],l=>(r(),c(D,{key:l.id},{title:t(()=>[n("h2",{class:$(`type-${l.dataplaneType}`)},[e(C,{to:{name:"data-plane-detail-view",params:{dataPlane:l.id}}},{default:t(()=>[e(z,{title:s("data-planes.routes.item.title",{name:l.name})},null,8,["title"])]),_:2},1032,["to"])],2)]),default:t(()=>[a(),n("div",U,[n("div",E,[e(d,{layout:"horizontal"},{title:t(()=>[a(o(s("http.api.property.status")),1)]),body:t(()=>[n("div",F,[e(O,{status:l.status},null,8,["status"]),a(),l.dataplaneType==="standard"?(r(),c(y,{key:0,items:l.dataplane.networking.inbounds,predicate:_=>!_.health.ready,empty:!1},{default:t(({items:_})=>[e(V,{class:"reason-tooltip"},{content:t(()=>[n("ul",null,[(r(!0),u(g,null,f(_,i=>(r(),u("li",{key:`${i.service}:${i.port}`},o(s("data-planes.routes.item.unhealthy_inbound",{service:i.service,port:i.port})),1))),128))])]),default:t(()=>[e(k(I),{color:k(L),size:k(S)},null,8,["color","size"]),a()]),_:2},1024)]),_:2},1032,["items","predicate"])):m("",!0)])]),_:2},1024),a(),e(d,{layout:"horizontal"},{title:t(()=>[a(`
                    Type
                  `)]),body:t(()=>[a(o(s(`data-planes.type.${l.dataplaneType}`)),1)]),_:2},1024),a(),l.namespace.length>0?(r(),c(d,{key:0,layout:"horizontal"},{title:t(()=>[a(o(s("data-planes.routes.item.namespace")),1)]),body:t(()=>[a(o(l.namespace),1)]),_:2},1024)):m("",!0),a(),e(d,{layout:"horizontal"},{title:t(()=>[a(o(s("data-planes.routes.item.last_updated")),1)]),body:t(()=>[a(o(s("common.formats.datetime",{value:Date.parse(l.modificationTime)})),1)]),_:2},1024)]),a(),l.dataplane.networking.gateway?(r(),u("div",j,[n("h3",null,o(s("data-planes.routes.item.gateway")),1),a(),n("div",G,[n("div",Z,[e(d,{layout:"horizontal"},{title:t(()=>[a(o(s("http.api.property.tags")),1)]),body:t(()=>[e(T,{alignment:"right",tags:l.dataplane.networking.gateway.tags},null,8,["tags"])]),_:2},1024),a(),e(d,{layout:"horizontal"},{title:t(()=>[a(o(s("http.api.property.address")),1)]),body:t(()=>[e(w,{text:`${l.dataplane.networking.address}`},null,8,["text"])]),_:2},1024)])])])):m("",!0),a(),l.dataplaneType==="standard"?(r(),c(y,{key:1,items:l.dataplane.networking.inbounds},{default:t(({items:_})=>[n("div",null,[n("h3",null,o(s("data-planes.routes.item.inbounds")),1),a(),n("div",q,[(r(!0),u(g,null,f(_,(i,R)=>(r(),u("div",{key:R,class:"inbound"},[n("h4",null,[e(w,{text:i.tags["kuma.io/service"]},{default:t(()=>[a(o(s("data-planes.routes.item.inbound_name",{service:i.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])]),a(),n("div",H,[e(d,{layout:"horizontal"},{title:t(()=>[a(o(s("http.api.property.status")),1)]),body:t(()=>[i.health.ready?(r(),c(v,{key:0,appearance:"success"},{default:t(()=>[a(o(s("data-planes.routes.item.health.ready")),1)]),_:2},1024)):(r(),c(v,{key:1,appearance:"danger"},{default:t(()=>[a(o(s("data-planes.routes.item.health.not_ready")),1)]),_:2},1024))]),_:2},1024),a(),e(d,{layout:"horizontal"},{title:t(()=>[a(o(s("http.api.property.tags")),1)]),body:t(()=>[e(T,{alignment:"right",tags:i.tags},null,8,["tags"])]),_:2},1024),a(),e(d,{layout:"horizontal"},{title:t(()=>[a(o(s("http.api.property.address")),1)]),body:t(()=>[e(w,{text:i.addressPort},null,8,["text"])]),_:2},1024)])]))),128))])])]),_:2},1032,["items"])):m("",!0)])]),_:2},1024))),128))]),_:2},1032,["items","predicate"])]),_:1})}}}),at=A(J,[["__scopeId","data-v-9c28f6bf"]]);export{at as default};
