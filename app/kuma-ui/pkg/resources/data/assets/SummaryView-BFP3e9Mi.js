import{a3 as _,a4 as x,a5 as L,a6 as O,a7 as v,a8 as P,a9 as $,d as I,aa as R,ab as V,v as M,ac as N,e as k,o as B,p as F,w as C,a as W,m as q,b as K,r as X,_ as j}from"./index-DDn9K2Ij.js";const g=P?window:void 0;function w(r){var a;const o=v(r);return(a=o==null?void 0:o.$el)!=null?a:o}function S(...r){let a,o,s,p;if(typeof r[0]=="string"||Array.isArray(r[0])?([o,s,p]=r,a=g):[a,o,s,p]=r,!a)return _;Array.isArray(o)||(o=[o]),Array.isArray(s)||(s=[s]);const d=[],l=()=>{d.forEach(u=>u()),d.length=0},n=(u,f,m,y)=>(u.addEventListener(f,m,y),()=>u.removeEventListener(f,m,y)),c=L(()=>[w(a),v(p)],([u,f])=>{if(l(),!u)return;const m=O(f)?{...f}:f;d.push(...o.flatMap(y=>s.map(b=>n(u,y,b,m))))},{immediate:!0,flush:"post"}),h=()=>{c(),l()};return $(h),h}let T=!1;function D(r,a,o={}){const{window:s=g,ignore:p=[],capture:d=!0,detectIframe:l=!1}=o;if(!s)return _;x&&!T&&(T=!0,Array.from(s.document.body.children).forEach(e=>e.addEventListener("click",_)),s.document.documentElement.addEventListener("click",_));let n=!0;const c=e=>v(p).some(t=>{if(typeof t=="string")return Array.from(s.document.querySelectorAll(t)).some(i=>i===e.target||e.composedPath().includes(i));{const i=w(t);return i&&(e.target===i||e.composedPath().includes(i))}});function h(e){const t=v(e);return t&&t.$.subTree.shapeFlag===16}function u(e,t){const i=v(e),E=i.$.subTree&&i.$.subTree.children;return E==null||!Array.isArray(E)?!1:E.some(A=>A.el===t.target||t.composedPath().includes(A.el))}const f=e=>{const t=w(r);if(e.target!=null&&!(!(t instanceof Element)&&h(r)&&u(r,e))&&!(!t||t===e.target||e.composedPath().includes(t))){if(e.detail===0&&(n=!c(e)),!n){n=!0;return}a(e)}};let m=!1;const y=[S(s,"click",e=>{m||(m=!0,setTimeout(()=>{m=!1},0),f(e))},{passive:!0,capture:d}),S(s,"pointerdown",e=>{const t=w(r);n=!c(e)&&!!(t&&!e.composedPath().includes(t))},{passive:!0}),l&&S(s,"blur",e=>{setTimeout(()=>{var t;const i=w(r);((t=s.document.activeElement)==null?void 0:t.tagName)==="IFRAME"&&!(i!=null&&i.contains(s.document.activeElement))&&a(e)},0)})].filter(Boolean);return()=>y.forEach(e=>e())}const z=I({__name:"SummaryView",props:{width:{default:"560px"}},emits:["close"],setup(r,{emit:a}){const o=R("summary-view-title");V("app-summary-view",o);const s=M(null);D(s,N(l=>{var c;const n=l.target;(((c=window.getSelection())==null?void 0:c.isCollapsed)??!0)&&!l.defaultPrevented&&l.isTrusted&&n.nodeName.toLowerCase()!=="a"&&d("close")},1,!0,!1));const p=r,d=a;return(l,n)=>{const c=k("XTeleportSlot"),h=k("KSlideout");return B(),F(h,{ref_key:"slideOutRef",ref:s,class:"summary-slideout","close-on-blur":!1,"has-overlay":!1,visible:"","max-width":p.width,"offset-top":"var(--app-slideout-offset-top, 0)","data-testid":"summary",onClose:n[0]||(n[0]=u=>d("close"))},{title:C(()=>[W(c,{name:q(o)},null,8,["name"])]),default:C(()=>[n[1]||(n[1]=K()),X(l.$slots,"default",{},void 0,!0)]),_:3},8,["max-width"])}}}),H=j(z,[["__scopeId","data-v-0b1b5d96"]]);export{H as S};
