import{d as G,v as H,r as o,p as x,o as p,w as e,b as t,m as S,P as g,K as B,e as n,J as A,t as b,y as Q,q as h,l as _,N as W,c as w,L,_ as Y}from"./index-Bcju0_hO.js";const Z=["onSubmit"],ee=["disabled"],te={key:0},ae={key:0},oe=G({__name:"DataPlaneDetailTabsView",props:{mesh:{}},setup(N){const R=N,s=H({eds:!1,xds:!0,clusters:!0,stats:!0,proxy:!0,policies:!0});return(ne,a)=>{const E=o("RouteTitle"),I=o("XCopyButton"),v=o("XAction"),y=o("XI18n"),V=o("XCheckbox"),M=o("XAlert"),C=o("DataLoader"),P=o("XDownload"),U=o("XLayout"),$=o("XModal"),D=o("XDisclosure"),J=o("XTeleportTemplate"),O=o("XTabs"),j=o("RouterView"),q=o("AppView"),F=o("DataSource"),K=o("RouteView");return p(),x(K,{name:"data-plane-detail-tabs-view",params:{mesh:"",proxy:""}},{default:e(({route:l,t:m,uri:T})=>[t(F,{src:T(S(g),"/meshes/:mesh/dataplane-overviews/:name",{mesh:l.params.mesh,name:l.params.proxy})},{default:e(({data:d,error:z})=>[t(q,{breadcrumbs:[{to:{name:"mesh-detail-view",params:{mesh:l.params.mesh}},text:l.params.mesh},{to:{name:"data-plane-list-view",params:{mesh:l.params.mesh}},text:m("data-planes.routes.item.breadcrumbs")}]},B({actions:e(()=>[t(D,null,{default:e(({expanded:f,toggle:r})=>[t(v,{appearance:"primary",onClick:r},{default:e(()=>a[1]||(a[1]=[n(`
              Download Bundle
            `)])),_:2},1032,["onClick"]),a[6]||(a[6]=n()),f?(p(),x(J,{key:0,to:{name:"modal-layer"}},{default:e(()=>[t(D,null,{default:e(({expanded:X,toggle:k})=>[_("form",{onSubmit:W(k,["prevent"])},[t($,{title:m("data-planes.routes.item.download.title"),onCancel:r},{"footer-actions":e(()=>[t(U,{type:"separated"},{default:e(()=>[t(P,{onStart:r},{default:e(({download:u})=>[t(C,{variant:"spinner",src:X?T(S(g),"/meshes/:mesh/dataplanes/:name/as/tarball/:spec",{mesh:l.params.mesh,name:l.params.proxy,spec:JSON.stringify(s.value)},{cacheControl:"no-cache"}):"",onChange:u,onError:k},{error:e(()=>[t(M,{appearance:"warning","show-icon":""},{default:e(()=>[t(y,{t:"data-planes.routes.item.download.error"})]),_:1})]),_:2},1032,["src","onChange","onError"])]),_:2},1032,["onStart"]),a[4]||(a[4]=n()),t(v,{appearance:"primary",type:"submit",disabled:X||Object.values(s.value).every(u=>!u)},{default:e(()=>[n(b(m("data-planes.routes.item.download.action")),1)]),_:2},1032,["disabled"])]),_:2},1024)]),default:e(()=>[_("fieldset",{disabled:X},[t(y,{path:"data-planes.routes.item.download.description"}),a[3]||(a[3]=n()),_("ul",null,[(p(!0),w(L,null,A(s.value,(u,i)=>(p(),w(L,{key:typeof u},[i!=="eds"?(p(),w("li",te,[t(V,{modelValue:s.value[i],"onUpdate:modelValue":c=>s.value[i]=c,onChange:c=>{i==="xds"&&!c&&(s.value.eds=!1)}},{default:e(()=>[n(b(m(`data-planes.routes.item.download.options.${i}`)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),a[2]||(a[2]=n()),i==="xds"?(p(),w("ul",ae,[_("li",null,[t(V,{modelValue:s.value.eds,"onUpdate:modelValue":a[0]||(a[0]=c=>s.value.eds=c),disabled:!s.value.xds},{default:e(()=>[n(b(m("data-planes.routes.item.download.options.eds")),1)]),_:2},1032,["modelValue","disabled"])])])):h("",!0)])):h("",!0)],64))),128))])],8,ee),a[5]||(a[5]=n())]),_:2},1032,["title","onCancel"])],40,Z)]),_:2},1024)]),_:2},1024)):h("",!0)]),_:2},1024)]),default:e(()=>[a[8]||(a[8]=n()),a[9]||(a[9]=n()),t(C,{data:[d],errors:[z]},{default:e(()=>{var f;return[t(O,{selected:(f=l.child())==null?void 0:f.name},B({_:2},[A(l.children,({name:r})=>({name:`${r}-tab`,fn:e(()=>[t(v,{to:{name:r}},{default:e(()=>[n(b(m(`data-planes.routes.item.navigation.${r}`)),1)]),_:2},1032,["to"])])}))]),1032,["selected"]),a[7]||(a[7]=n()),t(j,null,{default:e(({Component:r})=>[(p(),x(Q(r),{data:d,networking:d==null?void 0:d.dataplane.networking,mesh:R.mesh},null,8,["data","networking","mesh"]))]),_:2},1024)]}),_:2},1032,["data","errors"])]),_:2},[d?{name:"title",fn:e(()=>[_("h1",null,[t(I,{text:d.name},{default:e(()=>[t(E,{title:m("data-planes.routes.item.title",{name:d.name})},null,8,["title"])]),_:2},1032,["text"])])]),key:"0"}:void 0]),1032,["breadcrumbs"])]),_:2},1032,["src"])]),_:1})}}}),le=Y(oe,[["__scopeId","data-v-2366e1ba"]]);export{le as default};
