import{d as N,r as n,p as m,o as t,w as o,b as c,c as a,N as s,L as y,e as p,q as P,l,m as C,a4 as S,t as _,Y as z,_ as O}from"./index-8QMKyk4n.js";import{P as R}from"./PolicyTypeTag-C9VhaDTd.js";const Y={colspan:"2"},j=N({__name:"DataplanePolicyConfigSummaryView",props:{policies:{},policyTypesData:{}},setup(g){const V=g;return(b,e)=>{const k=n("XLayout"),B=n("XAction"),X=n("XCodeBlock"),v=n("XTable"),D=n("AppView"),L=n("DataCollection"),T=n("RouteView");return t(),m(T,{name:"data-plane-policy-config-summary-view",params:{inactive:Boolean,proxyType:"",connection:"",policy:""}},{default:o(({route:x})=>[c(L,{items:V.policies,predicate:d=>d.kind.toLocaleLowerCase()===x.params.policy},{default:o(({items:d})=>[(t(!0),a(s,null,y(d,({kind:r,conf:A,origins:w})=>(t(),m(D,{key:r},{title:o(()=>[c(k,{size:"small"},{default:o(()=>[l("h2",null,[c(R,{"policy-type":r},{default:o(()=>[p(_(r),1)]),_:2},1032,["policy-type"])])]),_:2},1024)]),default:o(()=>[e[5]||(e[5]=p()),(t(!0),a(s,null,y([Object.groupBy(b.policyTypesData?.policyTypes??[],({name:i})=>i)],i=>(t(),a(s,{key:`${typeof i}`},[w.length>0?(t(),m(v,{key:0,variant:"kv"},{default:o(()=>[l("tr",null,[e[0]||(e[0]=l("th",{scope:"row"},`
                  Origin policies
                `,-1)),e[1]||(e[1]=p()),l("td",null,[l("ul",null,[(t(!0),a(s,null,y(w,u=>(t(),a("li",{key:u.kri},[(t(!0),a(s,null,y([C(S).fromString(u.kri)],f=>(t(),a(s,{key:typeof f},[i[r]?(t(),m(B,{key:0,to:{name:"policy-detail-view",params:{mesh:f.mesh,policyPath:i[r][0].path,policy:f.name}}},{default:o(()=>[p(_(u.kri),1)]),_:2},1032,["to"])):(t(),a(s,{key:1},[p(_(u.kri),1)],64))],64))),128))]))),128))])])]),e[4]||(e[4]=p()),l("tr",null,[l("td",Y,[c(k,{type:"stack",size:"small"},{default:o(()=>[e[2]||(e[2]=l("span",null,"Config",-1)),e[3]||(e[3]=p()),c(X,{code:C(z).stringify(A),language:"yaml","show-copy-button":!1},null,8,["code"])]),_:2},1024)])])]),_:2},1024)):P("",!0)],64))),128))]),_:2},1024))),128))]),_:1},8,["items","predicate"])]),_:1})}}}),F=O(j,[["__scopeId","data-v-1cfcbbb5"]]);export{F as default};
