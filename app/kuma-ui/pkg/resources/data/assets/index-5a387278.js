import{s as O,C as H,k as P,_ as ce,a as J,c as he,u as M,g as fe,b as j,d as Ee,T as ee}from"./store-eba5eacb.js";import{d as N,c as $,u as i,o as d,a as I,b as v,w as h,e as f,f as u,g as c,h as _,t as g,i as ge,j as V,k as Ie,r as k,l as q,p as K,m as B,n as Y,q as le,s as Ne,F as w,v as Z,x as z,y as G,z as $e,A as Ae,B as ue,T as ve,C as Re}from"./runtime-dom.esm-bundler-91b41870.js";import{i as A,u as Se}from"./Instance-eddcbc9c.js";import{c as ye,a as Le,u as X,b as W}from"./vue-router-573afc44.js";import{d as de,a as Me}from"./datadogLogEvents-4578cfa7.js";import{z as Oe,m as C,$ as Te,P as D,a as Q,b as be,p as te,s as we,D as Pe,c as ke}from"./kongponents.es-3df60cd6.js";import{u as T}from"./index-5f465f86.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import{P as De}from"./constants-31fdaf55.js";import{A as Ce,a as Ue}from"./AccordionItem-5cf952b5.js";import"./vuex.esm-bundler-df5bd11e.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();var Fe=function(t){A(t,"SpriteState")&&(t.transitionDuration=400),A(t,"Component")&&(t.rangeChangeDuration=500,t.interpolationDuration=500,t.sequencedInterpolation=!1,A(t,"SankeyDiagram")&&(t.sequencedInterpolation=!0),A(t,"FunnelSeries")&&(t.sequencedInterpolation=!0)),A(t,"Chart")&&(t.defaultState.transitionDuration=2e3,t.hiddenState.transitionDuration=1e3),A(t,"Tooltip")&&(t.animationDuration=400,t.defaultState.transitionDuration=400,t.hiddenState.transitionDuration=400),A(t,"Scrollbar")&&(t.animationDuration=500),A(t,"Series")&&(t.defaultState.transitionDuration=1e3,t.hiddenState.transitionDuration=700,t.hiddenState.properties.opacity=1,t.showOnInit=!0),A(t,"MapSeries")&&(t.hiddenState.properties.opacity=0),A(t,"PercentSeries")&&(t.hiddenState.properties.opacity=0),A(t,"FunnelSlice")&&(t.defaultState.transitionDuration=800,t.hiddenState.transitionDuration=1e3,t.hiddenState.properties.opacity=1),A(t,"Slice")&&(t.defaultState.transitionDuration=700,t.hiddenState.transitionDuration=1e3,t.hiddenState.properties.opacity=1),A(t,"Preloader")&&(t.hiddenState.transitionDuration=2e3),A(t,"Column")&&(t.defaultState.transitionDuration=700,t.hiddenState.transitionDuration=1e3,t.hiddenState.properties.opacity=1),A(t,"Column3D")&&(t.hiddenState.properties.opacity=0)};function Ge(t,e="/"){const s=ye({history:Le(e),routes:t});return s.beforeEach(xe),s.beforeEach(Ke),s.beforeEach(Be),s}const xe=function(t,e,s){t.fullPath.startsWith("/#/")?s(t.fullPath.substring(2)):s()},Ke=function(t,e,s){t.params.mesh&&t.params.mesh!==O.state.selectedMesh&&O.dispatch("updateSelectedMesh",t.params.mesh),s()},Be=function(t,e,s){const o=O.state.onboarding.isCompleted,r=t.meta.onboardingProcess,n=O.getters["onboarding/showOnboarding"];o&&r&&!n?s({name:"home"}):!o&&!r&&n?s({name:H.get("onboardingStep")??"onboarding-welcome"}):s()};async function Xe(){(await P.getConfig()).reports.enabled&&de.init({clientToken:"pub94a0029259f79f29a5d881a06d1e9653",site:"datadoghq.com",forwardErrorsToLogs:!0,service:"Kuma",sampleRate:100,env:"production"})}const Ve=N({__name:"AppBreadcrumbs",setup(t){const e=X(),s=W(),o=$(()=>{const r=new Map;for(const n of e.matched){if(n.name==="home"||n.meta.parent==="home")continue;if(n.meta.parent!==void 0){const p=s.resolve({name:n.meta.parent});p.name&&r.set(p.name,{to:p,key:p.name,title:p.meta.title,text:p.meta.title})}if((n.name===e.name||n.redirect===e.name)&&n.meta.breadcrumbExclude!==!0&&e.name){let p=e.meta.title;e.meta.breadcrumbTitleParam&&e.params[e.meta.breadcrumbTitleParam]&&(p=e.params[e.meta.breadcrumbTitleParam]),r.set(e.name,{to:e,key:e.name,title:p,text:p})}}return Array.from(r.values())});return(r,n)=>i(o).length>0?(d(),I(i(Oe),{key:0,items:i(o)},null,8,["items"])):v("",!0)}}),ze=c("p",null,"Unable to reach the API",-1),He={key:0},qe=N({__name:"AppErrorMessage",setup(t){return(e,s)=>(d(),I(i(Te),{class:"global-api-status empty-state--wide-content empty-state--compact","cta-is-hidden":""},{title:h(()=>[f(i(C),{class:"mb-3",icon:"warning",color:"var(--black-75)","secondary-color":"var(--yellow-300)",size:"64"}),u(),ze]),message:h(()=>[c("p",null,[u(`
        Please double check to make sure it is up and running `),i(P).baseUrl?(d(),_("span",He,[u(", and it is reachable at "),c("code",null,g(i(P).baseUrl),1)])):v("",!0)])]),_:1}))}}),Ye=""+new URL("product-logo-7a2ca341.png",import.meta.url).href,Ze=["alt"],We=N({__name:"KumaLogo",setup(t){const e=T();return(s,o)=>(d(),_("img",{src:Ye,alt:`${i(e)("KUMA_PRODUCT_NAME")} Logo`},null,8,Ze))}});const Qe=R(We,[["__scopeId","data-v-022761a7"]]),Je=N({name:"github-button",props:{href:String,ariaLabel:String,title:String,dataIcon:String,dataColorScheme:String,dataSize:String,dataShowCount:String,dataText:String},render:function(){const t={ref:"_"};for(const e in this.$props)t[ge(e)]=this.$props[e];return V("span",[Ie(this.$slots,"default")?V("a",t,this.$slots.default()):V("a",t)])},mounted:function(){this.paint()},beforeUpdate:function(){this.reset()},updated:function(){this.paint()},beforeUnmount:function(){this.reset()},methods:{paint:function(){const t=this.$el.appendChild(document.createElement("span")),e=this;ce(()=>import("./buttons.esm-1047f35f.js"),[],import.meta.url).then(function(s){s.render(t.appendChild(e.$refs._),function(o){try{t.parentNode.replaceChild(o,t)}catch{}})})},reset:function(){this.$el.replaceChild(this.$refs._,this.$el.lastChild)}}}),se={KumaLogo:J(()=>Qe,{description:"KumaLogo"}),GithubButton:J(()=>Je,{description:"GithubButton"})},[je,et]=he(se.KumaLogo,se.GithubButton),tt={key:0,"data-testid":"notification-amount",class:"notification-icon__amount"},st=N({__name:"NotificationIcon",setup(t){const e=M(),s=$(()=>e.getters["notifications/amountOfActions"]);function o(){e.dispatch("notifications/openModal")}return(r,n)=>(d(),_("button",{class:"notification-icon cursor-pointer",type:"button",onClick:o},[f(i(C),{icon:"notificationBell",color:"var(--yellow-300)"}),u(),i(s)>0?(d(),_("span",tt,g(i(s)),1)):v("",!0)]))}});const nt=R(st,[["__scopeId","data-v-cadae07a"]]),at=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var pe=at;const ot="2.0.0",it=256,rt=Number.MAX_SAFE_INTEGER||9007199254740991,ct=16;var _e={SEMVER_SPEC_VERSION:ot,MAX_LENGTH:it,MAX_SAFE_INTEGER:rt,MAX_SAFE_COMPONENT_LENGTH:ct},x={},lt={get exports(){return x},set exports(t){x=t}};(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:s}=_e,o=pe;e=t.exports={};const r=e.re=[],n=e.src=[],a=e.t={};let p=0;const l=(m,E,y)=>{const L=p++;o(m,L,E),a[m]=L,n[L]=E,r[L]=new RegExp(E,y?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${n[a.NUMERICIDENTIFIER]})\\.(${n[a.NUMERICIDENTIFIER]})\\.(${n[a.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${n[a.NUMERICIDENTIFIERLOOSE]})\\.(${n[a.NUMERICIDENTIFIERLOOSE]})\\.(${n[a.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${n[a.NUMERICIDENTIFIER]}|${n[a.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${n[a.NUMERICIDENTIFIERLOOSE]}|${n[a.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${n[a.PRERELEASEIDENTIFIER]}(?:\\.${n[a.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${n[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${n[a.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${n[a.BUILDIDENTIFIER]}(?:\\.${n[a.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${n[a.MAINVERSION]}${n[a.PRERELEASE]}?${n[a.BUILD]}?`),l("FULL",`^${n[a.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${n[a.MAINVERSIONLOOSE]}${n[a.PRERELEASELOOSE]}?${n[a.BUILD]}?`),l("LOOSE",`^${n[a.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${n[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${n[a.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${n[a.XRANGEIDENTIFIER]})(?:\\.(${n[a.XRANGEIDENTIFIER]})(?:\\.(${n[a.XRANGEIDENTIFIER]})(?:${n[a.PRERELEASE]})?${n[a.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${n[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[a.XRANGEIDENTIFIERLOOSE]})(?:${n[a.PRERELEASELOOSE]})?${n[a.BUILD]}?)?)?`),l("XRANGE",`^${n[a.GTLT]}\\s*${n[a.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${n[a.GTLT]}\\s*${n[a.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?(?:$|[^\\d])`),l("COERCERTL",n[a.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${n[a.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",l("TILDE",`^${n[a.LONETILDE]}${n[a.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${n[a.LONETILDE]}${n[a.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${n[a.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",l("CARET",`^${n[a.LONECARET]}${n[a.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${n[a.LONECARET]}${n[a.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${n[a.GTLT]}\\s*(${n[a.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${n[a.GTLT]}\\s*(${n[a.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${n[a.GTLT]}\\s*(${n[a.LOOSEPLAIN]}|${n[a.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${n[a.XRANGEPLAIN]})\\s+-\\s+(${n[a.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${n[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${n[a.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(lt,x);const ut=["includePrerelease","loose","rtl"],dt=t=>t?typeof t!="object"?{loose:!0}:ut.filter(e=>t[e]).reduce((e,s)=>(e[s]=!0,e),{}):{};var pt=dt;const ne=/^[0-9]+$/,me=(t,e)=>{const s=ne.test(t),o=ne.test(e);return s&&o&&(t=+t,e=+e),t===e?0:s&&!o?-1:o&&!s?1:t<e?-1:1},_t=(t,e)=>me(e,t);var mt={compareIdentifiers:me,rcompareIdentifiers:_t};const U=pe,{MAX_LENGTH:ae,MAX_SAFE_INTEGER:F}=_e,{re:oe,t:ie}=x,ht=pt,{compareIdentifiers:b}=mt;let S=class{constructor(e,s){if(s=ht(s),e instanceof S){if(e.loose===!!s.loose&&e.includePrerelease===!!s.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>ae)throw new TypeError(`version is longer than ${ae} characters`);U("SemVer",e,s),this.options=s,this.loose=!!s.loose,this.includePrerelease=!!s.includePrerelease;const o=e.trim().match(s.loose?oe[ie.LOOSE]:oe[ie.FULL]);if(!o)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>F||this.major<0)throw new TypeError("Invalid major version");if(this.minor>F||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>F||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){const n=+r;if(n>=0&&n<F)return n}return r}):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(U("SemVer.compare",this.version,this.options,e),!(e instanceof S)){if(typeof e=="string"&&e===this.version)return 0;e=new S(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof S||(e=new S(e,this.options)),b(this.major,e.major)||b(this.minor,e.minor)||b(this.patch,e.patch)}comparePre(e){if(e instanceof S||(e=new S(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let s=0;do{const o=this.prerelease[s],r=e.prerelease[s];if(U("prerelease compare",s,o,r),o===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(o===void 0)return-1;if(o===r)continue;return b(o,r)}while(++s)}compareBuild(e){e instanceof S||(e=new S(e,this.options));let s=0;do{const o=this.build[s],r=e.build[s];if(U("prerelease compare",s,o,r),o===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(o===void 0)return-1;if(o===r)continue;return b(o,r)}while(++s)}inc(e,s){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",s),this.inc("pre",s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",s),this.inc("pre",s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);o===-1&&this.prerelease.push(0)}s&&(b(this.prerelease[0],s)===0?isNaN(this.prerelease[1])&&(this.prerelease=[s,0]):this.prerelease=[s,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};var ft=S;const re=ft,Et=(t,e,s)=>new re(t,s).compare(new re(e,s));var gt=Et;const It={class:"upgrade-check"},Nt={class:"alert-content"},$t=N({__name:"UpgradeCheck",setup(t){const e=T(),s=k(""),o=k(!1);r();async function r(){try{s.value=await P.getLatestVersion()}catch(n){o.value=!1,console.error(n)}finally{if(s.value!==""){const n=gt(s.value,e("KUMA_VERSION"));o.value=n===1}else{const a=new Date,p=new Date("2020-06-03 12:00:00"),l=new Date(p.getFullYear(),p.getMonth()+3,p.getDate());o.value=a.getTime()>=l.getTime()}}}return(n,a)=>(d(),_("div",It,[o.value?(d(),I(i(Q),{key:0,class:"upgrade-check-alert",appearance:"warning",size:"small"},{alertMessage:h(()=>[c("div",Nt,[c("div",null,g(i(e)("KUMA_PRODUCT_NAME"))+` update available
          `,1),u(),c("div",null,[f(i(D),{class:"warning-button",appearance:"primary",size:"small",to:i(e)("KUMA_INSTALL_URL")},{default:h(()=>[u(`
              Update
            `)]),_:1},8,["to"])])])]),_:1})):v("",!0)]))}});const At=R($t,[["__scopeId","data-v-03ce650c"]]),vt=t=>(K("data-v-c348c723"),t=t(),B(),t),Rt={class:"app-header"},St={class:"horizontal-list"},yt={class:"upgrade-check-wrapper"},Lt={key:0,class:"horizontal-list"},Mt={class:"app-status app-status--mobile"},Ot={class:"app-status app-status--desktop"},Tt=["href"],bt=["href"],wt=vt(()=>c("span",{class:"visually-hidden"},"Diagnostics",-1)),Pt=N({__name:"AppHeader",setup(t){const[e,s]=[je(),et()],o=M(),r=T(),n=$(()=>o.getters["notifications/amountOfActions"]>0),a=$(()=>{const l=o.getters["config/getEnvironment"];return l?l.charAt(0).toUpperCase()+l.substring(1):"Universal"}),p=$(()=>o.getters["config/getMulticlusterStatus"]?"Multi-Zone":"Standalone");return(l,m)=>{const E=q("router-link");return d(),_("header",Rt,[c("div",St,[f(E,{to:{name:"home"}},{default:h(()=>[f(i(e))]),_:1}),u(),f(i(s),{class:"gh-star",href:"https://github.com/kumahq/kuma","aria-label":"Star kumahq/kuma on GitHub"},{default:h(()=>[u(`
        Star
      `)]),_:1}),u(),c("div",yt,[f(At)])]),u(),i(o).state.config.status==="OK"?(d(),_("div",Lt,[c("div",Mt,[f(i(be),{width:"280"},{content:h(()=>[c("p",null,[u(g(i(o).state.config.tagline)+" ",1),c("b",null,g(i(o).state.config.version),1),u(" on "),c("b",null,g(i(a)),1),u(" ("+g(i(p))+`)
            `,1)])]),default:h(()=>[f(i(D),{appearance:"outline"},{default:h(()=>[u(`
            Info
          `)]),_:1}),u()]),_:1})]),u(),c("p",Ot,[u(g(i(o).state.config.tagline)+" ",1),c("b",null,g(i(o).state.config.version),1),u(" on "),c("b",null,g(i(a)),1),u(" ("+g(i(p))+`)
      `,1)]),u(),i(n)?(d(),I(nt,{key:0})):v("",!0),u(),f(i(we),{class:"help-menu",icon:"help","button-appearance":"outline","kpop-attributes":{placement:"bottomEnd"}},{items:h(()=>[f(i(te),null,{default:h(()=>[c("a",{href:`${i(r)("KUMA_DOCS_URL")}/?${i(r)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank",rel:"noopener noreferrer"},`
              Documentation
            `,8,Tt)]),_:1}),u(),f(i(te),null,{default:h(()=>[c("a",{href:i(r)("KUMA_FEEDBACK_URL"),target:"_blank",rel:"noopener noreferrer"},`
              Feedback
            `,8,bt)]),_:1})]),_:1}),u(),f(i(D),{to:{name:"diagnostics"},icon:"gearFilled","button-appearance":"btn-link"},{icon:h(()=>[f(i(C),{icon:"gearFilled",class:"k-button-icon",size:"16",color:"currentColor","hide-title":""})]),default:h(()=>[u(),wt]),_:1})])):v("",!0)])}}});const kt=R(Pt,[["__scopeId","data-v-c348c723"]]),Dt=""+new URL("kuma-loader-v1-2aaed7d4.gif",import.meta.url).href,Ct=t=>(K("data-v-06e19708"),t=t(),B(),t),Ut={class:"full-screen"},Ft={class:"loading-container"},Gt=Ct(()=>c("img",{src:Dt},null,-1)),xt={class:"progress"},Kt=N({__name:"AppLoadingBar",setup(t){let e;const s=k(10);return Y(function(){e=window.setInterval(()=>{s.value>=100&&(window.clearInterval(e),s.value=100),s.value=Math.min(s.value+Math.ceil(Math.random()*30),100)},150)}),le(function(){window.clearInterval(e)}),(o,r)=>(d(),_("div",Ut,[c("div",Ft,[Gt,u(),c("div",xt,[c("div",{style:Ne({width:`${s.value}%`}),class:"progress-bar",role:"progressbar","data-testid":"app-progress-bar"},null,4)])])]))}});const Bt=R(Kt,[["__scopeId","data-v-06e19708"]]),Xt={key:0,class:"onboarding-check"},Vt={class:"alert-content"},zt=N({__name:"AppOnboardingNotification",setup(t){const e=k(!1);function s(){e.value=!0}return(o,r)=>e.value===!1?(d(),_("div",Xt,[f(i(Q),{appearance:"success",class:"dismissible","dismiss-type":"icon",onClosed:s},{alertMessage:h(()=>[c("div",Vt,[c("div",null,[c("strong",null,"Welcome to "+g(i(De))+"!",1),u(` We've detected that you don't have any data plane proxies running yet. We've created an onboarding process to help you!
          `)]),u(),c("div",null,[f(i(D),{appearance:"primary",size:"small",class:"action-button",to:{name:"onboarding-welcome"}},{default:h(()=>[u(`
              Get started
            `)]),_:1})])])]),_:1})])):v("",!0)}});const Ht=R(zt,[["__scopeId","data-v-c21dc5a7"]]);async function qt(t,e,s=()=>!1){do{if(await t(),await s())break;const o=typeof e=="number"?e:e();await new Promise(r=>setTimeout(r,Math.max(0,o)))}while(!await s())}const Yt=t=>(K("data-v-76b8351f"),t=t(),B(),t),Zt={class:"mesh-selector-container"},Wt={for:"mesh-selector"},Qt=Yt(()=>c("span",{class:"visually-hidden"},`
        Filter by mesh:
      `,-1)),Jt=["value","selected"],jt=N({__name:"AppMeshSelector",props:{meshes:{type:Array,required:!0}},setup(t){const e=t,s=X(),o=W(),r=M(),n=$(()=>r.state.selectedMesh===null?e.meshes[0].name:r.state.selectedMesh);function a(p){const m=p.target.value;r.dispatch("updateSelectedMesh",m);const E="mesh"in s.params?s.name:"mesh-detail-view";o.push({name:E,params:{mesh:m}})}return(p,l)=>(d(),_("div",Zt,[c("label",Wt,[Qt,u(),c("select",{id:"mesh-selector",class:"mesh-selector",name:"mesh-selector","data-testid":"mesh-selector",onChange:a},[(d(!0),_(w,null,Z(e.meshes,m=>(d(),_("option",{key:m.name,value:m.name,selected:m.name===i(n)},g(m.name),9,Jt))),128))],32)])]))}});const es=R(jt,[["__scopeId","data-v-76b8351f"]]),ts=["data-testid"],ss={key:1,class:"nav-category"},ns=N({__name:"AppNavItem",props:{name:{type:String,required:!0},routeName:{type:String,required:!1,default:""},usesMeshParam:{type:Boolean,required:!1,default:!1},categoryTier:{type:String,required:!1,default:null},insightsFieldAccessor:{type:String,required:!1,default:""},shouldOffsetFromFollowingItems:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,s=X(),o=W(),r=M(),n=$(()=>{if(e.insightsFieldAccessor){const m=fe(r.state.sidebar.insights,e.insightsFieldAccessor,0);return m>99?"99+":String(m)}else return""}),a=$(()=>{if(e.routeName==="")return null;const m={name:e.routeName};return e.usesMeshParam&&(m.params={mesh:r.state.selectedMesh}),m}),p=$(()=>{if(a.value===null)return!1;if(e.routeName===s.name||s.path.split("/")[2]===a.value.name)return!0;if(s.meta.parent)try{if(o.resolve({name:s.meta.parent}).name===e.routeName)return!0}catch(E){if(E instanceof Error&&E.message.includes("No match for"))console.warn(E);else throw E}return e.routeName&&s.matched.some(E=>e.routeName===E.name||e.routeName===E.redirect)});function l(){de.logger.info(Me.SIDEBAR_ITEM_CLICKED,{data:a.value})}return(m,E)=>{const y=q("router-link");return d(),_("div",{class:z(["nav-item",{"nav-item--is-category":i(a)===null,"nav-item--has-bottom-offset":e.shouldOffsetFromFollowingItems,[`nav-item--is-${e.categoryTier}-category`]:e.categoryTier!==null}]),"data-testid":e.routeName},[i(a)!==null?(d(),I(y,{key:0,class:z(["nav-link",{"nav-link--is-active":i(p)}]),to:i(a),onClick:l},{default:h(()=>[u(g(t.name)+" ",1),i(n)?(d(),_("span",{key:0,class:z(["amount",{"amount--empty":i(n)==="0"}])},g(i(n)),3)):v("",!0)]),_:1},8,["class","to"])):(d(),_("div",ss,g(t.name),1))],10,ts)}}});const as=R(ns,[["__scopeId","data-v-938e565b"]]);function os(t,e){const s=t?[{name:"Zones",categoryTier:"primary"},{name:"Zone CPs",routeName:"zones",insightsFieldAccessor:"global.Zone"},{name:"Zone Ingresses",routeName:"zoneingresses",insightsFieldAccessor:"global.ZoneIngress"},{name:"Zone Egresses",routeName:"zoneegresses",insightsFieldAccessor:"global.ZoneEgress"}]:[],o=e?[{name:"Mesh",categoryTier:"primary"},{name:"Mesh selector",isMeshSelector:!0},{name:"Overview",routeName:"mesh-detail-view",usesMeshParam:!0},{name:"Services",routeName:"service-list-view",insightsFieldAccessor:"mesh.services.total",usesMeshParam:!0},{name:"Gateways",routeName:"gateway-list-view",usesMeshParam:!0,insightsFieldAccessor:"mesh.dataplanes.gateway"},{name:"Data Plane Proxies",routeName:"data-plane-list-view",usesMeshParam:!0,insightsFieldAccessor:"mesh.dataplanes.standard"},{name:"Policies",routeName:"policies",usesMeshParam:!0,insightsFieldAccessor:"mesh.policies.total"}]:[];return[{name:"Home",routeName:"home",shouldOffsetFromFollowingItems:!0},...s,...o]}const is={class:"app-sidebar-wrapper"},rs={class:"app-sidebar"},cs=N({__name:"AppSidebar",setup(t){const s=M(),o=$(()=>os(s.getters["config/getMulticlusterStatus"],s.state.meshes.items.length>0)),r=$(()=>s.state.meshes.items);G(()=>s.state.selectedMesh,()=>{s.dispatch("sidebar/getMeshInsights")});let n=!1;Y(function(){window.addEventListener("blur",a),window.addEventListener("focus",p)}),le(function(){window.removeEventListener("blur",a),window.removeEventListener("focus",p)}),p();function a(){n=!0}function p(){n=!1,qt(l,10*1e3,()=>n)}function l(){return s.dispatch("sidebar/getInsights")}return(m,E)=>(d(),_("div",is,[c("aside",rs,[(d(!0),_(w,null,Z(i(o),(y,L)=>(d(),_(w,{key:L},[y.isMeshSelector?(d(),_(w,{key:0},[i(r).length>0?(d(),I(es,{key:0,meshes:i(r)},null,8,["meshes"])):v("",!0)],64)):(d(),I(as,$e(Ae({key:1},y)),null,16))],64))),128))])]))}});const ls=R(cs,[["__scopeId","data-v-15fb1394"]]),us={class:"py-4"},ds=c("p",{class:"mb-4"},`
      A traffic log policy lets you collect access logs for every data plane proxy in your service mesh.
    `,-1),ps={class:"list-disc pl-4"},_s=["href"],ms=N({__name:"LoggingNotification",setup(t){const e=T();return(s,o)=>(d(),_("div",us,[ds,u(),c("ul",ps,[c("li",null,[c("a",{href:`${i(e)("KUMA_DOCS_URL")}/policies/traffic-log/?${i(e)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},`
          Traffic Log policy documentation
        `,8,_s)])])]))}}),hs={class:"py-4"},fs=c("p",{class:"mb-4"},`
      A traffic metrics policy lets you collect key data for observability of your service mesh.
    `,-1),Es={class:"list-disc pl-4"},gs=["href"],Is=N({__name:"MetricsNotification",setup(t){const e=T();return(s,o)=>(d(),_("div",hs,[fs,u(),c("ul",Es,[c("li",null,[c("a",{href:`${i(e)("KUMA_DOCS_URL")}/policies/traffic-metrics/?${i(e)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},`
          Traffic Metrics policy documentation
        `,8,gs)])])]))}}),Ns={class:"py-4"},$s=c("p",{class:"mb-4"},`
      Mutual TLS (mTLS) for communication between all the components
      of your service mesh (services, control plane, data plane proxies), proxy authentication,
      and access control rules in Traffic Permissions policies all contribute to securing your mesh.
    `,-1),As={class:"list-disc pl-4"},vs=["href"],Rs=["href"],Ss=["href"],ys=N({__name:"MtlsNotification",setup(t){const e=T();return(s,o)=>(d(),_("div",Ns,[$s,u(),c("ul",As,[c("li",null,[c("a",{href:`${i(e)("KUMA_DOCS_URL")}/security/certificates/?${i(e)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},`
          Secure access across services
        `,8,vs)]),u(),c("li",null,[c("a",{href:`${i(e)("KUMA_DOCS_URL")}/policies/mutual-tls/?${i(e)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},`
          Mutual TLS
        `,8,Rs)]),u(),c("li",null,[c("a",{href:`${i(e)("KUMA_DOCS_URL")}/policies/traffic-permissions/?${i(e)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},`
          Traffic Permissions policy documentation
        `,8,Ss)])])]))}}),Ls={class:"py-4"},Ms=c("p",{class:"mb-4"},`
      A traffic trace policy lets you enable tracing logs and a third-party tracing solution to send them to.
    `,-1),Os={class:"list-disc pl-4"},Ts=["href"],bs=N({__name:"TracingNotification",setup(t){const e=T();return(s,o)=>(d(),_("div",Ls,[Ms,u(),c("ul",Os,[c("li",null,[c("a",{href:`${i(e)("KUMA_DOCS_URL")}/policies/traffic-trace/?${i(e)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},`
          Traffic Trace policy documentation
        `,8,Ts)])])]))}}),ws={class:"flex items-center"},Ps=N({__name:"SingleMeshNotifications",setup(t){const e=M(),s={LoggingNotification:ms,MetricsNotification:Is,MtlsNotification:ys,TracingNotification:bs};return(o,r)=>(d(),I(Ue,{"multiple-open":""},{default:h(()=>[(d(!0),_(w,null,Z(i(e).getters["notifications/singleMeshNotificationItems"],n=>(d(),I(Ce,{key:n.name},{"accordion-header":h(()=>[c("div",ws,[n.isCompleted?(d(),I(i(C),{key:0,color:"var(--green-500)",icon:"check",size:"20",class:"mr-4"})):(d(),I(i(C),{key:1,icon:"warning",color:"var(--black-75)","secondary-color":"var(--yellow-300)",size:"20",class:"mr-4"})),u(),c("strong",null,g(n.name),1)])]),"accordion-content":h(()=>[n.component?(d(),I(ue(s[n.component]),{key:0})):(d(),I(i(Pe),{key:1},{body:h(()=>[u(g(n.content),1)]),_:2},1024))]),_:2},1024))),128))]),_:1}))}}),ks=t=>(K("data-v-baf26e82"),t=t(),B(),t),Ds={class:"mr-4"},Cs=ks(()=>c("span",{class:"mr-2"},[c("strong",null,"Pro tip:"),u(`

            You might want to adjust your mesh configuration
          `)],-1)),Us={key:0},Fs={class:"text-xl tracking-wide"},Gs={key:1},xs={class:"text-xl tracking-wide"},Ks=N({__name:"NotificationManager",setup(t){const e=M(),s=k(!0),o=$(()=>e.state.selectedMesh?e.getters["notifications/meshNotificationItemMapWithAction"][e.state.selectedMesh]:!1);Y(function(){const p=H.get("hideCheckMeshAlert");s.value=p!=="yes"});function r(){s.value=!1,H.set("hideCheckMeshAlert","yes")}function n(){e.dispatch("notifications/openModal")}function a(){e.dispatch("notifications/closeModal")}return(p,l)=>(d(),_("div",null,[s.value?(d(),I(i(Q),{key:0,class:"mb-4",appearance:"info","dismiss-type":"icon","data-testid":"notification-info",onClosed:r},{alertMessage:h(()=>[c("div",Ds,[Cs,u(),f(i(D),{appearance:"outline","data-testid":"open-modal-button",onClick:n},{default:h(()=>[u(`
            Check your mesh!
          `)]),_:1})])]),_:1})):v("",!0),u(),f(i(ke),{class:"modal","is-visible":i(e).state.notifications.isOpen,title:"Notifications","text-align":"left","data-testid":"notification-modal"},{"header-content":h(()=>[c("div",null,[c("div",null,[i(o)?(d(),_("span",Us,[u(`
              Some of these features are not enabled for `),c("span",Fs,'"'+g(i(e).state.selectedMesh)+'"',1),u(` mesh. Consider implementing them.
            `)])):(d(),_("span",Gs,[u(`
              Looks like `),c("span",xs,'"'+g(i(e).state.selectedMesh)+'"',1),u(` isn't missing any features. Well done!
            `)]))])])]),"body-content":h(()=>[f(Ps)]),"footer-content":h(()=>[f(i(D),{appearance:"outline","data-testid":"close-modal-button",onClick:a},{default:h(()=>[u(`
          Close
        `)]),_:1})]),_:1},8,["is-visible"])]))}});const Bs=R(Ks,[["__scopeId","data-v-baf26e82"]]),Xs={key:0},Vs={key:1,class:"app-content-container"},zs={class:"app-main-content"},Hs=N({__name:"App",setup(t){const e=M(),s=X(),o=k(e.state.globalLoading),r=$(()=>s.path),n=$(()=>e.state.config.status!=="OK"),a=$(()=>e.getters["onboarding/showOnboarding"]),p=$(()=>e.getters["notifications/amountOfActions"]>0);G(()=>e.state.globalLoading,function(m){o.value=m}),G(()=>s.meta.title,function(m){l(m)}),G(()=>e.state.pageTitle,function(m){l(m)});function l(m){const E="Kuma Manager";document.title=m?`${m} | ${E}`:E}return(m,E)=>{const y=q("router-view");return o.value?(d(),I(Bt,{key:0})):(d(),_(w,{key:1},[f(kt),u(),i(s).meta.onboardingProcess?(d(),_("div",Xs,[f(y)])):(d(),_("div",Vs,[f(ls),u(),c("main",zs,[i(n)?(d(),I(qe,{key:0})):v("",!0),u(),i(p)?(d(),I(Bs,{key:1})):v("",!0),u(),i(a)?(d(),I(Ht,{key:2})):v("",!0),u(),f(Ve),u(),(d(),I(y,{key:i(r)},{default:h(({Component:L})=>[f(ve,{mode:"out-in",name:"fade"},{default:h(()=>[(d(),_("div",{key:i(s).name,class:"transition-root"},[(d(),I(ue(L)))]))]),_:2},1024)]),_:1}))])]))],64))}}});const qs=R(Hs,[["__scopeId","data-v-a2119dd5"]]);Xe();Se(Fe);async function Ys(t,e){if(document.title=`${t("KUMA_PRODUCT_NAME")} Manager`,P.setBaseUrl(t("KUMA_API_URL")),{}.VITE_MOCK_API_ENABLED==="true"){const{setupMockWorker:r}=await ce(()=>import("./setupMockWorker-821d7d4f.js"),[],import.meta.url);r(P.baseUrl)}const s=Re(qs);s.use(O,Ee),await Promise.all([O.dispatch("bootstrap"),O.dispatch("fetchPolicyTypes")]);const o=await Ge(e,t("KUMA_BASE_PATH"));s.use(o),s.mount("#app")}Ys(j(ee.env),j(ee.routes));
