import{e as x,A as h,g as A,E as R,o as C,T as z,S as $,p as N,K as T,_ as E,d as L}from"./RouteView.vue_vue_type_script_setup_true_lang-90043e39.js";import{d as P,r as S,o as a,a as i,w as o,h as l,i as w,b as t,g as c,k as B,t as _,e as y,F as f,R as V,H as Z,x as O,J as D}from"./index-8422fc56.js";import{_ as F}from"./MultizoneInfo.vue_vue_type_script_setup_true_lang-94cea2b0.js";import{_ as K}from"./RouteTitle.vue_vue_type_script_setup_true_lang-2207a44e.js";import{g as U}from"./dataplane-30467516.js";import"./WarningIcon.vue_vue_type_script_setup_true_lang-0fd32299.js";const q=P({__name:"ZoneIngressListView",props:{page:{type:Number,required:!0},size:{type:Number,required:!0}},setup(b){const m=b,{t:n}=x();function k(v){return v.map(p=>{const{name:u}=p,g={name:"zone-ingress-detail-view",params:{zoneIngress:u}},{networking:e}=p.zoneIngress;let r;e!=null&&e.address&&(e!=null&&e.port)&&(r=`${e.address}:${e.port}`);let d;e!=null&&e.advertisedAddress&&(e!=null&&e.advertisedPort)&&(d=`${e.advertisedAddress}:${e.advertisedPort}`);const s=U(p.zoneIngressInsight??{});return{detailViewRoute:g,name:u,addressPort:r,advertisedAddressPort:d,status:s}})}return(v,p)=>{const u=S("RouterLink");return a(),i(E,{name:"zone-ingress-list-view"},{default:o(({route:g,can:e})=>[l(h,null,{title:o(()=>[w("h1",null,[l(K,{title:t(n)("zone-ingresses.routes.items.title"),render:!0},null,8,["title"])])]),default:o(()=>[c(),e("use zones")?(a(),i(A,{key:1,src:`/zone-ingress-overviews?size=${m.size}&page=${m.page}`},{default:o(({data:r,error:d})=>[l(t(B),null,{body:o(()=>[d!==void 0?(a(),i(R,{key:0,error:d},null,8,["error"])):(a(),i(C,{key:1,class:"zone-ingress-collection","data-testid":"zone-ingress-collection",headers:[{label:"Name",key:"name"},{label:"Address",key:"addressPort"},{label:"Advertised address",key:"advertisedAddressPort"},{label:"Status",key:"status"},{label:"Actions",key:"actions",hideLabel:!0}],"page-number":m.page,"page-size":m.size,total:r==null?void 0:r.total,items:r?k(r.items):void 0,error:d,"empty-state-message":t(n)("common.emptyState.message",{type:"Zone Ingresses"}),"empty-state-cta-to":t(n)("zone-ingresses.href.docs"),"empty-state-cta-text":t(n)("common.documentation"),onChange:g.update},{name:o(({row:s,rowValue:I})=>[l(u,{to:s.detailViewRoute,"data-testid":"detail-view-link"},{default:o(()=>[c(_(I),1)]),_:2},1032,["to"])]),addressPort:o(({rowValue:s})=>[s?(a(),i(z,{key:0,text:s},null,8,["text"])):(a(),y(f,{key:1},[c(_(t(n)("common.collection.none")),1)],64))]),advertisedAddressPort:o(({rowValue:s})=>[s?(a(),i(z,{key:0,text:s},null,8,["text"])):(a(),y(f,{key:1},[c(_(t(n)("common.collection.none")),1)],64))]),status:o(({rowValue:s})=>[s?(a(),i($,{key:0,status:s},null,8,["status"])):(a(),y(f,{key:1},[c(_(t(n)("common.collection.none")),1)],64))]),actions:o(({row:s})=>[l(t(V),{class:"actions-dropdown","data-testid":"actions-dropdown","kpop-attributes":{placement:"bottomEnd",popoverClasses:"mt-5 more-actions-popover"},width:"150"},{default:o(()=>[l(t(Z),{class:"non-visual-button",appearance:"secondary",size:"small"},{icon:o(()=>[l(t(O),{color:t(N),icon:"more",size:t(T)},null,8,["color","size"])]),_:1})]),items:o(()=>[l(t(D),{item:{to:s.detailViewRoute,label:t(n)("common.collection.actions.view")}},null,8,["item"])]),_:2},1024)]),_:2},1032,["page-number","page-size","total","items","error","empty-state-message","empty-state-cta-to","empty-state-cta-text","onChange"]))]),_:2},1024)]),_:2},1032,["src"])):(a(),i(F,{key:0}))]),_:2},1024)]),_:1})}}});const M=L(q,[["__scopeId","data-v-ef64d957"]]);export{M as default};
