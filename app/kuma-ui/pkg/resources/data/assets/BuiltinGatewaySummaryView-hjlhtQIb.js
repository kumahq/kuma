import{d as X,r as n,p as u,o as r,w as t,b as l,ae as N,c as g,N as C,L as _,e as i,l as c,t as p,M as L,q,O as D,m as A,a6 as G,_ as Q}from"./index-Cj2OFF4l.js";import{_ as x}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-CGS7ZKtk.js";const T={key:0,class:"stack-with-borders","data-testid":"structured-view"},z=X({__name:"BuiltinGatewaySummaryView",props:{items:{},routeName:{}},setup(k){const f=k;return(v,s)=>{const b=n("XEmptyState"),S=n("RouteTitle"),R=n("XAction"),E=n("XSelect"),h=n("XLayout"),V=n("DataLoader"),M=n("AppView"),F=n("RouteView");return r(),u(F,{name:f.routeName,params:{mesh:"",gateway:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:t(({route:e,t:m,uri:B})=>[l(N,{items:f.items,predicate:y=>y.id===e.params.gateway,find:!0},{empty:t(()=>[l(b,null,{title:t(()=>[c("h2",null,p(m("common.collection.summary.empty_title",{type:"Gateway"})),1)]),default:t(()=>[s[0]||(s[0]=i()),c("p",null,p(m("common.collection.summary.empty_message",{type:"Gateway"})),1)]),_:2,__:[0]},1024)]),default:t(({items:y})=>[(r(!0),g(C,null,_([y[0]],d=>(r(),u(M,{key:d.id},{title:t(()=>[c("h2",null,[l(R,{to:{name:"builtin-gateway-detail-view",params:{mesh:d.mesh,gateway:d.id}}},{default:t(()=>[l(S,{title:m("builtin-gateways.routes.item.title",{name:d.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:t(()=>[s[4]||(s[4]=i()),l(h,{type:"stack"},{default:t(()=>[c("header",null,[l(h,{type:"separated",size:"max"},{default:t(()=>[c("h3",null,p(m("gateways.routes.item.config")),1),s[1]||(s[1]=i()),(r(),g(C,null,_([["structured","universal","k8s"]],o=>c("div",{key:typeof o},[l(E,{label:m("gateways.routes.item.format"),selected:e.params.format,onChange:a=>{e.update({format:a})},onVnodeBeforeMount:a=>{var w;return((w=a==null?void 0:a.props)==null?void 0:w.selected)&&o.includes(a.props.selected)&&a.props.selected!==e.params.format&&e.update({format:a.props.selected})}},L({_:2},[_(o,a=>({name:`${a}-option`,fn:t(()=>[i(p(m(`gateways.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2,__:[1]},1024)]),s[3]||(s[3]=i()),e.params.format==="structured"?(r(),g("div",T,[d.namespace.length>0?(r(),u(D,{key:0,layout:"horizontal"},{title:t(()=>[i(p(m("gateways.routes.item.namespace")),1)]),body:t(()=>[i(p(d.namespace),1)]),_:2,__:[2]},1024)):q("",!0)])):e.params.format==="universal"?(r(),u(x,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",resource:d.config,"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:o=>e.update({codeSearch:o}),onFilterModeChange:o=>e.update({codeFilter:o}),onRegExpModeChange:o=>e.update({codeRegExp:o})},null,8,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(r(),u(V,{key:2,src:B(A(G),"/meshes/:mesh/mesh-gateways/:name/as/kubernetes",{mesh:e.params.mesh,name:e.params.gateway})},{default:t(({data:o})=>[l(x,{"data-testid":"codeblock-yaml-k8s",language:"yaml",resource:o,"show-k8s-copy-button":!1,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:a=>e.update({codeSearch:a}),onFilterModeChange:a=>e.update({codeFilter:a}),onRegExpModeChange:a=>e.update({codeRegExp:a})},null,8,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2,__:[3]},1024)]),_:2,__:[4]},1024))),128))]),_:2,__:[5]},1032,["items","predicate"])]),_:1},8,["name"])}}}),j=Q(z,[["__scopeId","data-v-b0845dc4"]]);export{j as default};
