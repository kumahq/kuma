import{L as x}from"./LoadingBox-a850f43d.js";import{O as z,a as Z,b as I}from"./OnboardingPage-467db8b7.js";import{h as k,j as A,i as T,f as O,_ as N,g as V}from"./RouteView.vue_vue_type_script_setup_true_lang-19528cd9.js";import{_ as L}from"./RouteTitle.vue_vue_type_script_setup_true_lang-2f1aad7c.js";import{d as M,q as r,A as U,o as a,a as C,w as i,h as c,b as m,g as e,k as n,e as l,f as S,p as B,m as $}from"./index-bec4d193.js";import"./kongponents.es-b2b550a8.js";const E=u=>(B("data-v-40900992"),u=u(),$(),u),K=E(()=>n("p",{class:"mb-4 text-center"},`
            A zone requires both the zone control plane and zone ingress. On Kubernetes, you run a single command to create both resources. On Universal, you must create them separately.
          `,-1)),R={class:"mb-4 text-center"},D=["href"],P={class:"status-box mt-4"},q={key:0,class:"status--is-connected","data-testid":"zone-connected"},G={key:1,class:"status--is-disconnected","data-testid":"zone-disconnected"},j={class:"status-box mt-4"},H={key:0,class:"status--is-connected","data-testid":"zone-ingress-connected"},Q={key:1,class:"status--is-disconnected","data-testid":"zone-ingress-disconnected"},Y={key:0,class:"status-loading-box mt-4"},b=1e3,F=M({__name:"MultiZoneView",setup(u){const p=k(),f=A(),{t:y}=T(),s=r(!1),o=r(!1),d=r(null),_=r(null);U(function(){h(),w()}),v(),g();async function v(){try{const{total:t}=await p.getZones();s.value=t>0}catch(t){s.value=!1,console.error(t)}finally{s.value||(h(),d.value=window.setTimeout(v,b))}}async function g(){try{const{total:t}=await p.getAllZoneIngressOverviews();o.value=t>0}catch(t){o.value=!1,console.error(t)}finally{o.value||(w(),_.value=window.setTimeout(g,b))}}function h(){d.value!==null&&window.clearTimeout(d.value)}function w(){_.value!==null&&window.clearTimeout(_.value)}return(t,J)=>(a(),C(N,null,{default:i(()=>[c(L,{title:m(y)("onboarding.routes.multizone.title")},null,8,["title"]),e(),c(O,null,{default:i(()=>[c(z,null,{header:i(()=>[c(Z,null,{title:i(()=>[e(`
              Add zones
            `)]),_:1})]),content:i(()=>[K,e(),n("p",R,[n("b",null,[e("See "),n("a",{href:`${m(f)("KUMA_DOCS_URL")}/deployments/multi-zone/?${m(f)("KUMA_UTM_QUERY_PARAMS")}#zone-control-plane`,target:"_blank"},"the documentation for options to install",8,D),e(".")])]),e(),n("div",null,[n("p",P,[e(`
              Zone status:

              `),s.value?(a(),l("span",q,"Connected")):(a(),l("span",G,"Disconnected"))]),e(),n("p",j,[e(`
              Zone ingress status:

              `),o.value?(a(),l("span",H,"Connected")):(a(),l("span",Q,"Disconnected"))]),e(),!o.value||!s.value?(a(),l("div",Y,[c(x)])):S("",!0)])]),navigation:i(()=>[c(I,{"next-step":"onboarding-create-mesh","previous-step":"onboarding-configuration-types","should-allow-next":s.value&&o.value},null,8,["should-allow-next"])]),_:1})]),_:1})]),_:1}))}});const oe=V(F,[["__scopeId","data-v-40900992"]]);export{oe as default};
