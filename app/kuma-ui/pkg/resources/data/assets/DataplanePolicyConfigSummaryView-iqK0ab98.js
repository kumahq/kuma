import{d as P,r as n,p as y,o as t,w as o,b as c,c as a,N as s,L as m,e as p,q as S,l,m as g,a4 as $,t as f,Y as z,_ as O}from"./index-BVCeEt6h.js";import{P as R}from"./PolicyTypeTag-Bgig-0fJ.js";const Y={colspan:"2"},j=P({__name:"DataplanePolicyConfigSummaryView",props:{policies:{},policyTypesData:{}},setup(V){const B=V;return(X,e)=>{const _=n("XLayout"),v=n("XAction"),D=n("XCodeBlock"),L=n("XTable"),T=n("AppView"),b=n("DataCollection"),x=n("RouteView");return t(),y(x,{name:"data-plane-policy-config-summary-view",params:{inactive:Boolean,proxyType:"",connection:"",policy:""}},{default:o(({route:A})=>[c(b,{items:B.policies,predicate:d=>d.kind.toLocaleLowerCase()===A.params.policy},{default:o(({items:d})=>[(t(!0),a(s,null,m(d,({kind:r,conf:N,origins:k})=>(t(),y(T,{key:r},{title:o(()=>[c(_,{size:"small"},{default:o(()=>[l("h2",null,[c(R,{"policy-type":r},{default:o(()=>[p(f(r),1)]),_:2},1032,["policy-type"])])]),_:2},1024)]),default:o(()=>[e[5]||(e[5]=p()),(t(!0),a(s,null,m([Object.groupBy(X.policyTypesData?.policyTypes??[],({name:i})=>i)],i=>(t(),a(s,{key:`${typeof i}`},[k.length>0?(t(),y(L,{key:0,variant:"kv"},{default:o(()=>[l("tr",null,[e[0]||(e[0]=l("th",{scope:"row"},`
                  Origin policies
                `,-1)),e[1]||(e[1]=p()),l("td",null,[l("ul",null,[(t(!0),a(s,null,m(k,u=>(t(),a("li",{key:u.kri},[(t(!0),a(s,null,m([g($).fromString(u.kri)],({mesh:w,name:C})=>(t(),a(s,{key:`${w}-${C}`},[i[r]?(t(),y(v,{key:0,to:{name:"policy-detail-view",params:{mesh:w,policyPath:i[r][0].path,policy:C}}},{default:o(()=>[p(f(u.kri),1)]),_:2},1032,["to"])):(t(),a(s,{key:1},[p(f(u.kri),1)],64))],64))),128))]))),128))])])]),e[4]||(e[4]=p()),l("tr",null,[l("td",Y,[c(_,{type:"stack",size:"small"},{default:o(()=>[e[2]||(e[2]=l("span",null,"Config",-1)),e[3]||(e[3]=p()),c(D,{code:g(z).stringify(N),language:"yaml","show-copy-button":!1},null,8,["code"])]),_:2},1024)])])]),_:2},1024)):S("",!0)],64))),128))]),_:2},1024))),128))]),_:1},8,["items","predicate"])]),_:1})}}}),F=O(j,[["__scopeId","data-v-59a88dbe"]]);export{F as default};
