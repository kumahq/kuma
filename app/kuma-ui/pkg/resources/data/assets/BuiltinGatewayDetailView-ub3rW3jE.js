import{_ as V}from"./ResourceCodeBlock.vue_vue_type_style_index_0_lang-9CAG0u0f.js";import{d as $,a as l,o as t,b as o,w as n,t as f,m as g,f as p,e as r,X as F,F as b,c,E as B,p as S}from"./index-G4vI7xl4.js";import{E as w}from"./ErrorBlock-LAhFgvYT.js";import{_ as y}from"./LoadingBlock.vue_vue_type_script_setup_true_lang-YOir_rOx.js";import"./CodeBlock-q0w5aanp.js";import"./CopyButton-otyxHii5.js";import"./index-CMzbRF1u.js";import"./toYaml-sPaYOD3i.js";import"./TextWithCopyButton-L1zSxs0W.js";import"./WarningIcon.vue_vue_type_script_setup_true_lang-t6VKdIxt.js";const L={key:2,class:"stack"},I={class:"mt-4"},K={key:3,"data-testid":"affected-data-plane-proxies"},J=$({__name:"BuiltinGatewayDetailView",setup(M){return(N,q)=>{const k=l("KInput"),C=l("RouterLink"),_=l("DataSource"),x=l("KCard"),v=l("AppView"),E=l("RouteView");return t(),o(E,{name:"builtin-gateway-detail-view",params:{mesh:"",gateway:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,dataplane:""}},{default:n(({route:a,t:u})=>[r(v,null,{default:n(()=>[r(_,{src:`/meshes/${a.params.mesh}/mesh-gateways/${a.params.gateway}`},{default:n(({data:d,error:h})=>[h?(t(),o(w,{key:0,error:h},null,8,["error"])):d===void 0?(t(),o(y,{key:1})):(t(),c("div",L,[r(x,null,{default:n(()=>[g("h2",null,f(u("builtin-gateways.detail.affected_dpps")),1),p(),g("div",I,[r(k,{"model-value":a.params.dataplane,type:"text",placeholder:u("builtin-gateways.detail.dataplane_input_placeholder"),required:"","data-testid":"dataplane-search-input",onInput:e=>a.update({dataplane:e})},null,8,["model-value","placeholder","onInput"]),p(),r(_,{src:`/meshes/${a.params.mesh}/mesh-gateways/${a.params.gateway}/dataplanes`},{default:n(({data:e,error:i})=>[i?(t(),o(w,{key:0,error:i},null,8,["error"])):e===void 0?(t(),o(y,{key:1})):e.items.length===0?(t(),o(F,{key:2})):(t(),c("ul",K,[(t(!0),c(b,null,B(e.items.filter(s=>s.name.toLowerCase().includes(a.params.dataplane.toLowerCase())),(s,m)=>(t(),c("li",{key:m,"data-testid":"dataplane-name"},[r(C,{to:{name:"data-plane-detail-view",params:{mesh:s.mesh,dataPlane:s.name}}},{default:n(()=>[p(f(s.name),1)]),_:2},1032,["to"])]))),128))]))]),_:2},1032,["src"])])]),_:2},1024),p(),r(V,{resource:d.config,"is-searchable":"",query:a.params.codeSearch,"is-filter-mode":a.params.codeFilter,"is-reg-exp-mode":a.params.codeRegExp,onQueryChange:e=>a.update({codeSearch:e}),onFilterModeChange:e=>a.update({codeFilter:e}),onRegExpModeChange:e=>a.update({codeRegExp:e})},{default:n(({copy:e,copying:i})=>[i?(t(),o(_,{key:0,src:`/meshes/${d.mesh}/mesh-gateways/${d.name}/as/kubernetes?no-store`,onChange:s=>{e(m=>m(s))},onError:s=>{e((m,R)=>R(s))}},null,8,["src","onChange","onError"])):S("",!0)]),_:2},1032,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]))]),_:2},1032,["src"])]),_:2},1024)]),_:1})}}});export{J as default};
