import{d as h,l as B,a as l,o as e,c as i,b as a,w as o,p as u,t as C,q as t,H as E,I as x,F as I,e as r,ap as K,K as N,f as p,aq as b,_ as D}from"./index-646486ee.js";import{_ as $}from"./CodeBlock.vue_vue_type_style_index_0_lang-a2e2bc37.js";import{_ as S}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-f5640fed.js";const V={class:"envoy-data-actions"},w=h({__name:"EnvoyData",props:{status:{},resource:{},src:{},query:{default:""}},emits:["query-change"],setup(d,{emit:y}){const{t:m}=B(),n=d,f=y;return(z,c)=>{const v=l("KAlert"),k=l("KButton");return e(),i("div",null,[n.status!=="online"?(e(),a(v,{key:0,appearance:"info"},{alertMessage:o(()=>[u("p",null,C(t(m)("common.detail.no_envoy_data",{resource:n.resource})),1)]),_:1})):(e(),a(b,{key:1,src:n.src},{default:o(({data:s,error:_,refresh:g})=>[_?(e(),a(E,{key:0,error:_},null,8,["error"])):s===void 0?(e(),a(x,{key:1})):s===""?(e(),a(S,{key:2})):(e(),i(I,{key:3},[u("div",V,[r(k,{appearance:"primary","data-testid":"envoy-data-refresh-button",onClick:g},{default:o(()=>[r(t(K),{size:t(N)},null,8,["size"]),p(`

            Refresh
          `)]),_:2},1032,["onClick"])]),p(),r($,{id:"code-block-envoy-data",language:"json",code:typeof s=="string"?s:JSON.stringify(s,null,2),"is-searchable":"",query:n.query,onQueryChange:c[0]||(c[0]=q=>f("query-change",q))},null,8,["code","query"])],64))]),_:1},8,["src"]))])}}});const j=D(w,[["__scopeId","data-v-065eed8d"]]);export{j as E};
