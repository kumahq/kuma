import{_ as T}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-D_O6ADRe.js";import{d as B,a as c,o as r,b as d,w as t,e as s,m as i,f as o,a5 as h,c as m,F as f,G as g,t as l,q as x}from"./index-D0QWLHzr.js";import"./CodeBlock-DFpFGx5J.js";import"./toYaml-DB9FPXFY.js";const A={class:"stack"},M={class:"stack-with-borders"},$={class:"mt-4"},X=B({__name:"MeshServiceSummaryView",props:{items:{}},setup(k){const w=k;return(K,N)=>{const R=c("RouteTitle"),V=c("XAction"),u=c("KTruncate"),v=c("KBadge"),E=c("DataSource"),S=c("AppView"),b=c("DataCollection"),D=c("RouteView");return r(),d(D,{name:"mesh-service-summary-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1}},{default:t(({route:a,t:y})=>[s(b,{items:w.items,predicate:n=>n.id===a.params.service},{item:t(({item:n})=>[s(S,null,{title:t(()=>[i("h2",null,[s(V,{to:{name:"mesh-service-detail-view",params:{mesh:a.params.mesh,service:a.params.service}}},{default:t(()=>[s(R,{title:y("services.routes.item.title",{name:n.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:t(()=>[o(),i("div",A,[i("div",M,[n.status.addresses.length>0?(r(),d(h,{key:0,layout:"horizontal"},{title:t(()=>[o(`
                  Addresses
                `)]),body:t(()=>[s(u,null,{default:t(()=>[(r(!0),m(f,null,g(n.status.addresses,e=>(r(),m("span",{key:e.hostname},l(e.hostname),1))),128))]),_:2},1024)]),_:2},1024)):x("",!0),o(),s(h,{layout:"horizontal"},{title:t(()=>[o(`
                  Ports
                `)]),body:t(()=>[s(u,null,{default:t(()=>[(r(!0),m(f,null,g(n.spec.ports,e=>(r(),d(v,{key:e.port,appearance:"info"},{default:t(()=>[o(l(e.port)+":"+l(e.targetPort)+"/"+l(e.protocol),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),o(),s(h,{layout:"horizontal"},{title:t(()=>[o(`
                  Dataplane Tags
                `)]),body:t(()=>[s(u,null,{default:t(()=>[(r(!0),m(f,null,g(n.spec.selector.dataplaneTags,(e,p)=>(r(),d(v,{key:`${p}:${e}`,appearance:"info"},{default:t(()=>[o(l(p)+":"+l(e),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),o(),i("div",null,[i("h3",null,l(y("services.routes.item.config")),1),o(),i("div",$,[s(T,{resource:n.config,"is-searchable":"",query:a.params.codeSearch,"is-filter-mode":a.params.codeFilter,"is-reg-exp-mode":a.params.codeRegExp,onQueryChange:e=>a.update({codeSearch:e}),onFilterModeChange:e=>a.update({codeFilter:e}),onRegExpModeChange:e=>a.update({codeRegExp:e})},{default:t(({copy:e,copying:p})=>[p?(r(),d(E,{key:0,src:`/meshes/${a.params.mesh}/mesh-service/${a.params.service}/as/kubernetes?no-store`,onChange:_=>{e(C=>C(_))},onError:_=>{e((C,F)=>F(_))}},null,8,["src","onChange","onError"])):x("",!0)]),_:2},1032,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])])])])]),_:2},1024)]),_:2},1032,["items","predicate"])]),_:1})}}});export{X as default};
