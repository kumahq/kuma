import{d as Q,r as l,p as m,o as c,w as e,b as a,e as s,q as f,O as g,t as p,m as v,a1 as K,K as P,c as w,N as M,L as C,l as E,M as Y,Y as R,_ as j}from"./index-BRjpzT8y.js";const I=Q({__name:"MeshExternalServiceDetailView",props:{data:{}},setup(u){const d=u;return(O,n)=>{const y=l("XBadge"),x=l("XAction"),B=l("KumaPort"),S=l("XAboutCard"),V=l("XCopyButton"),h=l("XLayout"),F=l("DataCollection"),b=l("DataLoader"),k=l("XCard"),D=l("XSelect"),z=l("XCodeBlock"),A=l("AppView"),L=l("RouteView");return c(),m(L,{name:"mesh-external-service-detail-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,environment:String}},{default:e(({route:t,can:N,t:i,uri:q,me:_})=>[a(A,null,{default:e(()=>[a(h,{type:"stack"},{default:e(()=>[a(S,{title:i("services.mesh-external-service.about.title"),created:d.data.creationTime,modified:d.data.modificationTime},{default:e(()=>[d.data.namespace.length>0?(c(),m(g,{key:0,layout:"horizontal"},{title:e(()=>[s(p(i("http.api.property.namespace")),1)]),body:e(()=>[a(y,{appearance:"decorative"},{default:e(()=>[s(p(d.data.namespace),1)]),_:1})]),_:2},1024)):f("",!0),n[4]||(n[4]=s()),N("use zones")&&d.data.zone?(c(),m(g,{key:1,layout:"horizontal"},{title:e(()=>[s(p(i("http.api.property.zone")),1)]),body:e(()=>[a(y,{appearance:"decorative"},{default:e(()=>[a(x,{to:{name:"zone-cp-detail-view",params:{zone:d.data.zone}}},{default:e(()=>[s(p(d.data.zone),1)]),_:1},8,["to"])]),_:1})]),_:2},1024)):f("",!0),n[5]||(n[5]=s()),u.data.spec.match?(c(),m(g,{key:2,layout:"horizontal",class:"port"},{title:e(()=>[s(p(i("http.api.property.port")),1)]),body:e(()=>[a(B,{port:u.data.spec.match},null,8,["port"])]),_:2},1024)):f("",!0),n[6]||(n[6]=s()),u.data.spec.match?(c(),m(g,{key:3,layout:"horizontal",class:"tls"},{title:e(()=>[s(p(i("http.api.property.tls")),1)]),body:e(()=>[a(y,{appearance:u.data.spec.tls?.enabled?"success":"neutral"},{default:e(()=>[s(p(u.data.spec.tls?.enabled?"Enabled":"Disabled"),1)]),_:1},8,["appearance"])]),_:2},1024)):f("",!0)]),_:2},1032,["title","created","modified"]),n[10]||(n[10]=s()),a(k,null,{title:e(()=>[s(p(i("services.detail.hostnames.title")),1)]),default:e(()=>[n[8]||(n[8]=s()),a(b,{src:q(v(K),"/meshes/:mesh/:serviceType/:serviceName/_hostnames",{mesh:t.params.mesh,serviceType:"meshexternalservices",serviceName:t.params.service}),variant:"list"},{default:e(({data:r})=>[a(F,{type:"hostnames",items:r.items},{default:e(()=>[a(P,{type:"hostnames-collection","data-testid":"hostnames-collection",items:r.items,headers:[{..._.get("headers.hostname"),label:i("services.detail.hostnames.hostname"),key:"hostname"},{..._.get("headers.zones"),label:i("services.detail.hostnames.zone"),key:"zones"}],onResize:_.set},{hostname:e(({row:o})=>[E("b",null,[a(V,{text:o.hostname},null,8,["text"])])]),zones:e(({row:o})=>[a(h,{type:"separated"},{default:e(()=>[(c(!0),w(M,null,C(o.zones,(X,T)=>(c(),m(y,{key:T,appearance:"decorative"},{default:e(()=>[a(x,{to:{name:"zone-cp-detail-view",params:{zone:X.name}}},{default:e(()=>[s(p(X.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1024)]),_:1},8,["items","headers","onResize"])]),_:2},1032,["items"])]),_:2},1032,["src"])]),_:2},1024),n[11]||(n[11]=s()),a(k,null,{default:e(()=>[a(h,null,{default:e(()=>[a(h,{type:"separated",justify:"end"},{default:e(()=>[(c(),w(M,null,C([["universal","k8s"]],r=>E("div",{key:typeof r},[a(D,{label:i("services.routes.item.format"),selected:t.params.environment,onChange:o=>{t.update({environment:o})},onVnodeBeforeMount:o=>o?.props?.selected&&r.includes(o.props.selected)&&o.props.selected!==t.params.environment&&t.update({environment:o.props.selected})},Y({_:2},[C(r,o=>({name:`${o}-option`,fn:e(()=>[s(p(i(`services.routes.item.formats.${o}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024),n[9]||(n[9]=s()),t.params.environment==="universal"?(c(),m(z,{key:0,"data-testid":"codeblock-yaml-universal",language:"yaml",code:v(R).stringify(d.data.config),"show-k8s-copy-button":!1,"is-searchable":"",query:t.params.codeSearch,"is-filter-mode":t.params.codeFilter,"is-reg-exp-mode":t.params.codeRegExp,onQueryChange:r=>t.update({codeSearch:r}),onFilterModeChange:r=>t.update({codeFilter:r}),onRegExpModeChange:r=>t.update({codeRegExp:r})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(c(),m(b,{key:1,src:`/meshes/${d.data.mesh}/mesh-external-service/${d.data.id}/as/kubernetes`},{default:e(({data:r})=>[a(z,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:v(R).stringify(r),"show-k8s-copy-button":!1,"is-searchable":"",query:t.params.codeSearch,"is-filter-mode":t.params.codeFilter,"is-reg-exp-mode":t.params.codeRegExp,onQueryChange:o=>t.update({codeSearch:o}),onFilterModeChange:o=>t.update({codeFilter:o}),onRegExpModeChange:o=>t.update({codeRegExp:o})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1})}}}),G=j(I,[["__scopeId","data-v-110ce8c2"]]);export{G as default};
