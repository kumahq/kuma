import{d as z,x as G,r as o,o as p,q as x,w as e,b as t,p as S,Y as g,T as B,e as n,m as _,Z as H,t as b,c as w,M as A,N,s as h,I as K,_ as Q}from"./index-Ciaq3jIq.js";const W=["onSubmit"],ee=["disabled"],te={key:0},ae={key:0},oe=z({__name:"DataPlaneDetailTabsView",props:{mesh:{}},setup(R){const L=R,s=G({eds:!1,xds:!0,clusters:!0,stats:!0,proxy:!0,policies:!0});return(ne,a)=>{const I=o("RouteTitle"),M=o("XCopyButton"),v=o("XAction"),V=o("XI18n"),y=o("XCheckbox"),E=o("XAlert"),C=o("DataLoader"),U=o("XDownload"),$=o("XLayout"),O=o("XModal"),D=o("XDisclosure"),P=o("XTeleportTemplate"),j=o("XTabs"),q=o("RouterView"),F=o("AppView"),J=o("DataSource"),Y=o("RouteView");return p(),x(Y,{name:"data-plane-detail-tabs-view",params:{mesh:"",proxy:""}},{default:e(({route:l,t:m,uri:T})=>[t(J,{src:T(S(g),"/meshes/:mesh/dataplane-overviews/:name",{mesh:l.params.mesh,name:l.params.proxy})},{default:e(({data:d,error:Z})=>[t(F,{breadcrumbs:[{to:{name:"mesh-detail-view",params:{mesh:l.params.mesh}},text:l.params.mesh},{to:{name:"data-plane-list-view",params:{mesh:l.params.mesh}},text:m("data-planes.routes.item.breadcrumbs")}]},B({actions:e(()=>[t(D,null,{default:e(({expanded:f,toggle:r})=>[t(v,{appearance:"primary",onClick:r},{default:e(()=>a[1]||(a[1]=[n(`
              Download Bundle
            `)])),_:2},1032,["onClick"]),a[6]||(a[6]=n()),f?(p(),x(P,{key:0,to:{name:"modal-layer"}},{default:e(()=>[t(D,null,{default:e(({expanded:X,toggle:k})=>[_("form",{onSubmit:H(k,["prevent"])},[t(O,{title:m("data-planes.routes.item.download.title"),onCancel:r},{"footer-actions":e(()=>[t($,{type:"separated"},{default:e(()=>[t(U,{onStart:r},{default:e(({download:u})=>[t(C,{variant:"spinner",src:X?T(S(g),"/meshes/:mesh/dataplanes/:name/as/tarball/:spec",{mesh:l.params.mesh,name:l.params.proxy,spec:JSON.stringify(s.value)},{cacheControl:"no-cache"}):"",onChange:u,onError:k},{error:e(()=>[t(E,{appearance:"warning","show-icon":""},{default:e(()=>[t(V,{t:"data-planes.routes.item.download.error"})]),_:1})]),_:2},1032,["src","onChange","onError"])]),_:2},1032,["onStart"]),a[4]||(a[4]=n()),t(v,{appearance:"primary",type:"submit",disabled:X||Object.values(s.value).every(u=>!u)},{default:e(()=>[n(b(m("data-planes.routes.item.download.action")),1)]),_:2},1032,["disabled"])]),_:2},1024)]),default:e(()=>[_("fieldset",{disabled:X},[t(V,{path:"data-planes.routes.item.download.description"}),a[3]||(a[3]=n()),_("ul",null,[(p(!0),w(A,null,N(s.value,(u,i)=>(p(),w(A,{key:typeof u},[i!=="eds"?(p(),w("li",te,[t(y,{modelValue:s.value[i],"onUpdate:modelValue":c=>s.value[i]=c,onChange:c=>{i==="xds"&&!c&&(s.value.eds=!1)}},{default:e(()=>[n(b(m(`data-planes.routes.item.download.options.${i}`)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),a[2]||(a[2]=n()),i==="xds"?(p(),w("ul",ae,[_("li",null,[t(y,{modelValue:s.value.eds,"onUpdate:modelValue":a[0]||(a[0]=c=>s.value.eds=c),disabled:!s.value.xds},{default:e(()=>[n(b(m("data-planes.routes.item.download.options.eds")),1)]),_:2},1032,["modelValue","disabled"])])])):h("",!0)])):h("",!0)],64))),128))])],8,ee),a[5]||(a[5]=n())]),_:2},1032,["title","onCancel"])],40,W)]),_:2},1024)]),_:2},1024)):h("",!0)]),_:2},1024)]),default:e(()=>[a[8]||(a[8]=n()),a[9]||(a[9]=n()),t(C,{data:[d],errors:[Z]},{default:e(()=>{var f;return[t(j,{selected:(f=l.child())==null?void 0:f.name},B({_:2},[N(l.children,({name:r})=>({name:`${r}-tab`,fn:e(()=>[t(v,{to:{name:r}},{default:e(()=>[n(b(m(`data-planes.routes.item.navigation.${r}`)),1)]),_:2},1032,["to"])])}))]),1032,["selected"]),a[7]||(a[7]=n()),t(q,null,{default:e(({Component:r})=>[(p(),x(K(r),{data:d,networking:d==null?void 0:d.dataplane.networking,mesh:L.mesh},null,8,["data","networking","mesh"]))]),_:2},1024)]}),_:2},1032,["data","errors"])]),_:2},[d?{name:"title",fn:e(()=>[_("h1",null,[t(M,{text:d.name},{default:e(()=>[t(I,{title:m("data-planes.routes.item.title",{name:d.name})},null,8,["title"])]),_:2},1032,["text"])])]),key:"0"}:void 0]),1032,["breadcrumbs"])]),_:2},1032,["src"])]),_:1})}}}),le=Q(oe,[["__scopeId","data-v-2366e1ba"]]);export{le as default};
