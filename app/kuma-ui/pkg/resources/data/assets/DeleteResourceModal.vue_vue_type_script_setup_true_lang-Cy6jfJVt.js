import{d as b,z as B,G as S,o as t,a as m,w as p,h,k as i,A as n,$ as q,S as T,b as o,H as v,g as u,t as l,J as V,e as y,a0 as C}from"./index-DJJJbhb4.js";const F=["data-testid"],P={key:1},w=b({__name:"DeleteResourceModal",props:{actionButtonText:{type:String,required:!1,default:"Yes, delete"},confirmationText:{type:String,required:!1,default:""},deleteFunction:{type:Function,required:!0},isVisible:{type:Boolean,required:!0},title:{type:String,required:!1,default:"Delete"}},emits:["cancel","delete"],setup(_,{emit:x}){const{t:c}=B(),a=_,d=x,e=S(null);async function g(){e.value=null;try{await a.deleteFunction(),d("delete")}catch(r){r instanceof Error?e.value=r:console.error(r)}}return(r,f)=>(t(),m(n(C),{"action-button-text":a.actionButtonText,"confirmation-text":a.confirmationText,visible:a.isVisible,title:a.title,type:"danger",onCancel:f[0]||(f[0]=s=>d("cancel")),onProceed:g},{default:p(()=>[h(r.$slots,"default"),i(),e.value!==null?(t(),m(n(q),{key:0,class:"mt-4",appearance:"danger"},{default:p(()=>[e.value instanceof n(T)?(t(),o(v,{key:0},[u("p",null,l(n(c)("common.error_state.api_error",{status:e.value.status,title:e.value.detail})),1),i(),e.value.invalidParameters.length>0?(t(),o("ul",{key:0,"data-testid":`error-${e.value.status}`},[(t(!0),o(v,null,V(e.value.invalidParameters,(s,k)=>(t(),o("li",{key:k},[u("b",null,[u("code",null,l(s.field),1)]),i(": "+l(s.reason),1)]))),128))],8,F)):y("",!0)],64)):(t(),o("p",P,l(n(c)("common.error_state.default_error")),1))]),_:1})):y("",!0)]),_:3},8,["action-button-text","confirmation-text","visible","title"]))}});export{w as _};
