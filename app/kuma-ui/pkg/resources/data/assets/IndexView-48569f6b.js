import{d as S,r as s,o as n,i as c,w as t,j as a,p as T,n as i,E as B,H as u,a1 as b,l as g,F as I,k as w,aJ as D,K as E,m as N,t as P}from"./index-eb555afc.js";import{A as $}from"./AppCollection-872e9ce3.js";import{S as L}from"./StatusBadge-0c1ce262.js";import{g as O}from"./dataplane-0a086c06.js";import"./EmptyBlock.vue_vue_type_script_setup_true_lang-930f5c11.js";const F=S({__name:"IndexView",setup(U){function A(z){return z.map(l=>{const{name:m}=l,y={name:"zone-ingress-detail-view",params:{zoneIngress:m}},{networking:e}=l.zoneIngress;let p;e!=null&&e.address&&(e!=null&&e.port)&&(p=`${e.address}:${e.port}`);let _;e!=null&&e.advertisedAddress&&(e!=null&&e.advertisedPort)&&(_=`${e.advertisedAddress}:${e.advertisedPort}`);const f=O(l.zoneIngressInsight??{});return{detailViewRoute:y,name:m,addressPort:p,advertisedAddressPort:_,status:f}})}return(z,l)=>{const m=s("RouteTitle"),y=s("RouterLink"),e=s("KIcon"),p=s("KButton"),_=s("KDropdownItem"),f=s("KDropdownMenu"),C=s("KCard"),k=s("DataSource"),K=s("AppView"),R=s("RouteView");return n(),c(k,{src:"/me"},{default:t(({data:h})=>[h?(n(),c(R,{key:0,name:"zone-ingress-list-view",params:{zone:""}},{default:t(({route:x,t:r})=>[a(K,null,{title:t(()=>[T("h2",null,[a(m,{title:r("zone-ingresses.routes.items.title"),render:!0},null,8,["title"])])]),default:t(()=>[i(),a(k,{src:`/zone-cps/${x.params.zone}/ingresses?page=1&size=100`},{default:t(({data:d,error:v})=>[a(C,null,{body:t(()=>[v!==void 0?(n(),c(B,{key:0,error:v},null,8,["error"])):(n(),c($,{key:1,class:"zone-ingress-collection","data-testid":"zone-ingress-collection",headers:[{label:"Name",key:"name"},{label:"Address",key:"addressPort"},{label:"Advertised address",key:"advertisedAddressPort"},{label:"Status",key:"status"},{label:"Actions",key:"actions",hideLabel:!0}],"page-number":1,"page-size":100,total:d==null?void 0:d.total,items:d?A(d.items):void 0,error:v,"empty-state-message":r("common.emptyState.message",{type:"Zone Ingresses"}),"empty-state-cta-to":r("zone-ingresses.href.docs"),"empty-state-cta-text":r("common.documentation"),onChange:x.update},{name:t(({row:o,rowValue:V})=>[a(y,{to:o.detailViewRoute,"data-testid":"detail-view-link"},{default:t(()=>[i(u(V),1)]),_:2},1032,["to"])]),addressPort:t(({rowValue:o})=>[o?(n(),c(b,{key:0,text:o},null,8,["text"])):(n(),g(I,{key:1},[i(u(r("common.collection.none")),1)],64))]),advertisedAddressPort:t(({rowValue:o})=>[o?(n(),c(b,{key:0,text:o},null,8,["text"])):(n(),g(I,{key:1},[i(u(r("common.collection.none")),1)],64))]),status:t(({rowValue:o})=>[o?(n(),c(L,{key:0,status:o},null,8,["status"])):(n(),g(I,{key:1},[i(u(r("common.collection.none")),1)],64))]),actions:t(({row:o})=>[a(f,{class:"actions-dropdown","data-testid":"actions-dropdown","kpop-attributes":{placement:"bottomEnd",popoverClasses:"mt-5 more-actions-popover"},width:"150"},{default:t(()=>[a(p,{class:"non-visual-button",appearance:"secondary",size:"small"},{icon:t(()=>[a(e,{color:w(D),icon:"more",size:w(E)},null,8,["color","size"])]),_:1})]),items:t(()=>[a(_,{item:{to:o.detailViewRoute,label:r("common.collection.actions.view")}},null,8,["item"])]),_:2},1024)]),_:2},1032,["total","items","error","empty-state-message","empty-state-cta-to","empty-state-cta-text","onChange"]))]),_:2},1024)]),_:2},1032,["src"])]),_:2},1024)]),_:1},8,["params"])):N("",!0)]),_:1})}}});const J=P(F,[["__scopeId","data-v-d54517cf"]]);export{J as default};
