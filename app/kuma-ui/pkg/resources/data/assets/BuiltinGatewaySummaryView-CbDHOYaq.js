import{d as L,r as c,x as N,p as g,o as n,w as i,b as u,a0 as q,c as p,L as f,M as w,e as t,l,t as o,N as j,q as y,m as h,Y as C,W as A,z as Q}from"./index-CJOY8Jaq.js";const $={key:0},G={scope:"row"},O={key:1},Y={scope:"row"},W={key:2},H={scope:"row"},I={key:3},J={scope:"row"},K={key:4},P={scope:"row"},U={key:5},Z={scope:"row"},ee={key:6},te={scope:"row"},oe={key:7},ae={scope:"row"},re=L({__name:"BuiltinGatewaySummaryView",props:{items:{},routeName:{}},setup(S){const x=S;return(se,e)=>{const E=c("XEmptyState"),M=c("RouteTitle"),X=c("XAction"),B=c("XSelect"),_=c("XLayout"),R=c("XBadge"),V=c("XTable"),k=c("XCodeBlock"),F=c("DataLoader"),T=c("AppView"),v=c("RouteView"),D=N("icon-start");return n(),g(v,{name:x.routeName,params:{mesh:"",gateway:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:i(({route:r,t:m,uri:z})=>[u(q,{items:x.items,predicate:b=>b.id===r.params.gateway,find:!0},{empty:i(()=>[u(E,null,{title:i(()=>[l("h2",null,o(m("common.collection.summary.empty_title",{type:"Gateway"})),1)]),default:i(()=>[e[0]||(e[0]=t()),l("p",null,o(m("common.collection.summary.empty_message",{type:"Gateway"})),1)]),_:2},1024)]),default:i(({items:b})=>[(n(!0),p(f,null,w([b[0]],s=>(n(),g(T,{key:s.id},{title:i(()=>[Q((n(),p("h2",null,[u(X,{to:{name:"builtin-gateway-detail-view",params:{mesh:s.mesh,gateway:s.id}}},{default:i(()=>[u(M,{title:m("builtin-gateways.routes.item.title",{name:s.name})},null,8,["title"])]),_:2},1032,["to"])])),[[D,"dataplane-builtin"]])]),default:i(()=>[e[19]||(e[19]=t()),u(_,{type:"stack"},{default:i(()=>[l("header",null,[u(_,{type:"separated",size:"max"},{default:i(()=>[l("h3",null,o(m("gateways.routes.item.config")),1),e[1]||(e[1]=t()),(n(),p(f,null,w([["structured","universal","k8s"]],d=>l("div",{key:typeof d},[u(B,{label:m("gateways.routes.item.format"),selected:r.params.format,onChange:a=>{r.update({format:a})},onVnodeBeforeMount:a=>a?.props?.selected&&d.includes(a.props.selected)&&a.props.selected!==r.params.format&&r.update({format:a.props.selected})},j({_:2},[w(d,a=>({name:`${a}-option`,fn:i(()=>[t(o(m(`gateways.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024)]),e[18]||(e[18]=t()),r.params.format==="structured"?(n(),p(f,{key:0},[u(V,{"data-testid":"structured-view",variant:"kv"},{default:i(()=>[s.type.length>0?(n(),p("tr",$,[l("th",G,o(m("gateways.routes.item.type")),1),e[2]||(e[2]=t()),l("td",null,o(s.type),1)])):y("",!0),e[10]||(e[10]=t()),s.namespace.length>0?(n(),p("tr",O,[l("th",Y,o(m("gateways.routes.item.namespace")),1),e[3]||(e[3]=t()),l("td",null,o(s.namespace),1)])):y("",!0),e[11]||(e[11]=t()),s.mesh.length>0?(n(),p("tr",W,[l("th",H,o(m("gateways.routes.item.mesh")),1),e[4]||(e[4]=t()),l("td",null,o(s.mesh),1)])):y("",!0),e[12]||(e[12]=t()),s.zone.length>0?(n(),p("tr",I,[l("th",J,o(m("gateways.routes.item.zone")),1),e[5]||(e[5]=t()),l("td",null,o(s.zone),1)])):y("",!0),e[13]||(e[13]=t()),s.creationTime.length>0?(n(),p("tr",K,[l("th",P,o(m("gateways.routes.item.created")),1),e[6]||(e[6]=t()),l("td",null,o(m("common.formats.datetime",{value:Date.parse(s.creationTime)})),1)])):y("",!0),e[14]||(e[14]=t()),s.modificationTime.length>0?(n(),p("tr",U,[l("th",Z,o(m("gateways.routes.item.modified")),1),e[7]||(e[7]=t()),l("td",null,o(m("common.formats.datetime",{value:Date.parse(s.modificationTime)})),1)])):y("",!0),e[15]||(e[15]=t()),Object.keys(s.labels).length>0?(n(),p("tr",ee,[l("th",te,o(m("gateways.routes.item.labels")),1),e[8]||(e[8]=t()),l("td",null,[u(_,{type:"separated",justify:"end"},{default:i(()=>[(n(!0),p(f,null,w(Object.entries(s.labels),([d,a])=>(n(),g(R,{key:`${d}:${a}`,appearance:"info",class:"label"},{default:i(()=>[d.includes("kuma.io/zone")?(n(),g(X,{key:0,to:{name:"builtin-gateway-list-view",query:{s:`zone:${a}`}}},{default:i(()=>[t(o(d)+":"+o(a),1)]),_:2},1032,["to"])):(n(),p(f,{key:1},[t(o(d)+":"+o(a),1)],64))]),_:2},1024))),128))]),_:2},1024)])])):y("",!0),e[16]||(e[16]=t()),s.selectors.length>0?(n(),p("tr",oe,[l("th",ae,o(m("gateways.routes.item.selectors")),1),e[9]||(e[9]=t()),l("td",null,[u(_,{type:"separated",justify:"end"},{default:i(()=>[(n(!0),p(f,null,w(Object.entries(s.selectors[0].match),([d,a])=>(n(),g(R,{key:`${d}:${a}`,appearance:"info"},{default:i(()=>[t(o(d)+":"+o(a),1)]),_:2},1024))),128))]),_:2},1024)])])):y("",!0)]),_:2},1024),e[17]||(e[17]=t()),u(k,{"data-testid":"codeblock-yaml-structured-conf",language:"yaml",code:h(C).stringify(s.conf)},null,8,["code"])],64)):r.params.format==="universal"?(n(),g(k,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",code:h(C).stringify(s.config),"is-searchable":"",query:r.params.codeSearch,"is-filter-mode":r.params.codeFilter,"is-reg-exp-mode":r.params.codeRegExp,onQueryChange:d=>r.update({codeSearch:d}),onFilterModeChange:d=>r.update({codeFilter:d}),onRegExpModeChange:d=>r.update({codeRegExp:d})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(n(),g(F,{key:2,src:z(h(A),"/meshes/:mesh/mesh-gateways/:name/as/kubernetes",{mesh:r.params.mesh,name:r.params.gateway})},{default:i(({data:d})=>[u(k,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:h(C).stringify(d),"is-searchable":"",query:r.params.codeSearch,"is-filter-mode":r.params.codeFilter,"is-reg-exp-mode":r.params.codeRegExp,onQueryChange:a=>r.update({codeSearch:a}),onFilterModeChange:a=>r.update({codeFilter:a}),onRegExpModeChange:a=>r.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024))),128))]),_:2},1032,["items","predicate"])]),_:1},8,["name"])}}});export{re as default};
