import{q as v,J as k,T as g,l as b,a as w}from"./kongponents.es-be132aa8.js";import{A as h}from"./AppCollection-319ae7d1.js";import{i as z,A as S,_ as A}from"./RouteView.vue_vue_type_script_setup_true_lang-751dcd09.js";import{_ as C}from"./DataSource.vue_vue_type_script_setup_true_lang-a2d804b7.js";import{_ as $}from"./RouteTitle.vue_vue_type_script_setup_true_lang-a53060e8.js";import{S as x}from"./StatusBadge-bf9330dc.js";import{d as B,r as T,o as i,a as u,w as e,h as s,k as V,b as a,g as l,t as m,e as c,F as p}from"./index-7be782ba.js";const I=B({__name:"ServiceListView",props:{page:{},size:{},mesh:{}},setup(d){const n=d,{t:r}=z();return(L,N)=>{const _=T("RouterLink");return i(),u(A,{name:"services-list-view"},{default:e(({route:y})=>[s(C,{src:`/${n.mesh}/services?page=${n.page}&size=${n.size}`},{default:e(({data:o,error:f})=>[s(S,null,{title:e(()=>[V("h2",null,[s($,{title:a(r)("services.routes.items.title"),render:!0},null,8,["title"])])]),default:e(()=>[l(),s(a(v),null,{body:e(()=>[s(h,{"data-testid":"service-collection","empty-state-title":a(r)("common.emptyState.title"),"empty-state-message":a(r)("common.emptyState.message",{type:"Services"}),headers:[{label:"Name",key:"name"},{label:"Type",key:"serviceType"},{label:"Address",key:"addressPort"},{label:"Status",key:"status"},{label:"DP proxies (online / total)",key:"online"},{label:"Actions",key:"actions",hideLabel:!0}],"page-number":n.page,"page-size":n.size,total:o==null?void 0:o.total,items:o==null?void 0:o.items,error:f,onChange:y.update},{name:e(({row:t})=>[s(_,{to:{name:"service-detail-view",params:{service:t.name}}},{default:e(()=>[l(m(t.name),1)]),_:2},1032,["to"])]),status:e(({row:t})=>[t.status?(i(),u(x,{key:0,status:t.status},null,8,["status"])):(i(),c(p,{key:1},[l(`
                  —
                `)],64))]),online:e(({row:t})=>[t.dataplanes?(i(),c(p,{key:0},[l(m(t.dataplanes.online||0)+" / "+m(t.dataplanes.total||0),1)],64)):(i(),c(p,{key:1},[l(`
                  —
                `)],64))]),actions:e(({row:t})=>[s(a(k),{class:"actions-dropdown","kpop-attributes":{placement:"bottomEnd",popoverClasses:"mt-5 more-actions-popover"},width:"150"},{default:e(()=>[s(a(g),{class:"non-visual-button",appearance:"secondary",size:"small"},{icon:e(()=>[s(a(b),{color:"var(--black-400)",icon:"more",size:"16"})]),_:1})]),items:e(()=>[s(a(w),{item:{to:{name:"service-detail-view",params:{service:t.name}},label:a(r)("common.collection.actions.view")}},null,8,["item"])]),_:2},1024)]),_:2},1032,["empty-state-title","empty-state-message","headers","page-number","page-size","total","items","error","onChange"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])]),_:1})}}});export{I as default};
