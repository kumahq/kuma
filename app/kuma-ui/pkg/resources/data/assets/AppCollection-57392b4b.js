import{d as k,C,j as n,c as $,J as u,o as m,a as S,B as w,s as N,w as z,e as A,z as h,b as d,_ as x,$ as B}from"./index-bb115be3.js";import{f as I}from"./RouteView.vue_vue_type_script_setup_true_lang-e50bfc04.js";const L={key:0,class:"app-collection-toolbar"},_=5,O=k({__name:"AppCollection",props:{total:{default:0},pageNumber:{},pageSize:{},items:{},headers:{},error:{}},emits:["change"],setup(f,{emit:g}){const e=f,v=C(),l=n(e.items),r=n(0),i=n(0),p=n(e.pageNumber),y=$(()=>{const a=e.headers.filter(o=>["warnings","actions"].includes(o.key));if(a.length>4)return"initial";const s=100-a.length*_,t=e.headers.length-a.length;return`calc(${s}% / ${t})`});u(()=>e.items,(a,s)=>{a!==s&&(r.value++,l.value=e.items)}),u(()=>e.pageNumber,function(){e.pageNumber!==p.value&&i.value++});const b=a=>{const s=a.target.closest("tr");if(s){const t=s.querySelector("a");t!==null&&t.click()}};return(a,s)=>(m(),S(d(B),{key:i.value,class:"app-collection",style:x(`--column-width: ${y.value}; --special-column-width: ${_}%;`),"has-error":typeof e.error<"u","pagination-total-items":e.total,"initial-fetcher-params":{page:e.pageNumber,pageSize:e.pageSize},headers:e.headers,"fetcher-cache-key":String(r.value),fetcher:({page:t,pageSize:o,query:c})=>(p.value=t,g("change",{page:t,size:o,s:c}),{data:l.value}),"cell-attrs":({headerKey:t})=>({class:`${t}-column`}),"empty-state-icon-size":"96","disable-sorting":"","hide-pagination-when-optional":"","onRow:click":b},w({_:2},[N(Object.keys(d(v)),t=>({name:t,fn:z(({row:o,rowValue:c})=>[t==="toolbar"?(m(),A("div",L,[h(a.$slots,"toolbar",{},void 0,!0)])):h(a.$slots,t,{key:1,row:o,rowValue:c},void 0,!0)])}))]),1032,["style","has-error","pagination-total-items","initial-fetcher-params","headers","fetcher-cache-key","fetcher","cell-attrs"]))}});const K=I(O,[["__scopeId","data-v-e443049c"]]);export{K as A};
