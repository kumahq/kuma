import{_ as R,o as _,c as S,r as f,d as v,a as l,b as u,w as n,e as r,f as e,n as E,h as O,g as N,i as U,j as T,u as B,k as V,l as z,m as K,p as s,t as h,q as o,P,s as H,v as A,x as Y,y as Z,H as x,z as G,A as q}from"./index-68e88176.js";import{K as C}from"./index-52545d1d.js";const F=""+new URL("product-logo-7a2ca341.png",import.meta.url).href,j={},J={class:"app-navigator"};function Q(i,a){return _(),S("li",J,[f(i.$slots,"default")])}const M=R(j,[["render",Q]]),W=v({__name:"ControlPlaneNavigator",setup(i){return(a,d)=>{const c=l("RouterLink");return _(),u(M,{"data-testid":"control-planes-navigator"},{default:n(()=>[r(c,{class:E({"is-active":[a.$route.name].concat(a.$route.matched.map(t=>t.name)).some(t=>t==="home")}),to:{name:"home"}},{default:n(()=>[e(`
      Home
    `)]),_:1},8,["class"])]),_:1})}}}),X=v({name:"github-button",props:{href:String,ariaLabel:String,title:String,dataIcon:String,dataColorScheme:String,dataSize:String,dataShowCount:String,dataText:String},render:function(){const i={ref:"_"};for(const a in this.$props)i[O(a)]=this.$props[a];return N("span",[U(this.$slots,"default")?N("a",i,this.$slots.default()):N("a",i)])},mounted:function(){this.paint()},beforeUpdate:function(){this.reset()},updated:function(){this.paint()},beforeUnmount:function(){this.reset()},methods:{paint:function(){const i=this.$el.appendChild(document.createElement("span")),a=this;T(()=>import("./buttons.esm-48f94bc9.js"),[],import.meta.url).then(function(d){d.render(i.appendChild(a.$refs._),function(c){try{i.parentNode.replaceChild(c,i)}catch{}})})},reset:function(){this.$el.replaceChild(this.$refs._,this.$el.lastChild)}}}),ee={class:"upgrade-check"},te={class:"alert-content"},ne=v({__name:"UpgradeCheck",setup(i){const a=B(),d=V(),{t:c}=z(),t=K(""),k=K(!1);g(d("KUMA_VERSION"));const w=(m,p)=>{const y=m.split("."),$=p.split(".");for(let b=0;b<3;b++){const L=Number(y[b]),I=Number($[b]);if(L>I)return 1;if(I>L)return-1}return 0};async function g(m){if(m.match("^[0-9]+.[0-9]+.[0-9]+$")){try{t.value=await a.getLatestVersion()}catch(p){console.error(p);return}if(t.value!==""){const p=w(t.value,m);k.value=p===1}else{const y=new Date,$=new Date("2020-06-03 12:00:00"),b=new Date($.getFullYear(),$.getMonth()+3,$.getDate());k.value=y.getTime()>=b.getTime()}}}return(m,p)=>(_(),S("div",ee,[k.value?(_(),u(o(H),{key:0,"data-testid":"upgrade-check",class:"upgrade-check-alert",appearance:"info",size:"small"},{alertMessage:n(()=>[s("div",te,[s("div",null,h(o(c)("common.product.name"))+` update available
          `,1),e(),s("div",null,[r(o(P),{appearance:"primary",to:o(c)("common.product.href.install")},{default:n(()=>[e(`
              Update
            `)]),_:1},8,["to"])])])]),_:1})):A("",!0)]))}});const ae=R(ne,[["__scopeId","data-v-edaa23ad"]]),D=i=>(G("data-v-297ac8b3"),i=i(),q(),i),oe={class:"application-shell"},se={role:"banner"},ce={class:"horizontal-list"},re={class:"upgrade-check-wrapper"},ie={class:"horizontal-list"},le={class:"app-status app-status--mobile"},_e={class:"app-status app-status--desktop"},pe=D(()=>s("span",{class:"visually-hidden"},"Help",-1)),de=["href"],ue=["href"],me=D(()=>s("span",{class:"visually-hidden"},"Diagnostics",-1)),he={class:"app-content-container"},fe={key:0,"aria-label":"Main",class:"app-sidebar"},ve={class:"app-main-content"},ge={class:"app-notifications"},$e=["innerHTML"],ke=v({__name:"ApplicationShell",setup(i){const a=V(),d=Y(),{t:c}=z();return(t,k)=>{const w=l("RouterLink"),g=l("KButton"),m=l("KPop"),p=l("KDropdownItem"),y=l("KDropdown"),$=l("KAlert");return _(),S("div",oe,[s("header",se,[s("div",ce,[f(t.$slots,"header",{},()=>[r(w,{to:{name:"home"}},{default:n(()=>[f(t.$slots,"home",{},void 0,!0)]),_:3}),e(),r(o(X),{class:"gh-star",href:"https://github.com/kumahq/kuma","aria-label":"Star kumahq/kuma on GitHub"},{default:n(()=>[e(`
            Star
          `)]),_:1}),e(),s("div",re,[r(ae)])],!0)]),e(),s("div",ie,[f(t.$slots,"content-info",{},()=>[s("div",le,[r(m,{width:"280"},{content:n(()=>[s("p",null,[e(h(o(c)("common.product.name"))+" ",1),s("b",null,h(o(a)("KUMA_VERSION")),1),e(" on "),s("b",null,h(o(c)(`common.product.environment.${o(a)("KUMA_ENVIRONMENT")}`)),1),e(" ("+h(o(c)(`common.product.mode.${o(a)("KUMA_MODE")}`))+`)
                `,1)])]),default:n(()=>[r(g,{appearance:"tertiary"},{default:n(()=>[e(`
                Info
              `)]),_:1}),e()]),_:1})]),e(),s("p",_e,[e(h(o(c)("common.product.name"))+" ",1),s("b",null,h(o(a)("KUMA_VERSION")),1),e(" on "),s("b",null,h(o(c)(`common.product.environment.${o(a)("KUMA_ENVIRONMENT")}`)),1),e(" ("+h(o(c)(`common.product.mode.${o(a)("KUMA_MODE")}`))+`)
          `,1)]),e(),r(y,{"kpop-attributes":{placement:"bottomEnd"}},{items:n(()=>[r(p,null,{default:n(()=>[s("a",{href:o(c)("common.product.href.docs.index"),target:"_blank",rel:"noopener noreferrer"},`
                  Documentation
                `,8,de)]),_:1}),e(),r(p,null,{default:n(()=>[s("a",{href:o(c)("common.product.href.feedback"),target:"_blank",rel:"noopener noreferrer"},`
                  Feedback
                `,8,ue)]),_:1}),e(),r(p,{item:{to:{name:"onboarding-welcome-view"},label:"Onboarding"}})]),default:n(()=>[r(g,{appearance:"tertiary","icon-only":""},{default:n(()=>[r(o(Z),{size:o(C)},null,8,["size"]),e(),pe]),_:1}),e()]),_:1}),e(),r(g,{to:{name:"diagnostics"},appearance:"tertiary","icon-only":"","data-testid":"nav-item-diagnostics"},{default:n(()=>[r(o(x),{size:o(C),"hide-title":""},null,8,["size"]),e(),me]),_:1})],!0)])]),e(),s("div",he,[t.$slots.navigation?(_(),S("nav",fe,[s("ul",null,[f(t.$slots,"navigation",{},void 0,!0)])])):A("",!0),e(),s("div",ve,[s("div",ge,[f(t.$slots,"notifications",{},void 0,!0)]),e(),f(t.$slots,"notifications",{},()=>[o(d)("use state")?A("",!0):(_(),u($,{key:0,class:"mb-4",appearance:"warning"},{alertMessage:n(()=>[s("ul",null,[s("li",{"data-testid":"warning-GLOBAL_STORE_TYPE_MEMORY",innerHTML:o(c)("common.warnings.GLOBAL_STORE_TYPE_MEMORY")},null,8,$e),e()])]),_:1}))],!0),e(),f(t.$slots,"default",{},void 0,!0)])])])}}});const be=R(ke,[["__scopeId","data-v-297ac8b3"]]),we=v({__name:"MeshNavigator",setup(i){return(a,d)=>{const c=l("RouterLink");return _(),u(M,{"data-testid":"meshes-navigator"},{default:n(()=>[r(c,{class:E({"is-active":[a.$route.name].concat(a.$route.matched.map(t=>t.name)).some(t=>t==="mesh-index-view")}),to:{name:"mesh-list-view"}},{default:n(()=>[e(`
      Meshes
    `)]),_:1},8,["class"])]),_:1})}}}),ye=v({__name:"ZoneEgressNavigator",setup(i){return(a,d)=>{const c=l("RouterLink");return _(),u(M,{"data-testid":"zone-egresses-navigator"},{default:n(()=>[r(c,{class:E({"is-active":[a.$route.name].concat(a.$route.matched.map(t=>t.name)).some(t=>t==="zone-egress-list-view")}),to:{name:"zone-egress-list-view"}},{default:n(()=>[e(`
      Zone Egresses
    `)]),_:1},8,["class"])]),_:1})}}}),Se=v({__name:"ZoneNavigator",setup(i){return(a,d)=>{const c=l("RouterLink");return _(),u(M,{"data-testid":"zones-navigator"},{default:n(()=>[r(c,{class:E({"is-active":[a.$route.name].concat(a.$route.matched.map(t=>t.name)).some(t=>t==="zone-index-view")}),to:{name:"zone-cp-list-view"}},{default:n(()=>[e(`
      Zones
    `)]),_:1},8,["class"])]),_:1})}}}),Ae=["alt"],Re=v({__name:"App",setup(i){return(a,d)=>{const c=l("RouterView"),t=l("AppView"),k=l("RouteView"),w=l("DataSource");return _(),u(w,{src:"/control-plane/addresses"},{default:n(({data:g})=>[typeof g<"u"?(_(),u(k,{key:0,name:"app",attrs:{class:"kuma-ready"},"data-testid-root":"mesh-app"},{default:n(({t:m,can:p})=>[r(be,{class:"kuma-application"},{home:n(()=>[s("img",{class:"logo",src:F,alt:`${m("common.product.name")} Logo`,"data-testid":"logo"},null,8,Ae)]),navigation:n(()=>[r(W),e(),p("use zones")?(_(),u(Se,{key:0})):(_(),u(ye,{key:1})),e(),r(we)]),default:n(()=>[e(),e(),r(t,null,{default:n(()=>[r(c)]),_:1})]),_:2},1024)]),_:1})):A("",!0)]),_:1})}}});const Ne=R(Re,[["__scopeId","data-v-f821200e"]]);export{Ne as default};
