import{_ as E}from"./ResourceCodeBlock.vue_vue_type_style_index_0_lang-9CAG0u0f.js";import{d as S,a as l,o as c,b as m,w as a,e as r,m as i,f as s,X as F,t as p,T,c as d,p as _,F as b,_ as B}from"./index-G4vI7xl4.js";import"./CodeBlock-q0w5aanp.js";import"./CopyButton-otyxHii5.js";import"./index-CMzbRF1u.js";import"./toYaml-sPaYOD3i.js";const P={key:1,class:"stack"},$={key:0},D={class:"mt-4 stack"},M={key:0},N={class:"mt-4"},q=S({__name:"PolicySummaryView",props:{policy:{default:void 0},policyType:{}},setup(f){const t=f;return(A,K)=>{const g=l("RouteTitle"),R=l("RouterLink"),k=l("KBadge"),v=l("DataSource"),C=l("AppView"),x=l("RouteView");return c(),m(x,{name:"policy-summary-view",params:{mesh:"",policyPath:"",policy:"",codeSearch:"",codeFilter:!1,codeRegExp:!1}},{default:a(({route:e,t:n})=>[r(C,null,{title:a(()=>[i("h2",null,[r(R,{to:{name:"policy-detail-view",params:{mesh:e.params.mesh,policyPath:e.params.policyPath,policy:e.params.policy}}},{default:a(()=>[r(g,{title:n("policies.routes.item.title",{name:e.params.policy})},null,8,["title"])]),_:2},1032,["to"])])]),default:a(()=>{var u;return[s(),t.policy===void 0?(c(),m(F,{key:0},{message:a(()=>[i("p",null,p(n("common.collection.summary.empty_message",{type:t.policyType.name})),1)]),default:a(()=>[s(p(n("common.collection.summary.empty_title",{type:t.policyType.name}))+" ",1)]),_:2},1024)):(c(),d("div",P,[(u=t.policy.spec)!=null&&u.targetRef?(c(),d("div",$,[i("h3",null,p(n("policies.routes.item.overview")),1),s(),i("div",D,[r(T,null,{title:a(()=>[s(p(n("http.api.property.targetRef")),1)]),body:a(()=>{var o;return[(o=t.policy.spec)!=null&&o.targetRef?(c(),m(k,{key:0,appearance:"neutral"},{default:a(()=>[s(p(t.policy.spec.targetRef.kind),1),t.policy.spec.targetRef.name?(c(),d("span",M,[s(":"),i("b",null,p(t.policy.spec.targetRef.name),1)])):_("",!0)]),_:1})):(c(),d(b,{key:1},[s(p(n("common.detail.none")),1)],64))]}),_:2},1024)])])):_("",!0),s(),i("div",null,[i("h3",null,p(n("policies.routes.item.config")),1),s(),i("div",N,[r(E,{resource:t.policy.config,"is-searchable":"",query:e.params.codeSearch,"is-filter-mode":e.params.codeFilter,"is-reg-exp-mode":e.params.codeRegExp,onQueryChange:o=>e.update({codeSearch:o}),onFilterModeChange:o=>e.update({codeFilter:o}),onRegExpModeChange:o=>e.update({codeRegExp:o})},{default:a(({copy:o,copying:w})=>[w?(c(),m(v,{key:0,src:`/meshes/${e.params.mesh}/policy-path/${e.params.policyPath}/policy/${e.params.policy}/as/kubernetes?no-store`,onChange:y=>{o(h=>h(y))},onError:y=>{o((h,V)=>V(y))}},null,8,["src","onChange","onError"])):_("",!0)]),_:2},1032,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])])])]))]}),_:2},1024)]),_:1})}}}),G=B(q,[["__scopeId","data-v-4a8ab311"]]);export{G as default};
