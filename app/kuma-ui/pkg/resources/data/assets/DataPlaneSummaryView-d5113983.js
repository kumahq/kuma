import{d as x,l as b,a as u,o as r,c,p as i,e as s,w as a,f as t,t as n,q as e,b as m,a0 as D,s as g,Z as _,F as P,I as T,_ as O,C as V,y as z,z as C,a3 as R}from"./index-19354c6c.js";import{_ as B}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-ac8206e3.js";import{a as K,K as N}from"./index-fce48c05.js";import{S as $}from"./StatusBadge-be265ce4.js";import{T as k}from"./TagList-b0aa2a22.js";import{T as f}from"./TextWithCopyButton-1c7354cf.js";import"./CopyButton-2ee425f1.js";const L={class:"stack"},A={class:"stack-with-borders"},U={class:"status-with-reason"},E={key:0},F={class:"mt-4"},Z={class:"stack-with-borders"},j={key:1},q={class:"mt-4"},G={class:"stack"},W={class:"mt-2 stack-with-borders"},H=x({__name:"DataPlaneSummary",props:{dataplaneOverview:{}},setup(p){const{t:o,formatIsoDate:h}=b(),l=p;return(I,S)=>{const v=u("KTooltip"),y=u("KBadge");return r(),c("div",L,[i("div",A,[s(_,{layout:"horizontal"},{title:a(()=>[t(n(e(o)("http.api.property.status")),1)]),body:a(()=>[i("div",U,[s($,{status:l.dataplaneOverview.status},null,8,["status"]),t(),l.dataplaneOverview.unhealthyInbounds.length>0?(r(),m(v,{key:0,label:l.dataplaneOverview.unhealthyInbounds.map(d=>e(o)("data-planes.routes.item.unhealthy_inbound",d)).join(", "),class:"reason-tooltip","position-fixed":""},{default:a(()=>[s(e(D),{color:e(K),size:e(N),"hide-title":""},null,8,["color","size"])]),_:1},8,["label"])):g("",!0)])]),_:1}),t(),s(_,{layout:"horizontal"},{title:a(()=>[t(n(e(o)("data-planes.routes.item.last_updated")),1)]),body:a(()=>[t(n(e(h)(l.dataplaneOverview.modificationTime)),1)]),_:1})]),t(),l.dataplaneOverview.dataplane.networking.gateway?(r(),c("div",E,[i("h3",null,n(e(o)("data-planes.routes.item.gateway")),1),t(),i("div",F,[i("div",Z,[s(_,{layout:"horizontal"},{title:a(()=>[t(n(e(o)("http.api.property.tags")),1)]),body:a(()=>[s(k,{alignment:"right",tags:l.dataplaneOverview.dataplane.networking.gateway.tags},null,8,["tags"])]),_:1}),t(),s(_,{layout:"horizontal"},{title:a(()=>[t(n(e(o)("http.api.property.address")),1)]),body:a(()=>[s(f,{text:`${l.dataplaneOverview.dataplane.networking.address}`},null,8,["text"])]),_:1})])])])):g("",!0),t(),l.dataplaneOverview.dataplane.networking.inbounds.length>0?(r(),c("div",j,[i("h3",null,n(e(o)("data-planes.routes.item.inbounds")),1),t(),i("div",q,[i("div",G,[(r(!0),c(P,null,T(l.dataplaneOverview.dataplane.networking.inbounds,(d,w)=>(r(),c("div",{key:w,class:"inbound"},[i("h4",null,[s(f,{text:d.tags["kuma.io/service"]},{default:a(()=>[t(n(e(o)("data-planes.routes.item.inbound_name",{service:d.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])]),t(),i("div",W,[s(_,{layout:"horizontal"},{title:a(()=>[t(n(e(o)("http.api.property.status")),1)]),body:a(()=>[d.health.ready?(r(),m(y,{key:0,appearance:"success"},{default:a(()=>[t(n(e(o)("data-planes.routes.item.health.ready")),1)]),_:1})):(r(),m(y,{key:1,appearance:"danger"},{default:a(()=>[t(n(e(o)("data-planes.routes.item.health.not_ready")),1)]),_:1}))]),_:2},1024),t(),s(_,{layout:"horizontal"},{title:a(()=>[t(n(e(o)("http.api.property.tags")),1)]),body:a(()=>[s(k,{alignment:"right",tags:d.tags},null,8,["tags"])]),_:2},1024),t(),s(_,{layout:"horizontal"},{title:a(()=>[t(n(e(o)("http.api.property.address")),1)]),body:a(()=>[s(f,{text:d.addressPort},null,8,["text"])]),_:2},1024)])]))),128))])])])):g("",!0)])}}});const J=O(H,[["__scopeId","data-v-6a3f3c45"]]),M=p=>(z("data-v-21ad478f"),p=p(),C(),p),Q={class:"summary-title-wrapper"},X=M(()=>i("img",{"aria-hidden":"true",src:R},null,-1)),Y={class:"summary-title"},tt={key:1,class:"stack"},at=x({__name:"DataPlaneSummaryView",props:{name:{},dataplaneOverview:{default:void 0}},setup(p){const{t:o}=b(),h=V(),l=p;return(I,S)=>{const v=u("RouteTitle"),y=u("RouterLink"),d=u("AppView"),w=u("RouteView");return r(),m(w,{name:e(h).name},{default:a(()=>[s(d,null,{title:a(()=>[i("div",Q,[X,t(),i("h2",Y,[s(y,{to:{name:"data-plane-detail-view",params:{dataPlane:l.name}}},{default:a(()=>[s(v,{title:e(o)("data-planes.routes.item.title",{name:l.name})},null,8,["title"])]),_:1},8,["to"])])])]),default:a(()=>[t(),l.dataplaneOverview===void 0?(r(),m(B,{key:0},{message:a(()=>[i("p",null,n(e(o)("common.collection.summary.empty_message",{type:"Data Plane Proxy"})),1)]),default:a(()=>[t(n(e(o)("common.collection.summary.empty_title",{type:"Data Plane Proxy"}))+" ",1)]),_:1})):(r(),c("div",tt,[s(J,{class:"mt-4","dataplane-overview":l.dataplaneOverview},null,8,["dataplane-overview"])]))]),_:1})]),_:1},8,["name"])}}});const dt=O(at,[["__scopeId","data-v-21ad478f"]]);export{dt as default};
