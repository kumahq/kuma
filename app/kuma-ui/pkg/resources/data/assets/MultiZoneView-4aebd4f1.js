import{L as b}from"./LoadingBox-e22bff89.js";import{O as x,a as Z,b as z}from"./OnboardingPage-94aacede.js";import{d as k,l as I,D as O,r as l,at as T,o as a,k as A,w as u,a as _,e,g as t,u as y,c,x as N,N as V,O as L,_ as M}from"./index-cef1317e.js";const U=i=>(V("data-v-387dca29"),i=i(),L(),i),C=U(()=>t("p",{class:"mb-4 text-center"},`
        A zone requires both the zone control plane and zone ingress. On Kubernetes, you run a single command to create both resources. On Universal, you must create them separately.
      `,-1)),S={class:"mb-4 text-center"},B=["href"],D={class:"status-box mt-4"},E={key:0,class:"status--is-connected","data-testid":"zone-connected"},K={key:1,class:"status--is-disconnected","data-testid":"zone-disconnected"},R={class:"status-box mt-4"},P={key:0,class:"status--is-connected","data-testid":"zone-ingress-connected"},G={key:1,class:"status--is-disconnected","data-testid":"zone-ingress-disconnected"},$={key:0,class:"status-loading-box mt-4"},q=k({__name:"MultiZoneView",setup(i){const p=I(),m=O(),v=1e3,s=l(!1),o=l(!1),r=l(null),d=l(null);T(function(){f(),w()}),g(),h();async function g(){try{const{total:n}=await p.getZones();s.value=n>0}catch(n){s.value=!1,console.error(n)}finally{s.value||(f(),r.value=window.setTimeout(g,v))}}async function h(){try{const{total:n}=await p.getAllZoneIngressOverviews();o.value=n>0}catch(n){o.value=!1,console.error(n)}finally{o.value||(w(),d.value=window.setTimeout(h,v))}}function f(){r.value!==null&&window.clearTimeout(r.value)}function w(){d.value!==null&&window.clearTimeout(d.value)}return(n,H)=>(a(),A(z,null,{header:u(()=>[_(x,null,{title:u(()=>[e(`
          Add zones
        `)]),_:1})]),content:u(()=>[C,e(),t("p",S,[t("b",null,[e("See "),t("a",{href:`${y(m)("KUMA_DOCS_URL")}/deployments/multi-zone/?${y(m)("KUMA_UTM_QUERY_PARAMS")}#zone-control-plane`,target:"_blank"},"the documentation for options to install",8,B),e(".")])]),e(),t("div",null,[t("p",D,[e(`
          Zone status:

          `),s.value?(a(),c("span",E,"Connected")):(a(),c("span",K,"Disconnected"))]),e(),t("p",R,[e(`
          Zone ingress status:

          `),o.value?(a(),c("span",P,"Connected")):(a(),c("span",G,"Disconnected"))]),e(),!o.value||!s.value?(a(),c("div",$,[_(b)])):N("",!0)])]),navigation:u(()=>[_(Z,{"next-step":"onboarding-create-mesh","previous-step":"onboarding-configuration-types","should-allow-next":s.value&&o.value},null,8,["should-allow-next"])]),_:1}))}});const F=M(q,[["__scopeId","data-v-387dca29"]]);export{F as default};
