import{P as A}from"./kongponents.es-dca28cba.js";import{A as N,a as T}from"./AccordionList-05424288.js";import{_ as V}from"./CodeBlock.vue_vue_type_style_index_0_lang-f1268e20.js";import{a as B,D}from"./DefinitionListItem-27d09fac.js";import{_ as L,S as Z}from"./SubscriptionHeader.vue_vue_type_script_setup_true_lang-58a8d14c.js";import{T as E}from"./TabsWidget-da6e4bda.js";import{T as b}from"./TextWithCopyButton-5142404b.js";import{_ as P}from"./WarningsWidget.vue_vue_type_script_setup_true_lang-a80d5a0a.js";import{u as R}from"./store-2a6e4467.js";import{b as $}from"./index-a5f95863.js";import{d as j,c as l,R as q,a4 as F,a5 as W,x as G,o as i,b as u,w as e,i as J,h as p,g as c,t as f,j as g,q as w,e as O,F as d,f as H}from"./index-0b474b9f.js";const M={class:"entity-heading"},re=j({__name:"ZoneDetails",props:{zoneOverview:{type:Object,required:!0}},setup(k){const a=k,{t:z}=$(),y=R(),v=[{hash:"#overview",title:"Overview"},{hash:"#insights",title:"Zone Insights"},{hash:"#config",title:"Config"},{hash:"#warnings",title:"Warnings"}],C=l(()=>({name:"zone-detail-view",params:{zone:a.zoneOverview.name}})),m=l(()=>{const{type:t,name:n}=a.zoneOverview,o=q(a.zoneOverview.zoneInsight);return{type:t,name:n,status:o,"Authentication Type":F(a.zoneOverview)}}),S=l(()=>{var n;const t=((n=a.zoneOverview.zoneInsight)==null?void 0:n.subscriptions)??[];return Array.from(t).reverse()}),h=l(()=>{var o;const t=[],n=((o=a.zoneOverview.zoneInsight)==null?void 0:o.subscriptions)??[];if(n.length>0){const s=n[n.length-1],r=s.version.kumaCp.version||"-",{kumaCpGlobalCompatible:x=!0}=s.version.kumaCp;x||t.push({kind:W,payload:{zoneCpVersion:r,globalCpVersion:y.getters["config/getVersion"]}})}return t}),_=l(()=>{var o;const t=((o=a.zoneOverview.zoneInsight)==null?void 0:o.subscriptions)??[],n=t[t.length-1];return n.config?JSON.stringify(JSON.parse(n.config),null,2):null}),I=l(()=>h.value.length===0?v.filter(t=>t.hash!=="#warnings"):v);return(t,n)=>{const o=G("router-link");return i(),u(E,{tabs:I.value},{tabHeader:e(()=>[J("h1",M,[p(`
        Zone:

        `),c(b,{text:m.value.name},{default:e(()=>[c(o,{to:C.value},{default:e(()=>[p(f(m.value.name),1)]),_:1},8,["to"])]),_:1},8,["text"])])]),overview:e(()=>[c(D,null,{default:e(()=>[(i(!0),g(d,null,w(m.value,(s,r)=>(i(),u(B,{key:r,term:O(z)(`http.api.property.${r}`)},{default:e(()=>[r==="status"?(i(),u(O(A),{key:0,appearance:s==="Offline"?"danger":"success"},{default:e(()=>[p(f(s),1)]),_:2},1032,["appearance"])):r==="name"?(i(),u(b,{key:1,text:s},null,8,["text"])):(i(),g(d,{key:2},[p(f(s),1)],64))]),_:2},1032,["term"]))),128))]),_:1})]),insights:e(()=>[c(T,{"initially-open":0},{default:e(()=>[(i(!0),g(d,null,w(S.value,(s,r)=>(i(),u(N,{key:r},{"accordion-header":e(()=>[c(L,{details:s},null,8,["details"])]),"accordion-content":e(()=>[c(Z,{details:s},null,8,["details"])]),_:2},1024))),128))]),_:1})]),config:e(()=>[_.value!==null?(i(),u(V,{key:0,id:"code-block-zone-config",language:"json",code:_.value,"is-searchable":"","query-key":"zone-config"},null,8,["code"])):H("",!0)]),warnings:e(()=>[c(P,{warnings:h.value},null,8,["warnings"])]),_:1},8,["tabs"])}}});export{re as _};
