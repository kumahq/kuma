import{d as z,k as N,ad as R,r,p as d,o as i,w as a,a as k,e as o,c,b as g,l as s,q as y,t as l,m as p,Y as b,N as V}from"./index-CX1Qix9F.js";const A={scope:"row"},L={key:0},S={scope:"row"},T={key:0},x={key:1},M={scope:"row"},Y={key:2},$={key:1},q={class:"mt-4"},E=z({__name:"PolicySummary",props:{policy:{},format:{},legacy:{type:Boolean}},setup(e){const{t:u}=N(),X=R(),n=e;return(f,t)=>{const m=r("XBadge"),B=r("XAction"),w=r("XTable"),v=r("XCodeBlock"),C=r("XLayout");return i(),d(C,{type:"stack"},{default:a(()=>[k(f.$slots,"header"),t[11]||(t[11]=o()),n.format==="structured"?(i(),c(V,{key:0},[g(w,{"data-testid":"structured-view",variant:"kv"},{default:a(()=>[s("tr",null,[s("th",A,l(p(u)("http.api.property.type")),1),t[0]||(t[0]=o()),s("td",null,[n.policy.type?(i(),d(m,{key:0,appearance:"neutral"},{default:a(()=>[o(l(n.policy.type),1)]),_:1})):y("",!0)])]),t[7]||(t[7]=o()),n.legacy?y("",!0):(i(),c("tr",L,[s("th",S,l(p(u)("http.api.property.targetRef")),1),t[3]||(t[3]=o()),s("td",null,[n.policy.spec?.targetRef?(i(),d(m,{key:0,appearance:"neutral"},{default:a(()=>[o(l(n.policy.spec.targetRef.kind),1),n.policy.spec.targetRef.name?(i(),c("span",T,[t[1]||(t[1]=o(":",-1)),s("b",null,l(n.policy.spec.targetRef.name),1)])):y("",!0)]),_:1})):(i(),d(m,{key:1,appearance:"neutral"},{default:a(()=>[...t[2]||(t[2]=[o(`
              Mesh
            `,-1)])]),_:1}))])])),t[8]||(t[8]=o()),n.policy.namespace.length>0?(i(),c("tr",x,[s("th",M,l(p(u)("data-planes.routes.item.namespace")),1),t[4]||(t[4]=o()),s("td",null,l(n.policy.namespace),1)])):y("",!0),t[9]||(t[9]=o()),p(X)("use zones")&&n.policy.zone?(i(),c("tr",Y,[t[5]||(t[5]=s("th",{scope:"row"},`
            Zone
          `,-1)),t[6]||(t[6]=o()),s("td",null,[g(B,{to:{name:"zone-cp-detail-view",params:{zone:n.policy.zone}}},{default:a(()=>[o(l(n.policy.zone),1)]),_:1},8,["to"])])])):y("",!0)]),_:1}),t[10]||(t[10]=o()),g(v,{language:"yaml",code:p(b).stringify(e.policy.spec?{spec:e.policy.spec}:{..."sources"in e.policy?{sources:e.policy.sources}:{},..."destinations"in e.policy?{destinations:e.policy.destinations}:{},..."selectors"in e.policy?{selectors:e.policy.selectors}:{},..."conf"in e.policy?{conf:e.policy.conf}:{},..."routing"in e.policy?{routing:e.policy.routing}:{},..."tracing"in e.policy?{tracing:e.policy.tracing}:{},..."metrics"in e.policy?{metrics:e.policy.metrics}:{},..."logging"in e.policy?{logging:e.policy.logging}:{}})},null,8,["code"])],64)):(i(),c("div",$,[s("div",q,[k(f.$slots,"default")])]))]),_:3})}}});export{E as _};
