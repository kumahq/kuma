import{d as V,r as n,o as i,p,w as a,b as t,m as v,ao as A,A as x,V as D,e as l,t as c,c as R,J as X,F as B,q as g}from"./index-DHF7c3Xb.js";import{S as L}from"./SummaryView-lfYmieMV.js";const $=V({__name:"BuiltinGatewayListView",setup(N){return(q,u)=>{const r=n("XAction"),y=n("XActionGroup"),d=n("DataCollection"),w=n("RouterView"),h=n("DataLoader"),z=n("XCard"),f=n("AppView"),b=n("RouteView");return i(),p(b,{name:"builtin-gateway-list-view",params:{page:1,size:50,mesh:"",gateway:""}},{default:a(({route:s,t:_,can:k,me:m,uri:C})=>[t(f,{docs:_("builtin-gateways.href.docs")},{default:a(()=>[t(z,null,{default:a(()=>[t(h,{src:C(v(A),"/meshes/:mesh/mesh-gateways",{mesh:s.params.mesh},{page:s.params.page,size:s.params.size})},{loadable:a(({data:o})=>[t(d,{type:"gateways",items:(o==null?void 0:o.items)??[void 0],page:s.params.page,"page-size":s.params.size,total:o==null?void 0:o.total,onChange:s.update},{default:a(()=>[t(x,{class:"builtin-gateway-collection","data-testid":"builtin-gateway-collection",headers:[{...m.get("headers.name"),label:"Name",key:"name"},...k("use zones")?[{...m.get("headers.zone"),label:"Zone",key:"zone"}]:[],{...m.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],items:o==null?void 0:o.items,onResize:m.set},{name:a(({row:e})=>[t(D,{text:e.name},{default:a(()=>[t(r,{"data-action":"",to:{name:"builtin-gateway-summary-view",query:{size:s.params.size,page:s.params.page},params:{mesh:e.mesh,gateway:e.id}}},{default:a(()=>[l(c(e.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),zone:a(({row:e})=>[e.labels&&e.labels["kuma.io/origin"]==="zone"&&e.labels["kuma.io/zone"]?(i(),p(r,{key:0,to:{name:"zone-cp-detail-view",params:{zone:e.labels["kuma.io/zone"]}}},{default:a(()=>[l(c(e.labels["kuma.io/zone"]),1)]),_:2},1032,["to"])):(i(),R(X,{key:1},[l(c(_("common.detail.none")),1)],64))]),actions:a(({row:e})=>[t(y,null,{default:a(()=>[t(r,{to:{name:"builtin-gateway-detail-view",params:{mesh:e.mesh,gateway:e.name}}},{default:a(()=>[l(c(_("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1032,["headers","items","onResize"])]),_:2},1032,["items","page","page-size","total","onChange"]),u[2]||(u[2]=l()),s.child()?(i(),p(w,{key:0},{default:a(({Component:e})=>[t(L,{onClose:G=>s.replace({name:"builtin-gateway-list-view",params:{mesh:s.params.mesh},query:{page:s.params.page,size:s.params.size}})},{default:a(()=>[typeof o<"u"?(i(),p(B(e),{key:0,items:o.items},null,8,["items"])):g("",!0)]),_:2},1032,["onClose"])]),_:2},1024)):g("",!0)]),_:2},1032,["src"])]),_:2},1024)]),_:2},1032,["docs"])]),_:1})}}});export{$ as default};
