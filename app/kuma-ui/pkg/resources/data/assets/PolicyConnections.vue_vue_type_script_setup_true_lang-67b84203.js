import{d as C,l as k,r as t,j as N,n as x,a5 as D,L,o as u,k as T,w as y,g as o,e as c,a7 as q,a8 as B,c as f,z as P,a as S,y as V,u as F,F as b}from"./index-e4d45609.js";import{_ as A}from"./LabelList.vue_vue_type_style_index_0_lang-27780089.js";const E=o("h4",null,"Dataplanes",-1),j=C({__name:"PolicyConnections",props:{mesh:{type:String,required:!0},policyType:{type:String,required:!0},policyName:{type:String,required:!0}},setup(h){const n=h,v=k(),p=t(!1),l=t(!0),r=t(!1),d=t([]),i=t(""),_=N(()=>{const s=i.value.toLowerCase();return d.value.filter(({dataplane:e})=>e.name.toLowerCase().includes(s))});x(()=>n.policyName,function(){m()}),D(function(){m()});async function m(){r.value=!1,l.value=!0;try{const{items:s,total:e}=await v.getPolicyConnections({mesh:n.mesh,policyType:n.policyType,policyName:n.policyName});p.value=e>0,d.value=s??[]}catch{r.value=!0}finally{l.value=!1}}return(s,e)=>{const g=L("router-link");return u(),T(A,{"has-error":r.value,"is-loading":l.value,"is-empty":!p.value},{default:y(()=>[o("ul",null,[o("li",null,[E,c(),q(o("input",{id:"dataplane-search","onUpdate:modelValue":e[0]||(e[0]=a=>i.value=a),type:"text",class:"k-input mb-4",placeholder:"Filter by name",required:"","data-testid":"dataplane-search-input"},null,512),[[B,i.value]]),c(),(u(!0),f(b,null,P(F(_),(a,w)=>(u(),f("p",{key:w,class:"my-1","data-testid":"dataplane-name"},[S(g,{to:{name:"data-plane-detail-view",params:{mesh:a.dataplane.mesh,dataPlane:a.dataplane.name}}},{default:y(()=>[c(V(a.dataplane.name),1)]),_:2},1032,["to"])]))),128))])])]),_:1},8,["has-error","is-loading","is-empty"])}}});export{j as _};
