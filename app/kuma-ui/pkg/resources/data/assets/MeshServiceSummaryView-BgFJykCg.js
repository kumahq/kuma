import{_ as T}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-Crt5N4dH.js";import{d as B,r as c,o,m as i,w as a,b as n,k as d,e as s,Z as m,t as l,p as f,a2 as F,c as u,L as g,M as y}from"./index-BMuIJR7T.js";import"./CodeBlock-CdlA9qXg.js";const M={class:"stack"},A={class:"stack-with-borders"},P={class:"mt-4"},X=B({__name:"MeshServiceSummaryView",props:{items:{}},setup(w){const z=w;return(K,N)=>{const R=c("RouteTitle"),v=c("XAction"),_=c("KTruncate"),C=c("KBadge"),V=c("DataSource"),b=c("AppView"),E=c("DataCollection"),S=c("RouteView");return o(),i(S,{name:"mesh-service-summary-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1}},{default:a(({route:r,t:k,can:$})=>[n(E,{items:z.items,predicate:t=>t.id===r.params.service},{item:a(({item:t})=>[n(b,null,{title:a(()=>[d("h2",null,[n(v,{to:{name:"mesh-service-detail-view",params:{mesh:r.params.mesh,service:r.params.service}}},{default:a(()=>[n(R,{title:k("services.routes.item.title",{name:t.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:a(()=>[s(),d("div",M,[d("div",A,[$("use zones")&&t.zone?(o(),i(m,{key:0,layout:"horizontal"},{title:a(()=>[s(`
                  Zone
                `)]),body:a(()=>[n(v,{to:{name:"zone-cp-detail-view",params:{zone:t.zone}}},{default:a(()=>[s(l(t.zone),1)]),_:2},1032,["to"])]),_:2},1024)):f("",!0),s(),t.status.addresses.length>0?(o(),i(m,{key:1,layout:"horizontal"},{title:a(()=>[s(`
                  Addresses
                `)]),body:a(()=>[t.status.addresses.length===1?(o(),i(F,{key:0,text:t.status.addresses[0].hostname},{default:a(()=>[s(l(t.status.addresses[0].hostname),1)]),_:2},1032,["text"])):(o(),i(_,{key:1},{default:a(()=>[(o(!0),u(g,null,y(t.status.addresses,e=>(o(),u("span",{key:e.hostname},l(e.hostname),1))),128))]),_:2},1024))]),_:2},1024)):f("",!0),s(),n(m,{layout:"horizontal"},{title:a(()=>[s(`
                  Ports
                `)]),body:a(()=>[n(_,null,{default:a(()=>[(o(!0),u(g,null,y(t.spec.ports,e=>(o(),i(C,{key:e.port,appearance:"info"},{default:a(()=>[s(l(e.port)+l(e.targetPort?`:${e.targetPort}`:"")+l(e.appProtocol?`/${e.appProtocol}`:""),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),s(),n(m,{layout:"horizontal"},{title:a(()=>[s(`
                  Dataplane Tags
                `)]),body:a(()=>[n(_,null,{default:a(()=>[(o(!0),u(g,null,y(t.spec.selector.dataplaneTags,(e,p)=>(o(),i(C,{key:`${p}:${e}`,appearance:"info"},{default:a(()=>[s(l(p)+":"+l(e),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),s(),d("div",null,[d("h3",null,l(k("services.routes.item.config")),1),s(),d("div",P,[n(T,{resource:t.config,"is-searchable":"",query:r.params.codeSearch,"is-filter-mode":r.params.codeFilter,"is-reg-exp-mode":r.params.codeRegExp,onQueryChange:e=>r.update({codeSearch:e}),onFilterModeChange:e=>r.update({codeFilter:e}),onRegExpModeChange:e=>r.update({codeRegExp:e})},{default:a(({copy:e,copying:p})=>[p?(o(),i(V,{key:0,src:`/meshes/${r.params.mesh}/mesh-service/${r.params.service}/as/kubernetes?no-store`,onChange:h=>{e(x=>x(h))},onError:h=>{e((x,D)=>D(h))}},null,8,["src","onChange","onError"])):f("",!0)]),_:2},1032,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])])])])]),_:2},1024)]),_:2},1032,["items","predicate"])]),_:1})}}});export{X as default};
