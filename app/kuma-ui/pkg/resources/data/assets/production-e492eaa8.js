var Ks=Object.defineProperty;var qs=(t,e,n)=>e in t?Ks(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>(qs(t,typeof e!="symbol"?e+"":e,n),n);import{v as ue,x as Ws,u as $e,c as j,y as ln,z as Xs,d as Er,A as yr,B as Dt,r as Ys,q as fn,C as Zs,D as Qs}from"./runtime-dom.esm-bundler-60661421.js";var xt=new WeakMap,_r=new Map,Js=new Map,le;(function(t){t[t.Constant=0]="Constant",t[t.Instance=1]="Instance",t[t.Factory=2]="Factory"})(le||(le={}));var ee;(function(t){t[t.Container=0]="Container",t[t.Resolution=1]="Resolution",t[t.Singleton=2]="Singleton",t[t.Transient=3]="Transient"})(ee||(ee={}));var eo=class{constructor(t){this.impl=t,this.type=le.Constant}},to=class{constructor(t){this.impl=t,this.type=le.Factory}},no=t=>t.type===le.Factory,bt=class{constructor(t){this.impl=t,this.type=le.Instance}},ro=class extends bt{constructor(){super(...arguments),this.scope=ee.Container,this.cache=new WeakMap}},so=class extends bt{constructor(){super(...arguments),this.scope=ee.Resolution}},oo=class extends bt{constructor(t){super(t),this.impl=t,this.scope=ee.Singleton}},io=class extends bt{constructor(){super(...arguments),this.scope=ee.Transient}},ao=t=>t.type===le.Instance,co=t=>t.scope===ee.Container,uo=t=>t.scope===ee.Resolution,lo=t=>t.scope===ee.Singleton,fo=t=>Symbol(t),Sr=t=>{const e=Symbol(t);return{__t:null,__d:t,__s:e,__o:!1,optional:{__t:null,__d:t,__s:e,__o:!0}}},ke=class{constructor(){this.parent=null,this.map=new Map}set(t,e,n=ke.notag){const r=this.map.get(e.__s);r?r.set(n,t):this.map.set(e.__s,new Map().set(n,t))}find(t,e,n){const r=this.map.get(t.__s);if(r!==void 0){if(n){const s=r.get(n);if(s)return s}if(e)for(let s=0,o=e.length;s<o;s+=1){const i=r.get(e[s]);if(i)return i}return r.get(ke.notag)}}resolve(t,e,n,r){const s=this.find(t,n,r);return s===void 0?this.parent?this.parent.resolve(t,e,n,r):null:s instanceof ke?(e.vaults.push(s),s.resolve(t,e,n,r)):s}get(t,e,n,r){const s=this.resolve(t,e,n,r);if(s)return s;for(let o=0,i=e.vaults,c=i.length;o<c;o+=1){const a=i[o].resolve(t,e,n,r);if(a)return a}return null}from(t){const e=new ke;return e.parent=this.parent,this.map.forEach((n,r)=>{e.map.set(r,t(n))}),e}clone(){return this.from(t=>new Map(t))}},br=ke;br.notag=fo("NO_TAG");var ho=class{constructor(t,e,n,r){this.vault=t,this.tokens=e,this.getVault=n,this.condition=r}from(t){const{tokens:e}=this;for(let n=0,r=e.length;n<r;n+=1)this.vault.set(this.getVault(t),e[n],this.condition)}},po=class{constructor(t,e,n,r){this.vault=t,this.impl=e,this.token=n,this.condition=r}inContainerScope(){this.set(ro)}inResolutionScope(){this.set(so)}inSingletonScope(){this.set(oo)}inTransientScope(){this.set(io)}set(t){this.vault.set(new t(this.impl),this.token,this.condition)}},mo=class{constructor(t,e,n){this.vault=t,this.token=e,this.condition=n}toConstant(t){this.vault.set(new eo(t),this.token,this.condition)}toFactory(t,e){this.vault.set(new to({creator:t,initializer:e}),this.token,this.condition)}toInstance(t){return new po(this.vault,t,this.token,this.condition)}},Xt=class{constructor(t,e){this.vault=t,this.condition=e}static vault(t){return t.vault}bind(t){return new mo(this.vault,t,this.condition)}use(...t){return new ho(this.vault,t,Xt.vault,this.condition)}},go=class extends Xt{when(t){return new Xt(this.vault,t)}},vo=class extends go{constructor(){super(new br)}},Tr=class{constructor(t=new Map,e=[]){this.instances=t,this.vaults=e}split(){return new Tr(this.instances,this.vaults.slice())}},ft=class extends vo{constructor(){super(),this.snapshot=null}extend(t){return this.vault.parent=t===null?null:t.vault,this}clone(){const t=new ft;return t.vault=this.vault.clone(),t}get(t,e){return this.resolveToken(t,e)}resolveTokens(t,e,n,r){return t.map(s=>this.resolveToken(s,n,r,e.split()))}resolveToken(t,e,n,r=new Tr){const s=this.vault.get(t,r,e,n);if(s)return this.resolveBinding(s,r);if(!t.__o)throw new Error(`No matching bindings found for '${t.__d}' token.`)}resolveBinding(t,e){return ao(t)?lo(t)?this.resolveCache(t,e,()=>t.cache,n=>{t.cache=n}):co(t)?this.resolveCache(t,e,()=>t.cache.get(this.vault),n=>{t.cache.set(this.vault,n)}):uo(t)?this.resolveCache(t,e,()=>e.instances.get(t),n=>{e.instances.set(t,n)}):this.createInstance(t.impl,e):no(t)?(...n)=>{const r=this.createInstance(t.impl.creator,e);return r instanceof Promise?r.then(s=>ft.resolveInitialization(s,n,t.impl.initializer)):ft.resolveInitialization(r,n,t.impl.initializer)}:t.impl}resolveCache(t,e,n,r){const s=n();if(s!==void 0)return s;const o=this.createInstance(t.impl,e);return r(o),o}createInstance(t,e){const n=this.getParameters(t,e),r=xt.get(t);if(r!==void 0)return r?t(...n):new t(...n);try{const s=t(...n);return xt.set(t,!0),s}catch{const o=new t(...n);return xt.set(t,!1),o}}getParameters(t,e){const n=_r.get(t);if(n)return this.resolveTokens(n,e,Js.get(t),t);if(t.length===0)return[];throw new Error(`Missing required 'injected' registration of '${t.name}'`)}static resolveInitialization(t,e,n){const r=n==null?void 0:n(t,...e);return r instanceof Promise?r.then(()=>t):t}},Eo=()=>new ft,se=(t,...e)=>(_r.set(t,e),t);const dn=Eo(),Ir=t=>dn.get(t),hf=(...t)=>t.map(e=>()=>Ir(e)),W=(t,e)=>{const n=Sr(e.description);return dn.bind(n).toInstance(t).inSingletonScope(),n},yo=(t,e)=>{const n=Sr(e.description);return dn.bind(n).toConstant(t),n};function _o(t){return{baseGuiPath:"/gui",apiUrl:t,version:"1.7.0"}}class Or{constructor(e){H(this,"env");let n=e;const r=(c,a="")=>this.var(c,(n==null?void 0:n[c])??a),s=this.getConfig(),o=So(r("KUMA_VERSION",s.version)),i=encodeURIComponent(r("KUMA_PRODUCT_NAME"));n={...n,KUMA_UTM_QUERY_PARAMS:`utm_source=${i}&utm_medium=${i}`},this.env={...n,KUMA_INSTALL_URL:`${r("KUMA_INSTALL_URL")}?${r("KUMA_UTM_QUERY_PARAMS")}`,KUMA_DOCS_URL:`${r("KUMA_DOCS_URL")}/${o.patch==="0.0.0"?"dev":o.patch.replace(/\.\d+$/,".x")}`,KUMA_VERSION:o.pre,KUMA_API_URL:r("KUMA_API_URL")||s.apiUrl,KUMA_BASE_PATH:r("KUMA_BASE_PATH")||s.baseGuiPath}}var(e,n=""){var r;return((r=this.env)==null?void 0:r[e])??n}getConfig(){const e=document.querySelector("#kuma-config");if(e instanceof HTMLScriptElement&&e.textContent)try{const n=JSON.parse(e.textContent.trim());return n.apiUrl=bo(n.apiUrl),n}catch{}return _o("/")}}function So(t){const[e,n,...r]=t.split(".");if(isNaN(parseInt(e)))return{major:e,minor:e,patch:e,pre:e};const[s,o]=r.join(".").split("-");return{major:e,minor:`${e}.${n}`,patch:`${e}.${n}.${s}`,pre:`${e}.${n}.${s}${o!==void 0?`-${o}`:""}`}}function bo(t){if(t.startsWith("http"))return t.replace(/\/+$/,"");{const e=(t.startsWith("/")?"":"/")+t;return e==="/"?"/":e.replace(/\/+$/,"")}}var U={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},N=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.prototype.hasOwnProperty.call(U,t)||(t=U.log),N[t].apply(N,e)};N.debug=console.debug.bind(console);N.log=console.log.bind(console);N.info=console.info.bind(console);N.warn=console.warn.bind(console);N.error=console.error.bind(console);function pt(t,e){var n=window,r;return n.Zone&&typeof n.Zone.__symbol__=="function"&&(r=t[n.Zone.__symbol__(e)]),r||(r=t[e]),r}var To=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},mt,Rr=!1;function Io(t){mt=t}function Oo(t){Rr=t}function Ro(t,e,n){var r=n.value;n.value=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var i=mt?I(r):r;return i.apply(this,s)}}function I(t){return function(){return fe(t,this,arguments)}}function fe(t,e,n){try{return t.apply(e,n)}catch(r){if(Yt(U.error,r),mt)try{mt(r)}catch(s){Yt(U.error,s)}}}function Yt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Rr&&N.apply(void 0,To([t,"[MONITOR]"],e,!1))}function Xe(t,e){return pt(window,"setTimeout")(I(t),e)}function Co(t){pt(window,"clearTimeout")(t)}var Ye=1e3,de=60*Ye,wo=60*de,ze=1024,Cr=1024*ze;function Ao(t,e,n){var r=n&&n.leading!==void 0?n.leading:!0,s=n&&n.trailing!==void 0?n.trailing:!0,o=!1,i,c;return{throttled:function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(o){i=a;return}r?t.apply(void 0,a):i=a,o=!0,c=Xe(function(){s&&i&&t.apply(void 0,i),o=!1,i=void 0},e)},cancel:function(){Co(c),o=!1,i=void 0}}}function F(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach(function(r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}),t}function Lo(t){return F({},t)}function we(t){return t?(parseInt(t,10)^Math.random()*16>>parseInt(t,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,we)}function Zt(t){return t!==0&&Math.random()*100<=t}function Ze(){}function Qe(t,e,n){if(typeof t!="object"||t===null)return JSON.stringify(t);var r=rt(Object.prototype),s=rt(Array.prototype),o=rt(Object.getPrototypeOf(t)),i=rt(t);try{return JSON.stringify(t,e,n)}catch{return"<error: unable to serialize object>"}finally{r(),s(),o(),i()}}function rt(t){var e=t,n=e.toJSON;return n?(delete e.toJSON,function(){e.toJSON=n}):Ze}function Ae(t,e){return t.indexOf(e)!==-1}function wr(t){if(Array.from)return Array.from(t);var e=[];if(t instanceof Set)t.forEach(function(r){return e.push(r)});else for(var n=0;n<t.length;n++)e.push(t[n]);return e}function No(t,e){for(var n=0;n<t.length;n+=1){var r=t[n];if(e(r,n))return r}}function kt(t){return Po(t)&&t>=0&&t<=100}function Po(t){return typeof t=="number"}function Ke(t){return Object.keys(t).map(function(e){return t[e]})}function Mo(t){return Object.keys(t).map(function(e){return[e,t[e]]})}function Ar(t){return Object.keys(t).length===0}function Lr(t,e){return t.slice(0,e.length)===e}function Do(t,e){return t.slice(-e.length)===e}function hn(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var t=_dd_temp_;return delete Object.prototype._dd_temp_,typeof t!="object"&&(typeof self=="object"?t=self:typeof window=="object"?t=window:t={}),t}function xo(){return ko(window.location)}function ko(t){if(t.origin)return t.origin;var e=t.host.replace(/(:80|:443)$/,"");return"".concat(t.protocol,"//").concat(e)}function Uo(t,e){var n=new RegExp("(?:^|;)\\s*".concat(e,"\\s*=\\s*([^;]+)")),r=n.exec(t);return r?r[1]:void 0}function $o(t,e,n){n===void 0&&(n="");var r=t.charCodeAt(e-1),s=r>=55296&&r<=56319,o=s?e+1:e;return t.length<=o?t:"".concat(t.slice(0,o)).concat(n)}function Nr(t){return t===null?"null":Array.isArray(t)?"array":typeof t}function Bo(){if(typeof WeakSet<"u"){var t=new WeakSet;return{hasAlreadyBeenSeen:function(n){var r=t.has(n);return r||t.add(n),r}}}var e=[];return{hasAlreadyBeenSeen:function(n){var r=e.indexOf(n)>=0;return r||e.push(n),r}}}function gt(t,e,n){if(n===void 0&&(n=Bo()),e===void 0)return t;if(typeof e!="object"||e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){var r=e.flags||[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.sticky?"y":"",e.unicode?"u":""].join("");return new RegExp(e.source,r)}if(!n.hasAlreadyBeenSeen(e)){if(Array.isArray(e)){for(var s=Array.isArray(t)?t:[],o=0;o<e.length;++o)s[o]=gt(s[o],e[o],n);return s}var i=Nr(t)==="object"?t:{};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(i[c]=gt(i[c],e[c],n));return i}}function be(t){return gt(void 0,t)}function Tt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n,r=0,s=t;r<s.length;r++){var o=s[r];o!=null&&(n=gt(n,o))}return n}function Go(t){var e=new Set;return t.forEach(function(n){return e.add(n)}),wr(e)}var Fo=/[^\u0000-\u007F]/;function Qt(t){return Fo.test(t)?window.TextEncoder!==void 0?new TextEncoder().encode(t).length:new Blob([t]).size:t.length}function Vo(t){try{return t.clone()}catch{return}}var Dn=Ye;function Je(t,e,n,r){var s=new Date;s.setTime(s.getTime()+n);var o="expires=".concat(s.toUTCString()),i=r&&r.crossSite?"none":"strict",c=r&&r.domain?";domain=".concat(r.domain):"",a=r&&r.secure?";secure":"";document.cookie="".concat(t,"=").concat(e,";").concat(o,";path=/;samesite=").concat(i).concat(c).concat(a)}function Z(t){return Uo(document.cookie,t)}function Pr(t,e){Je(t,"",0,e)}function Ho(t){if(document.cookie===void 0||document.cookie===null)return!1;try{var e="dd_cookie_test_".concat(we()),n="test";Je(e,n,de,t);var r=Z(e)===n;return Pr(e,t),r}catch(s){return N.error(s),!1}}var Ut;function jo(){if(Ut===void 0){for(var t="dd_site_test_".concat(we()),e="test",n=window.location.hostname.split("."),r=n.pop();n.length&&!Z(t);)r="".concat(n.pop(),".").concat(r),Je(t,e,Ye,{domain:r});Pr(t,{domain:r}),Ut=r}return Ut}function Mr(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,n)}catch(s){N.error(e,s)}}}var Te;function zo(t){Array.isArray(t)&&(Te||(Te=new Set(t)),t.filter(function(e){return typeof e=="string"}).forEach(function(e){Ae(e,"-")&&N.warn("please use snake case for '".concat(e,"'")),Te.add(e)}))}function Dr(t){return!!Te&&Te.has(t)}function Ko(){return Te||new Set}function Be(){return new Date().getTime()}function oe(){return Be()}function qe(){return performance.now()}function et(){return{relative:qe(),timeStamp:oe()}}function qo(){return{relative:0,timeStamp:xr()}}function Wo(t,e){return e-t}function Xo(t){return t-xr()}var $t;function xr(){return $t===void 0&&($t=performance.timing.navigationStart),$t}function vt(t){return Yo(t,xo()).href}function Yo(t,e){if(Zo())return e!==void 0?new URL(t,e):new URL(t);if(e===void 0&&!/:/.test(t))throw new Error("Invalid URL: '".concat(t,"'"));var n=document,r=n.createElement("a");if(e!==void 0){n=document.implementation.createHTMLDocument("");var s=n.createElement("base");s.href=e,n.head.appendChild(s),n.body.appendChild(r)}return r.href=t,r}var me;function Zo(){if(me!==void 0)return me;try{var t=new URL("http://test/path");return me=t.href==="http://test/path",me}catch{me=!1}return me}var Qo="datad0g.com",Ge="datadoghq.com",Jo="ap1.datadoghq.com",ei="ddog-gov.com",ti={logs:"logs",rum:"rum",sessionReplay:"session-replay"},ni={logs:"logs",rum:"rum",sessionReplay:"replay"};function Fe(t,e,n){var r=ri(t,e);return{build:function(s,o,i){var c=oi(t,e,n,s,o,i);return r(c)},urlPrefix:r(""),endpointType:e}}function ri(t,e){var n="/api/v2/".concat(ni[e]),r=t.proxy,s=t.proxyUrl;if(r){var o=vt(r);return function(a){return"".concat(o,"?ddforward=").concat(encodeURIComponent("".concat(n,"?").concat(a)))}}var i=si(t,e);if(r===void 0&&s){var c=vt(s);return function(a){return"".concat(c,"?ddforward=").concat(encodeURIComponent("https://".concat(i).concat(n,"?").concat(a)))}}return function(a){return"https://".concat(i).concat(n,"?").concat(a)}}function si(t,e){var n=t.site,r=n===void 0?Ge:n,s=t.internalAnalyticsSubdomain;if(s&&r===Ge)return"".concat(s,".").concat(Ge);var o=r.split("."),i=o.pop(),c=r!==Jo?"".concat(ti[e],"."):"";return"".concat(c,"browser-intake-").concat(o.join("-"),".").concat(i)}function oi(t,e,n,r,s,o){var i=t.clientToken,c=t.internalAnalyticsSubdomain,a=["sdk_version:".concat("4.34.3"),"api:".concat(r)].concat(n);s&&Dr("collect_flush_reason")&&a.push("flush_reason:".concat(s)),o&&a.push("retry_count:".concat(o.count),"retry_after:".concat(o.lastFailureStatus));var l=["ddsource=browser","ddtags=".concat(encodeURIComponent(a.join(","))),"dd-api-key=".concat(i),"dd-evp-origin-version=".concat(encodeURIComponent("4.34.3")),"dd-evp-origin=browser","dd-request-id=".concat(we())];return e==="rum"&&l.push("batch_time=".concat(oe())),c&&l.reverse(),l.join("&")}var ii=200;function ai(t){var e=t.env,n=t.service,r=t.version,s=t.datacenter,o=[];return e&&o.push(st("env",e)),n&&o.push(st("service",n)),r&&o.push(st("version",r)),s&&o.push(st("datacenter",s)),o}var ci=/[^a-z0-9_:./-]/;function st(t,e){var n=ii-t.length-1;(e.length>n||ci.test(e))&&N.warn("".concat(t," value doesn't meet tag requirements and will be sanitized"));var r=e.replace(/,/g,"_");return"".concat(t,":").concat(r)}function ui(t){var e=ai(t),n=li(t,e),r=Ke(n).map(function(o){return o.urlPrefix}),s=fi(t,r,e);return F({isIntakeUrl:function(o){return r.some(function(i){return o.indexOf(i)===0})},replica:s,site:t.site||Ge},n)}function li(t,e){return{logsEndpointBuilder:Fe(t,"logs",e),rumEndpointBuilder:Fe(t,"rum",e),sessionReplayEndpointBuilder:Fe(t,"sessionReplay",e)}}function fi(t,e,n){if(t.replica){var r=F({},t,{site:Ge,clientToken:t.replica.clientToken}),s={logsEndpointBuilder:Fe(r,"logs",n),rumEndpointBuilder:Fe(r,"rum",n)};return e.push.apply(e,Ke(s).map(function(o){return o.urlPrefix})),F({applicationId:t.replica.applicationId},s)}}function di(t){var e,n,r;if(!t||!t.clientToken){N.error("Client Token is not configured, we will not send any data.");return}var s=(e=t.sessionSampleRate)!==null&&e!==void 0?e:t.sampleRate;if(s!==void 0&&!kt(s)){N.error("Session Sample Rate should be a number between 0 and 100");return}if(t.telemetrySampleRate!==void 0&&!kt(t.telemetrySampleRate)){N.error("Telemetry Sample Rate should be a number between 0 and 100");return}if(t.telemetryConfigurationSampleRate!==void 0&&!kt(t.telemetryConfigurationSampleRate)){N.error("Telemetry Configuration Sample Rate should be a number between 0 and 100");return}return zo(t.enableExperimentalFeatures),F({beforeSend:t.beforeSend&&Mr(t.beforeSend,"beforeSend threw an error:"),cookieOptions:hi(t),sessionSampleRate:s??100,telemetrySampleRate:(n=t.telemetrySampleRate)!==null&&n!==void 0?n:20,telemetryConfigurationSampleRate:(r=t.telemetryConfigurationSampleRate)!==null&&r!==void 0?r:5,service:t.service,silentMultipleInit:!!t.silentMultipleInit,batchBytesLimit:16*ze,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*Ye,batchMessagesLimit:50,messageBytesLimit:256*ze},ui(t))}function hi(t){var e={};return e.secure=pi(t),e.crossSite=!!t.useCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(e.domain=jo()),e}function pi(t){return!!t.useSecureSessionCookie||!!t.useCrossSiteSessionCookie}function mi(t){var e,n,r=(e=t.proxy)!==null&&e!==void 0?e:t.proxyUrl;return{session_sample_rate:(n=t.sessionSampleRate)!==null&&n!==void 0?n:t.sampleRate,telemetry_sample_rate:t.telemetrySampleRate,telemetry_configuration_sample_rate:t.telemetryConfigurationSampleRate,use_before_send:!!t.beforeSend,use_cross_site_session_cookie:t.useCrossSiteSessionCookie,use_secure_session_cookie:t.useSecureSessionCookie,use_proxy:r!==void 0?!!r:void 0,silent_multiple_init:t.silentMultipleInit,track_session_across_subdomains:t.trackSessionAcrossSubdomains,track_resources:t.trackResources,track_long_task:t.trackLongTasks}}var tt="?";function ie(t){var e=[],n=Bt(t,"stack"),r=String(t);return n&&Lr(n,r)&&(n=n.slice(r.length)),n&&n.split(`
`).forEach(function(s){var o=Ei(s)||_i(s)||bi(s)||Oi(s);o&&(!o.func&&o.line&&(o.func=tt),e.push(o))}),{message:Bt(t,"message"),name:Bt(t,"name"),stack:e}}var kr="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",Oe="(?::(\\d+))",gi=new RegExp("^\\s*at (.*?) ?\\(".concat(kr).concat(Oe,"?").concat(Oe,"?\\)?\\s*$"),"i"),vi=new RegExp("\\((\\S*)".concat(Oe).concat(Oe,"\\)"));function Ei(t){var e=gi.exec(t);if(e){var n=e[2]&&e[2].indexOf("native")===0,r=e[2]&&e[2].indexOf("eval")===0,s=vi.exec(e[2]);return r&&s&&(e[2]=s[1],e[3]=s[2],e[4]=s[3]),{args:n?[e[2]]:[],column:e[4]?+e[4]:void 0,func:e[1]||tt,line:e[3]?+e[3]:void 0,url:n?void 0:e[2]}}}var yi=new RegExp("^\\s*at ?".concat(kr).concat(Oe,"?").concat(Oe,"??\\s*$"),"i");function _i(t){var e=yi.exec(t);if(e)return{args:[],column:e[3]?+e[3]:void 0,func:tt,line:e[2]?+e[2]:void 0,url:e[1]}}var Si=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function bi(t){var e=Si.exec(t);if(e)return{args:[],column:e[4]?+e[4]:void 0,func:e[1]||tt,line:+e[3],url:e[2]}}var Ti=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Ii=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Oi(t){var e=Ti.exec(t);if(e){var n=e[3]&&e[3].indexOf(" > eval")>-1,r=Ii.exec(e[3]);return n&&r&&(e[3]=r[1],e[4]=r[2],e[5]=void 0),{args:e[2]?e[2].split(","):[],column:e[5]?+e[5]:void 0,func:e[1]||tt,line:e[4]?+e[4]:void 0,url:e[3]}}}function Bt(t,e){if(!(typeof t!="object"||!t||!(e in t))){var n=t[e];return typeof n=="string"?n:void 0}}function Ur(t,e,n){var r=t[e],s=n(r),o=function(){if(typeof s=="function")return s.apply(this,arguments)};return t[e]=o,{stop:function(){t[e]===o?t[e]=r:s=r}}}function Ie(t,e,n){var r=n.before,s=n.after;return Ur(t,e,function(o){return function(){var i=arguments,c;return r&&fe(r,this,i),typeof o=="function"&&(c=o.apply(this,i)),s&&fe(s,this,i),c}})}var Ri=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function Ci(t){var e=wi(t).stop,n=Ai(t).stop;return{stop:function(){e(),n()}}}function wi(t){return Ie(window,"onerror",{before:function(e,n,r,s,o){var i;if(o)i=ie(o),t(i,o);else{var c={url:n,column:s,line:r},a,l=e;if({}.toString.call(e)==="[object String]"){var u=Ri.exec(l);u&&(a=u[1],l=u[2])}i={name:a,message:typeof l=="string"?l:void 0,stack:[c]},t(i,e)}}})}function Ai(t){return Ie(window,"onunhandledrejection",{before:function(e){var n=e.reason||"Empty reason",r=ie(n);t(r,n)}})}var x={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function Li(t){var e=t.stackTrace,n=t.originalError,r=t.handlingStack,s=t.startClocks,o=t.nonErrorPrefix,i=t.source,c=t.handling;return!e||e.message===void 0&&!(n instanceof Error)?{startClocks:s,source:i,handling:c,originalError:n,message:"".concat(o," ").concat(Qe(n)),stack:"No stack, consider using an instance of Error",handlingStack:r,type:e&&e.name}:{startClocks:s,source:i,handling:c,originalError:n,message:e.message||"Empty message",stack:he(e),handlingStack:r,type:e.name,causes:Mi(n,i)}}function he(t){var e=$r(t);return t.stack.forEach(function(n){var r=n.func==="?"?"<anonymous>":n.func,s=n.args&&n.args.length>0?"(".concat(n.args.join(", "),")"):"",o=n.line?":".concat(n.line):"",i=n.line&&n.column?":".concat(n.column):"";e+=`
  at `.concat(r).concat(s," @ ").concat(n.url).concat(o).concat(i)}),e}function Ni(t){var e;return(e=/@ (.+)/.exec(t))===null||e===void 0?void 0:e[1]}function $r(t){return"".concat(t.name||"Error",": ").concat(t.message)}function Pi(){var t=2,e=new Error,n;if(!e.stack)try{throw e}catch{}return fe(function(){var r=ie(e);r.stack=r.stack.slice(t),n=he(r)}),n}function Mi(t,e){for(var n=t,r=[];(n==null?void 0:n.cause)instanceof Error&&r.length<10;){var s=ie(n.cause);r.push({message:n.cause.message,source:e,type:s==null?void 0:s.name,stack:s&&he(s)}),n=n.cause}return r.length?r:void 0}function Di(t){return Ci(function(e,n){t.notify(Li({stackTrace:e,originalError:n,startClocks:et(),nonErrorPrefix:"Uncaught",source:x.SOURCE,handling:"unhandled"}))})}function xi(t){var e=F({version:"4.34.3",onReady:function(n){n()}},t);return Object.defineProperty(e,"_setDebug",{get:function(){return Oo},enumerable:!1}),e}function ki(t,e,n){var r=t[e];t[e]=n,r&&r.q&&r.q.forEach(function(s){return Mr(s,"onReady callback threw an error:")()})}var z=function(){function t(e){this.onFirstSubscribe=e,this.observers=[]}return t.prototype.subscribe=function(e){var n=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){n.observers=n.observers.filter(function(r){return e!==r}),!n.observers.length&&n.onLastUnsubscribe&&n.onLastUnsubscribe()}}},t.prototype.notify=function(e){this.observers.forEach(function(n){return n(e)})},t}();function Br(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new z(function(){var r=t.map(function(s){return s.subscribe(function(o){return n.notify(o)})});return function(){return r.forEach(function(s){return s.unsubscribe()})}});return n}function pn(t,e,n,r){return mn(t,[e],n,r)}function mn(t,e,n,r){var s=r===void 0?{}:r,o=s.once,i=s.capture,c=s.passive,a=I(o?function(d){f(),n(d)}:n),l=c?{capture:i,passive:c}:i,u=pt(t,"addEventListener");e.forEach(function(d){return u.call(t,d,a,l)});function f(){var d=pt(t,"removeEventListener");e.forEach(function(h){return d.call(t,h,a,l)})}return{stop:f}}var re={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Ui(t){var e=[];Ae(t,re.cspViolation)&&e.push(Bi());var n=t.filter(function(r){return r!==re.cspViolation});return n.length&&e.push($i(n)),Br.apply(void 0,e)}function $i(t){var e=new z(function(){if(window.ReportingObserver){var n=I(function(s){return s.forEach(function(o){e.notify(Gi(o))})}),r=new window.ReportingObserver(n,{types:t,buffered:!0});return r.observe(),function(){r.disconnect()}}});return e}function Bi(){var t=new z(function(){var e=I(function(r){t.notify(Fi(r))}),n=pn(document,"securitypolicyviolation",e).stop;return n});return t}function Gi(t){var e=t.type,n=t.body;return{type:e,subtype:n.id,message:"".concat(e,": ").concat(n.message),stack:Gr(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)}}function Fi(t){var e=re.cspViolation,n="'".concat(t.blockedURI,"' blocked by '").concat(t.effectiveDirective,"' directive");return{type:re.cspViolation,subtype:t.effectiveDirective,message:"".concat(e,": ").concat(n),stack:Gr(t.effectiveDirective,t.originalPolicy?"".concat(n,' of the policy "').concat($o(t.originalPolicy,100,"..."),'"'):"no policy",t.sourceFile,t.lineNumber,t.columnNumber)}}function Gr(t,e,n,r,s){return n&&he({name:t,message:e,stack:[{func:"?",url:n,line:r,column:s}]})}function Fr(t,e){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:t,payload:e})}var gn={log:"log",configuration:"configuration"},Vi=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],Hi=[ei],Y={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1},Jt;function ji(t,e){var n,r=new z;Y.telemetryEnabled=!Ae(Hi,e.site)&&Zt(e.telemetrySampleRate),Y.telemetryConfigurationEnabled=Y.telemetryEnabled&&Zt(e.telemetryConfigurationSampleRate),Jt=function(o){if(Y.telemetryEnabled){var i=s(t,o);r.notify(i),Fr("telemetry",i)}},Io(Vr),F(Y,{maxEventsPerPage:e.maxTelemetryEventsPerPage,sentEventCount:0});function s(o,i){return Tt({type:"telemetry",date:oe(),service:o,version:"4.34.3",source:"browser",_dd:{format_version:2},telemetry:i,experimental_features:wr(Ko())},n!==void 0?n():{})}return{setContextProvider:function(o){n=o},observable:r,enabled:Y.telemetryEnabled}}function zi(t){return t.site===Qo}function Ki(t,e){Yt(U.debug,t,e),vn(F({type:gn.log,message:t,status:"debug"},e))}function Vr(t){vn(F({type:gn.log,status:"error"},Wi(t)))}function qi(t){Y.telemetryConfigurationEnabled&&vn({type:gn.configuration,configuration:t})}function vn(t){Jt&&Y.sentEventCount<Y.maxEventsPerPage&&(Y.sentEventCount+=1,Jt(t))}function Wi(t){if(t instanceof Error){var e=ie(t);return{error:{kind:e.name,stack:he(Xi(e))},message:e.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(Qe(t))}}function Xi(t){return t.stack=t.stack.filter(function(e){return!e.url||Vi.some(function(n){return Lr(e.url,n)})}),t}var ot=1/0,Yi=de,Zi=function(){function t(e){var n=this;this.expireDelay=e,this.entries=[],this.clearOldContextsInterval=setInterval(function(){return n.clearOldContexts()},Yi)}return t.prototype.add=function(e,n){var r=this,s={context:e,startTime:n,endTime:ot,remove:function(){var o=r.entries.indexOf(s);o>=0&&r.entries.splice(o,1)},close:function(o){s.endTime=o}};return this.entries.unshift(s),s},t.prototype.find=function(e){e===void 0&&(e=ot);for(var n=0,r=this.entries;n<r.length;n++){var s=r[n];if(s.startTime<=e){if(e<=s.endTime)return s.context;break}}},t.prototype.closeActive=function(e){var n=this.entries[0];n&&n.endTime===ot&&n.close(e)},t.prototype.findAll=function(e){return e===void 0&&(e=ot),this.entries.filter(function(n){return n.startTime<=e&&e<=n.endTime}).map(function(n){return n.context})},t.prototype.reset=function(){this.entries=[]},t.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},t.prototype.clearOldContexts=function(){for(var e=qe()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},t}();function Qi(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}var Hr=4*wo,jr=15*de,zr=/^([a-z]+)=([a-z0-9-]+)$/,En="&",It="_dd_s",Ji=10,ea=100,Kr=[],dt;function Ve(t,e){var n;if(e===void 0&&(e=0),dt||(dt=t),t!==dt){Kr.push(t);return}if(e>=ea){xn();return}var r,s=Ue();if(Gt()){if(s.lock){it(t,e);return}if(r=we(),s.lock=r,en(s,t.options),s=Ue(),s.lock!==r){it(t,e);return}}var o=t.process(s);if(Gt()&&(s=Ue(),s.lock!==r)){it(t,e);return}if(o&&qr(o,t.options),Gt()&&!(o&&Wr(o))){if(s=Ue(),s.lock!==r){it(t,e);return}delete s.lock,en(s,t.options),o=s}(n=t.after)===null||n===void 0||n.call(t,o||s),xn()}function Gt(){return Qi()}function it(t,e){Xe(function(){Ve(t,e+1)},Ji)}function xn(){dt=void 0;var t=Kr.shift();t&&Ve(t)}function qr(t,e){if(Wr(t)){ra(e);return}t.expire=String(Be()+jr),en(t,e)}function en(t,e){Je(It,ta(t),jr,e)}function ta(t){return Mo(t).map(function(e){var n=e[0],r=e[1];return"".concat(n,"=").concat(r)}).join(En)}function Ue(){var t=Z(It),e={};return na(t)&&t.split(En).forEach(function(n){var r=zr.exec(n);if(r!==null){var s=r[1],o=r[2];e[s]=o}}),e}function na(t){return t!==void 0&&(t.indexOf(En)!==-1||zr.test(t))}function Wr(t){return Ar(t)}function ra(t){Je(It,"",0,t)}var sa="_dd",oa="_dd_r",ia="_dd_l",aa="rum",ca="logs";function ua(t){var e=Z(It),n=Z(sa),r=Z(oa),s=Z(ia);if(!e){var o={};n&&(o.id=n),s&&/^[01]$/.test(s)&&(o[ca]=s),r&&/^[012]$/.test(r)&&(o[aa]=r),qr(o,t)}}function la(t,e,n){var r=new z,s=new z,o=setInterval(I(l),Dn),i=S();function c(){var m;Ve({options:t,process:function(A){var P=u(A);return m=f(P),P},after:function(A){m&&!d()&&_(A),i=A}})}function a(){Ve({options:t,process:function(m){return d()?u(m):void 0}})}function l(){Ve({options:t,process:function(m){return b(m)?void 0:{}},after:u})}function u(m){return b(m)||(m={}),d()&&(h(m)?v():i=m),m}function f(m){var A=n(m[e]),P=A.trackingType,k=A.isTracked;return m[e]=P,k&&!m.id&&(m.id=we(),m.created=String(Be())),k}function d(){return i[e]!==void 0}function h(m){return i.id!==m.id||i[e]!==m[e]}function v(){i={},s.notify()}function _(m){i=m,r.notify()}function S(){var m=Ue();return b(m)?m:{}}function b(m){return(m.created===void 0||Be()-Number(m.created)<Hr)&&(m.expire===void 0||Be()<Number(m.expire))}return{expandOrRenewSession:Ao(c,Dn).throttled,expandSession:a,getSession:function(){return i},renewObservable:r,expireObservable:s,stop:function(){clearInterval(o)}}}var fa=de,da=Hr;function ha(t,e,n){ua(t);var r=la(t,e,n),s=new Zi(da);r.renewObservable.subscribe(function(){s.add(o(),qe())}),r.expireObservable.subscribe(function(){s.closeActive(qe())}),r.expandOrRenewSession(),s.add(o(),qo().relative),pa(function(){return r.expandOrRenewSession()}),ma(function(){return r.expandSession()});function o(){return{id:r.getSession().id,trackingType:r.getSession()[e]}}return{findActiveSession:function(i){return s.find(i)},renewObservable:r.renewObservable,expireObservable:r.expireObservable}}function pa(t){mn(window,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0}).stop}function ma(t){var e=I(function(){document.visibilityState==="visible"&&t()});pn(document,"visibilitychange",e).stop,setInterval(e,fa)}var ga=80*ze,va=32,Xr=3*Cr,Ea=de,Yr=Ye;function Zr(t,e,n,r,s){e.transportStatus===0&&e.queuedPayloads.size()===0&&e.bandwidthMonitor.canHandle(t)?Jr(t,e,n,{onSuccess:function(){return es(0,e,n,r,s)},onFailure:function(){e.queuedPayloads.enqueue(t),Qr(e,n,r,s)}}):e.queuedPayloads.enqueue(t)}function Qr(t,e,n,r){t.transportStatus===2&&Xe(function(){var s=t.queuedPayloads.first();Jr(s,t,e,{onSuccess:function(){t.queuedPayloads.dequeue(),t.currentBackoffTime=Yr,es(1,t,e,n,r)},onFailure:function(){t.currentBackoffTime=Math.min(Ea,t.currentBackoffTime*2),Qr(t,e,n,r)}})},t.currentBackoffTime)}function Jr(t,e,n,r){var s=r.onSuccess,o=r.onFailure;e.bandwidthMonitor.add(t),n(t,function(i){e.bandwidthMonitor.remove(t),ya(i)?(e.transportStatus=e.bandwidthMonitor.ongoingRequestCount>0?1:2,t.retry={count:t.retry?t.retry.count+1:1,lastFailureStatus:i.status},o()):(e.transportStatus=0,s())})}function es(t,e,n,r,s){t===0&&e.queuedPayloads.isFull()&&!e.queueFullReported&&(s({message:"Reached max ".concat(r," events size queued for upload: ").concat(Xr/Cr,"MiB"),source:x.AGENT,startClocks:et()}),e.queueFullReported=!0);var o=e.queuedPayloads;for(e.queuedPayloads=ts();o.size()>0;)Zr(o.dequeue(),e,n,r,s)}function ya(t){return t.type!=="opaque"&&(t.status===0&&!navigator.onLine||t.status===408||t.status===429||t.status>=500)}function _a(){return{transportStatus:0,currentBackoffTime:Yr,bandwidthMonitor:Sa(),queuedPayloads:ts(),queueFullReported:!1}}function ts(){var t=[];return{bytesCount:0,enqueue:function(e){this.isFull()||(t.push(e),this.bytesCount+=e.bytesCount)},first:function(){return t[0]},dequeue:function(){var e=t.shift();return e&&(this.bytesCount-=e.bytesCount),e},size:function(){return t.length},isFull:function(){return this.bytesCount>=Xr}}}function Sa(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(t){return this.ongoingRequestCount===0||this.ongoingByteCount+t.bytesCount<=ga&&this.ongoingRequestCount<va},add:function(t){this.ongoingRequestCount+=1,this.ongoingByteCount+=t.bytesCount},remove:function(t){this.ongoingRequestCount-=1,this.ongoingByteCount-=t.bytesCount}}}function ba(t,e,n){var r=_a(),s=function(o,i){return Oa(t,e,o,i)};return{send:function(o){Zr(o,r,s,t.endpointType,n)},sendOnExit:function(o){Ta(t,e,o)}}}function Ta(t,e,n){var r=n.data,s=n.bytesCount,o=n.flushReason,i=!!navigator.sendBeacon&&s<e;if(i)try{var c=t.build("beacon",o),a=navigator.sendBeacon(c,r);if(a)return}catch(u){Ia(u)}var l=t.build("xhr",o);tn(l,r)}var kn=!1;function Ia(t){kn||(kn=!0,Vr(t))}function Oa(t,e,n,r){var s=n.data,o=n.bytesCount,i=n.flushReason,c=n.retry,a=Ra()&&o<e;if(a){var l=t.build("fetch",i,c);fetch(l,{method:"POST",body:s,keepalive:!0,mode:"cors"}).then(I(function(f){return r==null?void 0:r({status:f.status,type:f.type})}),I(function(){var f=t.build("xhr",i,c);tn(f,s,r)}))}else{var u=t.build("xhr",i,c);tn(u,s,r)}}function Ra(){try{return window.Request&&"keepalive"in new Request("http://a")}catch{return!1}}function tn(t,e,n){var r=new XMLHttpRequest,s=I(function(){r.removeEventListener("loadend",s),n==null||n({status:r.status})});r.open("POST",t,!0),r.addEventListener("loadend",s),r.send(e)}var Ca=function(){function t(e,n,r,s,o,i){var c=this;this.request=e,this.batchMessagesLimit=n,this.batchBytesLimit=r,this.messageBytesLimit=s,this.flushTimeout=o,this.pageExitObservable=i,this.flushObservable=new z,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,i.subscribe(function(a){return c.flush(a.reason,c.request.sendOnExit)}),this.flushPeriodically()}return t.prototype.add=function(e){this.addOrUpdate(e)},t.prototype.upsert=function(e,n){this.addOrUpdate(e,n)},t.prototype.flush=function(e,n){if(n===void 0&&(n=this.request.send),this.bufferMessagesCount!==0){var r=this.pushOnlyBuffer.concat(Ke(this.upsertBuffer)),s=this.bufferBytesCount;this.flushObservable.notify({bufferBytesCount:this.bufferBytesCount,bufferMessagesCount:this.bufferMessagesCount}),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,n({data:r.join(`
`),bytesCount:s,flushReason:e})}},t.prototype.addOrUpdate=function(e,n){var r=this.process(e),s=r.processedMessage,o=r.messageBytesCount;if(o>=this.messageBytesLimit){N.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB."));return}this.hasMessageFor(n)&&this.remove(n),this.willReachedBytesLimitWith(o)&&this.flush("batch_bytes_limit"),this.push(s,o,n),this.isFull()&&this.flush("batch_bytes_limit")},t.prototype.process=function(e){var n=Qe(e),r=Qt(n);return{processedMessage:n,messageBytesCount:r}},t.prototype.push=function(e,n,r){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),r!==void 0?this.upsertBuffer[r]=e:this.pushOnlyBuffer.push(e),this.bufferBytesCount+=n,this.bufferMessagesCount+=1},t.prototype.remove=function(e){var n=this.upsertBuffer[e];delete this.upsertBuffer[e];var r=Qt(n);this.bufferBytesCount-=r,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},t.prototype.hasMessageFor=function(e){return e!==void 0&&this.upsertBuffer[e]!==void 0},t.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesCount+e+1>=this.batchBytesLimit},t.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},t.prototype.flushPeriodically=function(){var e=this;Xe(function(){e.flush("batch_duration_limit"),e.flushPeriodically()},this.flushTimeout)},t}();function yn(){var t=wa();if(t)return{getAllowedWebViewHosts:function(){return JSON.parse(t.getAllowedWebViewHosts())},send:function(e,n){t.send(JSON.stringify({eventType:e,event:n}))}}}function Et(t){var e;t===void 0&&(t=(e=hn().location)===null||e===void 0?void 0:e.hostname);var n=yn();return!!n&&n.getAllowedWebViewHosts().some(function(r){return t===r||Do(t,".".concat(r))})}function wa(){return hn().DatadogEventBridge}function ns(t,e,n,r,s){var o=c(e),i;s&&(i=c(s));function c(a){return new Ca(ba(a,t.batchBytesLimit,n),t.batchMessagesLimit,t.batchBytesLimit,t.messageBytesLimit,t.flushTimeout,r)}return{add:function(a,l){l===void 0&&(l=!0),o.add(a),i&&l&&i.add(a)}}}function Aa(t,e,n){var r=0,s=!1;return{isLimitReached:function(){if(r===0&&Xe(function(){r=0},de),r+=1,r<=e||s)return s=!1,!1;if(r===e+1){s=!0;try{n({message:"Reached max number of ".concat(t,"s by minute: ").concat(e),source:x.AGENT,startClocks:et()})}finally{s=!1}}return!0}}}var Ft,_n=new WeakMap;function La(){return Ft||(Ft=Na()),Ft}function Na(){var t=new z(function(){var e=Ie(XMLHttpRequest.prototype,"open",{before:Pa}).stop,n=Ie(XMLHttpRequest.prototype,"send",{before:function(){Ma.call(this,t)}}).stop,r=Ie(XMLHttpRequest.prototype,"abort",{before:Da}).stop;return function(){e(),n(),r()}});return t}function Pa(t,e){_n.set(this,{state:"open",method:t,url:vt(String(e))})}function Ma(t){var e=this,n=_n.get(this);if(n){var r=n;r.state="start",r.startTime=qe(),r.startClocks=et(),r.isAborted=!1,r.xhr=this;var s=!1,o=Ie(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&i()}}).stop,i=I(function(){if(e.removeEventListener("loadend",i),o(),!s){s=!0;var c=n;c.state="complete",c.duration=Wo(r.startClocks.timeStamp,oe()),c.status=e.status,t.notify(Lo(c))}});this.addEventListener("loadend",i),t.notify(r)}}function Da(){var t=_n.get(this);t&&(t.isAborted=!0)}var Vt;function xa(){return Vt||(Vt=ka()),Vt}function ka(){var t=new z(function(){if(window.fetch){var e=Ur(window,"fetch",function(n){return function(r,s){var o,i=fe(Ua,null,[t,r,s]);return i?(o=n.call(this,i.input,i.init),fe($a,null,[t,o,i])):o=n.call(this,r,s),o}}).stop;return e}});return t}function Ua(t,e,n){var r=n&&n.method||typeof e=="object"&&e.method||"GET",s=vt(typeof e=="object"&&e.url||e),o=et(),i={state:"start",init:n,input:e,method:r,startClocks:o,url:s};return t.notify(i),i}function $a(t,e,n){var r=function(s){var o=n;o.state="resolve","stack"in s||s instanceof Error?(o.status=0,o.isAborted=s instanceof DOMException&&s.code===DOMException.ABORT_ERR,o.error=s):"status"in s&&(o.response=s,o.responseType=s.type,o.status=s.status,o.isAborted=!1),t.notify(o)};e.then(I(r),I(r))}var at={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function Ba(){var t=new z(function(){var e=Dr("pagehide"),n=mn(window,["visibilitychange","freeze","pagehide"],function(s){s.type==="pagehide"&&e?t.notify({reason:at.PAGEHIDE}):s.type==="visibilitychange"&&document.visibilityState==="hidden"?t.notify({reason:at.HIDDEN}):s.type==="freeze"&&t.notify({reason:at.FROZEN})},{capture:!0}).stop,r=Ze;return e||(r=pn(window,"beforeunload",function(){t.notify({reason:at.UNLOADING})}).stop),function(){n(),r()}});return t}var Ht={};function Ga(t){var e=t.map(function(n){return Ht[n]||(Ht[n]=Fa(n)),Ht[n]});return Br.apply(void 0,e)}function Fa(t){var e=new z(function(){var n=console[t];return console[t]=function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];n.apply(console,r);var o=Pi();fe(function(){e.notify(Va(r,t,o))})},function(){console[t]=n}});return e}function Va(t,e,n){var r=t.map(function(i){return Ha(i)}).join(" "),s;if(e===U.error){var o=No(t,function(i){return i instanceof Error});s=o?he(ie(o)):void 0,r="console error: ".concat(r)}return{api:e,message:r,stack:s,handlingStack:n}}function Ha(t){return typeof t=="string"?t:t instanceof Error?$r(ie(t)):Qe(t,void 0,2)}var ja=500,za=function(){function t(){this.buffer=[]}return t.prototype.add=function(e){var n=this.buffer.push(e);n>ja&&this.buffer.splice(0,1)},t.prototype.drain=function(){this.buffer.forEach(function(e){return e()}),this.buffer.length=0},t}();function nn(t){t===void 0&&(t=Qt);var e={},n;return{getBytesCount:function(){return n===void 0&&(n=t(Qe(e))),n},get:function(){return e},add:function(r,s){e[r]=s,n=void 0},remove:function(r){delete e[r],n=void 0},set:function(r){e=r,n=void 0},getContext:function(){return be(e)},setContext:function(r){e=be(r),n=void 0},setContextProperty:function(r,s){e[r]=be(s),n=void 0},removeContextProperty:function(r){delete e[r],n=void 0},clearContext:function(){e={},n=void 0}}}function Ka(t,e,n){var r=t.getReader(),s=[],o=0;i();function i(){r.read().then(I(function(a){if(a.done){c();return}n.collectStreamBody&&s.push(a.value),o+=a.value.length,o>n.bytesLimit?c():i()}),I(function(a){return e(a)}))}function c(){r.cancel().catch(Ze);var a,l;if(n.collectStreamBody){var u;if(s.length===1)u=s[0];else{u=new Uint8Array(o);var f=0;s.forEach(function(d){u.set(d,f),f+=d.length})}a=u.slice(0,n.bytesLimit),l=u.length>n.bytesLimit}e(void 0,a,l)}}var qa="datadog-synthetics-public-id",Wa="datadog-synthetics-result-id",Xa="datadog-synthetics-injects-rum";function rs(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||Z(Xa))}function Ya(){var t=window._DATADOG_SYNTHETICS_PUBLIC_ID||Z(qa);return typeof t=="string"?t:void 0}function Za(){var t=window._DATADOG_SYNTHETICS_RESULT_ID||Z(Wa);return typeof t=="string"?t:void 0}function Un(t){var e=F({},t),n=["id","name","email"];return n.forEach(function(r){r in e&&(e[r]=String(e[r]))}),e}function Qa(t){var e=Nr(t)==="object";return e||N.error("Unsupported user:",t),e}var Ja=32*ze;function ec(t){var e=di(t),n=$n(t.forwardConsoleLogs,Ke(U),"Forward Console Logs"),r=$n(t.forwardReports,Ke(re),"Forward Reports");if(!(!e||!n||!r))return t.forwardErrorsToLogs&&!Ae(n,U.error)&&n.push(U.error),F({forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:n,forwardReports:r,requestErrorResponseLengthLimit:Ja},e)}function $n(t,e,n){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(function(r){return Ae(e,r)}))){N.error("".concat(n,' should be "all" or an array with allowed values "').concat(e.join('", "'),'"'));return}return t==="all"?e:Go(t)}function tc(t){var e=mi(t);return F({forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports},e)}var nc=globalThis&&globalThis.__decorate||function(t,e,n,r){var s=arguments.length,o=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},L={debug:"debug",error:"error",info:"info",warn:"warn"},Sn={console:"console",http:"http",silent:"silent"},rc=Object.keys(L),Bn=function(){function t(e,n,r,s,o){r===void 0&&(r=Sn.http),s===void 0&&(s=L.debug),o===void 0&&(o={}),this.handleLogStrategy=e,this.handlerType=r,this.level=s,this.contextManager=nn(),this.contextManager.set(F({},o,n?{logger:{name:n}}:void 0))}return t.prototype.log=function(e,n,r){r===void 0&&(r=L.info),this.handleLogStrategy({message:e,context:be(n),status:r},this)},t.prototype.debug=function(e,n){this.log(e,n,L.debug)},t.prototype.info=function(e,n){this.log(e,n,L.info)},t.prototype.warn=function(e,n){this.log(e,n,L.warn)},t.prototype.error=function(e,n){var r={error:{origin:x.LOGGER}};this.log(e,Tt(r,n),L.error)},t.prototype.setContext=function(e){this.contextManager.set(e)},t.prototype.getContext=function(){return this.contextManager.get()},t.prototype.addContext=function(e,n){this.contextManager.add(e,n)},t.prototype.removeContext=function(e){this.contextManager.remove(e)},t.prototype.setHandler=function(e){this.handlerType=e},t.prototype.getHandler=function(){return this.handlerType},t.prototype.setLevel=function(e){this.level=e},t.prototype.getLevel=function(){return this.level},nc([Ro],t.prototype,"log",null),t}();function sc(t){var e=!1,n=nn(),r=nn(),s={},o=function(){},i=new za,c=function(h,v,_,S){_===void 0&&(_=be(u())),S===void 0&&(S=oe()),i.add(function(){return c(h,v,_,S)})},a=function(){},l=new Bn(function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];return c.apply(void 0,h)});function u(){return{view:{referrer:document.referrer,url:window.location.href},context:n.getContext(),user:r.getContext()}}return xi({logger:l,init:I(function(h){var v;if(a=function(){return be(h)},Et()&&(h=f(h)),!!d(h)){var _=ec(h);_&&(v=t(h,_,u,l),c=v.handleLog,o=v.getInternalContext,i.drain(),e=!0)}}),getLoggerGlobalContext:I(n.get),getGlobalContext:I(n.getContext),setLoggerGlobalContext:I(n.set),setGlobalContext:I(n.setContext),addLoggerGlobalContext:I(n.add),setGlobalContextProperty:I(n.setContextProperty),removeLoggerGlobalContext:I(n.remove),removeGlobalContextProperty:I(n.removeContextProperty),clearGlobalContext:I(n.clearContext),createLogger:I(function(h,v){return v===void 0&&(v={}),s[h]=new Bn(function(){for(var _=[],S=0;S<arguments.length;S++)_[S]=arguments[S];return c.apply(void 0,_)},h,v.handler,v.level,v.context),s[h]}),getLogger:I(function(h){return s[h]}),getInitConfiguration:I(function(){return a()}),getInternalContext:I(function(h){return o(h)}),setUser:I(function(h){Qa(h)&&r.setContext(Un(h))}),getUser:I(r.getContext),setUserProperty:I(function(h,v){var _,S=Un((_={},_[h]=v,_))[h];r.setContextProperty(h,S)}),removeUserProperty:I(r.removeContextProperty),clearUser:I(r.clearContext)});function f(h){return F({},h,{clientToken:"empty"})}function d(h){return e?(h.silentMultipleInit||N.error("DD_LOGS is already initialized."),!1):!0}}var oc="logs";function ic(t){var e=ha(t.cookieOptions,oc,function(n){return cc(t,n)});return{findTrackedSession:function(n){var r=e.findActiveSession(n);return r&&r.trackingType==="1"?{id:r.id}:void 0}}}function ac(t){var e=ss(t)==="1",n=e?{}:void 0;return{findTrackedSession:function(){return n}}}function ss(t){return Zt(t.sessionSampleRate)?"1":"0"}function cc(t,e){var n=uc(e)?e:ss(t);return{trackingType:n,isTracked:n==="1"}}function uc(t){return t==="0"||t==="1"}var ge,Gn=(ge={},ge[L.debug]=0,ge[L.info]=1,ge[L.warn]=2,ge[L.error]=3,ge);function lc(t){function e(n,r,s,o){var i=n.context;os(n.status,Sn.console,r)&&N(n.status,n.message,Tt(r.getContext(),i)),t.notify(0,{rawLogsEvent:{date:o||oe(),message:n.message,status:n.status,origin:x.LOGGER},messageContext:i,savedCommonContext:s,logger:r})}return{handleLog:e}}function os(t,e,n){var r=n.getHandler(),s=Array.isArray(r)?r:[r];return Gn[t]>=Gn[n.getLevel()]&&Ae(s,e)}function fc(t,e,n,r,s,o){var i=rc.concat(["custom"]),c={};i.forEach(function(a){c[a]=Aa(a,e.eventRateLimiterThreshold,o)}),n.subscribe(0,function(a){var l,u,f,d=a.rawLogsEvent,h=a.messageContext,v=h===void 0?void 0:h,_=a.savedCommonContext,S=_===void 0?void 0:_,b=a.logger,m=b===void 0?s:b,A=Xo(d.date),P=t.findTrackedSession(A);if(P){var k=S||r(),$=Tt({service:e.service,session_id:P.id,usr:Ar(k.user)?void 0:k.user,view:k.view},k.context,ht(A),d,m.getContext(),v);!os(d.status,Sn.http,m)||((l=e.beforeSend)===null||l===void 0?void 0:l.call(e,$))===!1||((u=$.error)===null||u===void 0?void 0:u.origin)!==x.AGENT&&((f=c[$.status])!==null&&f!==void 0?f:c.custom).isLimitReached()||n.notify(1,$)}})}var Fn=!1;function ht(t){var e=window;if(rs()){var n=r(e.DD_RUM_SYNTHETICS);return!n&&!Fn&&(Fn=!0,Ki("Logs sent before RUM is injected by the synthetics worker",{testId:Ya(),resultId:Za()})),n}return r(e.DD_RUM);function r(s){if(s&&s.getInternalContext)return s.getInternalContext(t)}}var ae,dc=(ae={},ae[U.log]=L.info,ae[U.debug]=L.debug,ae[U.info]=L.info,ae[U.warn]=L.warn,ae[U.error]=L.error,ae);function hc(t,e){var n=Ga(t.forwardConsoleLogs).subscribe(function(r){e.notify(0,{rawLogsEvent:{date:oe(),message:r.message,origin:x.CONSOLE,error:r.api===U.error?{origin:x.CONSOLE,stack:r.stack}:void 0,status:dc[r.api]}})});return{stop:function(){n.unsubscribe()}}}var De,pc=(De={},De[re.cspViolation]=L.error,De[re.intervention]=L.error,De[re.deprecation]=L.warn,De);function mc(t,e){var n=Ui(t.forwardReports).subscribe(function(r){var s=r.message,o=pc[r.type],i;o===L.error?i={kind:r.subtype,origin:x.REPORT,stack:r.stack}:r.stack&&(s+=" Found in ".concat(Ni(r.stack))),e.notify(0,{rawLogsEvent:{date:oe(),message:s,origin:x.REPORT,error:i,status:o}})});return{stop:function(){n.unsubscribe()}}}function gc(t,e){if(!t.forwardErrorsToLogs)return{stop:Ze};var n=La().subscribe(function(o){o.state==="complete"&&s("xhr",o)}),r=xa().subscribe(function(o){o.state==="resolve"&&s("fetch",o)});function s(o,i){!t.isIntakeUrl(i.url)&&(_c(i)||Sc(i))&&("xhr"in i?vc(i.xhr,t,c):i.response?yc(i.response,t,c):i.error&&Ec(i.error,t,c));function c(a){e.notify(0,{rawLogsEvent:{message:"".concat(bc(o)," error ").concat(i.method," ").concat(i.url),date:i.startClocks.timeStamp,error:{origin:x.NETWORK,stack:a||"Failed to load"},http:{method:i.method,status_code:i.status,url:i.url},status:L.error,origin:x.NETWORK}})}}return{stop:function(){n.unsubscribe(),r.unsubscribe()}}}function vc(t,e,n){typeof t.response=="string"?n(bn(t.response,e)):n(t.response)}function Ec(t,e,n){n(bn(he(ie(t)),e))}function yc(t,e,n){var r=Vo(t);!r||!r.body?n():window.TextDecoder?Tc(r.body,e.requestErrorResponseLengthLimit,function(s,o){n(s?"Unable to retrieve response: ".concat(s):o)}):r.text().then(I(function(s){return n(bn(s,e))}),I(function(s){return n("Unable to retrieve response: ".concat(s))}))}function _c(t){return t.status===0&&t.responseType!=="opaque"}function Sc(t){return t.status>=500}function bn(t,e){return t.length>e.requestErrorResponseLengthLimit?"".concat(t.substring(0,e.requestErrorResponseLengthLimit),"..."):t}function bc(t){return t==="xhr"?"XHR":"Fetch"}function Tc(t,e,n){Ka(t,function(r,s,o){if(r)n(r);else{var i=new TextDecoder().decode(s);o&&(i+="..."),n(void 0,i)}},{bytesLimit:e,collectStreamBody:!0})}function Ic(t,e){if(!t.forwardErrorsToLogs)return{stop:Ze};var n=new z,r=Di(n).stop,s=n.subscribe(function(o){e.notify(0,{rawLogsEvent:{message:o.message,date:o.startClocks.timeStamp,error:{kind:o.type,origin:x.SOURCE,stack:o.stack},origin:x.SOURCE,status:L.error}})});return{stop:function(){r(),s.unsubscribe()}}}var Oc=function(){function t(){this.callbacks={}}return t.prototype.notify=function(e,n){var r=this.callbacks[e];r&&r.forEach(function(s){return s(n)})},t.prototype.subscribe=function(e,n){var r=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),{unsubscribe:function(){r.callbacks[e]=r.callbacks[e].filter(function(s){return n!==s})}}},t}();function Rc(t,e,n,r){var s,o=ns(t,t.logsEndpointBuilder,n,r,(s=t.replica)===null||s===void 0?void 0:s.logsEndpointBuilder);e.subscribe(1,function(i){o.add(i)})}function Cc(t){var e=yn();t.subscribe(1,function(n){e.send("log",n)})}function wc(t){return{get:function(e){var n=t.findTrackedSession(e);if(n)return{session_id:n.id}}}}function Ac(t,e,n,r){var s=new Oc;s.subscribe(1,function(f){return Fr("logs",f)});var o=function(f){return s.notify(0,{rawLogsEvent:{message:f.message,date:f.startClocks.timeStamp,error:{origin:x.AGENT},origin:x.AGENT,status:L.error}})},i=Ba(),c=Lc(e,o,i);c.setContextProvider(function(){var f,d,h,v,_,S;return{application:{id:(f=ht())===null||f===void 0?void 0:f.application_id},session:{id:(d=l.findTrackedSession())===null||d===void 0?void 0:d.id},view:{id:(v=(h=ht())===null||h===void 0?void 0:h.view)===null||v===void 0?void 0:v.id},action:{id:(S=(_=ht())===null||_===void 0?void 0:_.user_action)===null||S===void 0?void 0:S.id}}}),gc(e,s),Ic(e,s),hc(e,s),mc(e,s);var a=lc(s).handleLog,l=Ho(e.cookieOptions)&&!Et()&&!rs()?ic(e):ac(e);fc(l,e,s,n,r,o),Et()?Cc(s):Rc(e,s,o,i),qi(tc(t));var u=wc(l);return{handleLog:a,getInternalContext:u.get}}function Lc(t,e,n){var r,s=ji("browser-logs-sdk",t);if(Et()){var o=yn();s.observable.subscribe(function(c){return o.send("internal_telemetry",c)})}else{var i=ns(t,t.rumEndpointBuilder,e,n,(r=t.replica)===null||r===void 0?void 0:r.rumEndpointBuilder);s.observable.subscribe(function(c){return i.add(c,zi(t))})}return s}var is=sc(Ac);ki(hn(),"DD_LOGS",is);class as{constructor(e){H(this,"env");this.env=e}setup(e){e.reports.enabled&&is.init({clientToken:"pub94a0029259f79f29a5d881a06d1e9653",site:"datadoghq.com",forwardErrorsToLogs:!0,service:this.env.var("KUMA_PRODUCT_NAME"),sampleRate:100,env:"production"})}}class Nc extends Error{constructor({title:n=null,message:r,code:s=null,statusCode:o,causes:i=[]}){super(r);H(this,"title");H(this,"code");H(this,"causes");H(this,"statusCode");this.name="ApiError",this.title=n,this.code=s,this.statusCode=o,this.causes=i}toJSON(){return{name:this.name,title:this.title,message:this.message,code:this.code,statusCode:this.statusCode,causes:this.causes}}}async function Pc(t,e={}){var l;const n=e,r=n.method??"GET";n.headers=n.headers instanceof Headers?n.headers:new Headers(n.headers),!n.headers.has("content-type")&&["POST","PUT","PATCH"].includes(r)&&n.headers.set("content-type","application/json");let s=t;"params"in e&&(r==="GET"?s+=`?${new URLSearchParams(e.params).toString()}`:(l=n.headers.get("content-type"))!=null&&l.startsWith("application/json")&&(n.body=JSON.stringify(e.params)));let o;try{o=await fetch(s,n)}catch(u){throw Mc(u)}const i=o.headers.get("content-type"),a=(i!==null?i.startsWith("application/json"):!1)?await o.json():await o.text();if(o.ok)return{response:o,data:a};throw Dc(o,a)}function Mc(t){const e=t instanceof Error?t.message:"An unknown network error occurred.";return new Error(e)}function Dc(t,e){let n=null,r="An error has occurred while trying to load this data.",s=null,o=[];return typeof e=="string"&&e.length>0?r=e:e&&(Object.prototype.hasOwnProperty.call(e,"title")&&(n=e.title),Object.prototype.hasOwnProperty.call(e,"details")&&(r=e.details),Object.prototype.hasOwnProperty.call(e,"code")&&(s=e.code),Object.prototype.hasOwnProperty.call(e,"causes")&&Array.isArray(e.causes)&&(o=e.causes)),t.status===403&&(r="You currently don’t have access to this data."),new Nc({title:n,message:r,code:s,causes:o,statusCode:t.status})}class xc{constructor(e){H(this,"_baseUrl");H(this,"_options",{});this._baseUrl=e}get baseUrl(){return this._baseUrl}set baseUrl(e){this._baseUrl=e}get options(){return this._options}set options(e){this._options=e}async get(e,n){const r=Vn(n);r.method="GET";const{data:s}=await this.raw(e,r);return s}async raw(e,n){let r;e.startsWith("http")?r=e:r=[this.baseUrl,e].map(c=>c.replace(/\/+$/,"").replace(/^\/+/,"")).join("/");const s=new Headers(this.options.headers);if(n!==void 0&&"headers"in n){const c=n.headers instanceof Headers?n.headers:new Headers(n.headers);for(const[a,l]of c)s.set(a,l)}const o={...this.options,...n};Object.keys(s).length>0&&(o.headers=s);const i=Vn(o);return Pc(r,i)}}function Vn(t){const e=t??{};if(e.params&&!Array.isArray(e.params)){const n=[];for(const[r,s]of Object.entries(e.params))if(s!==void 0)if(Array.isArray(s))for(const o of s)n.push([r,o]);else n.push([r,s]);e.params=n}return e}class kc{constructor(e){H(this,"client");H(this,"env");this.client=new xc(e.var("KUMA_API_URL")),this.env=e}get baseUrl(){return this.client.baseUrl}setBaseUrl(e){this.client.baseUrl=e}setOptions(e){this.client.options=e}}class cs extends kc{getInfo(){return this.client.get("")}async getStatus(){try{const{response:e}=await this.client.raw("");return e.status===200?"OK":null}catch{return null}}async getLatestVersion(){return this.client.get(this.env.var("KUMA_VERSION_URL"))}getConfig(){return this.client.get("config")}getPolicyTypes(){return this.client.get("policies")}getGlobalInsights(){return this.client.get("global-insights")}getZones(e){return this.client.get("zones",{params:e})}getZone({name:e},n){return this.client.get(`zones/${e}`,{params:n})}getAllZoneOverviews(e){return this.client.get("zones+insights",{params:e})}getZoneOverview({name:e},n){return this.client.get(`zones+insights/${e}`,{params:n})}getZoneIngressData({zoneIngressName:e,dataPath:n},r){return this.client.get(`zoneingresses/${e}/${n}`,{params:r})}getAllZoneIngressOverviews(e){return this.client.get("zoneingresses+insights",{params:e})}getZoneIngressOverview({name:e},n){return this.client.get(`zoneingresses+insights/${e}`,{params:n})}getZoneEgressData({zoneEgressName:e,dataPath:n},r){return this.client.get(`zoneegresses/${e}/${n}`,{params:r})}getAllZoneEgressOverviews(e){return this.client.get("zoneegressoverviews",{params:e})}getZoneEgressOverview({name:e},n){return this.client.get(`zoneegressoverviews/${e}`,{params:n})}getAllMeshes(e){return this.client.get("meshes",{params:e})}getMesh({name:e},n){return this.client.get(`meshes/${e}`,{params:n})}getAllMeshInsights(e){return this.client.get("mesh-insights",{params:e})}getMeshInsights({name:e},n){return this.client.get(`mesh-insights/${e}`,{params:n})}getAllDataplanes(e){return this.client.get("dataplanes",{params:e})}getDataplaneFromMesh({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}`,{params:r})}getAllDataplaneOverviews(e){return this.client.get("dataplanes+insights",{params:e})}getAllDataplaneOverviewsFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/dataplanes+insights`,{params:n})}getDataplaneOverviewFromMesh({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes+insights/${n}`,{params:r})}getSidecarDataplanePolicies({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/policies`,{params:r})}getMeshGatewayDataplane({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/policies`,{params:r})}getDataplaneRules({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/rules`,{params:r})}getDataplaneData({mesh:e,dppName:n,dataPath:r},s){return this.client.get(`meshes/${e}/dataplanes/${n}/${r}`,{params:s})}getAllServiceInsights(e){return this.client.get("service-insights",{params:e})}getAllServiceInsightsFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/service-insights`,{params:n})}getServiceInsight({mesh:e,name:n},r){return this.client.get(`meshes/${e}/service-insights/${n}`,{params:r})}getAllExternalServices(e){return this.client.get("external-services",{params:e})}getAllExternalServicesFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/external-services`,{params:n})}getExternalService({mesh:e,name:n},r){return this.client.get(`meshes/${e}/external-services/${n}`,{params:r})}async getExternalServiceByServiceInsightName(e,n){const{items:r}=await this.getAllExternalServicesFromMesh({mesh:e});return Array.isArray(r)?r.find(o=>o.tags["kuma.io/service"]===n)??null:null}getPolicyConnections({mesh:e,policyType:n,policyName:r},s){return this.client.get(`meshes/${e}/${n}/${r}/dataplanes`,{params:s})}getAllPolicyEntities({path:e},n){return this.client.get(e,{params:n})}getAllPolicyEntitiesFromMesh({mesh:e,path:n},r){return this.client.get(`meshes/${e}/${n}`,{params:r})}getSinglePolicyEntity({mesh:e,path:n,name:r},s){return this.client.get(`meshes/${e}/${n}/${r}`,{params:s})}}const Uc="modulepreload",$c=function(t,e){return t.startsWith(".")?new URL(t,e).href:t},Hn={},C=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=$c(o,r),o in Hn)return;Hn[o]=!0;const i=o.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===o&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const l=document.createElement("link");if(l.rel=i?"stylesheet":Uc,i||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),i)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};function ce(t,e=0){const n=Bc(t);return n!==void 0?parseInt(n):e}function Bc(t){const e=Array.isArray(t)?t:[t];return e[e.length-1]??void 0}const us=t=>[{path:"/404",name:"not-found",alias:"/:pathMatch(.*)*",meta:{title:"Item not found"},component:()=>C(()=>import("./AppNotFoundView-6a175f2f.js"),[],import.meta.url)},{path:"/",name:"home",meta:{title:"Overview"},component:()=>C(()=>import("./MainOverviewView-cdfc9b51.js"),["./DoughnutChart-5c0285e5.css","./index-b4224ca0.css","./MeshResources-b0bd4417.css"],import.meta.url)},{path:"/diagnostics",name:"diagnostics",meta:{title:"Diagnostics"},component:()=>C(()=>import("./DiagnosticsView-a5bc3982.js"),["./CodeBlock-7d9027b4.css"],import.meta.url)},{path:"/zones",name:"zones",meta:{title:"Zones"},props:e=>({selectedZoneName:e.query.zone,offset:ce(e.query.offset)}),component:()=>C(()=>import("./ZonesView-78036cc6.js"),["./AccordionItem-2e8063db.css","./CodeBlock-7d9027b4.css","./ErrorBlock-7208ca81.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./LabelList-82c1e9de.css","./SubscriptionHeader-da67a0ee.css","./TabsWidget-4d82abdb.css"],import.meta.url)},{path:"/zone-ingresses",name:"zoneingresses",meta:{title:"Zone ingresses"},props:e=>({selectedZoneIngressName:e.query.zoneIngress,offset:ce(e.query.offset)}),component:()=>C(()=>import("./ZoneIngresses-0d7d78d3.js"),["./AccordionItem-2e8063db.css","./ErrorBlock-7208ca81.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./EnvoyData-c6435ad2.css","./LabelList-82c1e9de.css","./SubscriptionHeader-da67a0ee.css","./TabsWidget-4d82abdb.css"],import.meta.url)},{path:"/zoneegresses",name:"zoneegresses",meta:{title:"Zone egresses"},props:e=>({selectedZoneEgressName:e.query.zoneEgress,offset:ce(e.query.offset)}),component:()=>C(()=>import("./ZoneEgresses-dd86d435.js"),["./AccordionItem-2e8063db.css","./ErrorBlock-7208ca81.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./EnvoyData-c6435ad2.css","./LabelList-82c1e9de.css","./SubscriptionHeader-da67a0ee.css","./TabsWidget-4d82abdb.css"],import.meta.url)},{path:"/mesh/:mesh",children:[{path:"",name:"mesh-detail-view",meta:{title:"Mesh overview"},component:()=>C(()=>import("./MeshOverviewView-1d418195.js"),["./ContentWrapper-fe2d0f8d.css","./DoughnutChart-5c0285e5.css","./MeshResources-b0bd4417.css","./ErrorBlock-7208ca81.css","./LabelList-82c1e9de.css","./CodeBlock-7d9027b4.css","./MeshOverviewView-119f640a.css"],import.meta.url)},{path:"gateways",children:[{path:"",name:"gateway-list-view",meta:{title:"Gateways"},props:e=>({selectedDppName:e.query.gateway,gatewayType:e.query.gatewayType==="all"?"true":e.query.gatewayType,offset:ce(e.query.offset),isGatewayView:!0}),component:()=>C(()=>import("./DataPlaneListView-71ef46cf.js"),["./ContentWrapper-fe2d0f8d.css","./ErrorBlock-7208ca81.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./DataPlaneList-6939e0a9.css","./DataPlaneListView-c9bf2e34.css"],import.meta.url)},{path:":dataPlane",name:"gateway-detail-view",meta:{title:"Gateway",parent:"gateway-list-view",breadcrumbTitleParam:"dataPlane"},component:()=>C(()=>import("./DataPlaneDetailView-c9f23161.js"),["./AccordionItem-2e8063db.css","./CodeBlock-7d9027b4.css","./TagList-27d87a7b.css","./ErrorBlock-7208ca81.css","./EnvoyData-c6435ad2.css","./LabelList-82c1e9de.css","./StatusBadge-43351938.css","./TabsWidget-4d82abdb.css","./SubscriptionHeader-da67a0ee.css","./DataPlaneDetailView-139b30e1.css"],import.meta.url)}]},{path:"data-planes",children:[{path:"",name:"data-plane-list-view",meta:{title:"Data plane proxies"},props:e=>({selectedDppName:e.query.dpp,offset:ce(e.query.offset)}),component:()=>C(()=>import("./DataPlaneListView-71ef46cf.js"),["./ContentWrapper-fe2d0f8d.css","./ErrorBlock-7208ca81.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./DataPlaneList-6939e0a9.css","./DataPlaneListView-c9bf2e34.css"],import.meta.url)},{path:":dataPlane",name:"data-plane-detail-view",meta:{title:"Data plane proxy",parent:"data-plane-list-view",breadcrumbTitleParam:"dataPlane"},component:()=>C(()=>import("./DataPlaneDetailView-c9f23161.js"),["./AccordionItem-2e8063db.css","./CodeBlock-7d9027b4.css","./TagList-27d87a7b.css","./ErrorBlock-7208ca81.css","./EnvoyData-c6435ad2.css","./LabelList-82c1e9de.css","./StatusBadge-43351938.css","./TabsWidget-4d82abdb.css","./SubscriptionHeader-da67a0ee.css","./DataPlaneDetailView-139b30e1.css"],import.meta.url)}]},{path:"services",children:[{path:"",name:"service-list-view",meta:{title:"Services"},props:e=>({selectedServiceName:e.query.service,offset:ce(e.query.offset)}),component:()=>C(()=>import("./ServiceListView-d42c2627.js"),["./ContentWrapper-fe2d0f8d.css","./ErrorBlock-7208ca81.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./ServiceSummary-af890f41.css"],import.meta.url)},{path:":service",name:"service-detail-view",meta:{title:"Internal service",parent:"service-list-view",breadcrumbTitleParam:"service"},props:e=>({selectedDppName:e.query.dpp}),component:()=>C(()=>import("./ServiceDetailView-36fe1d46.js"),["./ErrorBlock-7208ca81.css","./ContentWrapper-fe2d0f8d.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./DataPlaneList-6939e0a9.css","./ServiceSummary-af890f41.css"],import.meta.url)}]},{path:"policies",name:"policies",meta:{title:"Policies"},redirect:e=>{let n=t.state.policyTypes.find(r=>t.state.sidebar.insights.mesh.policies[r.name]!==0);return n===void 0&&(n=t.state.policyTypes[0]),{...e,params:{...e.params,policyPath:n.path},name:"policy"}}},{path:"policies/:policyPath",name:"policy",meta:{parent:"policies"},component:()=>C(()=>import("./PolicyView-a5858417.js"),["./ErrorBlock-7208ca81.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./LabelList-82c1e9de.css","./TabsWidget-4d82abdb.css","./CodeBlock-7d9027b4.css","./PolicyView-9458b60e.css"],import.meta.url),props:e=>{const n=t.state.policyTypesByPath[e.params.policyPath];return e.meta.title=n.name,{policyPath:e.params.policyPath,selectedPolicyName:e.query.policy,offset:ce(e.query.offset)}}}]},{path:"/onboarding",redirect:{name:"onboarding-welcome"},component:()=>C(()=>import("./OnboardingView-6efc0a17.js"),[],import.meta.url),children:[{path:"welcome",name:"onboarding-welcome",meta:{title:"Welcome to Kuma!",onboardingProcess:!0},component:()=>C(()=>import("./WelcomeView-c49ab62f.js"),["./OnboardingPage-4df0909e.css","./WelcomeView-0af22aa8.css"],import.meta.url)},{path:"deployment-types",name:"onboarding-deployment-types",meta:{title:"Deployment Types",onboardingProcess:!0},component:()=>C(()=>import("./DeploymentTypes-e9de1bb4.js"),["./DoughnutChart-5c0285e5.css","./index-b4224ca0.css","./OnboardingPage-4df0909e.css","./DeploymentTypes-84708a2d.css"],import.meta.url)},{path:"configuration-types",name:"onboarding-configuration-types",meta:{title:"Configuration Types",onboardingProcess:!0},component:()=>C(()=>import("./ConfigurationTypes-90c1f345.js"),["./DoughnutChart-5c0285e5.css","./index-b4224ca0.css","./OnboardingPage-4df0909e.css","./ConfigurationTypes-202b6e99.css"],import.meta.url)},{path:"multi-zone",name:"onboarding-multi-zone",meta:{title:"Multizone",onboardingProcess:!0},component:()=>C(()=>import("./MultiZoneView-8c77b8df.js"),["./LoadingBox-0bc10551.css","./OnboardingPage-4df0909e.css","./MultiZoneView-be28a607.css"],import.meta.url)},{path:"create-mesh",name:"onboarding-create-mesh",meta:{title:"Create the Mesh",onboardingProcess:!0},component:()=>C(()=>import("./CreateMesh-e86d15dd.js"),["./OnboardingPage-4df0909e.css","./CreateMesh-926a017c.css"],import.meta.url)},{path:"add-services",name:"onboarding-add-services",meta:{title:"Add new services",onboardingProcess:!0},component:()=>C(()=>import("./AddNewServices-c90efea7.js"),["./OnboardingPage-4df0909e.css","./AddNewServices-1dac8f35.css"],import.meta.url)},{path:"add-services-code",name:"onboarding-add-services-code",meta:{title:"Add new services",onboardingProcess:!0},component:()=>C(()=>import("./AddNewServicesCode-c2ffa491.js"),["./CodeBlock-7d9027b4.css","./LoadingBox-0bc10551.css","./OnboardingPage-4df0909e.css","./AddNewServicesCode-d0cdb169.css"],import.meta.url)},{path:"dataplanes-overview",name:"onboarding-dataplanes-overview",meta:{title:"Data plane overview",onboardingProcess:!0},component:()=>C(()=>import("./DataplanesOverview-3dccff3f.js"),["./LoadingBox-0bc10551.css","./StatusBadge-43351938.css","./OnboardingPage-4df0909e.css","./DataplanesOverview-35348a18.css"],import.meta.url)},{path:"completed",name:"onboarding-completed",meta:{title:"Completed",onboardingProcess:!0},component:()=>C(()=>import("./CompletedView-4f657045.js"),["./OnboardingPage-4df0909e.css","./CompletedView-4a363d2a.css"],import.meta.url)}]},{path:"/wizard",name:"wizard",children:[{path:"mesh",name:"create-mesh",meta:{title:"Create a new mesh",wizardProcess:!0},component:()=>C(()=>import("./MeshWizard-865aedd2.js"),["./CodeBlock-7d9027b4.css","./StepSkeleton-4161d6eb.css","./ErrorBlock-7208ca81.css","./TabsWidget-4d82abdb.css","./MeshWizard-f485a12d.css"],import.meta.url)},{path:"kubernetes-dataplane",name:"kubernetes-dataplane",meta:{title:"Create a new data plane proxy on Kubernetes",wizardProcess:!0},component:()=>C(()=>import("./DataplaneKubernetes-cc870d6a.js"),["./CodeBlock-7d9027b4.css","./StepSkeleton-4161d6eb.css","./EnvironmentSwitcher-8d17c23e.css","./DataplaneKubernetes-7b1a1c22.css"],import.meta.url)},{path:"universal-dataplane",name:"universal-dataplane",meta:{title:"Create a new data plane proxy on Universal",wizardProcess:!0},component:()=>C(()=>import("./DataplaneUniversal-71bcdf4c.js"),["./CodeBlock-7d9027b4.css","./StepSkeleton-4161d6eb.css","./EnvironmentSwitcher-8d17c23e.css","./DataplaneUniversal-a43ec730.css"],import.meta.url)}]}];function Gc(t,e){const n=t?[{name:"Zones",categoryTier:"primary"},{name:"Zone CPs",routeName:"zones",insightsFieldAccessor:"global.Zone"},{name:"Zone Ingresses",routeName:"zoneingresses",insightsFieldAccessor:"global.ZoneIngress"},{name:"Zone Egresses",routeName:"zoneegresses",insightsFieldAccessor:"global.ZoneEgress"}]:[],r=e?[{name:"Mesh",categoryTier:"primary"},{name:"Mesh selector",isMeshSelector:!0},{name:"Overview",routeName:"mesh-detail-view",usesMeshParam:!0},{name:"Services",routeName:"service-list-view",insightsFieldAccessor:"mesh.services.total",usesMeshParam:!0},{name:"Gateways",routeName:"gateway-list-view",usesMeshParam:!0,insightsFieldAccessor:"mesh.dataplanes.gateway"},{name:"Data Plane Proxies",routeName:"data-plane-list-view",usesMeshParam:!0,insightsFieldAccessor:"mesh.dataplanes.standard"},{name:"Policies",routeName:"policies",usesMeshParam:!0,insightsFieldAccessor:"mesh.policies.total"}]:[];return[{name:"Home",routeName:"home",shouldOffsetFromFollowingItems:!0},...n,...r]}const Fc=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var ls=Fc;const Vc="2.0.0",Hc=256,jc=Number.MAX_SAFE_INTEGER||9007199254740991,zc=16;var fs={SEMVER_SPEC_VERSION:Vc,MAX_LENGTH:Hc,MAX_SAFE_INTEGER:jc,MAX_SAFE_COMPONENT_LENGTH:zc},yt={},Kc={get exports(){return yt},set exports(t){yt=t}};(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n}=fs,r=ls;e=t.exports={};const s=e.re=[],o=e.src=[],i=e.t={};let c=0;const a=(l,u,f)=>{const d=c++;r(l,d,u),i[l]=d,o[d]=u,s[d]=new RegExp(u,f?"g":void 0)};a("NUMERICIDENTIFIER","0|[1-9]\\d*"),a("NUMERICIDENTIFIERLOOSE","[0-9]+"),a("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),a("MAINVERSION",`(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})`),a("MAINVERSIONLOOSE",`(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})`),a("PRERELEASEIDENTIFIER",`(?:${o[i.NUMERICIDENTIFIER]}|${o[i.NONNUMERICIDENTIFIER]})`),a("PRERELEASEIDENTIFIERLOOSE",`(?:${o[i.NUMERICIDENTIFIERLOOSE]}|${o[i.NONNUMERICIDENTIFIER]})`),a("PRERELEASE",`(?:-(${o[i.PRERELEASEIDENTIFIER]}(?:\\.${o[i.PRERELEASEIDENTIFIER]})*))`),a("PRERELEASELOOSE",`(?:-?(${o[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[i.PRERELEASEIDENTIFIERLOOSE]})*))`),a("BUILDIDENTIFIER","[0-9A-Za-z-]+"),a("BUILD",`(?:\\+(${o[i.BUILDIDENTIFIER]}(?:\\.${o[i.BUILDIDENTIFIER]})*))`),a("FULLPLAIN",`v?${o[i.MAINVERSION]}${o[i.PRERELEASE]}?${o[i.BUILD]}?`),a("FULL",`^${o[i.FULLPLAIN]}$`),a("LOOSEPLAIN",`[v=\\s]*${o[i.MAINVERSIONLOOSE]}${o[i.PRERELEASELOOSE]}?${o[i.BUILD]}?`),a("LOOSE",`^${o[i.LOOSEPLAIN]}$`),a("GTLT","((?:<|>)?=?)"),a("XRANGEIDENTIFIERLOOSE",`${o[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),a("XRANGEIDENTIFIER",`${o[i.NUMERICIDENTIFIER]}|x|X|\\*`),a("XRANGEPLAIN",`[v=\\s]*(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:${o[i.PRERELEASE]})?${o[i.BUILD]}?)?)?`),a("XRANGEPLAINLOOSE",`[v=\\s]*(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:${o[i.PRERELEASELOOSE]})?${o[i.BUILD]}?)?)?`),a("XRANGE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAIN]}$`),a("XRANGELOOSE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAINLOOSE]}$`),a("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),a("COERCERTL",o[i.COERCE],!0),a("LONETILDE","(?:~>?)"),a("TILDETRIM",`(\\s*)${o[i.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",a("TILDE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAIN]}$`),a("TILDELOOSE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAINLOOSE]}$`),a("LONECARET","(?:\\^)"),a("CARETTRIM",`(\\s*)${o[i.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",a("CARET",`^${o[i.LONECARET]}${o[i.XRANGEPLAIN]}$`),a("CARETLOOSE",`^${o[i.LONECARET]}${o[i.XRANGEPLAINLOOSE]}$`),a("COMPARATORLOOSE",`^${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]})$|^$`),a("COMPARATOR",`^${o[i.GTLT]}\\s*(${o[i.FULLPLAIN]})$|^$`),a("COMPARATORTRIM",`(\\s*)${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]}|${o[i.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",a("HYPHENRANGE",`^\\s*(${o[i.XRANGEPLAIN]})\\s+-\\s+(${o[i.XRANGEPLAIN]})\\s*$`),a("HYPHENRANGELOOSE",`^\\s*(${o[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[i.XRANGEPLAINLOOSE]})\\s*$`),a("STAR","(<|>)?=?\\s*\\*"),a("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),a("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Kc,yt);const qc=["includePrerelease","loose","rtl"],Wc=t=>t?typeof t!="object"?{loose:!0}:qc.filter(e=>t[e]).reduce((e,n)=>(e[n]=!0,e),{}):{};var Xc=Wc;const jn=/^[0-9]+$/,ds=(t,e)=>{const n=jn.test(t),r=jn.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},Yc=(t,e)=>ds(e,t);var Zc={compareIdentifiers:ds,rcompareIdentifiers:Yc};const ct=ls,{MAX_LENGTH:zn,MAX_SAFE_INTEGER:ut}=fs,{re:Kn,t:qn}=yt,Qc=Xc,{compareIdentifiers:ve}=Zc;let Jc=class X{constructor(e,n){if(n=Qc(n),e instanceof X){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>zn)throw new TypeError(`version is longer than ${zn} characters`);ct("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?Kn[qn.LOOSE]:Kn[qn.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>ut||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ut||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ut||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const o=+s;if(o>=0&&o<ut)return o}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ct("SemVer.compare",this.version,this.options,e),!(e instanceof X)){if(typeof e=="string"&&e===this.version)return 0;e=new X(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof X||(e=new X(e,this.options)),ve(this.major,e.major)||ve(this.minor,e.minor)||ve(this.patch,e.patch)}comparePre(e){if(e instanceof X||(e=new X(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],s=e.prerelease[n];if(ct("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return ve(r,s)}while(++n)}compareBuild(e){e instanceof X||(e=new X(e,this.options));let n=0;do{const r=this.build[n],s=e.build[n];if(ct("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return ve(r,s)}while(++n)}inc(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(ve(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};var eu=Jc;const Wn=eu,tu=(t,e,n)=>new Wn(t,n).compare(new Wn(e,n));var jt=tu;class nu{constructor(e){H(this,"storageAdapter");this.storageAdapter=e}get(e){let n;try{n=this.storageAdapter.getItem(e)}catch{return null}if(n===null||!(n.startsWith("[")||n.startsWith("{")))return n;try{return JSON.parse(n)}catch{return n}}set(e,n){try{const r=typeof n=="string"?n:JSON.stringify(n);this.storageAdapter.setItem(e,r)}catch{}}has(e){try{return this.storageAdapter.getItem(e)!==null}catch{return!1}}remove(e){try{this.storageAdapter.removeItem(e)}catch{}}}const J=new nu(window.localStorage),pf="Kuma",mf=12,rn=500,Xn="Disabled",gf="kuma.io/zone";function hs(t,e,n=void 0){if(typeof t!="object"||Array.isArray(t))return n;const r=e.indexOf(".");if(r===-1)return t[e]===void 0?n:t[e];const s=e.substring(0,r),o=e.substring(r+1);return hs(t[s],o,n)}const ru=new Intl.DateTimeFormat("en-US",{dateStyle:"long"}),su=new Intl.DateTimeFormat("en-US",{dateStyle:"long",timeStyle:"medium"});function ou(t){const e=new Date(Date.parse(t)),n=Math.floor((Date.now()-e.getTime())/1e3);return n<=1?"just now":n<20?`${n} seconds ago`:n<40?"half a minute ago":n<60?"less than a minute ago":n<=90?"one minute ago":n<=3540?`${Math.round(n/60)} minutes ago`:n<=5400?"1 hour ago":n<=86400?`${Math.round(n/3600)} hours ago`:n<=129600?"1 day ago":n<604800?`${Math.round(n/86400)} days ago`:n<=777600?"1 week ago":ru.format(e)}function vf(t){const e=new Date(Date.parse(t));return su.format(e)}function Ef(t,e){const n=t&&typeof t=="object"&&t.constructor===Array?Object.assign({},...t):t;return e.reduce((r,s)=>({...r,[s]:n[s]}),{})}function yf(t){const{creationTime:e,modificationTime:n,...r}=t;return r}function _f(t){const e=t.replace(/[^a-zA-Z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();return t?e:""}async function lt(t){try{let e=null,n=0,r=[];for(;;){const s={size:rn,offset:n},{total:o,items:i,next:c}=await t(s);if(Array.isArray(i)&&(r=r.concat(i)),e===null&&(e=o),o!==e)throw new Error('Mismatch between "total" values between requests');if(!c)break;n+=rn}return{total:e,items:r}}catch(e){throw new Error(`Resource fetching failed: ${e}`)}}function Sf(t){var n;const e=((n=t.zoneInsight)==null?void 0:n.subscriptions)??[];if(e.length>0){const r=e[e.length-1];if(r.config){const s=JSON.parse(r.config);return hs(s,"dpServer.auth.type",Xn)}}return Xn}const ps=(t={},e={})=>{const n=t.online||0,r=e.online||0,s=t.partiallyDegraded||0,o=e.partiallyDegraded||0,i=t.total||0,c=e.total||0;return{online:n+r,partiallyDegraded:s+o,total:i+c}},iu=(t,e={})=>Object.entries(e).reduce((n,[r,s])=>{const o=n[r]?n[r].total:0;return{...n,[r]:{total:o+s.total}}},t),Yn=(t={},e={})=>Object.entries(e).reduce((n,[r,s])=>({...n,[r]:ps(n[r],s)}),t),au=(t={},e={})=>({kumaDp:Yn(t.kumaDp,e.kumaDp),envoy:Yn(t.envoy,e.envoy)});function ms(){return{meshesTotal:0,dataplanes:{online:0,partiallyDegraded:0,total:0},policies:{},dpVersions:{kumaDp:{},envoy:{}}}}function cu(t={}){return gs([t])}function gs(t=[]){return t.reduce((e,n)=>({meshesTotal:t.length,dataplanes:ps(e.dataplanes,n.dataplanes),policies:iu(e.policies,n.policies),dpVersions:au(e.dpVersions,n.dpVersions)}),{meshesTotal:0,dataplanes:{online:0,partiallyDegraded:0,total:0},policies:{},dpVersions:{kumaDp:{},envoy:{}}})}function bf(t){let e=[];t.networking.inbound&&(e=t.networking.inbound.filter(r=>"tags"in r).flatMap(r=>Object.entries(r.tags)).map(([r,s])=>`${r}=${s}`)),t.networking.gateway&&(e=Object.entries(t.networking.gateway.tags).map(([r,s])=>`${r}=${s}`));const n=Array.from(new Set(e));return n.sort((r,s)=>r.localeCompare(s)),n.map(r=>r.split("=")).map(([r,s])=>({label:r,value:s}))}function vs(t={subscriptions:[]}){return(t.subscriptions??[]).some(n=>{var r;return((r=n.connectTime)==null?void 0:r.length)&&!n.disconnectTime})?"online":"offline"}function Tf(t,e={subscriptions:[]}){const n=t.networking.inbound??[],r=n.filter(o=>o.health&&!o.health.ready).map(o=>`Inbound on port ${o.port} is not ready (kuma.io/service: ${o.tags["kuma.io/service"]})`);let s;switch(!0){case n.length===0:s="online";break;case r.length===n.length:s="offline";break;case r.length>0:s="partially_degraded";break;default:s=vs(e)}return{status:s,reason:r}}function If(t){if(t===void 0||t.subscriptions.length===0)return null;const e={},n=t.subscriptions[t.subscriptions.length-1];return n.version===void 0?null:(n.version.envoy&&(e.envoy=n.version.envoy.version),n.version.kumaDp&&(e.kumaDp=n.version.kumaDp.version),n.version.dependencies&&Object.entries(n.version.dependencies).forEach(([r,s])=>{e[r]=s}),e)}function Of(t){if(t.dataplaneInsight===void 0||t.dataplaneInsight.mTLS===void 0)return null;const{mTLS:e}=t.dataplaneInsight,n=new Date(e.certificateExpirationTime),r=new Date(n.getTime()+n.getTimezoneOffset()*6e4);return{certificateExpirationTime:{label:"Expiration Time",value:`${r.toLocaleDateString("en-US")} ${r.getHours()}:${r.getMinutes()}:${r.getSeconds()}`},lastCertificateRegeneration:{label:"Last Generated",value:ou(e.lastCertificateRegeneration)},certificateRegenerations:{label:"Regenerations",value:e.certificateRegenerations}}}function Rf(t){var r,s;return((r=t.kumaDp)==null?void 0:r.kumaCpCompatible)??!0?((s=t.envoy)==null?void 0:s.kumaDpCompatible)??!0?{kind:uu}:{kind:fu,payload:{envoy:t.envoy.version,kumaDp:t.kumaDp.version}}:{kind:lu,payload:{kumaDp:t.kumaDp.version}}}const uu="COMPATIBLE",Cf="INCOMPATIBLE_ZONE_CP_AND_KUMA_DP_VERSIONS",wf="INCOMPATIBLE_ZONE_AND_GLOBAL_CPS_VERSIONS",lu="INCOMPATIBLE_UNSUPPORTED_KUMA_DP",fu="INCOMPATIBLE_UNSUPPORTED_ENVOY",Af="INCOMPATIBLE_WRONG_FORMAT",du={status:null,tagline:null,version:null,kumaDocsVersion:"latest",clientConfig:null},hu={SET_CONFIG_DATA:(t,e)=>t.clientConfig=e,SET_STATUS:(t,e)=>t.status=e,SET_TAGLINE:(t,e)=>t.tagline=e,SET_VERSION:(t,e)=>t.version=e,SET_KUMA_DOCS_VERSION:(t,e)=>t.kumaDocsVersion=e},pu={getStatus:t=>t.status,getConfig:t=>t.clientConfig,getEnvironment:t=>{var e;return(e=t.clientConfig)==null?void 0:e.environment},getMode:t=>{var e;return(e=t.clientConfig)==null?void 0:e.mode},getTagline:t=>t.tagline,getVersion:t=>t.version,getKumaDocsVersion:t=>t.kumaDocsVersion,getConfigurationType:t=>{var e,n;return(n=(e=t.clientConfig)==null?void 0:e.store)==null?void 0:n.type},getMulticlusterStatus:(t,e)=>({}).VITE_FAKE_MULTIZONE==="true"?(console.warn("%c ✨You are currently faking Multi-Zone mode.","background: black; color: white; display: block; padding: 0.25rem;"),!0):e.getMode==="global"},mu=t=>({bootstrapConfig({dispatch:e}){const n=e("getInfo"),r=e("getConfig");return Promise.all([n,r])},getConfig({commit:e}){return t.getConfig().then(n=>{e("SET_CONFIG_DATA",n)})},getStatus({commit:e}){return t.getStatus().then(n=>{e("SET_STATUS",n)})},getInfo({commit:e}){return t.getInfo().then(n=>{e("SET_TAGLINE",n.tagline),e("SET_VERSION",n.version);let r;const s=n.basedOnKuma??n.version,o=s.indexOf("-preview.");if(o!==-1){const i=s.substring(0,o);r=i==="0.0.0"?"dev":i.replace(/\.\d+$/,".x")}else r=s.replace(/\.\d+$/,".x");e("SET_KUMA_DOCS_VERSION",r)}).catch(n=>{console.error(n)})}}),gu=t=>({namespaced:!0,state:()=>du,getters:pu,mutations:hu,actions:mu(t)}),vu={isOpen:!1},Eu={OPEN_MODAL:t=>t.isOpen=!0,CLOSE_MODAL:t=>t.isOpen=!1},yu={meshNotificationItemMap(t,e,n){var o;return(((o=n.meshes)==null?void 0:o.items)||[]).reduce((i,c)=>(i[c.name]={hasLogging:Boolean(c.logging),hasMtls:Boolean(c.mtls),hasMetrics:Boolean(c.metrics),hasTracing:Boolean(c.tracing)},i),{})},meshNotificationItemMapWithAction(t,e){const n=e.meshNotificationItemMap;return Object.entries(n).reduce((r,[s,o])=>(Object.values(o).some(c=>!c)&&(r[s]=o),r),{})},singleMeshNotificationItems(t,e,n,r){if(n.selectedMesh===null)return[];const s=e.meshNotificationItemMap[n.selectedMesh],o=Object.entries(r.getMeshInsight.policies).filter(([c,a])=>["MeshAccessLog","MeshTrace"].includes(c)).some(([c,a])=>a.total>0),i=[{name:"Observability, Metrics & Service Map",component:"MetricsNotification",isCompleted:s.hasMetrics},{name:"Logging",component:"LoggingNotification",isCompleted:s.hasLogging||o},{name:"Zero-trust security",component:"MtlsNotification",isCompleted:s.hasMtls},{name:"Tracing",component:"TracingNotification",isCompleted:s.hasTracing}];return i.sort((c,a)=>+c.isCompleted-+a.isCompleted),i},amountOfActions(t,e){return Object.keys(e.meshNotificationItemMapWithAction).length}},_u={openModal({commit:t}){t("OPEN_MODAL")},closeModal({commit:t}){t("CLOSE_MODAL")}},Su={namespaced:!0,state:()=>vu,getters:yu,mutations:Eu,actions:_u},bu={isCompleted:J.get("onboardingIsCompleted")==="true",step:J.get("onboardingStep")||"onboarding-welcome",mode:"demo"},Tu={SET_STEP:(t,e)=>t.step=e,SET_IS_COMPLETED:(t,e)=>t.isCompleted=e,UPDATE_MODE:(t,e)=>t.mode=e},Iu={completeOnboarding({commit:t,dispatch:e}){e("fetchDataplaneTotalCount",null,{root:!0}),e("sidebar/getInsights",null,{root:!0}),t("SET_IS_COMPLETED",!0),J.set("onboardingIsCompleted","true"),J.remove("onboardingStep")},changeStep({commit:t},e){t("SET_STEP",e),J.set("onboardingStep",e)},changeMode({commit:t},e){t("UPDATE_MODE",e)}},Ou={namespaced:!0,state:()=>bu,mutations:Tu,actions:Iu};function Zn(t){const e=t.items.reduce((n,{dataplanes:r,dataplanesByType:s,policies:o,services:i})=>{var c,a;n.services.internal+=i.internal||0,n.services.external+=i.external||0,n.services.total+=i.total||0,n.dataplanes.total+=r.total||0,n.dataplanes.standard+=((c=s.standard)==null?void 0:c.total)||0,n.dataplanes.gateway+=((a=s.gateway)==null?void 0:a.total)||0;for(const[l,u]of Object.entries(o))n.policies[l]||(n.policies[l]=0),n.policies[l]+=u.total||0;return n},{services:{total:0,internal:0,external:0},dataplanes:{total:0,standard:0,gateway:0},policies:{}});return e.policies.total=Object.values(e.policies).reduce((n,r)=>n+r,0),e}function Ru(t){return Object.entries(t.resources).reduce((e,[n,r])=>(e[n]||(e[n]=0),e[n]+=r.total||0,e),{})}const Cu={insights:{global:{},mesh:{services:{total:0,internal:0,external:0},dataplanes:{total:0,standard:0,gateway:0},policies:{}}}},wu={SET_GLOBAL_INSIGHTS:(t,e)=>t.insights.global=e,SET_MESH_INSIGHTS:(t,e)=>t.insights.mesh=e},Au=t=>({getInsights({dispatch:e}){return Promise.all([e("getGlobalInsights"),e("getMeshInsights")])},async getMeshInsights({commit:e,rootState:n}){if(n.selectedMesh===null)return;let r;try{const s=await t.getMeshInsights({name:n.selectedMesh});r=Zn({items:[s]})}catch{r=Zn({items:[]})}e("SET_MESH_INSIGHTS",r)},async getGlobalInsights({commit:e}){const n=await t.getGlobalInsights(),r=Ru(n);e("SET_GLOBAL_INSIGHTS",r)}}),Lu=t=>({namespaced:!0,state:()=>Cu,mutations:wu,actions:Au(t)}),Qn="Online",Jn="Offline",Nu="Partially degraded",Pu={menu:null,globalLoading:!0,pageTitle:"",meshes:{total:0,items:[],next:null},selectedMesh:"default",totalDataplaneCount:0,version:"",itemQueryNamespace:"item",totalClusters:0,serviceSummary:{total:0,internal:{total:0,online:0,offline:0,partiallyDegraded:0},external:{total:0}},overviewCharts:{dataplanes:{data:[]},meshes:{data:[]},services:{data:[]},policies:{data:[]},zones:{data:[]},zonesCPVersions:{data:[]},kumaDPVersions:{data:[]},envoyVersions:{data:[]}},meshInsight:ms(),meshInsightsFetching:!1,serviceInsightsFetching:!1,externalServicesFetching:!1,zonesInsightsFetching:!1,policyTypes:[],policyTypesByPath:{},policyTypesByName:{}},Es=t=>({modules:{sidebar:Lu(t),config:gu(t),notifications:Su,onboarding:Ou},state:()=>Pu,getters:{globalLoading:e=>e.globalLoading,getMeshList:e=>e.meshes,getItemQueryNamespace:e=>e.itemQueryNamespace,getMeshInsight:e=>e.meshInsight,getMeshInsightsFetching:e=>e.meshInsightsFetching,getServiceInsightsFetching:e=>e.serviceInsightsFetching,getExternalServicesFetching:e=>e.externalServicesFetching,getResourceFetching:({meshInsightsFetching:e,serviceInsightsFetching:n,externalServicesFetching:r})=>e||n||r,getServiceResourcesFetching:({serviceInsightsFetching:e,externalServicesFetching:n})=>e||n,getZonesInsightsFetching:({zonesInsightsFetching:e})=>e,getChart:e=>(n,{title:r,subtitle:s=void 0,showTotal:o=!1,isStatusChart:i=!1})=>({title:r,subtitle:s,showTotal:o,isStatusChart:i,dataPoints:e.overviewCharts[n].data}),shouldSuggestOnboarding:e=>{const n=e.meshes.items.length===1&&e.meshes.items[0].name==="default";return e.totalDataplaneCount===0&&n}},mutations:{SET_GLOBAL_LOADING:(e,n)=>e.globalLoading=n,SET_PAGE_TITLE:(e,n)=>e.pageTitle=n,SET_MESHES:(e,n)=>e.meshes=n,SET_SELECTED_MESH:(e,n)=>e.selectedMesh=n,SET_TOTAL_DATAPLANE_COUNT:(e,n)=>e.totalDataplaneCount=n,SET_TOTAL_CLUSTER_COUNT:(e,n)=>e.totalClusters=n,SET_INTERNAL_SERVICE_SUMMARY:(e,{items:n=[]})=>{const r={online:0,partially_degraded:0,offline:0,not_available:0},{online:s,offline:o,partially_degraded:i}=n.reduce((a,{status:l="offline"})=>({...a,[l]:a[l]+1}),r),c=s+o+i;e.serviceSummary.internal={...e.serviceSummary.internal,total:c,online:s,partiallyDegraded:i,offline:o},e.serviceSummary.total=e.serviceSummary.external.total+c},SET_EXTERNAL_SERVICE_SUMMARY:(e,{total:n=0})=>{e.serviceSummary.external.total=n,e.serviceSummary.total=e.serviceSummary.internal.total+n},SET_MESH_INSIGHT:(e,n)=>e.meshInsight=cu(n),SET_MESH_INSIGHT_FROM_ALL_MESHES:(e,n)=>e.meshInsight=gs(n.items),SET_ZONES_INSIGHTS_FETCHING:(e,n)=>e.zonesInsightsFetching=n,SET_MESH_INSIGHTS_FETCHING:(e,n)=>e.meshInsightsFetching=n,SET_SERVICE_INSIGHTS_FETCHING:(e,n)=>e.serviceInsightsFetching=n,SET_EXTERNAL_SERVICES_FETCHING:(e,n)=>e.externalServicesFetching=n,SET_OVERVIEW_CHART_DATA:(e,{chartName:n,data:r})=>{e.overviewCharts[n].data=r},SET_POLICY_TYPES:(e,n)=>{n.sort((r,s)=>r.name.localeCompare(s.name)),e.policyTypes=n},SET_POLICY_TYPES_BY_PATH:(e,n)=>e.policyTypesByPath=n,SET_POLICY_TYPES_BY_NAME:(e,n)=>e.policyTypesByName=n},actions:{updateGlobalLoading({commit:e},n){e("SET_GLOBAL_LOADING",n)},async bootstrap({dispatch:e,getters:n,state:r}){if(await e("config/getStatus"),n["config/getStatus"]==="OK")if(await Promise.all([e("fetchMeshList"),e("fetchDataplaneTotalCount"),e("config/bootstrapConfig")]),r.meshes.items.length>0){const s=J.get("selectedMesh");let o;if(s!==null){const i=r.meshes.items.find(c=>c.name===s);i!==void 0&&(o=i)}o===void 0&&(o=r.meshes.items[0]),await e("updateSelectedMesh",o.name),await e("sidebar/getInsights")}else await e("updateSelectedMesh",null)},updatePageTitle({commit:e},n){e("SET_PAGE_TITLE",n)},async fetchMeshList({commit:e,state:n}){const r={size:rn};try{const{total:s,items:o,next:i}=await t.getAllMeshes(r),c={items:o??[],total:s,next:i};c.items.sort((a,l)=>a.name==="default"?-1:l.name==="default"?1:a.name.localeCompare(l.name)),e("SET_MESHES",c)}catch(s){console.error(s)}},updateSelectedMesh({commit:e},n){n!==null?J.set("selectedMesh",n):J.remove("selectedMesh"),e("SET_SELECTED_MESH",n)},async fetchTotalClusterCount({commit:e}){const n=await t.getZones();e("SET_TOTAL_CLUSTER_COUNT",n.total)},async fetchDataplaneTotalCount({commit:e}){try{const n=await t.getAllDataplanes({size:1});e("SET_TOTAL_DATAPLANE_COUNT",n.total)}catch(n){console.error(n)}},async fetchMeshInsights({commit:e,dispatch:n},r){e("SET_MESH_INSIGHTS_FETCHING",!0);try{if(r===void 0){const s=await lt(t.getAllMeshInsights.bind(t)),o=[];s.items.length>0&&o.push({title:"Mesh",data:s.items.length}),e("SET_OVERVIEW_CHART_DATA",{chartName:"meshes",data:o}),e("SET_MESH_INSIGHT_FROM_ALL_MESHES",s)}else e("SET_MESH_INSIGHT",await t.getMeshInsights({name:r}))}catch{e("SET_OVERVIEW_CHART_DATA",{chartName:"meshes",data:[]}),e("SET_MESH_INSIGHT",ms())}finally{n("setChartsFromMeshInsights")}e("SET_MESH_INSIGHTS_FETCHING",!1)},async fetchServiceInsights({commit:e},n){e("SET_SERVICE_INSIGHTS_FETCHING",!0);try{const r=n===void 0?t.getAllServiceInsights.bind(t):t.getAllServiceInsightsFromMesh.bind(t,{mesh:n});e("SET_INTERNAL_SERVICE_SUMMARY",await lt(r))}catch{e("SET_INTERNAL_SERVICE_SUMMARY")}e("SET_SERVICE_INSIGHTS_FETCHING",!1)},async fetchExternalServices({commit:e},n){e("SET_EXTERNAL_SERVICES_FETCHING",!0);try{const r=n===void 0?t.getAllExternalServices.bind(t):t.getAllExternalServicesFromMesh.bind(t,{mesh:n});e("SET_EXTERNAL_SERVICE_SUMMARY",await lt(r))}catch{e("SET_EXTERNAL_SERVICE_SUMMARY")}e("SET_EXTERNAL_SERVICES_FETCHING",!1)},async fetchServices({dispatch:e},n){const r=e("fetchExternalServices",n),s=e("fetchServiceInsights",n);await Promise.all([s,r]),await e("setOverviewServicesChartData")},async fetchZonesInsights({commit:e,dispatch:n,getters:r},s=!1){e("SET_ZONES_INSIGHTS_FETCHING",!0);try{if(s){const o=await lt(t.getAllZoneOverviews.bind(t));n("setOverviewZonesChartData",o),n("setOverviewZonesCPVersionsChartData",o)}else{const o=[{title:"Zone",data:1,route:{name:"zones"}}],i=[{title:r["config/getVersion"],data:1,route:{name:"zones"}}];e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:o}),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:i})}}catch{e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:[]}),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:[]})}e("SET_ZONES_INSIGHTS_FETCHING",!1)},async fetchPolicyTypes({commit:e}){const{policies:n}=await t.getPolicyTypes(),r=n.reduce((o,i)=>Object.assign(o,{[i.path]:i}),{}),s=n.reduce((o,i)=>Object.assign(o,{[i.name]:i}),{});e("SET_POLICY_TYPES",n),e("SET_POLICY_TYPES_BY_PATH",r),e("SET_POLICY_TYPES_BY_NAME",s)},setChartsFromMeshInsights({dispatch:e}){e("setOverviewDataplanesChartData"),e("setOverviewKumaDPVersionsChartData"),e("setOverviewEnvoyVersionsChartData")},setOverviewZonesChartData({commit:e},{items:n=[]}){const r=n.length;let s=0;n.forEach(i=>{vs(i.zoneInsight)==="online"&&s++});const o=[];r&&(o.push({title:Qn,data:s,route:{name:"zones"}}),s!==r&&o.push({title:Jn,data:r-s,route:{name:"zones"}})),e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:o})},setOverviewServicesChartData({state:e,commit:n}){const{internal:r,external:s}=e.serviceSummary,o=[];r.total&&e.selectedMesh!==null&&o.push({title:"Internal",data:r.total,route:{name:"service-list-view",params:{mesh:e.selectedMesh}}}),s.total&&e.selectedMesh!==null&&o.push({title:"External",data:s.total,route:{name:"service-list-view",params:{mesh:e.selectedMesh}}}),n("SET_OVERVIEW_CHART_DATA",{chartName:"services",data:o})},setOverviewDataplanesChartData({state:e,commit:n}){const r=e.meshInsight.dataplanes.total,s=[];if(r>0){const o=e.meshInsight.dataplanes.online??0;s.push({title:Qn,data:o});const i=e.meshInsight.dataplanes.partiallyDegraded??0;i>0&&s.push({title:Nu,data:i});const c=r-i-o;c>0&&s.push({title:Jn,data:c})}n("SET_OVERVIEW_CHART_DATA",{chartName:"dataplanes",data:s})},setOverviewZonesCPVersionsChartData({commit:e},{items:n}){const r=n.reduce((s,o)=>{var l;const i=((l=o.zoneInsight)==null?void 0:l.subscriptions)??[];if(i.length===0)return s;const c=i.pop(),a=s.find(u=>{var f,d;return u.title===((d=(f=c.version)==null?void 0:f.kumaCp)==null?void 0:d.version)});return a?a.data++:s.push({title:c.version.kumaCp.version,data:1,route:{name:"zones"}}),s},[]);r.sort((s,o)=>s.title==="unknown"?1:o.title==="unknown"?-1:jt(s.title,o.title)),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:r})},setOverviewEnvoyVersionsChartData({state:e,commit:n}){const{envoy:r}=e.meshInsight.dpVersions,s=Object.entries(r).map(([o,i])=>({title:o,data:i.total}));s.sort((o,i)=>o.title==="unknown"?1:i.title==="unknown"?-1:jt(o.title,i.title)),n("SET_OVERVIEW_CHART_DATA",{chartName:"envoyVersions",data:s})},setOverviewKumaDPVersionsChartData({state:e,commit:n}){const{kumaDp:r}=e.meshInsight.dpVersions,s=Object.entries(r).map(([o,i])=>({title:o,data:i.total}));s.sort((o,i)=>o.title==="unknown"?1:i.title==="unknown"?-1:jt(o.title,i.title)),n("SET_OVERVIEW_CHART_DATA",{chartName:"kumaDPVersions",data:s})}}});function Mu(){return ys().__VUE_DEVTOOLS_GLOBAL_HOOK__}function ys(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Du=typeof Proxy=="function",xu="devtools-plugin:setup",ku="plugin:settings:set";let Ee,sn;function Uu(){var t;return Ee!==void 0||(typeof window<"u"&&window.performance?(Ee=!0,sn=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(Ee=!0,sn=global.perf_hooks.performance):Ee=!1),Ee}function $u(){return Uu()?sn.now():Date.now()}class Bu{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const i in e.settings){const c=e.settings[i];r[i]=c.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},r);try{const i=localStorage.getItem(s),c=JSON.parse(i);Object.assign(o,c)}catch{}this.fallbacks={getSettings(){return o},setSettings(i){try{localStorage.setItem(s,JSON.stringify(i))}catch{}o=i},now(){return $u()}},n&&n.on(ku,(i,c)=>{i===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(i,c)=>this.target?this.target.on[c]:(...a)=>{this.onQueue.push({method:c,args:a})}}),this.proxiedTarget=new Proxy({},{get:(i,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...a)=>(this.targetQueue.push({method:c,args:a,resolve:()=>{}}),this.fallbacks[c](...a)):(...a)=>new Promise(l=>{this.targetQueue.push({method:c,args:a,resolve:l})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Gu(t,e){const n=t,r=ys(),s=Mu(),o=Du&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))s.emit(xu,t,e);else{const i=o?new Bu(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:i}),i&&e(i.proxiedTarget)}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Se=typeof window<"u";function Fu(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const R=Object.assign;function zt(t,e){const n={};for(const r in e){const s=e[r];n[r]=K(s)?s.map(t):t(s)}return n}const He=()=>{},K=Array.isArray,Vu=/\/$/,Hu=t=>t.replace(Vu,"");function Kt(t,e,n="/"){let r,s={},o="",i="";const c=e.indexOf("#");let a=e.indexOf("?");return c<a&&c>=0&&(a=-1),a>-1&&(r=e.slice(0,a),o=e.slice(a+1,c>-1?c:e.length),s=t(o)),c>-1&&(r=r||e.slice(0,c),i=e.slice(c,e.length)),r=qu(r??e,n),{fullPath:r+(o&&"?")+o+i,path:r,query:s,hash:i}}function ju(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function er(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function zu(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Re(e.matched[r],n.matched[s])&&_s(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Re(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function _s(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Ku(t[n],e[n]))return!1;return!0}function Ku(t,e){return K(t)?tr(t,e):K(e)?tr(e,t):t===e}function tr(t,e){return K(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function qu(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let s=n.length-1,o,i;for(o=0;o<r.length;o++)if(i=r[o],i!==".")if(i==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var We;(function(t){t.pop="pop",t.push="push"})(We||(We={}));var je;(function(t){t.back="back",t.forward="forward",t.unknown=""})(je||(je={}));function Wu(t){if(!t)if(Se){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Hu(t)}const Xu=/^[^#]+#/;function Yu(t,e){return t.replace(Xu,"#")+e}function Zu(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Ot=()=>({left:window.pageXOffset,top:window.pageYOffset});function Qu(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Zu(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function nr(t,e){return(history.state?history.state.position-e:-1)+t}const on=new Map;function Ju(t,e){on.set(t,e)}function el(t){const e=on.get(t);return on.delete(t),e}let tl=()=>location.protocol+"//"+location.host;function Ss(t,e){const{pathname:n,search:r,hash:s}=e,o=t.indexOf("#");if(o>-1){let c=s.includes(t.slice(o))?t.slice(o).length:1,a=s.slice(c);return a[0]!=="/"&&(a="/"+a),er(a,"")}return er(n,t)+r+s}function nl(t,e,n,r){let s=[],o=[],i=null;const c=({state:d})=>{const h=Ss(t,location),v=n.value,_=e.value;let S=0;if(d){if(n.value=h,e.value=d,i&&i===v){i=null;return}S=_?d.position-_.position:0}else r(h);s.forEach(b=>{b(n.value,v,{delta:S,type:We.pop,direction:S?S>0?je.forward:je.back:je.unknown})})};function a(){i=n.value}function l(d){s.push(d);const h=()=>{const v=s.indexOf(d);v>-1&&s.splice(v,1)};return o.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(R({},d.state,{scroll:Ot()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",u),{pauseListeners:a,listen:l,destroy:f}}function rr(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Ot():null}}function rl(t){const{history:e,location:n}=window,r={value:Ss(t,n)},s={value:e.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(a,l,u){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+a:tl()+t+a;try{e[u?"replaceState":"pushState"](l,"",d),s.value=l}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function i(a,l){const u=R({},e.state,rr(s.value.back,a,s.value.forward,!0),l,{position:s.value.position});o(a,u,!0),r.value=a}function c(a,l){const u=R({},s.value,e.state,{forward:a,scroll:Ot()});o(u.current,u,!0);const f=R({},rr(r.value,a,null),{position:u.position+1},l);o(a,f,!1),r.value=a}return{location:r,state:s,push:c,replace:i}}function sl(t){t=Wu(t);const e=rl(t),n=nl(t,e.state,e.location,e.replace);function r(o,i=!0){i||n.pauseListeners(),history.go(o)}const s=R({location:"",base:t,go:r,createHref:Yu.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function ol(t){return typeof t=="string"||t&&typeof t=="object"}function bs(t){return typeof t=="string"||typeof t=="symbol"}const te={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ts=Symbol("");var sr;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(sr||(sr={}));function Ce(t,e){return R(new Error,{type:t,[Ts]:!0},e)}function Q(t,e){return t instanceof Error&&Ts in t&&(e==null||!!(t.type&e))}const or="[^/]+?",il={sensitive:!1,strict:!1,start:!0,end:!0},al=/[.+*?^${}()[\]/\\]/g;function cl(t,e){const n=R({},il,e),r=[];let s=n.start?"^":"";const o=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let f=0;f<l.length;f++){const d=l[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(al,"\\$&"),h+=40;else if(d.type===1){const{value:v,repeatable:_,optional:S,regexp:b}=d;o.push({name:v,repeatable:_,optional:S});const m=b||or;if(m!==or){h+=10;try{new RegExp(`(${m})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${v}" (${m}): `+P.message)}}let A=_?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;f||(A=S&&l.length<2?`(?:/${A})`:"/"+A),S&&(A+="?"),s+=A,h+=20,S&&(h+=-8),_&&(h+=-20),m===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const i=new RegExp(s,n.sensitive?"":"i");function c(l){const u=l.match(i),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",v=o[d-1];f[v.name]=h&&v.repeatable?h.split("/"):h}return f}function a(l){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:v,repeatable:_,optional:S}=h,b=v in l?l[v]:"";if(K(b)&&!_)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const m=K(b)?b.join("/"):b;if(!m)if(S)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);u+=m}}return u||"/"}return{re:i,score:r,keys:o,parse:c,stringify:a}}function ul(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function ll(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const o=ul(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(ir(r))return 1;if(ir(s))return-1}return s.length-r.length}function ir(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const fl={type:0,value:""},dl=/[a-zA-Z0-9_]/;function hl(t){if(!t)return[[]];if(t==="/")return[[fl]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${l}": ${h}`)}let n=0,r=n;const s=[];let o;function i(){o&&s.push(o),o=[]}let c=0,a,l="",u="";function f(){l&&(n===0?o.push({type:0,value:l}):n===1||n===2||n===3?(o.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:l,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=a}for(;c<t.length;){if(a=t[c++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(l&&f(),i()):a===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:a==="("?n=2:dl.test(a)?d():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&c--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&c--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),i(),s}function pl(t,e,n){const r=cl(hl(t.path),n),s=R(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function ml(t,e){const n=[],r=new Map;e=ur({strict:!1,end:!0,sensitive:!1},e);function s(u){return r.get(u)}function o(u,f,d){const h=!d,v=gl(u);v.aliasOf=d&&d.record;const _=ur(e,u),S=[v];if("alias"in u){const A=typeof u.alias=="string"?[u.alias]:u.alias;for(const P of A)S.push(R({},v,{components:d?d.record.components:v.components,path:P,aliasOf:d?d.record:v}))}let b,m;for(const A of S){const{path:P}=A;if(f&&P[0]!=="/"){const k=f.record.path,$=k[k.length-1]==="/"?"":"/";A.path=f.record.path+(P&&$+P)}if(b=pl(A,f,_),d?d.alias.push(b):(m=m||b,m!==b&&m.alias.push(b),h&&u.name&&!cr(b)&&i(u.name)),v.children){const k=v.children;for(let $=0;$<k.length;$++)o(k[$],b,d&&d.children[$])}d=d||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&a(b)}return m?()=>{i(m)}:He}function i(u){if(bs(u)){const f=r.get(u);f&&(r.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&r.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function c(){return n}function a(u){let f=0;for(;f<n.length&&ll(u,n[f])>=0&&(u.record.path!==n[f].record.path||!Is(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!cr(u)&&r.set(u.record.name,u)}function l(u,f){let d,h={},v,_;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw Ce(1,{location:u});_=d.record.name,h=R(ar(f.params,d.keys.filter(m=>!m.optional).map(m=>m.name)),u.params&&ar(u.params,d.keys.map(m=>m.name))),v=d.stringify(h)}else if("path"in u)v=u.path,d=n.find(m=>m.re.test(v)),d&&(h=d.parse(v),_=d.record.name);else{if(d=f.name?r.get(f.name):n.find(m=>m.re.test(f.path)),!d)throw Ce(1,{location:u,currentLocation:f});_=d.record.name,h=R({},f.params,u.params),v=d.stringify(h)}const S=[];let b=d;for(;b;)S.unshift(b.record),b=b.parent;return{name:_,path:v,params:h,matched:S,meta:El(S)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:l,removeRoute:i,getRoutes:c,getRecordMatcher:s}}function ar(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function gl(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:vl(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function vl(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function cr(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function El(t){return t.reduce((e,n)=>R(e,n.meta),{})}function ur(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Is(t,e){return e.children.some(n=>n===t||Is(t,n))}const Os=/#/g,yl=/&/g,_l=/\//g,Sl=/=/g,bl=/\?/g,Rs=/\+/g,Tl=/%5B/g,Il=/%5D/g,Cs=/%5E/g,Ol=/%60/g,ws=/%7B/g,Rl=/%7C/g,As=/%7D/g,Cl=/%20/g;function Tn(t){return encodeURI(""+t).replace(Rl,"|").replace(Tl,"[").replace(Il,"]")}function wl(t){return Tn(t).replace(ws,"{").replace(As,"}").replace(Cs,"^")}function an(t){return Tn(t).replace(Rs,"%2B").replace(Cl,"+").replace(Os,"%23").replace(yl,"%26").replace(Ol,"`").replace(ws,"{").replace(As,"}").replace(Cs,"^")}function Al(t){return an(t).replace(Sl,"%3D")}function Ll(t){return Tn(t).replace(Os,"%23").replace(bl,"%3F")}function Nl(t){return t==null?"":Ll(t).replace(_l,"%2F")}function _t(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Pl(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(Rs," "),i=o.indexOf("="),c=_t(i<0?o:o.slice(0,i)),a=i<0?null:_t(o.slice(i+1));if(c in e){let l=e[c];K(l)||(l=e[c]=[l]),l.push(a)}else e[c]=a}return e}function lr(t){let e="";for(let n in t){const r=t[n];if(n=Al(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(K(r)?r.map(o=>o&&an(o)):[r&&an(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function Ml(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=K(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Dl=Symbol(""),fr=Symbol(""),Rt=Symbol(""),In=Symbol(""),cn=Symbol("");function xe(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function ne(t,e,n,r,s){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((i,c)=>{const a=f=>{f===!1?c(Ce(4,{from:n,to:e})):f instanceof Error?c(f):ol(f)?c(Ce(2,{from:e,to:f})):(o&&r.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),i())},l=t.call(r&&r.instances[s],e,n,a);let u=Promise.resolve(l);t.length<3&&(u=u.then(a)),u.catch(f=>c(f))})}function qt(t,e,n,r){const s=[];for(const o of t)for(const i in o.components){let c=o.components[i];if(!(e!=="beforeRouteEnter"&&!o.instances[i]))if(xl(c)){const l=(c.__vccOpts||c)[e];l&&s.push(ne(l,n,r,o,i))}else{let a=c();s.push(()=>a.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${o.path}"`));const u=Fu(l)?l.default:l;o.components[i]=u;const d=(u.__vccOpts||u)[e];return d&&ne(d,n,r,o,i)()}))}}return s}function xl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function dr(t){const e=ue(Rt),n=ue(In),r=j(()=>e.resolve($e(t.to))),s=j(()=>{const{matched:a}=r.value,{length:l}=a,u=a[l-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(Re.bind(null,u));if(d>-1)return d;const h=hr(a[l-2]);return l>1&&hr(u)===h&&f[f.length-1].path!==h?f.findIndex(Re.bind(null,a[l-2])):d}),o=j(()=>s.value>-1&&Bl(n.params,r.value.params)),i=j(()=>s.value>-1&&s.value===n.matched.length-1&&_s(n.params,r.value.params));function c(a={}){return $l(a)?e[$e(t.replace)?"replace":"push"]($e(t.to)).catch(He):Promise.resolve()}return{route:r,href:j(()=>r.value.href),isActive:o,isExactActive:i,navigate:c}}const kl=Er({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:dr,setup(t,{slots:e}){const n=ln(dr(t)),{options:r}=ue(Rt),s=j(()=>({[pr(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[pr(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:yr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),Ul=kl;function $l(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Bl(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!K(s)||s.length!==r.length||r.some((o,i)=>o!==s[i]))return!1}return!0}function hr(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const pr=(t,e,n)=>t??e??n,Gl=Er({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ue(cn),s=j(()=>t.route||r.value),o=ue(fr,0),i=j(()=>{let l=$e(o);const{matched:u}=s.value;let f;for(;(f=u[l])&&!f.components;)l++;return l}),c=j(()=>s.value.matched[i.value]);Dt(fr,j(()=>i.value+1)),Dt(Dl,c),Dt(cn,s);const a=Ys();return fn(()=>[a.value,c.value,t.name],([l,u,f],[d,h,v])=>{u&&(u.instances[f]=l,h&&h!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),l&&u&&(!h||!Re(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(_=>_(l))},{flush:"post"}),()=>{const l=s.value,u=t.name,f=c.value,d=f&&f.components[u];if(!d)return mr(n.default,{Component:d,route:l});const h=f.props[u],v=h?h===!0?l.params:typeof h=="function"?h(l):h:null,S=yr(d,R({},v,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[u]=null)},ref:a}));return mr(n.default,{Component:S,route:l})||S}}});function mr(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Fl=Gl;function Vl(t){const e=ml(t.routes,t),n=t.parseQuery||Pl,r=t.stringifyQuery||lr,s=t.history,o=xe(),i=xe(),c=xe(),a=Ws(te);let l=te;Se&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=zt.bind(null,p=>""+p),f=zt.bind(null,Nl),d=zt.bind(null,_t);function h(p,E){let g,y;return bs(p)?(g=e.getRecordMatcher(p),y=E):y=p,e.addRoute(y,g)}function v(p){const E=e.getRecordMatcher(p);E&&e.removeRoute(E)}function _(){return e.getRoutes().map(p=>p.record)}function S(p){return!!e.getRecordMatcher(p)}function b(p,E){if(E=R({},E||a.value),typeof p=="string"){const T=Kt(n,p,E.path),D=e.resolve({path:T.path},E),Me=s.createHref(T.fullPath);return R(T,D,{params:d(D.params),hash:_t(T.hash),redirectedFrom:void 0,href:Me})}let g;if("path"in p)g=R({},p,{path:Kt(n,p.path,E.path).path});else{const T=R({},p.params);for(const D in T)T[D]==null&&delete T[D];g=R({},p,{params:f(p.params)}),E.params=f(E.params)}const y=e.resolve(g,E),w=p.hash||"";y.params=u(d(y.params));const M=ju(r,R({},p,{hash:wl(w),path:y.path})),O=s.createHref(M);return R({fullPath:M,hash:w,query:r===lr?Ml(p.query):p.query||{}},y,{redirectedFrom:void 0,href:O})}function m(p){return typeof p=="string"?Kt(n,p,a.value.path):R({},p)}function A(p,E){if(l!==p)return Ce(8,{from:E,to:p})}function P(p){return Ne(p)}function k(p){return P(R(m(p),{replace:!0}))}function $(p){const E=p.matched[p.matched.length-1];if(E&&E.redirect){const{redirect:g}=E;let y=typeof g=="function"?g(p):g;return typeof y=="string"&&(y=y.includes("?")||y.includes("#")?y=m(y):{path:y},y.params={}),R({query:p.query,hash:p.hash,params:"path"in y?{}:p.params},y)}}function Ne(p,E){const g=l=b(p),y=a.value,w=p.state,M=p.force,O=p.replace===!0,T=$(g);if(T)return Ne(R(m(T),{state:typeof T=="object"?R({},w,T.state):w,force:M,replace:O}),E||g);const D=g;D.redirectedFrom=E;let Me;return!M&&zu(r,y,g)&&(Me=Ce(16,{to:D,from:y}),Pn(y,y,!0,!1)),(Me?Promise.resolve(Me):wn(D,y)).catch(B=>Q(B)?Q(B,2)?B:Lt(B):At(B,D,y)).then(B=>{if(B){if(Q(B,2))return Ne(R({replace:O},m(B.to),{state:typeof B.to=="object"?R({},w,B.to.state):w,force:M}),E||D)}else B=Ln(D,y,!0,O,w);return An(D,y,B),B})}function Hs(p,E){const g=A(p,E);return g?Promise.reject(g):Promise.resolve()}function wn(p,E){let g;const[y,w,M]=Hl(p,E);g=qt(y.reverse(),"beforeRouteLeave",p,E);for(const T of y)T.leaveGuards.forEach(D=>{g.push(ne(D,p,E))});const O=Hs.bind(null,p,E);return g.push(O),ye(g).then(()=>{g=[];for(const T of o.list())g.push(ne(T,p,E));return g.push(O),ye(g)}).then(()=>{g=qt(w,"beforeRouteUpdate",p,E);for(const T of w)T.updateGuards.forEach(D=>{g.push(ne(D,p,E))});return g.push(O),ye(g)}).then(()=>{g=[];for(const T of p.matched)if(T.beforeEnter&&!E.matched.includes(T))if(K(T.beforeEnter))for(const D of T.beforeEnter)g.push(ne(D,p,E));else g.push(ne(T.beforeEnter,p,E));return g.push(O),ye(g)}).then(()=>(p.matched.forEach(T=>T.enterCallbacks={}),g=qt(M,"beforeRouteEnter",p,E),g.push(O),ye(g))).then(()=>{g=[];for(const T of i.list())g.push(ne(T,p,E));return g.push(O),ye(g)}).catch(T=>Q(T,8)?T:Promise.reject(T))}function An(p,E,g){for(const y of c.list())y(p,E,g)}function Ln(p,E,g,y,w){const M=A(p,E);if(M)return M;const O=E===te,T=Se?history.state:{};g&&(y||O?s.replace(p.fullPath,R({scroll:O&&T&&T.scroll},w)):s.push(p.fullPath,w)),a.value=p,Pn(p,E,g,O),Lt()}let Pe;function js(){Pe||(Pe=s.listen((p,E,g)=>{if(!Mn.listening)return;const y=b(p),w=$(y);if(w){Ne(R(w,{replace:!0}),y).catch(He);return}l=y;const M=a.value;Se&&Ju(nr(M.fullPath,g.delta),Ot()),wn(y,M).catch(O=>Q(O,12)?O:Q(O,2)?(Ne(O.to,y).then(T=>{Q(T,20)&&!g.delta&&g.type===We.pop&&s.go(-1,!1)}).catch(He),Promise.reject()):(g.delta&&s.go(-g.delta,!1),At(O,y,M))).then(O=>{O=O||Ln(y,M,!1),O&&(g.delta&&!Q(O,8)?s.go(-g.delta,!1):g.type===We.pop&&Q(O,20)&&s.go(-1,!1)),An(y,M,O)}).catch(He)}))}let wt=xe(),Nn=xe(),nt;function At(p,E,g){Lt(p);const y=Nn.list();return y.length?y.forEach(w=>w(p,E,g)):console.error(p),Promise.reject(p)}function zs(){return nt&&a.value!==te?Promise.resolve():new Promise((p,E)=>{wt.add([p,E])})}function Lt(p){return nt||(nt=!p,js(),wt.list().forEach(([E,g])=>p?g(p):E()),wt.reset()),p}function Pn(p,E,g,y){const{scrollBehavior:w}=t;if(!Se||!w)return Promise.resolve();const M=!g&&el(nr(p.fullPath,0))||(y||!g)&&history.state&&history.state.scroll||null;return Xs().then(()=>w(p,E,M)).then(O=>O&&Qu(O)).catch(O=>At(O,p,E))}const Nt=p=>s.go(p);let Pt;const Mt=new Set,Mn={currentRoute:a,listening:!0,addRoute:h,removeRoute:v,hasRoute:S,getRoutes:_,resolve:b,options:t,push:P,replace:k,go:Nt,back:()=>Nt(-1),forward:()=>Nt(1),beforeEach:o.add,beforeResolve:i.add,afterEach:c.add,onError:Nn.add,isReady:zs,install(p){const E=this;p.component("RouterLink",Ul),p.component("RouterView",Fl),p.config.globalProperties.$router=E,Object.defineProperty(p.config.globalProperties,"$route",{enumerable:!0,get:()=>$e(a)}),Se&&!Pt&&a.value===te&&(Pt=!0,P(s.location).catch(w=>{}));const g={};for(const w in te)g[w]=j(()=>a.value[w]);p.provide(Rt,E),p.provide(In,ln(g)),p.provide(cn,a);const y=p.unmount;Mt.add(p),p.unmount=function(){Mt.delete(p),Mt.size<1&&(l=te,Pe&&Pe(),Pe=null,a.value=te,Pt=!1,nt=!1),y()}}};return Mn}function ye(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function Hl(t,e){const n=[],r=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const c=e.matched[i];c&&(t.matched.find(l=>Re(l,c))?r.push(c):n.push(c));const a=t.matched[i];a&&(e.matched.find(l=>Re(l,a))||s.push(a))}return[n,r,s]}function Lf(){return ue(Rt)}function Nf(){return ue(In)}function jl(t,e,n="/"){const r=Vl({history:sl(n),routes:t});return r.beforeEach(zl()),r.beforeEach(Kl(e)),r.beforeEach(ql(e)),r}const zl=()=>(t,e,n)=>{t.fullPath.startsWith("/#/")?n(t.fullPath.substring(2)):n()},Kl=t=>(e,n,r)=>{e.params.mesh&&e.params.mesh!==t.state.selectedMesh&&t.dispatch("updateSelectedMesh",e.params.mesh),r()},ql=t=>(e,n,r)=>{const s=t.state.onboarding.isCompleted,o=e.meta.onboardingProcess,i=t.getters.shouldSuggestOnboarding;s&&o&&!i?r({name:"home"}):!s&&!o&&i?r({name:J.get("onboardingStep")??"onboarding-welcome"}):r()};/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Ls="store";function Le(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function Wl(t){return t!==null&&typeof t=="object"}function Xl(t){return t&&typeof t.then=="function"}function Yl(t,e){return function(){return t(e)}}function Ns(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function Ps(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Ct(t,n,[],t._modules.root,!0),On(t,n,e)}function On(t,e,n){var r=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,i={},c={},a=Zs(!0);a.run(function(){Le(o,function(l,u){i[u]=Yl(l,t),c[u]=j(function(){return i[u]()}),Object.defineProperty(t.getters,u,{get:function(){return c[u].value},enumerable:!0})})}),t._state=ln({data:e}),t._scope=a,t.strict&&tf(t),r&&n&&t._withCommit(function(){r.data=null}),s&&s.stop()}function Ct(t,e,n,r,s){var o=!n.length,i=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[i],t._modulesNamespaceMap[i]=r),!o&&!s){var c=Rn(e,n.slice(0,-1)),a=n[n.length-1];t._withCommit(function(){c[a]=r.state})}var l=r.context=Zl(t,i,n);r.forEachMutation(function(u,f){var d=i+f;Ql(t,d,u,l)}),r.forEachAction(function(u,f){var d=u.root?f:i+f,h=u.handler||u;Jl(t,d,h,l)}),r.forEachGetter(function(u,f){var d=i+f;ef(t,d,u,l)}),r.forEachChild(function(u,f){Ct(t,e,n.concat(f),u,s)})}function Zl(t,e,n){var r=e==="",s={dispatch:r?t.dispatch:function(o,i,c){var a=St(o,i,c),l=a.payload,u=a.options,f=a.type;return(!u||!u.root)&&(f=e+f),t.dispatch(f,l)},commit:r?t.commit:function(o,i,c){var a=St(o,i,c),l=a.payload,u=a.options,f=a.type;(!u||!u.root)&&(f=e+f),t.commit(f,l,u)}};return Object.defineProperties(s,{getters:{get:r?function(){return t.getters}:function(){return Ms(t,e)}},state:{get:function(){return Rn(t.state,n)}}}),s}function Ms(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,r)===e){var o=s.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function Ql(t,e,n,r){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(i){n.call(t,r.state,i)})}function Jl(t,e,n,r){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(i){var c=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},i);return Xl(c)||(c=Promise.resolve(c)),t._devtoolHook?c.catch(function(a){throw t._devtoolHook.emit("vuex:error",a),a}):c})}function ef(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function tf(t){fn(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Rn(t,e){return e.reduce(function(n,r){return n[r]},t)}function St(t,e,n){return Wl(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var nf="vuex bindings",gr="vuex:mutations",Wt="vuex:actions",_e="vuex",rf=0;function sf(t,e){Gu({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[nf]},function(n){n.addTimelineLayer({id:gr,label:"Vuex Mutations",color:vr}),n.addTimelineLayer({id:Wt,label:"Vuex Actions",color:vr}),n.addInspector({id:_e,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===_e)if(r.filter){var s=[];Us(s,e._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[ks(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===_e){var s=r.nodeId;Ms(e,s),r.state=cf(lf(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===_e){var s=r.nodeId,o=r.path;s!=="root"&&(o=s.split("/").filter(Boolean).concat(o)),e._withCommit(function(){r.set(e._state.data,o,r.state.value)})}}),e.subscribe(function(r,s){var o={};r.payload&&(o.payload=r.payload),o.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(_e),n.sendInspectorState(_e),n.addTimelineEvent({layerId:gr,event:{time:Date.now(),title:r.type,data:o}})}),e.subscribeAction({before:function(r,s){var o={};r.payload&&(o.payload=r.payload),r._id=rf++,r._time=Date.now(),o.state=s,n.addTimelineEvent({layerId:Wt,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,s){var o={},i=Date.now()-r._time;o.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},r.payload&&(o.payload=r.payload),o.state=s,n.addTimelineEvent({layerId:Wt,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var vr=8702998,of=6710886,af=16777215,Ds={label:"namespaced",textColor:af,backgroundColor:of};function xs(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function ks(t,e){return{id:e||"root",label:xs(e),tags:t.namespaced?[Ds]:[],children:Object.keys(t._children).map(function(n){return ks(t._children[n],e+n+"/")})}}function Us(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[Ds]:[]}),Object.keys(e._children).forEach(function(s){Us(t,e._children[s],n,r+s+"/")})}function cf(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),s={state:Object.keys(t.state).map(function(i){return{key:i,editable:!0,value:t.state[i]}})};if(r.length){var o=uf(e);s.getters=Object.keys(o).map(function(i){return{key:i.endsWith("/")?xs(i):i,editable:!1,value:un(function(){return o[i]})}})}return s}function uf(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var s=e,o=r.pop();r.forEach(function(i){s[i]||(s[i]={_custom:{value:{},display:i,tooltip:"Module",abstract:!0}}),s=s[i]._custom.value}),s[o]=un(function(){return t[n]})}else e[n]=un(function(){return t[n]})}),e}function lf(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,s,o){var i=r[s];if(!i)throw new Error('Missing module "'+s+'" for path "'+e+'".');return o===n.length-1?i:i._children},e==="root"?t:t.root._children)}function un(t){try{return t()}catch(e){return e}}var q=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},$s={namespaced:{configurable:!0}};$s.namespaced.get=function(){return!!this._rawModule.namespaced};q.prototype.addChild=function(e,n){this._children[e]=n};q.prototype.removeChild=function(e){delete this._children[e]};q.prototype.getChild=function(e){return this._children[e]};q.prototype.hasChild=function(e){return e in this._children};q.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};q.prototype.forEachChild=function(e){Le(this._children,e)};q.prototype.forEachGetter=function(e){this._rawModule.getters&&Le(this._rawModule.getters,e)};q.prototype.forEachAction=function(e){this._rawModule.actions&&Le(this._rawModule.actions,e)};q.prototype.forEachMutation=function(e){this._rawModule.mutations&&Le(this._rawModule.mutations,e)};Object.defineProperties(q.prototype,$s);var pe=function(e){this.register([],e,!1)};pe.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};pe.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};pe.prototype.update=function(e){Bs([],this.root,e)};pe.prototype.register=function(e,n,r){var s=this;r===void 0&&(r=!0);var o=new q(n,r);if(e.length===0)this.root=o;else{var i=this.get(e.slice(0,-1));i.addChild(e[e.length-1],o)}n.modules&&Le(n.modules,function(c,a){s.register(e.concat(a),c,r)})};pe.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};pe.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function Bs(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;Bs(t.concat(r),e.getChild(r),n.modules[r])}}function Gs(t){return new V(t)}var V=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var s=e.strict;s===void 0&&(s=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new pe(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var i=this,c=this,a=c.dispatch,l=c.commit;this.dispatch=function(d,h){return a.call(i,d,h)},this.commit=function(d,h,v){return l.call(i,d,h,v)},this.strict=s;var u=this._modules.root.state;Ct(this,u,[],this._modules.root),On(this,u),r.forEach(function(f){return f(n)})},Cn={state:{configurable:!0}};V.prototype.install=function(e,n){e.provide(n||Ls,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&sf(e,this)};Cn.state.get=function(){return this._state.data};Cn.state.set=function(t){};V.prototype.commit=function(e,n,r){var s=this,o=St(e,n,r),i=o.type,c=o.payload,a={type:i,payload:c},l=this._mutations[i];l&&(this._withCommit(function(){l.forEach(function(f){f(c)})}),this._subscribers.slice().forEach(function(u){return u(a,s.state)}))};V.prototype.dispatch=function(e,n){var r=this,s=St(e,n),o=s.type,i=s.payload,c={type:o,payload:i},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(c,r.state)})}catch{}var l=a.length>1?Promise.all(a.map(function(u){return u(i)})):a[0](i);return new Promise(function(u,f){l.then(function(d){try{r._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(c,r.state)})}catch{}u(d)},function(d){try{r._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(c,r.state,d)})}catch{}f(d)})})}};V.prototype.subscribe=function(e,n){return Ns(e,this._subscribers,n)};V.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return Ns(r,this._actionSubscribers,n)};V.prototype.watch=function(e,n,r){var s=this;return fn(function(){return e(s.state,s.getters)},n,Object.assign({},r))};V.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};V.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Ct(this,this.state,e,this._modules.get(e),r.preserveState),On(this,this.state)};V.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Rn(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),Ps(this)};V.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};V.prototype.hotUpdate=function(e){this._modules.update(e),Ps(this,!0)};V.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(V.prototype,Cn);function Fs(t,e,n){return document.title=`${t("KUMA_PRODUCT_NAME")} Manager`,async r=>{const s=Qs(r),o=await jl(e,n,t("KUMA_BASE_PATH"));return s.use(n,Ls),s.use(o),s}}function Vs(t,e,n,r){return async()=>{await r.dispatch("updateGlobalLoading",!0),n.setBaseUrl(t("KUMA_API_URL")),n.getConfig().then(s=>{e.setup(s)}),await Promise.all([r.dispatch("bootstrap"),r.dispatch("fetchPolicyTypes")]),await r.dispatch("updateGlobalLoading",!1)}}const G={EnvVars:yo({KUMA_PRODUCT_NAME:"Kuma",KUMA_FEEDBACK_URL:"https://github.com/kumahq/kuma/issues/new/choose",KUMA_CHAT_URL:"https://kuma-mesh.slack.com",KUMA_INSTALL_URL:"https://kuma.io/install/latest/",KUMA_VERSION_URL:"https://kuma.io/latest_version/",KUMA_DOCS_URL:"https://kuma.io/docs",KUMA_MOCK_API_ENABLED:{}.VITE_MOCK_API_ENABLED},{description:"EnvVars"}),Env:W(Or,{description:"Env"}),env:W(()=>t=>Ir(G.Env).var(t),{description:"env"}),api:W(cs,{description:"api"}),storeConfig:W(Es,{description:"storeConfig"}),store:W(Gs,{description:"store"}),nav:W(()=>(t,e)=>Gc(t,e),{description:"nav"}),routes:W(us,{description:"routes"}),logger:W(as,{description:"logger"}),app:W(Fs,{description:"app"}),bootstrap:W(Vs,{description:"bootstrap"})};se(Or,G.EnvVars);se(cs,G.Env);se(Es,G.api);se(Gs,G.storeConfig);se(us,G.store);se(as,G.Env);se(Fs,G.env,G.routes,G.store);se(Vs,G.env,G.logger,G.api,G.store);export{Nc as A,J as C,wf as I,gf as K,pf as P,G as T,C as _,Lf as a,hs as b,hf as c,is as d,vs as e,lt as f,Ir as g,Ef as h,Sf as i,mf as j,ou as k,Cf as l,lu as m,fu as n,yf as o,bf as p,Tf as q,vf as r,W as s,If as t,Nf as u,Rf as v,uu as w,Af as x,Of as y,_f as z};
