import{d as H,v as K,r as o,p as y,o as m,w as e,b as t,m as B,$ as S,M as A,e as n,L,t as _,y as Q,q as V,l as f,I as W,c as b,N,_ as Y}from"./index-BVCeEt6h.js";const Z=["onSubmit"],ee=["disabled"],te={key:0},ae={key:0},oe=H({__name:"DataPlaneDetailTabsView",props:{mesh:{}},setup(R){const $=R,s=K({eds:!1,xds:!0,clusters:!0,stats:!0,proxy:!0,policies:!0});return(ne,a)=>{const M=o("RouteTitle"),I=o("XCopyButton"),E=o("XBadge"),h=o("XLayout"),w=o("XAction"),C=o("XI18n"),D=o("XCheckbox"),U=o("XAlert"),v=o("DataLoader"),O=o("XDownload"),P=o("XModal"),g=o("XDisclosure"),j=o("XTeleportTemplate"),q=o("XTabs"),z=o("RouterView"),F=o("AppView"),J=o("RouteView");return m(),y(J,{name:"data-plane-detail-tabs-view",params:{mesh:"",proxy:""}},{default:e(({route:l,t:r,uri:T})=>[t(v,{src:T(B(S),"/meshes/:mesh/dataplane-overviews/:name",{mesh:l.params.mesh,name:l.params.proxy})},{default:e(({data:d,error:G})=>[t(F,{breadcrumbs:[{to:{name:"mesh-detail-view",params:{mesh:l.params.mesh}},text:l.params.mesh},{to:{name:"data-plane-list-view",params:{mesh:l.params.mesh}},text:r("data-planes.routes.item.breadcrumbs")}]},A({actions:e(()=>[t(g,null,{default:e(({expanded:p,toggle:X})=>[t(w,{appearance:"primary",onClick:X},{default:e(()=>[...a[2]||(a[2]=[n(`
              Download bundle
            `,-1)])]),_:1},8,["onClick"]),a[7]||(a[7]=n()),p?(m(),y(j,{key:0,to:{name:"modal-layer"}},{default:e(()=>[t(g,null,{default:e(({expanded:x,toggle:k})=>[f("form",{onSubmit:W(k,["prevent"])},[t(P,{title:r("data-planes.routes.item.download.title"),onCancel:X},{"footer-actions":e(()=>[t(h,{type:"separated"},{default:e(()=>[t(O,{onStart:X},{default:e(({download:u})=>[t(v,{variant:"spinner",src:x?T(B(S),"/meshes/:mesh/dataplanes/:name/as/tarball/:spec",{mesh:l.params.mesh,name:l.params.proxy,spec:JSON.stringify(s.value)},{cacheControl:"no-cache"}):"",onChange:u,onError:k},{error:e(()=>[t(U,{appearance:"warning","show-icon":""},{default:e(()=>[t(C,{t:"data-planes.routes.item.download.error"})]),_:1})]),_:1},8,["src","onChange","onError"])]),_:2},1032,["onStart"]),a[5]||(a[5]=n()),t(w,{appearance:"primary",type:"submit",disabled:x||Object.values(s.value).every(u=>!u)},{default:e(()=>[n(_(r("data-planes.routes.item.download.action")),1)]),_:2},1032,["disabled"])]),_:2},1024)]),default:e(()=>[f("fieldset",{disabled:x},[t(C,{path:"data-planes.routes.item.download.description"}),a[4]||(a[4]=n()),f("ul",null,[(m(!0),b(N,null,L(s.value,(u,i)=>(m(),b(N,{key:typeof u},[i!=="eds"?(m(),b("li",te,[t(D,{modelValue:s.value[i],"onUpdate:modelValue":c=>s.value[i]=c,onChange:c=>{i==="xds"&&!c&&(s.value.eds=!1)}},{default:e(()=>[n(_(r(`data-planes.routes.item.download.options.${i}`)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),a[3]||(a[3]=n()),i==="xds"?(m(),b("ul",ae,[f("li",null,[t(D,{modelValue:s.value.eds,"onUpdate:modelValue":a[0]||(a[0]=c=>s.value.eds=c),disabled:!s.value.xds},{default:e(()=>[n(_(r("data-planes.routes.item.download.options.eds")),1)]),_:2},1032,["modelValue","disabled"])])])):V("",!0)])):V("",!0)],64))),128))])],8,ee),a[6]||(a[6]=n())]),_:2},1032,["title","onCancel"])],40,Z)]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2},1024)]),default:e(()=>[a[9]||(a[9]=n()),a[10]||(a[10]=n()),t(v,{data:[d],errors:[G]},{default:e(()=>[t(q,{selected:l.child()?.name},A({_:2},[L(l.children,({name:p})=>({name:`${p}-tab`,fn:e(()=>[t(w,{to:{name:p}},{default:e(()=>[n(_(r(`data-planes.routes.item.navigation.${p}`)),1)]),_:2},1032,["to"])])}))]),1032,["selected"]),a[8]||(a[8]=n()),t(z,null,{default:e(({Component:p})=>[(m(),y(Q(p),{data:d,networking:d?.dataplane.networking,mesh:$.mesh},null,8,["data","networking","mesh"]))]),_:2},1024)]),_:2},1032,["data","errors"])]),_:2},[d?{name:"title",fn:e(()=>[t(h,{size:"small"},{default:e(()=>[f("h1",null,[t(I,{text:d.name},{default:e(()=>[t(M,{title:r("data-planes.routes.item.title",{name:d.name})},null,8,["title"])]),_:2},1032,["text"])]),a[1]||(a[1]=n()),t(E,{appearance:r(`common.status.appearance.${d.status}`,void 0,{defaultMessage:"neutral"})},{default:e(()=>[n(_(r(`http.api.value.${d.status}`)),1)]),_:2},1032,["appearance"])]),_:2},1024)]),key:"0"}:void 0]),1032,["breadcrumbs"])]),_:2},1032,["src"])]),_:1})}}}),le=Y(oe,[["__scopeId","data-v-9c18542c"]]);export{le as default};
