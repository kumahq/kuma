import{d as q,r as ne,o as e,e as n,g as a,F as g,s as I,q as y,t as c,h as i,w as t,f as N,a as u,B as _e,b as _,Y as me,p as he,m as ve,$ as re,j as B,c as K,J as ge,z as fe,K as be,G as j,L as ke,v as we,M as $e}from"./index-9be81fe6.js";import{A as Q,a as V,S as Te,b as Oe}from"./SubscriptionHeader-e5bff9bf.js";import{f as Y,m as ce,p as X,E as ee,q as te,g as ue,e as Pe,D as F,S as De,o as pe,A as Ee,_ as Ae}from"./RouteView.vue_vue_type_script_setup_true_lang-4288a062.js";import{_ as de}from"./CodeBlock.vue_vue_type_style_index_0_lang-3e4e69e8.js";import{P as ye}from"./PolicyTypeTag-5d5afa3a.js";import{T as U}from"./TagList-bdc2d142.js";import{t as ie,_ as Le}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-7ee886cf.js";import{E as se}from"./EnvoyData-c33af41d.js";import{T as Se}from"./TabsWidget-d083df9e.js";import{T as Ce}from"./TextWithCopyButton-fb130417.js";import{_ as xe}from"./WarningsWidget.vue_vue_type_script_setup_true_lang-b3025a72.js";import{a as Ge,d as oe,b as Ie,p as Re,c as Me,C as Ne,I as qe,e as Be}from"./dataplane-30467516.js";import{_ as je}from"./RouteTitle.vue_vue_type_script_setup_true_lang-5d91e627.js";import"./CopyButton-9933fc20.js";const W=h=>(he("data-v-d6898838"),h=h(),ve(),h),Fe={class:"mesh-gateway-policy-list"},Ke=W(()=>y("h3",{class:"mb-2"},`
      Gateway policies
    `,-1)),ze={key:0},He=W(()=>y("h3",{class:"mt-6 mb-2"},`
      Listeners
    `,-1)),Ue=W(()=>y("b",null,"Host",-1)),We=W(()=>y("h4",{class:"mt-2 mb-2"},`
              Routes
            `,-1)),Ye={class:"dataplane-policy-header"},Ze=W(()=>y("b",null,"Route",-1)),Je=W(()=>y("b",null,"Service",-1)),Qe={key:0,class:"badge-list"},Ve={class:"mt-1"},Xe=q({__name:"MeshGatewayDataplanePolicyList",props:{meshGatewayDataplane:{type:Object,required:!0},meshGatewayListenerEntries:{type:Array,required:!0},meshGatewayRoutePolicies:{type:Array,required:!0}},setup(h){const s=h;return(o,D)=>{const O=ne("router-link");return e(),n("div",Fe,[Ke,a(),h.meshGatewayRoutePolicies.length>0?(e(),n("ul",ze,[(e(!0),n(g,null,I(h.meshGatewayRoutePolicies,(f,w)=>(e(),n("li",{key:w},[y("span",null,c(f.type),1),a(`:

        `),i(O,{to:f.route},{default:t(()=>[a(c(f.name),1)]),_:2},1032,["to"])]))),128))])):N("",!0),a(),He,a(),y("div",null,[(e(!0),n(g,null,I(s.meshGatewayListenerEntries,(f,w)=>(e(),n("div",{key:w},[y("div",null,[y("div",null,[Ue,a(": "+c(f.hostName)+":"+c(f.port)+" ("+c(f.protocol)+`)
          `,1)]),a(),f.routeEntries.length>0?(e(),n(g,{key:0},[We,a(),i(V,{"initially-open":[],"multiple-open":""},{default:t(()=>[(e(!0),n(g,null,I(f.routeEntries,(m,k)=>(e(),u(Q,{key:k},_e({"accordion-header":t(()=>[y("div",Ye,[y("div",null,[y("div",null,[Ze,a(": "),i(O,{to:m.route},{default:t(()=>[a(c(m.routeName),1)]),_:2},1032,["to"])]),a(),y("div",null,[Je,a(": "+c(m.service),1)])]),a(),m.policies.length>0?(e(),n("div",Qe,[(e(!0),n(g,null,I(m.policies,(l,b)=>(e(),u(_(me),{key:`${w}-${b}`},{default:t(()=>[a(c(l.type),1)]),_:2},1024))),128))])):N("",!0)])]),_:2},[m.policies.length>0?{name:"accordion-content",fn:t(()=>[y("ul",Ve,[(e(!0),n(g,null,I(m.policies,(l,b)=>(e(),n("li",{key:`${w}-${b}`},[a(c(l.type)+`:

                      `,1),i(O,{to:l.route},{default:t(()=>[a(c(l.name),1)]),_:2},1032,["to"])]))),128))])]),key:"0"}:void 0]),1024))),128))]),_:2},1024)],64)):N("",!0)])]))),128))])])}}});const et=Y(Xe,[["__scopeId","data-v-d6898838"]]),tt={class:"policy-type-heading"},at={class:"policy-list"},st={key:0},nt=q({__name:"PolicyTypeEntryList",props:{id:{type:String,required:!1,default:"entry-list"},policyTypeEntries:{type:Object,required:!0}},setup(h){const s=h,o=[{label:"From",key:"sourceTags"},{label:"To",key:"destinationTags"},{label:"On",key:"name"},{label:"Conf",key:"config"},{label:"Origin policies",key:"origins"}];function D({headerKey:O}){return{class:`cell-${O}`}}return(O,f)=>{const w=ne("router-link");return e(),u(V,{"initially-open":[],"multiple-open":""},{default:t(()=>[(e(!0),n(g,null,I(s.policyTypeEntries,(m,k)=>(e(),u(Q,{key:k},{"accordion-header":t(()=>[y("h3",tt,[i(ye,{"policy-type":m.type},{default:t(()=>[a(c(m.type)+" ("+c(m.connections.length)+`)
          `,1)]),_:2},1032,["policy-type"])])]),"accordion-content":t(()=>[y("div",at,[i(_(re),{class:"policy-type-table",fetcher:()=>({data:m.connections,total:m.connections.length}),headers:o,"cell-attrs":D,"disable-pagination":"","is-clickable":""},{sourceTags:t(({rowValue:l})=>[l.length>0?(e(),u(U,{key:0,class:"tag-list",tags:l},null,8,["tags"])):(e(),n(g,{key:1},[a(`
                —
              `)],64))]),destinationTags:t(({rowValue:l})=>[l.length>0?(e(),u(U,{key:0,class:"tag-list",tags:l},null,8,["tags"])):(e(),n(g,{key:1},[a(`
                —
              `)],64))]),name:t(({rowValue:l})=>[l!==null?(e(),n(g,{key:0},[a(c(l),1)],64)):(e(),n(g,{key:1},[a(`
                —
              `)],64))]),origins:t(({rowValue:l})=>[l.length>0?(e(),n("ul",st,[(e(!0),n(g,null,I(l,(b,C)=>(e(),n("li",{key:`${k}-${C}`},[i(w,{to:b.route},{default:t(()=>[a(c(b.name),1)]),_:2},1032,["to"])]))),128))])):(e(),n(g,{key:1},[a(`
                —
              `)],64))]),config:t(({rowValue:l,rowKey:b})=>[l!==null?(e(),u(de,{key:0,id:`${s.id}-${k}-${b}-code-block`,code:l,language:"yaml","show-copy-button":!1},null,8,["id","code"])):(e(),n(g,{key:1},[a(`
                —
              `)],64))]),_:2},1032,["fetcher"])])]),_:2},1024))),128))]),_:1})}}});const lt=Y(nt,[["__scopeId","data-v-71c85650"]]),it={class:"policy-type-heading"},ot={class:"policy-list"},rt={key:1,class:"tag-list-wrapper"},ct={key:0},ut={key:1},pt={key:0},dt={key:0},yt=q({__name:"RuleEntryList",props:{id:{type:String,required:!1,default:"entry-list"},ruleEntries:{type:Object,required:!0}},setup(h){const s=h,o=[{label:"Type",key:"type"},{label:"Addresses",key:"addresses"},{label:"Conf",key:"config"},{label:"Origin policies",key:"origins"}];function D({headerKey:O}){return{class:`cell-${O}`}}return(O,f)=>{const w=ne("router-link");return e(),u(V,{"initially-open":[],"multiple-open":""},{default:t(()=>[(e(!0),n(g,null,I(s.ruleEntries,(m,k)=>(e(),u(Q,{key:k},{"accordion-header":t(()=>[y("h3",it,[i(ye,{"policy-type":m.type},{default:t(()=>[a(c(m.type)+" ("+c(m.connections.length)+`)
          `,1)]),_:2},1032,["policy-type"])])]),"accordion-content":t(()=>[y("div",ot,[i(_(re),{class:"policy-type-table",fetcher:()=>({data:m.connections,total:m.connections.length}),headers:o,"cell-attrs":D,"disable-pagination":"","is-clickable":""},{type:t(({rowValue:l})=>[l.sourceTags.length===0&&l.destinationTags.length===0?(e(),n(g,{key:0},[a(`
                —
              `)],64)):(e(),n("div",rt,[l.sourceTags.length>0?(e(),n("div",ct,[a(`
                  From

                  `),i(U,{class:"tag-list",tags:l.sourceTags},null,8,["tags"])])):N("",!0),a(),l.destinationTags.length>0?(e(),n("div",ut,[a(`
                  To

                  `),i(U,{class:"tag-list",tags:l.destinationTags},null,8,["tags"])])):N("",!0)]))]),addresses:t(({rowValue:l})=>[l.length>0?(e(),n("ul",pt,[(e(!0),n(g,null,I(l,(b,C)=>(e(),n("li",{key:`${k}-${C}`},c(b),1))),128))])):(e(),n(g,{key:1},[a(`
                —
              `)],64))]),origins:t(({rowValue:l})=>[l.length>0?(e(),n("ul",dt,[(e(!0),n(g,null,I(l,(b,C)=>(e(),n("li",{key:`${k}-${C}`},[i(w,{to:b.route},{default:t(()=>[a(c(b.name),1)]),_:2},1032,["to"])]))),128))])):(e(),n(g,{key:1},[a(`
                —
              `)],64))]),config:t(({rowValue:l,rowKey:b})=>[l!==null?(e(),u(de,{key:0,id:`${s.id}-${k}-${b}-code-block`,code:l,language:"yaml","show-copy-button":!1},null,8,["id","code"])):(e(),n(g,{key:1},[a(`
                —
              `)],64))]),_:2},1032,["fetcher"])])]),_:2},1024))),128))]),_:1})}}});const _t=Y(yt,[["__scopeId","data-v-74be3da4"]]),mt=y("h2",{class:"visually-hidden"},`
    Policies
  `,-1),ht={key:0,class:"mt-2"},vt=y("h2",{class:"mb-2"},`
      Rules
    `,-1),gt=q({__name:"SidecarDataplanePolicyList",props:{dppName:{type:String,required:!0},policyTypeEntries:{type:Object,required:!0},ruleEntries:{type:Array,required:!0}},setup(h){const s=h;return(o,D)=>(e(),n(g,null,[mt,a(),i(lt,{id:"policies","policy-type-entries":s.policyTypeEntries,"data-testid":"policy-list"},null,8,["policy-type-entries"]),a(),h.ruleEntries.length>0?(e(),n("div",ht,[vt,a(),i(_t,{id:"rules","rule-entries":s.ruleEntries,"data-testid":"rule-list"},null,8,["rule-entries"])])):N("",!0)],64))}}),ft={key:2,class:"policies-list"},bt={key:3,class:"policies-list"},kt=q({__name:"DataplanePolicies",props:{dataplaneOverview:{type:Object,required:!0},policyTypes:{type:Array,required:!0}},setup(h){const s=h,o=ce(),D=B(null),O=B([]),f=B([]),w=B([]),m=B([]),k=B(!0),l=B(null),b=K(()=>s.policyTypes.reduce((p,d)=>Object.assign(p,{[d.name]:d}),{}));ge(()=>s.dataplaneOverview.name,function(){C()}),C();async function C(){var p,d;l.value=null,k.value=!0,O.value=[],f.value=[],w.value=[],m.value=[];try{if(((d=(p=s.dataplaneOverview.dataplane.networking.gateway)==null?void 0:p.type)==null?void 0:d.toUpperCase())==="BUILTIN")D.value=await o.getMeshGatewayDataplane({mesh:s.dataplaneOverview.mesh,name:s.dataplaneOverview.name}),w.value=Z(D.value),m.value=J(D.value.policies);else{const{items:r}=await o.getSidecarDataplanePolicies({mesh:s.dataplaneOverview.mesh,name:s.dataplaneOverview.name});O.value=x(r??[]);const{items:$}=await o.getDataplaneRules({mesh:s.dataplaneOverview.mesh,name:s.dataplaneOverview.name});f.value=E($??[])}}catch(v){v instanceof Error?l.value=v:console.error(v)}finally{k.value=!1}}function Z(p){const d=[],v=p.listeners??[];for(const r of v)for(const $ of r.hosts)for(const P of $.routes){const L=[];for(const S of P.destinations){const T=J(S.policies),M={routeName:P.route,route:{name:"policy-detail-view",params:{mesh:p.gateway.mesh,policyPath:"meshgatewayroutes",policy:P.route}},service:S.tags["kuma.io/service"],policies:T};L.push(M)}d.push({protocol:r.protocol,port:r.port,hostName:$.hostName,routeEntries:L})}return d}function J(p){if(p===void 0)return[];const d=[];for(const v of Object.values(p)){const r=b.value[v.type];d.push({type:v.type,name:v.name,route:{name:"policy-detail-view",params:{mesh:v.mesh,policyPath:r.path,policy:v.name}}})}return d}function x(p){const d=new Map;for(const r of p){const{type:$,service:P}=r,L=typeof P=="string"&&P!==""?[{label:"kuma.io/service",value:P}]:[],S=$==="inbound"||$==="outbound"?r.name:null;for(const[T,M]of Object.entries(r.matchedPolicies)){d.has(T)||d.set(T,{type:T,connections:[]});const z=d.get(T),H=b.value[T];for(const le of M){const R=G(le,H,r,L,S);z.connections.push(...R)}}}const v=Array.from(d.values());return v.sort((r,$)=>r.type.localeCompare($.type)),v}function G(p,d,v,r,$){const P=p.conf&&Object.keys(p.conf).length>0?ie(p.conf):null,S=[{name:p.name,route:{name:"policy-detail-view",params:{mesh:p.mesh,policyPath:d.path,policy:p.name}}}],T=[];if(v.type==="inbound"&&Array.isArray(p.sources))for(const{match:M}of p.sources){const H={sourceTags:[{label:"kuma.io/service",value:M["kuma.io/service"]}],destinationTags:r,name:$,config:P,origins:S};T.push(H)}else{const z={sourceTags:[],destinationTags:r,name:$,config:P,origins:S};T.push(z)}return T}function E(p){const d=new Map;for(const r of p){d.has(r.policyType)||d.set(r.policyType,{type:r.policyType,connections:[]});const $=d.get(r.policyType),P=b.value[r.policyType],L=A(r,P);$.connections.push(...L)}const v=Array.from(d.values());return v.sort((r,$)=>r.type.localeCompare($.type)),v}function A(p,d){const{type:v,service:r,subset:$,conf:P}=p,L=$?Object.entries($):[];let S,T;v==="ClientSubset"?L.length>0?S=L.map(([R,ae])=>({label:R,value:ae})):S=[{label:"kuma.io/service",value:"*"}]:S=[],v==="DestinationSubset"?L.length>0?T=L.map(([R,ae])=>({label:R,value:ae})):typeof r=="string"&&r!==""?T=[{label:"kuma.io/service",value:r}]:T=[{label:"kuma.io/service",value:"*"}]:v==="ClientSubset"&&typeof r=="string"&&r!==""?T=[{label:"kuma.io/service",value:r}]:T=[];const M=p.addresses??[],z=P&&Object.keys(P).length>0?ie(P):null,H=[];for(const R of p.origins)H.push({name:R.name,route:{name:"policy-detail-view",params:{mesh:R.mesh,policyPath:d.path,policy:R.name}}});return[{type:{sourceTags:S,destinationTags:T},addresses:M,config:z,origins:H}]}return(p,d)=>k.value?(e(),u(X,{key:0})):l.value!==null?(e(),u(ee,{key:1,error:l.value},null,8,["error"])):O.value.length>0?(e(),n("div",ft,[i(gt,{"dpp-name":s.dataplaneOverview.name,"policy-type-entries":O.value,"rule-entries":f.value},null,8,["dpp-name","policy-type-entries","rule-entries"])])):w.value.length>0&&D.value!==null?(e(),n("div",bt,[i(et,{"mesh-gateway-dataplane":D.value,"mesh-gateway-listener-entries":w.value,"mesh-gateway-route-policies":m.value},null,8,["mesh-gateway-dataplane","mesh-gateway-listener-entries","mesh-gateway-route-policies"])])):(e(),u(te,{key:4}))}});const wt=Y(kt,[["__scopeId","data-v-f57d0877"]]),$t={key:3},Tt=q({__name:"StatusInfo",props:{isLoading:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},error:{type:[Error,null],required:!1,default:null}},setup(h){return(s,o)=>(e(),n("div",null,[h.isLoading?(e(),u(X,{key:0})):h.hasError||h.error!==null?(e(),u(ee,{key:1,error:h.error},null,8,["error"])):h.isEmpty?(e(),u(te,{key:2})):(e(),n("div",$t,[fe(s.$slots,"default")]))]))}}),Ot={class:"stack"},Pt={class:"columns",style:{"--columns":"4"}},Dt={class:"status-with-reason"},Et=["href"],At={class:"columns",style:{"--columns":"3"}},Lt=q({__name:"DataPlaneDetails",props:{dataplaneOverview:{type:Object,required:!0}},setup(h){const s=h,{t:o,formatIsoDate:D}=ue(),O=ce(),f=Pe(),w=[{hash:"#overview",title:o("data-planes.routes.item.tabs.overview")},{hash:"#insights",title:o("data-planes.routes.item.tabs.insights")},{hash:"#dpp-policies",title:o("data-planes.routes.item.tabs.policies")},{hash:"#xds-configuration",title:o("data-planes.routes.item.tabs.xds_configuration")},{hash:"#envoy-stats",title:o("data-planes.routes.item.tabs.stats")},{hash:"#envoy-clusters",title:o("data-planes.routes.item.tabs.clusters")}],m=K(()=>Ge(s.dataplaneOverview.dataplane,s.dataplaneOverview.dataplaneInsight)),k=K(()=>oe(s.dataplaneOverview.dataplane)),l=K(()=>Ie(s.dataplaneOverview.dataplaneInsight)),b=K(()=>Re(s.dataplaneOverview,D)),C=K(()=>{var G;const x=Array.from(((G=s.dataplaneOverview.dataplaneInsight)==null?void 0:G.subscriptions)??[]);return x.reverse(),x}),Z=K(()=>{var p;const x=((p=s.dataplaneOverview.dataplaneInsight)==null?void 0:p.subscriptions)??[];if(x.length===0)return[];const G=x[x.length-1];if(!("version"in G)||!G.version)return[];const E=[],A=G.version;if(A.kumaDp&&A.envoy){const d=Me(A);d.kind!==Ne&&d.kind!==qe&&E.push(d)}return f.getters["config/getMulticlusterStatus"]&&oe(s.dataplaneOverview.dataplane).find(r=>r.label===be)&&typeof A.kumaDp.kumaCpCompatible=="boolean"&&!A.kumaDp.kumaCpCompatible&&E.push({kind:Be,payload:{kumaDp:A.kumaDp.version}}),E});async function J(x){const{mesh:G,name:E}=s.dataplaneOverview;return await O.getDataplaneFromMesh({mesh:G,name:E},x)}return(x,G)=>(e(),u(Se,{tabs:w},{overview:t(()=>[y("div",Ot,[Z.value.length>0?(e(),u(xe,{key:0,warnings:Z.value,"data-testid":"data-plane-warnings"},null,8,["warnings"])):N("",!0),a(),i(_(j),null,{body:t(()=>[y("div",Pt,[i(F,null,{title:t(()=>[a(c(_(o)("http.api.property.status")),1)]),body:t(()=>[y("div",Dt,[i(De,{status:m.value.status},null,8,["status"]),a(),m.value.reason.length>0?(e(),u(_(ke),{key:0,label:m.value.reason.join(", "),class:"reason-tooltip"},{default:t(()=>[i(_(we),{icon:"info",size:"20","hide-title":""})]),_:1},8,["label"])):N("",!0)])]),_:1}),a(),i(F,null,{title:t(()=>[a(c(_(o)("http.api.property.name")),1)]),body:t(()=>[i(Ce,{text:s.dataplaneOverview.name},null,8,["text"])]),_:1}),a(),i(F,null,{title:t(()=>[a(c(_(o)("http.api.property.tags")),1)]),body:t(()=>[k.value.length>0?(e(),u(U,{key:0,tags:k.value},null,8,["tags"])):(e(),n(g,{key:1},[a(c(_(o)("common.detail.none")),1)],64))]),_:1}),a(),i(F,null,{title:t(()=>[a(c(_(o)("http.api.property.dependencies")),1)]),body:t(()=>[l.value!==null?(e(),u(U,{key:0,tags:l.value},null,8,["tags"])):(e(),n(g,{key:1},[a(c(_(o)("common.detail.none")),1)],64))]),_:1})])]),_:1}),a(),y("div",null,[y("h3",null,c(_(o)("data-planes.detail.mtls")),1),a(),b.value===null?(e(),u(_($e),{key:0,class:"mt-4",appearance:"danger"},{alertMessage:t(()=>[a(c(_(o)("data-planes.detail.no_mtls"))+` —
              `,1),y("a",{href:_(o)("data-planes.href.docs.mutual-tls"),class:"external-link",target:"_blank"},c(_(o)("data-planes.detail.no_mtls_learn_more",{product:_(o)("common.product.name")})),9,Et)]),_:1})):(e(),u(_(j),{key:1,class:"mt-4"},{body:t(()=>[y("div",At,[i(F,null,{title:t(()=>[a(c(_(o)("http.api.property.certificateExpirationTime")),1)]),body:t(()=>[a(c(b.value.certificateExpirationTime),1)]),_:1}),a(),i(F,null,{title:t(()=>[a(c(_(o)("http.api.property.lastCertificateRegeneration")),1)]),body:t(()=>[a(c(b.value.lastCertificateRegeneration),1)]),_:1}),a(),i(F,null,{title:t(()=>[a(c(_(o)("http.api.property.certificateRegenerations")),1)]),body:t(()=>[a(c(b.value.certificateRegenerations),1)]),_:1})])]),_:1}))]),a(),y("div",null,[y("h3",null,c(_(o)("data-planes.detail.configuration")),1),a(),i(Le,{id:"code-block-data-plane",class:"mt-4",resource:s.dataplaneOverview,"resource-fetcher":J,"is-searchable":""},null,8,["resource"])])])]),insights:t(()=>[i(_(j),null,{body:t(()=>[i(Tt,{"is-empty":C.value.length===0},{default:t(()=>[i(V,{"initially-open":0},{default:t(()=>[(e(!0),n(g,null,I(C.value,(E,A)=>(e(),u(Q,{key:A},{"accordion-header":t(()=>[i(Te,{subscription:E},null,8,["subscription"])]),"accordion-content":t(()=>[i(Oe,{subscription:E,"is-discovery-subscription":""},null,8,["subscription"])]),_:2},1024))),128))]),_:1})]),_:1},8,["is-empty"])]),_:1})]),"dpp-policies":t(()=>[i(_(j),null,{body:t(()=>[i(pe,{src:"/*/policy-types"},{default:t(({data:E,error:A})=>[A?(e(),u(ee,{key:0,error:A},null,8,["error"])):E===void 0?(e(),u(X,{key:1})):E.policies.length===0?(e(),u(te,{key:2})):(e(),u(wt,{key:3,"dataplane-overview":h.dataplaneOverview,"policy-types":E.policies},null,8,["dataplane-overview","policy-types"]))]),_:1})]),_:1})]),"xds-configuration":t(()=>[i(_(j),null,{body:t(()=>[i(se,{src:`/meshes/${s.dataplaneOverview.mesh}/dataplanes/${s.dataplaneOverview.name}/data-path/xds`,"query-key":"envoy-data-xds-data-plane"},null,8,["src"])]),_:1})]),"envoy-stats":t(()=>[i(_(j),null,{body:t(()=>[i(se,{src:`/meshes/${s.dataplaneOverview.mesh}/dataplanes/${s.dataplaneOverview.name}/data-path/stats`,"query-key":"envoy-data-stats-data-plane"},null,8,["src"])]),_:1})]),"envoy-clusters":t(()=>[i(_(j),null,{body:t(()=>[i(se,{src:`/meshes/${s.dataplaneOverview.mesh}/dataplanes/${s.dataplaneOverview.name}/data-path/clusters`,"query-key":"envoy-data-clusters-data-plane"},null,8,["src"])]),_:1})]),_:1}))}});const St=Y(Lt,[["__scopeId","data-v-4d16ba97"]]),Ut=q({__name:"DataPlaneDetailView",props:{isGatewayView:{type:Boolean,required:!1,default:!1}},setup(h){const s=h,{t:o}=ue();return(D,O)=>(e(),u(Ae,{name:"data-plane-detail-view","data-testid":"data-plane-detail-view"},{default:t(({route:f})=>[i(Ee,{breadcrumbs:[{to:{name:"mesh-detail-view",params:{mesh:f.params.mesh}},text:f.params.mesh},{to:{name:`${s.isGatewayView?"gateways":"data-planes"}-list-view`,params:{mesh:f.params.mesh}},text:_(o)(`${s.isGatewayView?"gateways":"data-planes"}.routes.item.breadcrumbs`)}]},{title:t(()=>[y("h1",null,[i(je,{title:_(o)(`${s.isGatewayView?"gateways":"data-planes"}.routes.item.title`,{name:f.params.dataPlane}),render:!0},null,8,["title"])])]),default:t(()=>[a(),i(pe,{src:`/meshes/${f.params.mesh}/dataplane-overviews/${f.params.dataPlane}`},{default:t(({data:w,isLoading:m,error:k})=>[m?(e(),u(X,{key:0})):k?(e(),u(ee,{key:1,error:k},null,8,["error"])):w===void 0?(e(),u(te,{key:2})):(e(),u(St,{key:3,"dataplane-overview":w,"data-testid":"detail-view-details"},null,8,["dataplane-overview"]))]),_:2},1032,["src"])]),_:2},1032,["breadcrumbs"])]),_:1}))}});export{Ut as default};
