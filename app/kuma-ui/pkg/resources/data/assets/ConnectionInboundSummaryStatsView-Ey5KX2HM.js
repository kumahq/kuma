import{d as C,r as o,m as A,o as k,w as s,b as t,e as c,s as w,U as R}from"./index-D_WxlpfD.js";const $=C({__name:"ConnectionInboundSummaryStatsView",props:{data:{},networking:{},routeName:{}},setup(p){const e=p;return(T,d)=>{const i=o("RouteTitle"),l=o("XAction"),m=o("XCodeBlock"),g=o("DataCollection"),_=o("DataLoader"),u=o("AppView"),f=o("RouteView");return k(),A(f,{params:{codeSearch:"",codeFilter:!1,codeRegExp:!1,mesh:"",proxy:"",proxyType:"",connection:""},name:e.routeName},{default:s(({route:a,uri:h})=>[t(i,{render:!1,title:"Stats"}),d[1]||(d[1]=c()),t(u,null,{default:s(()=>[t(_,{src:h(w(R),"/connections/stats/for/:proxyType/:name/:mesh/:socketAddress",{proxyType:{ingresses:"zone-ingress",egresses:"zone-egress"}[a.params.proxyType]??"dataplane",name:a.params.proxy,mesh:a.params.mesh||"*",socketAddress:e.networking.inboundAddress})},{default:s(({data:x,refresh:y})=>[t(g,{items:x.raw.split(`
`),predicate:r=>[`listener.${e.data.listenerAddress.length>0?e.data.listenerAddress:a.params.connection}`,`cluster.${e.data.name}.`,`http.${e.data.name}.`,`tcp.${e.data.name}.`].some(n=>r.startsWith(n))&&(!r.includes(".rds.")||r.includes(`_${e.data.port}`))},{default:s(({items:r})=>[t(m,{language:"json",code:r.map(n=>n.replace(`${e.data.listenerAddress.length>0?e.data.listenerAddress:a.params.connection}.`,"").replace(`${e.data.name}.`,"")).join(`
`),"is-searchable":"",query:a.params.codeSearch,"is-filter-mode":a.params.codeFilter,"is-reg-exp-mode":a.params.codeRegExp,onQueryChange:n=>a.update({codeSearch:n}),onFilterModeChange:n=>a.update({codeFilter:n}),onRegExpModeChange:n=>a.update({codeRegExp:n})},{"primary-actions":s(()=>[t(l,{action:"refresh",appearance:"primary",onClick:y},{default:s(()=>d[0]||(d[0]=[c(`
                Refresh
              `)])),_:2},1032,["onClick"])]),_:2},1032,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["items","predicate"])]),_:2},1032,["src"])]),_:2},1024)]),_:1},8,["name"])}}});export{$ as default};
