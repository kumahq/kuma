import{d as b,r as n,p as u,o as m,w as e,b as s,e as r,l as v,I as A,m as V,ad as B,B as L,t as p,c as R,M as S,_ as D}from"./index-C42Nh-Sh.js";const N=b({__name:"ExternalServiceListView",setup(E){return(T,l)=>{const g=n("RouteTitle"),h=n("XSearch"),_=n("XAction"),d=n("XCopyButton"),f=n("XActionGroup"),x=n("DataCollection"),w=n("DataLoader"),C=n("XLayout"),y=n("XCard"),X=n("AppView"),k=n("RouteView");return m(),u(k,{name:"external-service-list-view",params:{page:1,size:Number,mesh:"",s:""}},{default:e(({route:a,t:i,me:c,uri:z})=>[s(g,{render:!1,title:i("external-services.routes.items.title")},null,8,["title"]),l[4]||(l[4]=r()),s(X,{docs:i("external-services.href.docs")},{default:e(()=>[s(y,null,{default:e(()=>[s(C,null,{default:e(()=>[v("search",null,[v("form",{onSubmit:l[0]||(l[0]=A(()=>{},["prevent"]))},[s(h,{class:"search-field",keys:["name","label"],value:a.params.s,onChange:t=>a.update({page:1,s:t})},null,8,["value","onChange"])],32)]),l[3]||(l[3]=r()),s(w,{src:z(V(B),"/meshes/:mesh/external-services",{mesh:a.params.mesh},{page:a.params.page,size:a.params.size,search:a.params.s})},{loadable:e(({data:t})=>[s(x,{type:"external-services",items:(t==null?void 0:t.items)??[void 0],page:a.params.page,"page-size":a.params.size,total:t==null?void 0:t.total,onChange:a.update},{default:e(()=>[s(L,{class:"external-service-collection","data-testid":"external-service-collection",headers:[{...c.get("headers.name"),label:"Name",key:"name"},{...c.get("headers.address"),label:"Address",key:"address"},{...c.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],items:t==null?void 0:t.items,onResize:c.set},{name:e(({row:o})=>[s(d,{text:o.name},{default:e(()=>[s(_,{to:{name:"external-service-detail-view",params:{mesh:o.mesh,service:o.name},query:{page:a.params.page,size:a.params.size}}},{default:e(()=>[r(p(o.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),address:e(({row:o})=>[o.networking.address?(m(),u(d,{key:0,text:o.networking.address},null,8,["text"])):(m(),R(S,{key:1},[r(p(i("common.collection.none")),1)],64))]),actions:e(({row:o})=>[s(f,null,{default:e(()=>[s(_,{to:{name:"external-service-detail-view",params:{mesh:o.mesh,service:o.name}}},{default:e(()=>[r(p(i("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2,__:[1,2]},1032,["headers","items","onResize"])]),_:2},1032,["items","page","page-size","total","onChange"])]),_:2},1032,["src"])]),_:2,__:[3]},1024)]),_:2},1024)]),_:2},1032,["docs"])]),_:1,__:[4]})}}}),I=D(N,[["__scopeId","data-v-55c8090e"]]);export{I as default};
