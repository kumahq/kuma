import{b as ra}from"./vue-router-573afc44.js";import{_,I as te,S as q,m as W,l as R,p as M,B as aa,r as V,D as ft,M as he,L as He,a as J,b as G,C as X,h as C,e as w,c as oe,d as At,f as pe,R as fe,g as xt,j as je,k as na,n as yt,o as Ue,P as ve,q as g,s as ir,t as ee,v as U,w as sa,x as Oe,y as mi,z as Ce,T as rr,A as oa,E as Pe,F as bt,G as Bi,H as Te,J as H,K as Ae,N as si,O as we,Q as ne,U as Et,V as Ve,W as rt,X as Me,Y as xi,Z as at,$ as Y,a0 as tt,a1 as ar,a2 as la,a3 as ct,a4 as We,a5 as ha,a6 as ua,a7 as da,a8 as j,a9 as _e,aa as Ne,ab as nr,ac as pa,ad as K,ae as Wt,af as Ni,ag as $,ah as Ie,ai as fa,aj as se,ak as de,al as ca,am as oi,an as pt,ao as ya,ap as va,aq as zi,ar as me,as as Q,at as Xt,au as li,av as Pt,aw as sr,ax as ga,ay as ma,az as Lt,aA as xa,aB as ba,aC as Pa,aD as Ca,aE as vt,aF as Hi,aG as Ge,aH as Ct,aI as Ui,aJ as Gi,aK as nt,aL as ae,aM as Da,aN as Ye,aO as Aa,aP as F,aQ as L,aR as _t,aS as le,aT as ye,aU as Re,aV as re,aW as ti,aX as Se,aY as hi,aZ as ii,a_ as bi,a$ as ze,b0 as Pi,b1 as _a,b2 as Va,b3 as Ci,b4 as Sa,b5 as mt,b6 as Ki,b7 as ui,b8 as Zi,b9 as di,ba as Be,bb as qi,bc as or,bd as Ta,be as It,bf as $i,bg as Oa,bh as Ma,bi as wa,bj as it,bk as Qi,bl as ka,bm as Rt,bn as Fa,bo as La,bp as Ji,bq as Ia,br as ri,bs as Ra,bt as ja,bu as ai,bv as Wa,bw as Xa,bx as Ya}from"./Instance-4569ac9e.js";import{d as Di,r as Ea,y as er,n as Ba,O as Na,h as lr,o as Ai,a as za,A as Ha,c as Ua,e as Qe,w as Je,f as xe,g as ce,u as ie,t as gt,p as Ga,m as Ka}from"./runtime-dom.esm-bundler-91b41870.js";import{P as ni,D as jt}from"./kongponents.es-3df60cd6.js";import{u as Za}from"./store-866e3b85.js";import{u as qa}from"./index-f16c6609.js";import{_ as $a}from"./_plugin-vue_export-helper-c27b6911.js";var hr=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="Grip";var t=new te;e.layout="absolute",e.padding(10,10,10,10),e.margin(3,3,3,3),e.background.fillOpacity=.3,e.background.cornerRadius(10,10,10,10);var i=new q;i.element=e.paper.add("path");var a=W({x:-6,y:0});return a+=R({x:6,y:0}),a+=W({x:-8,y:-6}),a+=R({x:0,y:-12}),a+=R({x:8,y:-6}),a+=W({x:-8,y:6}),a+=R({x:0,y:12}),a+=R({x:8,y:6}),i.path=a,i.strokeWidth=2,i.fillOpacity=0,i.pixelPerfect=!0,i.padding(0,4,0,4),i.stroke=t.getFor("text"),i.strokeOpacity=.7,i.align="center",i.valign="middle",e.icon=i,e.label.dispose(),e.label=void 0,e.position="right",e.autoHideDelay=3e3,e.events.on("shown",function(n){e._autoHideTimeout&&e._autoHideTimeout.dispose(),e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout(function(){e.hide()},e.autoHideDelay))}),e.events.on("down",function(n){e._autoHideTimeout&&e._autoHideTimeout.dispose()}),e.events.on("out",function(n){e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout(function(){e.hide()},e.autoHideDelay))}),e.applyTheme(),e}return Object.defineProperty(r.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){if(this.setPropertyValue("position",e))switch(e){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=M(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=M(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=M(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=M(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=M(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(e){this.setPropertyValue("autoHideDelay",e)},enumerable:!0,configurable:!0}),r}(aa);V.registeredClasses.Grip=hr;var ur=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="ChartDataItem",e.applyTheme(),e}return r}(ft),ot=function(l){_(r,l);function r(){var e=l.call(this)||this;if(e._legend=new he,e.constructor===r)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");e.className="Chart";var t=new He;e.titles=new J(t),e._disposers.push(new G(e.titles)),e._disposers.push(t),e.width=M(100),e.height=M(100),e.layout="vertical";var i=e.createChild(X);i.shouldClone=!1,i.layout="vertical",i.width=M(100),i.height=M(100),e.chartAndLegendContainer=i;var a=i.createChild(X);return a.shouldClone=!1,a.width=M(100),a.height=M(100),e.chartContainer=a,e.showOnInit=!0,e._disposers.push(e._legend),e.titles.events.on("inserted",function(n){e.processTitle(n),e.updateReaderTitleReferences()},e,!1),e.titles.events.on("removed",function(n){e.updateReaderTitleReferences()},e,!1),e.role="region",e.defaultState.transitionDuration=1,e.applyTheme(),e}return r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},r.prototype.draw=function(){this.fixLayout(),l.prototype.draw.call(this)},r.prototype.fixLayout=function(){var e=this.legend;if(e){var t=this.chartAndLegendContainer,i=this.chartContainer;switch(i.x=void 0,i.y=void 0,e.position!="absolute"&&(e.x=void 0,e.y=void 0),e.position){case"left":t.layout="horizontal",e.toBack();break;case"right":t.layout="horizontal",e.toFront();break;case"top":t.layout="vertical",e.toBack();break;case"bottom":t.layout="vertical",e.toFront();break;case"absolute":e.isMeasured=!1;break}}},r.prototype.feedLegend=function(){},r.prototype.processTitle=function(e){var t=e.newValue;return t.parent=this,t.toBack(),t.shouldClone=!1,t.align="center",t.uidAttr(),t},r.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var e=[];w(this.titles.iterator(),function(t){e.push(t.uid)}),this.setSVGAttribute({"aria-labelledby":e.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(r.prototype,"legend",{get:function(){return this._legend.get()},set:function(e){this.setLegend(e)},enumerable:!0,configurable:!0}),r.prototype.setLegend=function(e){var t=this;this._legend.get()!==e&&(e?(e.parent=this.chartAndLegendContainer,this._legend.set(e,e.events.on("propertychanged",function(i){i.property=="position"&&t.fixLayout()},void 0,!1)),e.addDisposer(new oe(function(){t.legend=void 0}))):this._legend.reset(),this.feedLegend())},r.prototype.dispose=function(){this.legend&&this.legend.dispose(),l.prototype.dispose.call(this)},r.prototype.processConfig=function(e){e&&C(e.legend)&&!C(e.legend.type)&&(e.legend.type="Legend"),l.prototype.processConfig.call(this,e)},r.prototype.copyFrom=function(e){this.titles.copyFrom(e.titles),this.chartContainer.copyFrom(e.chartContainer),e.legend&&(this.legend=e.legend.clone(),this.legend.removeChildren()),l.prototype.copyFrom.call(this,e)},Object.defineProperty(r.prototype,"dragGrip",{get:function(){var e=this;if(!this._dragGrip){var t=this.tooltipContainer.createChild(hr);t.align="right",t.valign="middle",t.hide(0),t.events.on("down",function(i){i.touch&&(e.interactionsEnabled=!1)}),t.events.on("up",function(i){e.interactionsEnabled=!0}),this.events.on("down",function(i){i.touch&&t.show()}),this._dragGrip=t}return this._dragGrip},set:function(e){this._dragGrip=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(e){this.parent.focusable=e},enumerable:!0,configurable:!0}),r}(At);V.registeredClasses.Chart=ot;pe.push({relevant:fe.widthXS,state:function(l,r){if(l instanceof ot){var e=l.states.create(r);return l.pixelPaddingLeft>10&&(e.properties.paddingLeft=10),l.pixelPaddingRight>10&&(e.properties.paddingRight=10),e}return null}});pe.push({relevant:fe.heightXS,state:function(l,r){if(l instanceof ot){var e=l.states.create(r);return l.pixelPaddingTop>10&&(e.properties.paddingTop=10),l.pixelPaddingBottom>10&&(e.properties.paddingBottom=10),e}return null}});pe.push({relevant:fe.widthXXS,state:function(l,r){if(l instanceof ot){var e=l.states.create(r);return e.properties.paddingLeft=0,e.properties.paddingRight=0,e}return null}});pe.push({relevant:fe.heightXXS,state:function(l,r){if(l instanceof ot){var e=l.states.create(r);return e.properties.paddingTop=0,e.properties.paddingBottom=0,e}return null}});var Xe=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="Bullet",e.isMeasured=!1,e.tooltipX=0,e.tooltipY=0,e.layout="none",e.applyOnClones=!0,e.copyToLegendMarker=!0,e.applyTheme(),e}return Object.defineProperty(r.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){if(this.setPropertyValue("locationX",e)){var t=this.dataItem;t&&t.component&&t.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){if(this.setPropertyValue("locationY",e)){var t=this.dataItem;t&&t.component&&t.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(e){this.setPropertyValue("xField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(e){this.setPropertyValue("yField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(e){this.setPropertyValue("isDynamic",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(e){this.setPropertyValue("copyToLegendMarker",e)},enumerable:!0,configurable:!0}),r}(X);V.registeredClasses.Bullet=Xe;pe.push({relevant:fe.isXS,state:function(l,r){if(l instanceof Xe){var e=l.states.create(r);return e.properties.disabled=!0,e}return null}});var Qa=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.childrenCreated=!1,e.className="LegendDataItem",e.applyTheme(),e}return Object.defineProperty(r.prototype,"label",{get:function(){var e=this;if(!this._label){var t=this.component.labels.create();this._label=t,this.addSprite(t),this._disposers.push(t),t.parent=this.itemContainer,this._disposers.push(new oe(function(){C(e.component)&&e.component.labels.removeValue(t)}))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"valueLabel",{get:function(){var e=this;if(!this._valueLabel){var t=this.component.valueLabels.create();this._valueLabel=t,this.addSprite(t),this._disposers.push(t),t.parent=this.itemContainer,this._disposers.push(new oe(function(){C(e.component)&&e.component.valueLabels.removeValue(t)}))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemContainer",{get:function(){var e=this;if(!this._itemContainer){var t=this.component,i=t.itemContainers.create();i.parent=t,this._itemContainer=i,this.addSprite(i),this._disposers.push(i),i.togglable&&i.events.on("toggled",function(s){t.toggleDataItem(s.target.dataItem)},void 0,!1),i.focusable&&(i.events.on("hit",function(s){t.focusedItem=void 0},void 0,!1),i.events.on("focus",function(s){t.focusedItem=s.target.dataItem},void 0,!1),i.events.on("blur",function(s){t.focusedItem=void 0},void 0,!1)),this._disposers.push(new oe(function(){C(e.component)&&e.component.itemContainers.removeValue(i)})),this.dataContext.uidAttr&&(i.readerControls=this.dataContext.uidAttr(),i.readerLabelledBy=this.dataContext.uidAttr());var a=this.dataContext;if((a instanceof ft||a instanceof q)&&!a.isDisposed()){var n=function(s){i.readerChecked=s.visible,i.events.disableType("toggled"),i.isActive=!s.visible,i.events.enableType("toggled")};a.addDisposer(new oe(function(){e.component&&e.component.dataItems.remove(e)})),a instanceof q?(i.addDisposer(a.events.on("visibilitychanged",n,void 0,!1)),i.addDisposer(a.events.on("hidden",function(s){i.readerChecked=!1,i.events.disableType("toggled"),i.isActive=!0,i.events.enableType("toggled")},void 0,!1)),i.addDisposer(a.events.on("shown",function(s){i.readerChecked=!0,i.events.disableType("toggled"),i.isActive=!1,i.events.enableType("toggled")},void 0,!1))):i.addDisposer(a.events.on("visibilitychanged",n,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"marker",{get:function(){var e=this;if(!this._marker){var t=this.component.markers.create();this._marker=t,t.parent=this.itemContainer,this.addSprite(t),this._disposers.push(t),this._disposers.push(new oe(function(){C(e.component)&&e.component.markers.removeValue(t)}))}return this._marker},enumerable:!0,configurable:!0}),r}(ft),dr=function(){function l(){this.createMarker=!0}return l}(),Bt=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="Legend",e.layout="grid",e.setPropertyValue("useDefaultMarker",!1),e.setPropertyValue("scrollable",!1),e.setPropertyValue("contentAlign","center");var t=new X;t.applyOnClones=!0,t.padding(8,0,8,0),t.margin(0,10,0,10),t.layout="horizontal",t.clickable=!0,t.focusable=!0,t.role="switch",t.togglable=!0,t.cursorOverStyle=xt.pointer,t.background.fillOpacity=0,e.itemContainers=new J(t),e._disposers.push(new G(e.itemContainers)),e._disposers.push(e.itemContainers.template),e._disposers.push(je().body.events.on("keyup",function(d){if(na.isKey(d.event,"enter")&&e.focusedItem){var u=e.focusedItem,p=u.itemContainer;p.togglable?e.toggleDataItem(u):p.clickable&&p.events.isEnabled("hit")&&(p.dispatchImmediately("hit",{event:d}),e.focusedItem=u)}},e));var i=new te,a=new X;a.width=23,a.height=23,a.interactionsEnabled=!1,a.applyOnClones=!0,a.setStateOnChildren=!0,a.background.fillOpacity=0,a.background.strokeOpacity=0,a.propertyFields.fill="fill",a.valign="middle";var n=i.getFor("disabledBackground");a.events.on("childadded",function(d){var u=d.newValue,p=u.states.create("active");p.properties.stroke=n,p.properties.fill=n}),e.markers=new J(a),e._disposers.push(new G(e.markers)),e._disposers.push(e.markers.template);var s=a.createChild(yt);s.width=M(100),s.height=M(100),s.applyOnClones=!0,s.propertyFields.fill="fill",s.strokeOpacity=0;var o=new He;o.text="{name}",o.margin(0,5,0,5),o.valign="middle",o.applyOnClones=!0,o.states.create("active").properties.fill=i.getFor("disabledBackground"),e.labels=new J(o),e._disposers.push(new G(e.labels)),e._disposers.push(e.labels.template),o.interactionsEnabled=!1,o.truncate=!0,o.fullWords=!1;var h=new He;return h.margin(0,5,0,0),h.valign="middle",h.width=50,h.align="right",h.textAlign="end",h.applyOnClones=!0,h.states.create("active").properties.fill=i.getFor("disabledBackground"),h.interactionsEnabled=!1,e.valueLabels=new J(h),e._disposers.push(new G(e.valueLabels)),e._disposers.push(e.valueLabels.template),e.position="bottom",t.states.create("active"),t.setStateOnChildren=!0,e.role="group",e.events.on("layoutvalidated",e.handleScrollbar,e,!1),e.applyTheme(),e}return r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},r.prototype.createDataItem=function(){return new Qa},r.prototype.validateDataElements=function(){this.scrollbar&&(this.scrollbar.start=0,this.scrollbar.end=1),l.prototype.validateDataElements.call(this)},r.prototype.validateDataElement=function(e){l.prototype.validateDataElement.call(this,e);var t=e.itemContainer,i=e.marker;Ue(e.label);var a=e.valueLabel;t.readerChecked=e.dataContext.visible,e.dataContext.legendDataItem=e;var n=e.label.maxWidth;e.label.width instanceof ve||(e.label.width=void 0),n>0&&(e.label.maxWidth=n),a.align=="right"&&(a.width=void 0);var s=e.dataContext.legendSettings,o=e.dataContext;o.createLegendMarker&&(!this.useDefaultMarker||!(o instanceof q))?e.childrenCreated||(o.createLegendMarker(i),e.childrenCreated=!0):this.markers.template.propertyFields.fill=void 0,o.updateLegendValue&&o.updateLegendValue(),o.component&&o.component.updateLegendValue&&o.component.updateLegendValue(o),a.invalid&&a.validate(),a.text==""||a.text==null?a.__disabled=!0:a.__disabled=!1,s&&(s.itemValueText!=null||s.valueText!=null)&&(a.__disabled=!1);var h=e.dataContext.visible;h===void 0&&(h=!0),h=sa(h),e.dataContext.visible=h,t.events.disableType("toggled"),t.isActive=!h,t.isActive?t.setState("active",0):t.setState("default",0),t.events.enableType("toggled")},r.prototype.afterDraw=function(){var e=this,t=this.getPropertyValue("maxWidth"),i=0;this.labels.each(function(u){u.invalid&&(u.maxWidth=void 0,u.validate()),u.measuredWidth+u.pixelMarginLeft+u.pixelMarginRight>i&&(i=u.measuredWidth+u.pixelMarginLeft+u.pixelMarginRight)});var a=0;this.valueLabels.each(function(u){u.invalid&&u.validate(),u.measuredWidth+u.pixelMarginLeft+u.pixelMarginRight>a&&(a=u.measuredWidth+u.pixelMarginLeft+u.pixelMarginRight)});var n=0;this.markers.each(function(u){u.invalid&&u.validate(),u.measuredWidth+u.pixelMarginLeft+u.pixelMarginRight>n&&(n=u.measuredWidth+u.pixelMarginLeft+u.pixelMarginRight)});var s=this.itemContainers.template,o=s.pixelMarginRight+s.pixelMarginLeft,h,d=i+a+n;g(t)?(t=t-o,t>d&&(t=d),h=t-n-a):h=i,this.labels.each(function(u){(e.valueLabels.template.align=="right"||u.measuredWidth>h)&&(u.width instanceof ve||(u.width=Math.min(u.maxWidth,h-u.pixelMarginLeft-u.pixelMarginRight),u.maxWidth=u.width))}),this.valueLabels.template.align=="right"&&this.valueLabels.each(function(u){u.width=a-u.pixelMarginRight-u.pixelMarginLeft}),l.prototype.afterDraw.call(this)},r.prototype.handleScrollbar=function(){var e=this.scrollbar;this.scrollable&&e&&(e.height=this.measuredHeight,e.x=this.measuredWidth-e.pixelWidth-e.pixelMarginLeft,this.contentHeight>this.measuredHeight?(e.visible=!0,e.thumb.height=e.height*this.measuredHeight/this.contentHeight,this.paddingRight=e.pixelWidth+e.pixelMarginLeft+ +e.pixelMarginRight):e.visible=!1,e.handleThumbPosition(),this.updateMasks())},Object.defineProperty(r.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){this.setPropertyValue("position",e)&&(e=="left"||e=="right"?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",g(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=M(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(e){this.setPropertyValue("useDefaultMarker",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(e){if(this.setPropertyValue("scrollable",e,!0))if(e){var t=this.createChild(ir);this.scrollbar=t,t.isMeasured=!1,t.orientation="vertical",t.endGrip.__disabled=!0,t.startGrip.__disabled=!0,t.visible=!1,t.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(t.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),r.prototype.handleWheel=function(e){var t=e.shift.y,i=this.scrollbar;if(i){var a=t/1e3*this.measuredHeight/this.contentHeight,n=i.end-i.start;t>0?(i.start=ee(0,i.start-a),i.end=i.start+n):(i.end=U(1,i.end-a),i.start=i.end-n)}},r.prototype.updateMasks=function(){var e=this;this.scrollbar&&this.itemContainers.each(function(t){t.dy=-e.scrollbar.thumb.pixelY*e.contentHeight/e.measuredHeight,t.maskRectangle={x:0,y:-t.dy,width:e.measuredWidth,height:e.measuredHeight}})},r.prototype.toggleDataItem=function(e){var t=e.dataContext;!t.visible||t.isHiding||t instanceof q&&t.isHidden?(e.color=e.colorOrig,t.appeared=!0,e.itemContainer.isActive=!1,t.hidden===!0&&(t.hidden=!1),t.show?t.show():t.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,e.label.readerTitle))):(e.itemContainer.isActive=!0,t.appeared=!0,t.hide?t.hide():t.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,e.label.readerTitle)),e.color=new te().getFor("disabledBackground"))},Object.defineProperty(r.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),r.prototype.handleDataItemPropertyChange=function(e,t){e.valueLabel.invalidate(),e.label.invalidate()},r}(At);V.registeredClasses.Legend=Bt;pe.push({relevant:fe.widthXS,state:function(l,r){if(l instanceof Bt&&(l.position=="left"||l.position=="right")){var e=l.states.create(r);return e.properties.position="bottom",e}return null}});pe.push({relevant:fe.heightXS,state:function(l,r){if(l instanceof Bt&&(l.position=="top"||l.position=="bottom")){var e=l.states.create(r);return e.properties.position="right",e}return null}});pe.push({relevant:fe.isXS,state:function(l,r){if(l instanceof Bt){var e=l.states.create(r);return e.properties.disabled=!0,e}return null}});var Nt=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="SeriesDataItem",e.values.value={},e.values.value={},e.applyTheme(),e}return Object.defineProperty(r.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new Oe,this._disposers.push(new mi(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),r.prototype.dispose=function(){this.bullets.clear(),l.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),r}(ft),zt=function(l){_(r,l);function r(){var e=l.call(this)||this;if(e._ignoreMinMax=!1,e._showBullets=!0,e.legendSettings=new dr,e._tmin=new Oe,e._tmax=new Oe,e._smin=new Oe,e._smax=new Oe,e.dataItemsByAxis=new Oe,e.skipFocusThreshold=20,e._itemReaderTextChanged=!1,e.calculatePercent=!1,e.usePercentHack=!0,e.autoDispose=!0,e.simplifiedProcessing=!1,e.constructor===r)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");e.className="Series",e.isMeasured=!1,e.layout="none",e.shouldClone=!1,e.setPropertyValue("hidden",!1),e.axisRanges=new Ce,e.axisRanges.events.on("inserted",e.processAxisRange,e,!1),e.minBulletDistance=0,e.mainContainer=e.createChild(X),e.mainContainer.shouldClone=!1,e.mainContainer.mask=e.createChild(q),e._disposers.push(e.mainContainer);var t=e.mainContainer.createChild(X);return e._shouldBeReady.push(t),t.shouldClone=!1,t.layout="none",t.virtualParent=e,e._disposers.push(t),e.bulletsContainer=t,e.tooltip=new rr,e.tooltip.virtualParent=e,e._disposers.push(e.tooltip),e.hiddenState.transitionEasing=oa,e.dataItem=e.createDataItem(),e._disposers.push(e.dataItem),e.dataItem.component=e,e.role="group",e.applyTheme(),e}return r.prototype.applyTheme=function(){l.prototype.applyTheme.call(this)},r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},r.prototype.createDataItem=function(){return new Nt},Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),r.prototype.positionBullet=function(e){},r.prototype.processBullet=function(e){var t=this,i=e.newValue;i.isTemplate=!0,this.events.once("datavalidated",function(a){t.itemsFocusable()&&(i.focusable=!0)}),this.invalidate()},r.prototype.removeBullet=function(e){var t=e.oldValue;this.dataItems.each(function(i){var a=i.bullets.getKey(t.uid);a&&a.dispose()}),this.invalidate()},r.prototype.validateDataItems=function(){l.prototype.validateDataItems.call(this),this.processValues(!1)},r.prototype.getFirstValue=function(e,t){for(var i=t;i>=0;i--){var a=this.dataItems.getIndex(i),n=a.getActualWorkingValue(e);if(g(n))return n}return null},r.prototype.getAbsoluteFirstValue=function(e){for(var t=0;t<this.dataItems.length;t++){var i=this.dataItems.getIndex(t),a=i.values[e].value;if(g(a))return a}return null},r.prototype.rangeChangeUpdate=function(){l.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},r.prototype.processValues=function(e){var t=this;if(!this.simplifiedProcessing){var i=this.dataItems,a={},n={},s={},o={},h={},d={},u={},p={},f={},c={},y=ee(0,this.startIndex);y=U(y,this.dataItems.length);var v=U(this.endIndex,this.dataItems.length);if(g(y)||(y=0),g(v)||(v=this.dataItems.length),y>0){var m=i.getIndex(y-1);Pe(m.values,function(b,O){var D=m.getActualWorkingValue(b);g(D)&&(p[b]=D)})}for(var x=function(b){var O=i.getIndex(b);Pe(O.values,function(D,B){var k=O.getActualWorkingValue(D);if(g(k)){g(a[D])||(a[D]=0),a[D]++,g(n[D])||(n[D]=0),n[D]+=k,g(s[D])||(s[D]=0),s[D]+=Math.abs(k),g(d[D])||(d[D]=k),u[D]=k,g(o[D])?o[D]>k&&(o[D]=k):o[D]=k,g(h[D])?h[D]<k&&(h[D]=k):h[D]=k,g(f[D])||(f[D]=t.getFirstValue(D,y)),g(c[D])||(c[D]=t.getAbsoluteFirstValue(D)),O.setCalculatedValue(D,k-f[D],"change"),O.setCalculatedValue(D,(k-f[D])/f[D]*100,"changePercent"),O.setCalculatedValue(D,k-c[D],"startChange"),O.setCalculatedValue(D,(k-c[D])/c[D]*100,"startChangePercent");var I=p[D];g(I)||(I=k),O.setCalculatedValue(D,k-I,"previousChange"),O.setCalculatedValue(D,(k-I)/I*100,"previousChangePercent"),p[D]=k}})},P=y;P<v;P++)x(P);if(this.calculatePercent)for(var S=function(b){var O=i.getIndex(b);Pe(O.values,function(D){var B=s[D],k=O.getActualWorkingValue(D);if(g(k))if(B>0){t.usePercentHack&&k==B&&(B=O.values[D].value);var I=k/B*100;O.setCalculatedValue(D,I,"percent")}else O.setCalculatedValue(D,0,"percent")})},P=y;P<v;P++)S(P);if(y>0){var A=i.getIndex(y-1);Pe(A.values,function(b){var O=A.values[b].value;A.setCalculatedValue(b,O-d[b],"change"),A.setCalculatedValue(b,(O-d[b])/d[b]*100,"changePercent")})}var T=this.dataItem;Pe(T.values,function(b){T.setCalculatedValue(b,n[b],"sum"),T.setCalculatedValue(b,s[b],"absoluteSum"),T.setCalculatedValue(b,n[b]/a[b],"average"),T.setCalculatedValue(b,d[b],"open"),T.setCalculatedValue(b,u[b],"close"),T.setCalculatedValue(b,o[b],"low"),T.setCalculatedValue(b,h[b],"high"),T.setCalculatedValue(b,a[b],"count")})}},r.prototype.validate=function(){bt()&&this.filters.clear(),w(this.axisRanges.iterator(),function(a){a.validate()}),l.prototype.validate.call(this);var e=this.bulletsContainer;if(e.fill=this.fill,e.stroke=this.stroke,e.x=this.pixelX,e.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var t=0;t<this.startIndex;t++){var i=this.dataItems.getIndex(t);i&&i.bullets.each(function(a,n){n.__disabled=!0})}for(var t=this.dataItems.length-1;t>this.endIndex;t--){var i=this.dataItems.getIndex(t);i&&i.bullets.each(function(s,o){o.__disabled=!0})}}else this.bulletsContainer.children.each(function(a){a.__disabled=!0});this.updateTooltipBounds()},r.prototype.updateTooltipBounds=function(){if(this.topParent){var e=0,t=0,i=this.topParent.maxWidth,a=this.topParent.maxHeight,n={x:e,y:t,width:i,height:a};this.tooltip.setBounds(n)}},r.prototype.shouldCreateBullet=function(e,t){return!0},r.prototype.validateDataElement=function(e){var t=this;l.prototype.validateDataElement.call(this,e),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each(function(i){var a=e.bullets.getKey(i.uid);if(t.shouldCreateBullet(e,i)){if(!a){var n=i.propertyFields.disabled,s=e.dataContext;n&&s&&s[n]===!1?(i.applyOnClones=!1,i.disabled=!1,a=i.clone(),i.disabled=!0,i.applyOnClones=!0):a=i.clone(),a.shouldClone=!1,e.addSprite(a),(!t.visible||t.isHiding)&&a.hide(0)}var o=a.dataItem;if(o!=e){o&&o.bullets.setKey(i.uid,void 0);var h=t.itemReaderText;a instanceof Xe&&(h||(h="{"+a.xField+"}: {"+a.yField+"}"),a.isDynamic&&(e.events.on("workingvaluechanged",a.deepInvalidate,a,!1),t.dataItem.events.on("workingvaluechanged",a.deepInvalidate,a,!1)),a.deepInvalidate()),a.focusable&&(a.events.on("focus",function(d){a.readerTitle=t.populateString(h,a.dataItem)},void 0,!1),a.events.on("blur",function(d){a.readerTitle=""},void 0,!1)),a.hoverable&&(a.events.on("over",function(d){a.readerTitle=t.populateString(h,a.dataItem)},void 0,!1),a.events.on("out",function(d){a.readerTitle=""},void 0,!1))}a.parent=t.bulletsContainer,e.bullets.setKey(i.uid,a),a.maxWidth=e.itemWidth,a.maxHeight=e.itemHeight,a.__disabled=!1,t.positionBullet(a)}else a&&(a.__disabled=!0)})):this.bulletsContainer.visible=!1},r.prototype.handleDataItemWorkingValueChange=function(e,t){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(r.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){this._ignoreMinMax=e,this.invalidateDataItems()},enumerable:!0,configurable:!0}),r.prototype.createMask=function(){},r.prototype.processAxisRange=function(e){this.rangesContainer||(this.rangesContainer=this.createChild(X),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var t=e.newValue;t&&(t.contents.parent=this.rangesContainer,t.isRange=!0,t.events.on("valuechanged",this.invalidateDataItems,this,!1))},r.prototype.getAxisField=function(e){},r.prototype.showTooltipAtPosition=function(e,t){},Object.defineProperty(r.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(e){this.setPropertyValue("minBulletDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new J(new Xe),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new G(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),r.prototype.createLegendMarker=function(e){},Object.defineProperty(r.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(e){this.setPropertyValue("hiddenInLegend",e)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e);var t=this.legendDataItem;t&&(t.component.invalidate(),t.component.invalidateRawData()),this.readerTitle=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemReaderText",{get:function(){var e=this._itemReaderText;return e||(this.tooltipText?e=Bi(this.tooltipText):this.tooltipHTML&&(e=Bi(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",e):e},set:function(e){this._itemReaderText=e,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),r.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(r.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),r.prototype.updateLegendValue=function(e,t){if(this.legendDataItem){var i=this.legendSettings,a=this.legendDataItem,n=a.label,s=a.valueLabel;e&&!e.isDisposed()||t?(s&&(i.itemValueText&&(s.text=i.itemValueText),s.dataItem=e),n&&(i.itemLabelText&&(n.text=i.itemLabelText),n.dataItem=e)):(n&&((i.labelText||i.itemLabelText!=null)&&(n.text=i.labelText),n.dataItem=this.dataItem),s&&((i.valueText||i.itemValueText!=null)&&(s.text=i.valueText),s.dataItem=this.dataItem))}},r.prototype.copyFrom=function(e){this.bullets.copyFrom(e.bullets),this.bulletsContainer.copyFrom(e.bulletsContainer),this.calculatePercent=e.calculatePercent,this.usePercentHack=e.usePercentHack,this.simplifiedProcessing=e.simplifiedProcessing,l.prototype.copyFrom.call(this,e)},r.prototype.raiseCriticalError=function(e){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",e).message,this._chart.modal.closable=!1,this._chart.modal.open(),this._chart.disabled=!0),console.log(e)},r.prototype.applyFilters=function(){var e=this;l.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),w(this.filters.iterator(),function(t){e.bulletsContainer.filters.push(t.clone())})},Object.defineProperty(r.prototype,"heatRules",{get:function(){var e=this;return this._heatRules||(this._heatRules=new Ce,this._heatRules.events.on("inserted",function(t){var i=t.newValue,a=i.target;if(a){var n=i.dataField;C(n)||(n="value");var s=e.dataItem,o=i.property,h=Te(i.minValue),d=Te(i.maxValue);!g(h)&&!g(d)&&e.dataItem.events.on("calculatedvaluechanged",function(u){u.property==n&&w(e.dataItems.iterator(),function(p){var f=!1;H(p.sprites,function(c){if(c.clonedFrom==a){var y=c;y[o]=y[o],f=!0}}),f||H(p.sprites,function(c){c instanceof X&&w(c.children.iterator(),function(y){if(y.className==a.className){var v=y;v[o]=v[o]}else y instanceof X&&y.deepInvalidate()})})})}),e.dataItems.template.events.on("workingvaluechanged",function(u){if(u.property==n){var p=u.target,f=!1;H(p.sprites,function(c){if(c.clonedFrom==a){var y=c;y[o]=y[o],f=!0}}),f||H(p.sprites,function(c){c instanceof X&&w(c.children.iterator(),function(y){if(y.className==a.className){var v=y;v[o]=v[o]}else y instanceof X&&y.deepInvalidate()})})}}),a.adapter.add(o,function(u,p,f){var c=Te(i.minValue),y=Te(i.maxValue),v=i.min,m=i.max;if(p instanceof q){var x=p,P=x.propertyFields[f];if(P&&p.dataItem){var S=p.dataItem.dataContext;if(S&&C(S[P]))return u}}var A=p.dataItem;if(g(c)||(c=s.values[n].low),g(y)||(y=s.values[n].high),A){var T=A.values[n];if(T){var b=A.getActualWorkingValue(n);if(C(v)&&C(m)&&g(c)&&g(y)&&g(b)){var O=void 0;if(i.logarithmic?O=(Math.log(b)*Math.LOG10E-Math.log(c)*Math.LOG10E)/(Math.log(y)*Math.LOG10E-Math.log(c)*Math.LOG10E):O=(b-c)/(y-c),g(b)&&(!g(O)||Math.abs(O)==1/0)&&(O=.5),g(v))return v+(m-v)*O;if(v instanceof Ae)return new Ae(si(v.rgb,m.rgb,O))}}}return u})}})),this._heatRules},enumerable:!0,configurable:!0}),r.prototype.processConfig=function(e){var t;if(e){if(C(e.bullets)&&we(e.bullets))for(var i=0,a=e.bullets.length;i<a;i++){var n=e.bullets[i];C(n.type)||(n.type="Bullet")}C(e.heatRules)&&we(e.heatRules)&&(t=e.heatRules,delete e.heatRules)}if(l.prototype.processConfig.call(this,e),t){for(var i=0,a=t.length;i<a;i++){var s=t[i],o=this;if(C(s.target)&&ne(s.target))if(this.map.hasKey(s.target))o=this.map.getKey(s.target);else for(var h=s.target.split("."),d=0;d<h.length;d++)if(o instanceof Ce){var u=o.getIndex(Te(h[d]));u?o=u:o=o[h[d]]}else{var p=h[d].match(/^(.*)\[([0-9]+)\]/);p?o[p[1]]instanceof Ce?o=o[p[1]].getIndex(Te(p[2])):o=o[p[1]][Te(p[2])]:o=o[h[d]]}s.target=o,C(s.min)&&(s.min=this.maybeColorOrPercent(s.min)),C(s.max)&&(s.max=this.maybeColorOrPercent(s.max))}l.prototype.processConfig.call(this,{heatRules:t})}},r.prototype.configOrder=function(e,t){return e==t?0:e=="heatRules"?1:t=="heatRules"?-1:l.prototype.configOrder.call(this,e,t)},r.prototype.setVisibility=function(e){l.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},r}(At);V.registeredClasses.Series=zt;V.registeredClasses.SeriesDataItem=Nt;var pr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="SerialChartDataItem",e.applyTheme(),e}return r}(ur),_i=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="SerialChart",e.colors=new Et,e._usesData=!1;var t=e.chartContainer.createChild(X);t.shouldClone=!1,t.width=M(100),t.height=M(100),t.isMeasured=!1,t.layout="none",t.zIndex=2,e.seriesContainer=t;var i=e.chartContainer.createChild(X);return i.shouldClone=!1,i.width=M(100),i.height=M(100),i.isMeasured=!1,i.zIndex=3,i.layout="none",e.bulletsContainer=i,e.applyTheme(),e}return r.prototype.dispose=function(){l.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(r.prototype,"series",{get:function(){return this._series||(this._series=new J(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new G(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),r.prototype.handleSeriesRemoved=function(e){var t=e.oldValue;this.dataUsers.removeValue(t),this.dataUsers.each(function(h){h.invalidateDataItems()}),t.autoDispose?t.dispose():(t.parent=void 0,t.bulletsContainer.parent=void 0);var i=this.legend;if(i){for(var a=this.legend.dataItems,n=a.length-1;n>=0;n--){var s=a.getIndex(n);s&&s.dataContext==t&&i.dataItems.remove(s)}for(var n=i.data.length-1;n>=0;n--){var o=i.data[n];o&&o==t&&Ve(i.data,o)}}},r.prototype.handleSeriesAdded=function(e){var t=this,i=e.newValue;i.isDisposed()||(i.chart=this,i.parent=this.seriesContainer,i.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(i),i.addDisposer(new oe(function(){t.dataUsers.removeValue(i)})),this.handleSeriesAdded2(i),this.handleLegendSeriesAdded(i))},r.prototype.handleLegendSeriesAdded=function(e){e.hiddenInLegend||this.legend&&this.legend.addData(e)},r.prototype.handleSeriesAdded2=function(e){var t=this;this.dataInvalid||this._disposers.push(V.events.once("exitframe",function(){(!e.data||e.data.length==0)&&(e.data=t.data,e.showOnInit&&(e.reinit(),e.setPropertyValue("showOnInit",!1),e.showOnInit=!0),e.isDisposed()||e.events.once("datavalidated",function(){e.data==t.data&&(e._data=[])}))}))},r.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];w(this.series.iterator(),function(i){i.hiddenInLegend||t.push(i)}),e.dataFields.name="name",e.data=t}},r.prototype.createSeries=function(){return new zt},Object.defineProperty(r.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.series.copyFrom(e.series)},r.prototype.appear=function(){l.prototype.appear.call(this),this.series.each(function(e){e.showOnInit&&e.inited&&e.appear()})},r}(ot);V.registeredClasses.SerialChart=_i;var Ht=function(l){_(r,l);function r(){var e=l.call(this)||this;e._axis=new he,e.dataItems=new Ce,e.className="AxisBreak",e.breakSize=.01,e.marginLeft=-5,e.marginRight=-5,e.marginTop=-5,e.marginBottom=-5;var t=new te,i=new rt;i.fill=t.getFor("background"),i.stroke=Me(),i.fillOpacity=.9,i.zIndex=0,e._fillShape=i;var a=new rt;a.fill=Me(),a.stroke=t.getFor("grid"),a.strokeOpacity=.3,a.zIndex=1,e._startLine=a;var n=new rt;return n.fill=Me(),n.stroke=Me("#000000"),n.strokeOpacity=.3,n.zIndex=2,e._endLine=n,e._disposers.push(e._axis),e.applyTheme(),e}return r.prototype.dispose=function(){l.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(r.prototype,"startLine",{get:function(){return this._startLine},set:function(e){this._startLine&&this._startLine.dispose(),this._startLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endLine",{get:function(){return this._endLine},set:function(e){this._endLine&&this._endLine.dispose(),this._endLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fillShape",{get:function(){return this._fillShape},set:function(e){this._fillShape&&this._fillShape.dispose(),this._fillShape=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),r.prototype.addBreakSprite=function(e){e.parent=this,e.isMeasured=!1,this._disposers.push(e)},Object.defineProperty(r.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this._axis.get()!==e){this._axis.set(e,e.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),e.renderer.createBreakSprites(this);var t=e.axisBreaks.template;this.startLine.copyFrom(t.startLine),this.endLine.copyFrom(t.endLine),this.fillShape.copyFrom(t.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(e){this.setPropertyValue("breakSize",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),r.prototype.draw=function(){if(l.prototype.draw.call(this),this.axis){var e=this.axis.renderer;e.updateBreakElement(this)}},Object.defineProperty(r.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),r}(X);V.registeredClasses.AxisBreak=Ht;var Vt=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="AxisDataItem",e.applyTheme(),e}return Object.defineProperty(r.prototype,"grid",{get:function(){if(!this._grid){var e=this.component;if(e){var t=void 0,i;if(this.isRange){if(t=e.axisRanges.template.grid,t.disabled)return;i=t.clone()}else{if(t=e.renderer.grid.template,t.disabled)return;i=e.renderer.grid.create(),this._disposers.push(new oe(function(){e.renderer.grid.removeValue(i)}))}this.grid=i,i.shouldClone=!1,this._disposers.push(i),i.axis=this.component}}return this._grid},set:function(e){this._grid&&this._grid!=e&&(Ve(this.sprites,this._grid),this._grid.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Ve(e.dataItem.sprites,e),e.dataItem.grid=void 0),this.addSprite(e)),this._grid=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tick",{get:function(){if(!this._tick){var e=this.component;if(e){var t=void 0,i;if(this.isRange){if(t=e.axisRanges.template.tick,t.disabled)return;i=t.clone()}else{if(t=e.renderer.ticks.template,t.disabled)return;i=e.renderer.ticks.create(),this._disposers.push(new oe(function(){e.renderer.ticks.removeValue(i)}))}this.tick=i,i.axis=this.component,i.shouldClone=!1,this._disposers.push(i)}}return this._tick},set:function(e){this._tick&&this._tick!=e&&(Ve(this.sprites,this._tick),this._tick.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Ve(e.dataItem.sprites,e),e.dataItem.tick=void 0),this.addSprite(e)),this._tick=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){if(!this._label){var e=this.component;if(e){var t=void 0,i;if(this.isRange){if(t=e.axisRanges.template.label,t.disabled)return;i=t.clone()}else{if(t=e.renderer.labels.template,t.disabled)return;i=e.renderer.labels.create(),this._disposers.push(new oe(function(){e.renderer.labels.removeValue(i)}))}this._disposers.push(i),this.label=i,i.shouldClone=!1,i.axis=this.component,i.virtualParent=e}}return this._label},set:function(e){this._label&&this._label!=e&&(Ve(this.sprites,this._label),this._label.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Ve(e.dataItem.sprites,e),e.dataItem.label=void 0),this.addSprite(e)),this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"axisFill",{get:function(){if(!this._axisFill){var e=this.component;if(e){var t=void 0,i;if(this.isRange){if(t=e.axisRanges.template.axisFill,!this.isTemplate&&t.disabled)return;i=t.clone()}else{if(t=e.renderer.axisFills.template,t.disabled)return;i=e.renderer.axisFills.create(),this._disposers.push(new oe(function(){e.renderer.axisFills.removeValue(i)}))}this.axisFill=i,i.shouldClone=!1,this._disposers.push(i)}}return this._axisFill},set:function(e){this._axisFill&&this._axisFill!=e&&(Ve(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Ve(e.dataItem.sprites,e),e.dataItem.axisFill=void 0),e.axis=this.component,this.addSprite(e)),this._axisFill=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e,this._label&&(this._label.text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"contents",{get:function(){if(!this._contents){var e=new X;this.addSprite(e),e.isMeasured=!1,this._contents=e;var t=this.component;if(t){var i=t.renderer.createFill(this.component);i.disabled=!1,i.axis=t,this.addSprite(i),this._mask=i,e.mask=i}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(e){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),e&&e.dataItems.push(this),this._axisBreak=e},enumerable:!0,configurable:!0}),r.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},r.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},r.prototype.hasProperty=function(e){return e=="component"?!0:l.prototype.hasProperty.call(this,e)},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.text=e.text,e.bullet&&(this.bullet=e.bullet.clone()),this.minPosition=e.minPosition,this.maxPosition=e.maxPosition},r.prototype.setVisibility=function(e,t){l.prototype.setVisibility.call(this,e,t),this._contents&&(this._contents.visible=e)},Object.defineProperty(r.prototype,"bullet",{get:function(){return this._bullet},set:function(e){this._bullet&&this._bullet!=e&&(Ve(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=e,e&&this.addSprite(e)},enumerable:!0,configurable:!0}),r}(ft),tr;(function(l){l[l.Start=0]="Start",l[l.Middle=.5]="Middle",l[l.End=1]="End"})(tr||(tr={}));var Ut=function(l){_(r,l);function r(){var e=l.call(this)||this;if(e._gridCount=10,e._series=new Ce,e.autoDispose=!0,e._axisItemCount=0,e.constructor===r)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");e.hideTooltipWhileZooming=!0,e.minWidth=1e-4,e.minHeight=1e-4,e.className="Axis",e.shouldClone=!1,e.setPropertyValue("cursorTooltipEnabled",!0),e.toggleZoomOutButton=!0,e.zoomable=!0;var t=new te;e.title=new He,e.title.shouldClone=!1,e._disposers.push(e.title),e.setPropertyValue("startLocation",0),e.setPropertyValue("endLocation",1),e._dataItemsIterator=new xi(e.dataItems,function(){return e.dataItems.create()}),e._dataItemsIterator.createNewItems=!0;var i=new rr;e._disposers.push(i),i.label.padding(5,10,5,10),i.background.pointerLength=5,i.fitPointerToBounds=!0,i.background.filters.clear(),i.virtualParent=e;var a=i.background;return a.cornerRadius=0,a.fill=t.getFor("alternativeBackground"),a.stroke=a.fill,a.strokeWidth=1,a.fillOpacity=1,i.label.fill=t.getFor("alternativeText"),e.tooltip=i,e.readerHidden=!0,e.events.on("rangechangestarted",function(){e.series.each(function(n){n.hideTooltipWhileZooming&&(n.tooltip.hide(),n.tooltip.preventShow=!0)}),e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!0)},void 0,!1),e.events.on("rangechangeended",function(){e.series.each(function(n){n.hideTooltipWhileZooming&&(n.tooltip.hide(),n.tooltip.preventShow=!1)}),e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!1)},void 0,!1),e.applyTheme(),e}return r.prototype.fillRule=function(e,t){g(t)||(t=e.index),t/2==Math.round(t/2)?(e.axisFill.__disabled=!0,e.axisFill.opacity=0):(e.axisFill.opacity=1,e.axisFill.__disabled=!1)},r.prototype.createDataItem=function(){return new Vt},r.prototype.invalidateLayout=function(){l.prototype.invalidateLayout.call(this),w(this.series.iterator(),function(e){e.invalidateLayout()})},r.prototype.invalidateSeries=function(){w(this.series.iterator(),function(e){e.invalidate()})},r.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},r.prototype.updateGridCount=function(){if(this.renderer){var e=this.axisLength/this.renderer.minGridDistance;e!=this._gridCount&&(this._gridCount=e,this.clearCache())}},r.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),l.prototype.validateLayout.call(this),this.updateGridCount();var e=this.renderer;e&&(e.updateAxisLine(),e.updateTooltip(),e.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},r.prototype.initRenderer=function(){},r.prototype.appendDataItem=function(e){var t=this.renderer,i=e.tick;i&&(i.above?i.parent=t.bulletsContainer:i.parent=t.gridContainer),e.label&&(e.label.parent=t);var a=e.axisFill;a&&(a.above?a.parent=t.bulletsContainer:a.parent=t.gridContainer);var n=e.grid;n&&(n.above?n.parent=t.bulletsContainer:n.parent=t.gridContainer),e.bullet&&(e.bullet.parent=t.bulletsContainer)},r.prototype.validate=function(){l.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},r.prototype.validateAxisRanges=function(){var e=this;w(this.axisRanges.iterator(),function(t){e.appendDataItem(t),e.validateDataElement(t),t.grid&&t.grid.validate(),t.tick&&t.tick.validate(),t.axisFill&&t.axisFill.validate(),t.label&&t.label.validate()})},r.prototype.validateBreaks=function(){this._axisBreaks&&w(this._axisBreaks.iterator(),function(e){e.invalidate()})},r.prototype.processBreak=function(e){var t=e.newValue;t.parent=this.renderer.breakContainer,t.axis=this},r.prototype.registerSeries=function(e){var t=this;return this.series.moveValue(e),new at([new oe(function(){t.series.removeValue(e)}),this.events.on("lengthchanged",e.invalidate,e,!1),this.events.on("lengthchanged",e.createMask,e,!1),this.events.on("startchanged",e.invalidate,e,!1),this.events.on("endchanged",e.invalidate,e,!1)])},Object.defineProperty(r.prototype,"renderer",{get:function(){return this._renderer},set:function(e){if(e!=this._renderer){this._renderer=e,e.chart=this.chart,e.axis=this,e.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(e.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var t=this.renderer.labels.create();this._disposers.push(t),t.dataItem=this.dataItems.template.clone(),t.text="L",t.parent=this.renderer,t.shouldClone=!1,t.fillOpacity=0,t.opacity=0,t.strokeOpacity=0,t.interactionsEnabled=!1,t.validate(),this.ghostLabel=t,this.events.on("beforedatavalidated",function(){t.text="L"},void 0,!1)}},enumerable:!0,configurable:!0}),r.prototype.positionToAngle=function(e){return this.renderer.positionToAngle(e)},r.prototype.pointToPosition=function(e){return this.renderer.pointToPosition(e)},r.prototype.positionToCoordinate=function(e){return this.renderer.positionToCoordinate(e)},r.prototype.getAnyRangePath=function(e,t){return this.renderer.getPositionRangePath(e,t)},r.prototype.anyToPosition=function(e){return 0},r.prototype.anyToPoint=function(e){return{x:0,y:0,angle:0}},r.prototype.getPositionRangePath=function(e,t){return this.renderer?this.renderer.getPositionRangePath(e,t):""},Object.defineProperty(r.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)&&(e&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(e){this.setPropertyValue("toggleZoomOutButton",e)},enumerable:!0,configurable:!0}),r.prototype.hideTooltip=function(e){l.prototype.hideTooltip.call(this,e),this._tooltipPosition=void 0},r.prototype.showTooltipAtPosition=function(e,t){var i=this._tooltip;if(!i||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(t||(e=this.toAxisPosition(e)),!g(e)||e<this.start||e>this.end){i.hide(0),this._tooltipPosition=void 0;return}var a=this.renderer;i.parent||(i.parent=this.tooltipContainer);var n=a.tooltipLocation,s=this.getCellStartPosition(e),o=this.getCellEndPosition(e);if(this.tooltipPosition=="fixed"&&(e=s+(o-s)*n),e=Y(e,this.start,this.end),this._tooltipPosition!=e){this._tooltipPosition=e;var h=a.tooltipLocation2,d=a.positionToPoint(s,h),u=a.positionToPoint(o,h);this.currentItemStartPoint=d,this.currentItemEndPoint=u,a.fullWidthTooltip&&(i.width=u.x-d.x,i.height=u.y-d.y);var p=a.positionToPoint(e,h),f=tt(p,this.renderer.line);i.text=this.getTooltipText(e),i.text&&(i.delayedPointTo(f),i.show())}(!this.cursorTooltipEnabled||this.tooltip.disabled)&&i.hide(0)}},r.prototype.toAxisPosition=function(e){if(e=this.renderer.toAxisPosition(e),e!=null)return e=e*(this.end-this.start),this.renderer.inversed?e=this.end-e:e=this.start+e,e},r.prototype.toGlobalPosition=function(e){return this.renderer.inversed?e=this.end-e:e=e-this.start,e/(this.end-this.start)},r.prototype.getTooltipText=function(e){},r.prototype.updateTooltip=function(e,t){var i=this._tooltip;i&&(i.fixDoc=!1,i.pointerOrientation=e,i.setBounds(ar(t,this.renderer.line)))},r.prototype.roundPosition=function(e,t,i){return e},r.prototype.getCellStartPosition=function(e){return e},r.prototype.getCellEndPosition=function(e){return e},Object.defineProperty(r.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var e=this.createDataItem();e.isRange=!0,e.axisFill=this.renderer.axisFills.template.clone(),e.grid=this.renderer.grid.template.clone(),e.tick=this.renderer.ticks.template.clone(),e.label=this.renderer.labels.template.clone(),e.isTemplate=!0,e.component=this,e.axisFill.disabled=!1,e.tick.disabled=!1,e.grid.disabled=!1,e.label.disabled=!1,this._axisRanges=new J(e),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new G(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),r.prototype.processAxisRange=function(e){var t=e.newValue;t.component=this,t.isRange=!0},Object.defineProperty(r.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new la(this.createAxisBreak(),function(e,t){return ct(e.adjustedStartValue,t.adjustedStartValue)}),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new G(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),r.prototype.createAxisBreak=function(){return new Ht},Object.defineProperty(r.prototype,"series",{get:function(){return this._series||(this._series=new Ce),this._series},enumerable:!0,configurable:!0}),r.prototype.processSeriesDataItems=function(){},r.prototype.processSeriesDataItem=function(e,t){},r.prototype.postProcessSeriesDataItems=function(e){},r.prototype.postProcessSeriesDataItem=function(e){},r.prototype.updateAxisBySeries=function(){},r.prototype.hideUnusedDataItems=function(){var e=this,t=this._dataItemsIterator;t.createNewItems=!1,w(t.iterator(),function(i){e.validateDataElement(i),i.__disabled=!0}),t.clear(),t.createNewItems=!0},r.prototype.getSeriesDataItem=function(e,t,i){},r.prototype.getAngle=function(e,t,i,a,n){},r.prototype.getX=function(e,t,i,a,n){},r.prototype.getPositionX=function(e,t,i,a,n){},r.prototype.getY=function(e,t,i,a,n){},r.prototype.getPositionY=function(e,t,i,a,n){},Object.defineProperty(r.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),r.prototype.dataChangeUpdate=function(){},r.prototype.seriesDataChangeUpdate=function(e){},r.prototype.adjustDifference=function(e,t){var i=t-e;if(g(i))return this._axisBreaks&&We(this._axisBreaks.iterator(),function(a){var n=a.adjustedStartValue,s=a.adjustedEndValue;if(g(n)&&g(s)){if(n>t)return!1;if(s>=e&&g(n)&&g(s)){var o=a.breakSize,h=ha({start:n,end:s},{start:e,end:t});h&&(i-=(h.end-h.start)*(1-o))}return!0}}),i},r.prototype.isInBreak=function(e){if(this._axisBreaks)return ua(this._axisBreaks.iterator(),function(t){return e>=t.adjustedStartValue&&e<=t.adjustedEndValue})},r.prototype.fixAxisBreaks=function(){var e=this;if(this._axisBreaks){var t=this._axisBreaks;if(t.length>0){H(da(t.iterator()),function(n){var s=U(n.startValue,n.endValue),o=ee(n.startValue,n.endValue);n.adjustedStartValue=s,n.adjustedEndValue=o,e._axisBreaks.update(n)});var i=t.first,a=Math.min(i.startValue,i.endValue);w(t.iterator(),function(n){var s=n.adjustedStartValue,o=n.adjustedEndValue;s<a&&(s=a,o<a&&(o=a)),n.adjustedStartValue=s,n.adjustedEndValue=o})}}},Object.defineProperty(r.prototype,"startIndex",{get:function(){return 0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(e){},enumerable:!0,configurable:!0}),r.prototype.getPositionLabel=function(e){return Math.round(e*100)+"%x"},Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),r.prototype.createSeriesRange=function(e){var t=this.axisRanges.create();return t.component=this,t.axisFill=this.renderer.axisFills.template.clone(),t.axisFill.disabled=!1,t.axisFill.fillOpacity=0,t.grid=this.renderer.grid.template.clone(),t.grid.disabled=!0,t.tick=this.renderer.ticks.template.clone(),t.tick.disabled=!0,t.label=this.renderer.labels.template.clone(),t.label.disabled=!0,t.addDisposer(new oe(function(){e.axisRanges.removeValue(t)})),e.axisRanges.push(t),t},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.renderer?this.renderer.copyFrom(e.renderer):e.renderer&&(this.renderer=e.renderer.clone(),this._disposers.push(this.renderer)),e.title&&(this.title?this.title.copyFrom(e.title):(this.title=e.title.clone(),this.title.parent=this),this._disposers.push(this.title))},r.prototype.resetIterators=function(){this._dataItemsIterator.reset()},r.prototype.processConfig=function(e){if(e&&C(e.axisRanges)&&we(e.axisRanges))for(var t=0,i=e.axisRanges.length;t<i;t++){var a=e.axisRanges[t];C(a.series)&&ne(a.series)&&this.map.hasKey(a.series)&&(e.axisRanges[t]=this.createSeriesRange(this.map.getKey(a.series)),delete a.series,e.axisRanges[t].config=a)}l.prototype.processConfig.call(this,e)},r.prototype.configOrder=function(e,t){return e==t?0:e=="title"?1:t=="title"||e=="component"?-1:t=="component"?1:l.prototype.configOrder.call(this,e,t)},Object.defineProperty(r.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),r.prototype.setDisabled=function(e){var t=l.prototype.setDisabled.call(this,e);return this.renderer&&(this.renderer.gridContainer.disabled=e),t},Object.defineProperty(r.prototype,"title",{get:function(){return this._title},set:function(e){this._title&&this._title!=e&&this._title.dispose(),e&&(this._title=e,e.parent=this,e.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"zoomable",{get:function(){return this.getPropertyValue("zoomable")},set:function(e){this.setPropertyValue("zoomable",e)},enumerable:!0,configurable:!0}),r}(At);V.registeredClasses.Axis=Ut;V.registeredClasses.AxisDataItem=Vt;pe.push({relevant:fe.maybeXS,state:function(l,r){if(l instanceof Ut&&l.tooltip){var e=l.states.create(r);return e.properties.cursorTooltipEnabled=!1,e}return null}});var fr=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="AxisLine",e.element=e.paper.add("path");var t=new te;return e.stroke=t.getFor("grid"),e.strokeOpacity=.15,e.pixelPerfect=!0,e.fill=Me(),e.applyTheme(),e.interactionsEnabled=!1,e}return r}(q);V.registeredClasses.AxisLine=fr;var Vi=function(l){_(r,l);function r(e){var t=l.call(this)||this;t.axis=e,t.element=t.paper.add("path"),t.className="AxisFill",t.isMeasured=!1,t.location=0,t.above=!1;var i=new te;return t.fill=i.getFor("alternativeBackground"),t.fillOpacity=0,t.applyTheme(),t}return r.prototype.setDisabled=function(e){var t=l.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),t},r.prototype.draw=function(){l.prototype.draw.call(this),!(this.__disabled||this.disabled)&&this.axis&&g(this.startPosition)&&g(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(r.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(e){this.setPropertyValue("startPosition",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(e){this.setPropertyValue("endPosition",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),r.prototype.setPath=function(e){return this.setPropertyValue("path",e)?(this.element.attr({d:e}),!0):!1},Object.defineProperty(r.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),r}(q);V.registeredClasses.AxisFill=Vi;var Dt=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="Grid",e.element=e.paper.add("path"),e.location=.5,e.isMeasured=!1,e.above=!1;var t=new te;return e.stroke=t.getFor("grid"),e.pixelPerfect=!0,e.strokeOpacity=.15,e.fill=Me(),e.applyTheme(),e}return Object.defineProperty(r.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),r.prototype.setDisabled=function(e){var t=l.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),t},r}(q);V.registeredClasses.Grid=Dt;pe.push({relevant:fe.maybeXS,state:function(l,r){if(l instanceof Dt){var e=l.states.create(r);return e.properties.disabled=!0,e}return null}});var Si=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="AxisLabel",e.isMeasured=!1,e.padding(10,10,10,10),e.location=.5,e.applyTheme(),e}return Object.defineProperty(r.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),r.prototype.setDisabled=function(e){var t=l.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),t},r}(He);V.registeredClasses.AxisLabel=Si;var St=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="Tick";var t=new te;return e.fillOpacity=0,e.length=6,e.strokeOpacity=.2,e.stroke=t.getFor("grid"),e.isMeasured=!1,e.nonScalingStroke=!0,e.applyTheme(),e}return Object.defineProperty(r.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(e){this.setPropertyValue("length",e,!0)},enumerable:!0,configurable:!0}),r}(q);V.registeredClasses.Tick=St;var cr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="AxisTick",e.element=e.paper.add("path"),e.location=.5,e.above=!1,e.isMeasured=!1,e.pixelPerfect=!0,e.strokeOpacity=0,e.length=5,e.applyTheme(),e}return Object.defineProperty(r.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),r.prototype.setDisabled=function(e){var t=l.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),t},r}(St);V.registeredClasses.AxisTick=cr;var Gt=function(l){_(r,l);function r(){var e=l.call(this)||this;e._chart=new he,e.className="AxisRenderer",e.minGridDistance=50,e.inside=!1,e.inversed=!1,e.tooltipLocation=.5,e.fullWidthTooltip=!1,e.cellStartLocation=0,e.cellEndLocation=1,e.minLabelPosition=0,e.maxLabelPosition=1,e.shouldClone=!1;var t=e.createChild(X);t.shouldClone=!1,t.layout="none",t.virtualParent=e,t.width=M(100),t.height=M(100),e.gridContainer=t,t.events.on("maxsizechanged",function(){e.inited&&e.invalidateAxisItems()},e,!1);var i=e.createChild(X);i.shouldClone=!1,i.isMeasured=!1,i.layout="none",i.width=M(100),i.height=M(100),e.breakContainer=i;var a=e.createChild(X);a.shouldClone=!1,a.isMeasured=!1,a.layout="none",a.width=M(100),a.height=M(100),e.bulletsContainer=a,e.line=e.createChild(fr),e.line.shouldClone=!1,e.line.strokeOpacity=0;var n=e.createChild(Dt);n.shouldClone=!1,e.baseGrid=n;var s=e._disposers;return s.push(n),s.push(e.line),s.push(t),s.push(i),s.push(a),s.push(e._chart),e.ticks.template.disabled=!0,e.axisFills.template.disabled=!0,e.axisFills.template.interactionsEnabled=!1,e.applyTheme(),e}return Object.defineProperty(r.prototype,"axis",{get:function(){return this._axis},set:function(e){this.setAxis(e)},enumerable:!0,configurable:!0}),r.prototype.setAxis=function(e){this._axis=e,this.baseGrid.parent=e,this.line.parent=e,this.gridContainer.bind("opacity",e)},r.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},r.prototype.updateTooltip=function(){},Object.defineProperty(r.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),r.prototype.positionItem=function(e,t){e&&e.moveTo(t)},r.prototype.positionToPoint=function(e,t){return{x:0,y:0}},r.prototype.positionToAngle=function(e){return 0},r.prototype.positionToCoordinate=function(e){var t,i=this.axis,a=i.axisFullLength;return i.renderer.inversed?t=(i.end-e)*a:t=(e-i.start)*a,t},r.prototype.updateGridContainer=function(){},r.prototype.getHeight=function(){var e=this.gridContainer;return e.parent?e.parent.pixelHeight:this.gridContainer.pixelHeight||0},r.prototype.getWidth=function(){var e=this.gridContainer;return e.parent?e.parent.pixelWidth:this.gridContainer.pixelWidth||0},r.prototype.coordinateToPosition=function(e,t){var i,a=this.axis,n=a.axisFullLength;return a.renderer.inversed?i=a.end-e/n:i=e/n+a.start,j(i,5)},r.prototype.pointToPosition=function(e){return 0},r.prototype.getPositionRangePath=function(e,t){return""},r.prototype.invalidateAxisItems=function(){var e=this.axis;e&&e.invalidateDataItems()},r.prototype.updateGridElement=function(e,t,i){},r.prototype.updateTickElement=function(e,t,i){},r.prototype.updateBullet=function(e,t,i){},r.prototype.updateLabelElement=function(e,t,i,a){},r.prototype.updateFillElement=function(e,t,i){e.startPosition=t,e.endPosition=i},r.prototype.updateAxisLine=function(){},r.prototype.updateBaseGridElement=function(){},r.prototype.updateBreakElement=function(e){this.positionItem(e.startLine,e.startPoint),this.toggleVisibility(e.startLine,e.startPosition,0,1),this.positionItem(e.endLine,e.endPoint),this.toggleVisibility(e.endLine,e.endPosition,0,1)},Object.defineProperty(r.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(e){this.setPropertyValue("minGridDistance",e)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null)},enumerable:!0,configurable:!0}),r.prototype.toggleVisibility=function(e,t,i,a){var n=this.axis,s=e.dataItem;s&&s instanceof Vt&&(g(s.minPosition)&&(i=s.minPosition),g(s.maxPosition)&&(a=s.maxPosition));var o=n.start+(n.end-n.start)*(i-1e-4),h=n.start+(n.end-n.start)*(a+1e-4);e.disabled||(t<o||t>h?e.__disabled=!0:e.__disabled=!1)},r.prototype.createBreakSprites=function(e){},Object.defineProperty(r.prototype,"axisFills",{get:function(){if(!this._axisFills){var e=this.createFill(this.axis);this._axisFills=new J(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new G(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),r.prototype.createFill=function(e){return new Vi(e)},Object.defineProperty(r.prototype,"grid",{get:function(){if(!this._grid){var e=this.createGrid();this._grid=new J(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new G(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),r.prototype.createGrid=function(){return new Dt},Object.defineProperty(r.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,e.isMeasured=!1,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new J(e),this._disposers.push(new G(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),r.prototype.createTick=function(){return new cr},Object.defineProperty(r.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();this._labels=new J(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new G(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),r.prototype.createLabel=function(){return new Si},Object.defineProperty(r.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e)&&this.axis&&this.axis.invalidate(),e?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(e){this.setPropertyValue("opposite",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(e){this.setPropertyValue("fullWidthTooltip",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(e){this.setPropertyValue("tooltipLocation2",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(e){this.setPropertyValue("cellStartLocation",e)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(e){this.setPropertyValue("cellEndLocation",e)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(e){this.setPropertyValue("inversed",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(e){this.setPropertyValue("minLabelPosition",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(e){this.setPropertyValue("maxLabelPosition",e,!0)},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.grid.template.copyFrom(e.grid.template),this.ticks.template.copyFrom(e.ticks.template),this.labels.template.copyFrom(e.labels.template),this.axisFills.template.copyFrom(e.axisFills.template),this.line.copyFrom(e.line),this.baseGrid.copyFrom(e.baseGrid)},r.prototype.toAxisPosition=function(e){return e},r.prototype.setVisibility=function(e){l.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},r}(X);V.registeredClasses.AxisRenderer=Gt;var Tt=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="AxisBullet",e.location=.5,e.isMeasured=!1,e.applyTheme(),e}return Object.defineProperty(r.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),r.prototype.setDisabled=function(e){var t=l.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),t},r}(X);V.registeredClasses.AxisBullet=Tt;var ke=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="AxisRendererY",e.minGridDistance=40,e.opposite=!1,e.height=M(100),e.labels.template.verticalCenter="middle",e.applyTheme(),e}return r.prototype.setAxis=function(e){l.prototype.setAxis.call(this,e),e.layout="horizontal"},r.prototype.updateGridContainer=function(){var e=this.axis;if(e){var t=this.gridContainer;t.y=e.pixelY,t.height=e.axisLength}},r.prototype.toAxisPosition=function(e){var t=this.axis;if(t){var i=1-e,a=t.relativePositionSprite,n=t.pixelY;if(a?n=_e({x:0,y:this.pixelY},this.parent,a).y:a=t.parent,a){var s=n/a.innerHeight,o=t.axisLength/a.innerHeight;return 1-(i-s)/o}}return e},r.prototype.processRenderer=function(){l.prototype.processRenderer.call(this);var e=this.axis;if(e){var t=e.title;t.valign="middle",e.height instanceof ve||(e.height=M(100)),this.opposite?(t.rotation=90,this.line.toBack(),t.toFront()):(t.rotation=-90,t.toBack(),this.line.toFront())}},r.prototype.updateTooltip=function(){var e=this.axis;if(e){var t=2e3,i=0,a=0,n=t,s=this.axisLength;this.opposite?this.inside&&(i=-t,n=t):this.inside||(i=-t,n=t),this.axis.updateTooltip("horizontal",{x:i,y:a,width:n,height:s})}},Object.defineProperty(r.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredHeight-e.pixelPaddingTop-e.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),r.prototype.positionToPoint=function(e,t){return{x:0,y:this.positionToCoordinate(e)}},r.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.y,e.x)},r.prototype.coordinateToPosition=function(e,t){var i,a=this.axis,n=a.axisFullLength;return a.renderer.inversed?i=1-a.start-e/n:i=e/n+(1-a.end),j(i,5)},r.prototype.getPositionRangePath=function(e,t){var i=Y(this.positionToCoordinate(e),0,this.axisLength),a=Y(this.positionToCoordinate(t),0,this.axisLength),n=Math.abs(a-i),s=this.getWidth(),o=Math.min(i,a),h=0;return Ne({x:h,y:o,width:s,height:n},!0)},r.prototype.updateGridElement=function(e,t,i){t=t+(i-t)*e.location;var a=this.positionToPoint(t);e.path=W({x:0,y:0})+R({x:this.getWidth(),y:0}),this.positionItem(e,a),this.toggleVisibility(e,t,0,1)},r.prototype.updateTickElement=function(e,t,i){t=t+(i-t)*e.location;var a=this.positionToPoint(t),n=e.length;try{Ue(this.axis.title.measuredWidth)}catch{}a.x=_e({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.opposite?n*=e.inside?-1:1:n*=e.inside?1:-1,e.path=W({x:0,y:0})+R({x:n,y:0}),this.positionItem(e,a),this.toggleVisibility(e,t,0,1)},r.prototype.updateAxisLine=function(){this.line.path=W({x:0,y:0})+R({x:0,y:this.axisLength})},r.prototype.updateBaseGridElement=function(){l.prototype.updateBaseGridElement.call(this);var e=this.axis,t=this.getWidth(),i=this.axisLength,a=e.basePoint.y,n=this.baseGrid;if(a<-.2||a>i+.2)n.hide(0);else{var s=_e({x:0,y:0},this.gridContainer,n.parent).x;n.path=W({x:0,y:0})+R({x:t,y:0}),n.moveTo({x:s,y:a}),n.show(0)}},r.prototype.updateLabelElement=function(e,t,i,a){C(a)||(a=e.location),t=t+(i-t)*a,e.isMeasured=!e.inside;var n=this.positionToPoint(t),s,o=0,h=this.gridContainer.maxWidth;this.opposite?(e.inside?(s="right",e.align=="left"&&(o=-h,s="left"),e.align=="center"&&(o=-h/2,s="middle")):s="left",n.x=0+o):(e.inside?(s="left",e.align=="right"&&(o=h,s="right"),e.align=="center"&&(o=h/2,s="middle")):s="right",n.x=this.measuredWidth+o),e.rotation==0&&(e.horizontalCenter=s),this.positionItem(e,n),this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition)},r.prototype.updateBreakElement=function(e){l.prototype.updateBreakElement.call(this,e);var t=e.startLine,i=e.endLine,a=e.fillShape,n=e.startPoint,s=e.endPoint,o=e.pixelMarginLeft,h=this.getWidth()-e.pixelMarginLeft-e.pixelMarginRight;n.y=Y(n.y,-1,this.axisLength+1),s.y=Y(s.y,-1,this.axisLength+1),n.y==s.y&&(n.y<0||n.y>this.axisLength)?e.fillShape.__disabled=!0:e.fillShape.__disabled=!1;var d=Math.abs(h-o);t.x=o,t.height=0,t.width=d,i.x=o,i.height=0,i.width=d,a.width=d,a.height=Math.abs(s.y-n.y),a.x=o,a.y=s.y},r.prototype.createBreakSprites=function(e){e.startLine=new rt,e.endLine=new rt;var t=new nr;t.setWavedSides(!0,!1,!0,!1),e.fillShape=t},r.prototype.positionToCoordinate=function(e){var t,i=this.axis,a=i.axisFullLength;return i.renderer.inversed?t=(e-i.start)*a:t=(i.end-e)*a,t},r.prototype.updateBullet=function(e,t,i){var a=.5;e instanceof Tt&&(a=e.location),t=t+(i-t)*a;var n=this.positionToPoint(t);n.x=_e({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},r}(Gt);V.registeredClasses.AxisRendererY=ke;pe.push({relevant:fe.widthS,state:function(l,r){if(l instanceof ke){var e=l.states.create(r);return e.properties.inside=!0,e.properties.maxLabelPosition=.9,e.properties.minLabelPosition=.1,e}return null}});pe.push({relevant:fe.widthXS,state:function(l,r){if(l instanceof ke){var e=l.states.create(r);return e.properties.disabled=!0,e}return null}});var Ti=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="ValueAxisBreak",e.applyTheme(),e}return Object.defineProperty(r.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),r}(Ht);V.registeredClasses.ValueAxisBreak=Ti;var Kt=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="ValueAxisDataItem",e.values.value={},e.values.endValue={},e.applyTheme(),e}return Object.defineProperty(r.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(e){this.setValue("endValue",e)},enumerable:!0,configurable:!0}),r}(Vt),E=function(l){_(r,l);function r(){var e=l.call(this)||this;return e._stepDecimalPlaces=0,e._prevStepDecimalPlaces=0,e._adjustLabelPrecision=!0,e._baseValue=0,e._adjustedStart=0,e._adjustedEnd=1,e._extremesChanged=!1,e._deltaMinMax=1,e._dsc=!1,e.calculateTotals=!1,e.className="ValueAxis",e.axisFieldName="value",e.setPropertyValue("maxZoomFactor",1e3),e.setPropertyValue("extraMin",0),e.setPropertyValue("extraMax",0),e.setPropertyValue("strictMinMax",!1),e.setPropertyValue("maxPrecision",Number.MAX_VALUE),e.setPropertyValue("adjustLabelPrecision",!0),e.setPropertyValue("extraTooltipPrecision",0),e.keepSelection=!1,e.includeRangesInMinMax=!1,e.applyTheme(),e}return r.prototype.fillRule=function(e){var t=e.value,i=e.component;e.axisFill.disabled||(j(t/i.step/2,5)==Math.round(t/i.step/2)?e.axisFill.__disabled=!0:e.axisFill.__disabled=!1)},r.prototype.createDataItem=function(){return new Kt},r.prototype.createAxisBreak=function(){return new Ti},r.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(this._start!=0&&this.dispatchImmediately("startchanged"),this._end!=1&&this.dispatchImmediately("endchanged"),(this._start!=0||this._end!=1)&&this.dispatchImmediately("startendchanged")):(this._start!=0||this._end!=1)&&(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},r.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var e=this.series.getIndex(0),t=e.startIndex;if(e.dataItems.length>0){t>0&&t--;var i=e.endIndex;i<e.dataItems.length&&i++;for(var a=function(o){var h={},d={};n.series.each(function(u){if(!u.excludeFromTotal){var p=u.dataItems.getIndex(o);p&&Pe(p.values,function(f){var c=p.values[f].workingValue;g(c)&&(g(h[f])?h[f]+=Math.abs(c):h[f]=Math.abs(c),g(d[f])?d[f]+=c:d[f]=c)})}}),n.series.each(function(u){if(!u.excludeFromTotal){var p=u.dataItems.getIndex(o);p&&Pe(p.values,function(f){var c=p.values[f].workingValue;g(c)&&(p.setCalculatedValue(f,h[f],"total"),p.setCalculatedValue(f,100*c/h[f],"totalPercent"),p.setCalculatedValue(f,d[f],"sum"))})}})},n=this,s=t;s<i;++s)a(s)}}},r.prototype.validate=function(){this.axisLength<=0||(l.prototype.validate.call(this),this.getMinMax(),g(this._minAdjusted)||this.dataItems.each(function(e){e.value=null}),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},r.prototype.calculateZoom=function(){if(g(this.min)&&g(this.max)){var e=this.positionToValue(this.start),t=this.positionToValue(this.end),i=this.adjustDifference(e,t),a=this.adjustMinMax(e,t,i,this._gridCount,!0),n=pa(a.step);this._stepDecimalPlaces=n,e=j(e,n),t=j(t,n),a=this.adjustMinMax(e,t,i,this._gridCount,!0);var s=a.step;if(this.syncWithAxis){var o=this.getCache(e+"-"+t);g(o)&&(s=o)}else e=a.min,t=a.max;(this._minZoomed!=e||this._maxZoomed!=t||this._step!=s||this._dsc)&&(this._dsc=!1,this._minZoomed=e,this._maxZoomed=t,this._step=s,this.dispatchImmediately("selectionextremeschanged"))}},r.prototype.fixSmallStep=function(e){return 1+e==1?(e*=2,this.fixSmallStep(e)):e},r.prototype.validateAxisElements=function(){var e=this;if(g(this.max)&&g(this.min)){var t=this.minZoomed-this._step*2;if(!this.logarithmic)t=Math.floor(t/this._step)*this._step;else{var i=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;i>1?t=Math.pow(10,Math.log(this.min)*Math.LOG10E):(t=Math.floor(this.minZoomed/this._step)*this._step,t==0&&(t=this.minZoomed))}var a=this._maxZoomed+this._step;this.resetIterators();var n=this._dataItemsIterator;if(this._step==0)return;this._step=this.fixSmallStep(this._step);var s=0,o=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;t<=a;){var h=this.isInBreak(t);if(!h){var d=n.find(function(v){return v.value===t});d.__disabled&&(d.__disabled=!1),this.appendDataItem(d),d.axisBreak=void 0,(d.value!=t||o)&&(d.value=t,d.text=this.formatLabel(t),d.label&&d.label.invalid&&d.label.validate(),d.value>=this.min&&d.value<=this.max&&d.label&&(this.axisLetter=="Y"&&d.label.measuredWidth>this.ghostLabel.measuredWidth||this.axisLetter=="X"&&d.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=d.label.currentText,this.ghostLabel.validate())),this.validateDataElement(d)}s++;var u=t;if(!this.logarithmic)t+=this._step;else{var i=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;i>1?t=Math.pow(10,Math.log(this.min)*Math.LOG10E+s):t+=this._step}var p=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(p<1){var f=Math.round(Math.abs(Math.log(Math.abs(p))*Math.LOG10E))+2;if(f=Math.min(13,f),t=j(t,f),u==t){t=a;break}}}var c=this._axisBreaks;if(c){var y=this.renderer;w(c.iterator(),function(v){if(v.breakSize>0&&K(v.startPoint,v.endPoint)>y.minGridDistance)for(var m=v.adjustedMin;m<=v.adjustedMax;){if(m>=v.adjustedStartValue&&m<=v.adjustedEndValue){var x=n.find(function(P){return P.value===m});x.__disabled&&(x.__disabled=!1),e.appendDataItem(x),x.axisBreak=v,x.value!=m&&(x.value=m,x.text=e.formatLabel(m),x.label&&x.label.invalid&&x.label.validate()),e.validateDataElement(x)}m+=v.adjustedStep}})}}},r.prototype.validateDataElement=function(e){l.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var t=this.renderer,i=e.value,a=e.endValue,n=this.valueToPosition(i);e.position=n;var s=n,o=this.valueToPosition(i+this._step);g(a)&&(s=this.valueToPosition(a),o=s),e.point=t.positionToPoint(n);var h=e.tick;h&&!h.disabled&&t.updateTickElement(h,n,s);var d=e.grid;d&&!d.disabled&&t.updateGridElement(d,n,s);var u=e.label;u&&!u.disabled&&t.updateLabelElement(u,n,s);var p=e.axisFill;p&&!p.disabled&&(t.updateFillElement(p,n,o),e.isRange||this.fillRule(e)),e.bullet&&t.updateBullet(e.bullet,n,s);var f=e.mask;f&&t.updateFillElement(f,n,o)},r.prototype.formatLabel=function(e){return this.adjustLabelPrecision&&e!=0?this.numberFormatter.format(e,void 0,this._stepDecimalPlaces):this.numberFormatter.format(e)},Object.defineProperty(r.prototype,"basePoint",{get:function(){var e=this.baseValue,t=this.valueToPosition(e),i=this.renderer.positionToPoint(t);return i},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"baseValue",{get:function(){var e=this._baseValue;return this.logarithmic&&(e=this.min),this._adapterO?this._adapterO.apply("baseValue",e):e},set:function(e){this._baseValue=e,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),r.prototype.anyToPosition=function(e){return this.valueToPosition(e)},r.prototype.valueToPoint=function(e){var t=this.valueToPosition(e),i=this.renderer.positionToPoint(t),a=this.renderer.positionToAngle(t);return{x:i.x,y:i.y,angle:a}},r.prototype.anyToPoint=function(e){return this.valueToPoint(e)},r.prototype.valueToPosition=function(e){if(g(e)){var t=this.min,i=this.max;if(g(t)&&g(i)){var a=this._difference,n=this._axisBreaks;n&&n.length>0&&We(n.iterator(),function(h){var d=h.adjustedStartValue,u=h.adjustedEndValue;if(g(d)&&g(u)){if(e<d)return!1;if(Wt({start:d,end:u},{start:t,end:i})){d=Math.max(d,t),u=Math.min(u,i);var p=h.breakSize;e>u?t+=(u-d)*(1-p):e<d||(e=d+(e-d)*p)}}return!0});var s=void 0;if(!this.logarithmic)s=(e-t)/a;else{var o=this.treatZeroAs;g(o)&&e<=o&&(e=o),s=(Math.log(e)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)}return s}}return 0},r.prototype.invalidateLabels=function(){l.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each(function(e){e.value=void 0}),this.invalidate())},r.prototype.positionToValue=function(e){var t=this.min,i=this.max;if(g(t)&&g(i)){var a=i-t,n=null,s=this._axisBreaks;return s&&s.length>0&&We(s.iterator(),function(o){var h=o.startPosition,d=o.endPosition,u=o.adjustedStartValue,p=o.adjustedEndValue;if(g(u)&&g(p)){if(u>i)return!1;if(Wt({start:u,end:p},{start:t,end:i})){u=ee(u,t),p=U(p,i);var f=o.breakSize;if(a-=(p-u)*(1-f),e>d)t+=(p-u)*(1-f);else if(!(e<h)){var c=(e-h)/(d-h);return n=u+c*(p-u),!1}}return!0}}),g(n)||(this.logarithmic?n=Math.pow(Math.E,(e*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):n=e*a+t),n}},r.prototype.xToValue=function(e){return this.positionToValue(this.pointToPosition({x:e,y:0}))},r.prototype.yToValue=function(e){return this.positionToValue(this.pointToPosition({x:0,y:e}))},r.prototype.pointToPosition=function(e){return this.renderer instanceof ke?1-this.renderer.pointToPosition(e):this.renderer.pointToPosition(e)},r.prototype.animateMinMax=function(e,t){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:t}],this.rangeChangeDuration,this.rangeChangeEasing)},r.prototype.getMinMax=function(){var e=this;this.updateGridCount();var t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if((!g(this._minDefined)||!g(this._maxDefined))&&(this.series.each(function(p){if(!p.ignoreMinMax){var f=p.min(e);g(f)&&f<t&&(t=f);var c=p.max(e);g(c)&&c>i&&(i=c)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(p){if(!p.ignoreMinMax){var f=U(p.value,p.endValue),c=ee(p.value,p.endValue);(f<t||!g(t))&&(t=f),(c>i||!g(i))&&(i=c)}})),this.logarithmic){var a=this.treatZeroAs;g(a)&&t<=0&&(t=a),t<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0)}if(t==0&&i==0&&(i=.9,t=-.9),g(this._minDefined)&&(t=this._minDefined),g(this._maxDefined)&&(i=this._maxDefined),this._adapterO&&(t=this._adapterO.apply("min",t)),this._adapterO&&(i=this._adapterO.apply("max",i)),!(!g(t)||!g(i))){this._minReal=t,this._maxReal=i,t==Number.POSITIVE_INFINITY&&(t=void 0),i==Number.NEGATIVE_INFINITY&&(i=void 0);var n=this.adjustDifference(t,i);if(t=this.fixMin(t),i=this.fixMax(i),i-t<=1/Math.pow(10,15)){if(i-t!=0)this._deltaMinMax=(i-t)/2;else{var s=Math.log(Math.abs(i))*Math.LOG10E,o=Math.pow(10,Math.floor(s));o=o/10,this._deltaMinMax=o}t-=this._deltaMinMax,i+=this._deltaMinMax}t-=(i-t)*this.extraMin,i+=(i-t)*this.extraMax;var h=this.strictMinMax;g(this._maxDefined)&&(h=!0);var d=this.adjustMinMax(t,i,n,this._gridCount,h);if(t=d.min,i=d.max,n=i-t,d=this.adjustMinMax(t,i,i-t,this._gridCount,!0),t=d.min,i=d.max,this.strictMinMax&&(g(this._minDefined)?t=this._minDefined:t=this._minReal,g(this._maxDefined)?i=this._maxDefined:i=this._maxReal,i-t<=1e-8&&(t-=this._deltaMinMax,i+=this._deltaMinMax),t-=(i-t)*this.extraMin,i+=(i-t)*this.extraMax),this._adapterO&&(t=this._adapterO.apply("min",t)),this._adapterO&&(i=this._adapterO.apply("max",i)),this._step=d.step,!g(t)&&!g(i)&&(this.start=0,this.end=1,this.renderer.labels.each(function(p){p.dataItem.text=""})),(this._minAdjusted!=t||this._maxAdjusted!=i)&&g(t)&&g(i)){var u=this._minMaxAnimation;if(this._extremesChanged&&g(this._minAdjusted)&&g(this._maxAdjusted)&&this.inited){if(u&&!u.isFinished()&&this._finalMax==i&&this._finalMin==t)return;this._finalMin=t,this._finalMax=i,u=this.animateMinMax(t,i),u&&!u.isFinished()?(u.events.on("animationprogress",this.validateDataItems,this),u.events.on("animationended",function(){e.series.each(function(p){p.validate()}),e.validateDataItems(),e.handleSelectionExtremesChange()}),this._minMaxAnimation=u):this.series.each(function(p){p.invalidate()}),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(u&&!u.isFinished()&&this._finalMax==i&&this._finalMin==t)return;this._minAdjusted=t,this._maxAdjusted=i,this._finalMin=t,this._finalMax=i,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged"),this._saveMinMax(t,i)}}this._extremesChanged=!1,this._difference=this.adjustDifference(t,i)}},r.prototype.fixMin=function(e){return e},r.prototype.fixMax=function(e){return e},r.prototype.adjustMinMax=function(e,t,i,a,n){a<=1&&(a=1),a=Math.round(a);var s=e,o=t;i===0&&(i=Math.abs(t));var h=Math.log(Math.abs(i))*Math.LOG10E,d=Math.pow(10,Math.floor(h));d=d/10;var u=d;n&&(u=0),this.logarithmic?(e<=0&&(e=this.baseValue),e==1/0&&(e=1),t==-1/0&&(t=10),this.strictMinMax?(this._minDefined>0?e=this._minDefined:e=e,this._maxDefined>0&&(t=t)):(e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),t=Math.pow(10,Math.ceil(Math.log(Math.abs(t))*Math.LOG10E)))):(n?(e=Math.floor(e/d)*d,t=Math.ceil(t/d)*d):(e=Math.ceil(e/d)*d-u,t=Math.floor(t/d)*d+u),e<0&&s>=0&&(e=0),t>0&&o<=0&&(t=0)),h=Math.log(Math.abs(i))*Math.LOG10E,d=Math.pow(10,Math.floor(h)),d=d/10;var p=Math.ceil(i/a/d)*d,f=Math.pow(10,Math.floor(Math.log(Math.abs(p))*Math.LOG10E)),c=Math.ceil(p/f);c>5?c=10:c<=5&&c>2&&(c=5),p=Math.ceil(p/(f*c))*f*c,this.maxPrecision<Number.MAX_VALUE&&p!=Ni(p,this.maxPrecision)&&(p=Ni(p,this.maxPrecision));var y=0;if(f<1&&(y=Math.round(Math.abs(Math.log(Math.abs(f))*Math.LOG10E))+1,p=j(p,y)),!this.logarithmic){var v=Math.floor(e/p);e=j(p*v,y);var m=void 0;n?m=Math.floor(t/p):m=Math.ceil(t/p),m==v&&m++,t=j(p*m,y),t<o&&(t=t+p),e>s&&(e=e-p)}return{min:e,max:t,step:p}},Object.defineProperty(r.prototype,"min",{get:function(){var e=this._minAdjusted;return g(e)||(e=this._minDefined),e},set:function(e){this._minDefined!=e&&(this._minDefined=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(e){this.setPropertyValue("extraMin",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(e){this.setPropertyValue("extraMax",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){var e=this._maxAdjusted;return g(e)||(e=this._maxDefined),e},set:function(e){this._maxDefined!=e&&(this._maxDefined=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(e){this.setPropertyValue("adjustLabelPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),r.prototype.registerSeries=function(e){return new at([l.prototype.registerSeries.call(this,e),e.events.on("extremeschanged",this.handleExtremesChange,this,!1),e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",e.invalidate,e,!1)])},r.prototype.handleSelectionExtremesChange=function(){var e=this,t,i,a=!0;if(w(this.series.iterator(),function(f){if(!f.ignoreMinMax&&!f.isHidden&&!f.outOfRange){f.visible&&!f.isHiding&&(a=!1);var c=f.selectionMin(e),y=f.selectionMax(e);g(c)&&(!g(t)||c<t)&&(t=c),g(y)&&(!g(i)||y>i)&&(i=y)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(f){if(!f.ignoreMinMax){var c=U(f.value,f.endValue),y=ee(f.value,f.endValue);c<t&&(t=c),y>i&&(i=y)}}),g(this._minDefined)?this.strictMinMax?t=this._minDefined:t=this.min:this.strictMinMax&&(t=this._minReal),g(this._maxDefined)?this.strictMinMax?i=this._maxDefined:i=this.max:this.strictMinMax&&(i=this._maxReal),t==i){t-=this._deltaMinMax,i+=this._deltaMinMax;var n=this.adjustMinMax(t,i,0,this._gridCount,this.strictMinMax);t=n.min,i=n.max}var s=this.adjustDifference(t,i),o=this.adjustMinMax(t,i,s,this._gridCount);t=o.min,i=o.max,t-=(i-t)*this.extraMin,i+=(i-t)*this.extraMax,t=Y(t,this.min,this.max),i=Y(i,this.min,this.max),s=this.adjustDifference(t,i),o=this.adjustMinMax(t,i,s,this._gridCount,!0),t=o.min,i=o.max,this.strictMinMax&&(t=ee(t,this._minDefined),i=U(i,this._maxDefined));var h=o.step;this.syncWithAxis&&(o=this.syncAxes(t,i,h),t=o.min,i=o.max,this.invalidate()),h=o.step,this._difference=this.adjustDifference(this.min,this.max);var d=this.valueToPosition(t),u=this.valueToPosition(i);a&&!this.syncWithAxis&&(d=0,u=1);var p=0;this.syncWithAxis?(p=5,this.setCache(t+"-"+i,h)):((this._step!=h||this._minZoomed!=t||this._maxZoomed!=i)&&(this._dsc=!0),this._step=h,this._minZoomed=t,this._maxZoomed=i),this.keepSelection||this.zoom({start:d,end:u},!1,!1,p)},Object.defineProperty(r.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(e){this.setPropertyValue("strictMinMax",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(e){this.setPropertyValue("logarithmic",e)&&(this.invalidate(),this.series.each(function(t){t.invalidateDataItems()}))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(e){this.setPropertyValue("keepSelection",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(e){this.setPropertyValue("includeRangesInMinMax",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(e){this.setPropertyValue("maxPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(e){this.setPropertyValue("extraTooltipPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),r.prototype.handleExtremesChange=function(){var e=this;if(this._extremesChanged=!0,this.getMinMax(),this.ghostLabel){var t=0;this.dataItems.each(function(i){i.label&&i.label.pixelWidth>t&&(e.ghostLabel.text=i.label.currentText)})}},r.prototype.getX=function(e,t,i,a,n){return this.renderer.positionToPoint(this.getPositionX(e,t,i,a,n)).x},r.prototype.getPositionX=function(e,t,i,a,n){var s=e.getWorkingValue(t);C(a)||(a="valueX");var o=e.getValue(a,"stack");g(s)||(s=this.baseValue,this.logarithmic&&o>0&&(s=0));var h=this.valueToPosition(s+o);return n&&(h=Y(h,n.start,n.end)),h},r.prototype.getY=function(e,t,i,a,n){return this.renderer.positionToPoint(this.getPositionY(e,t,i,a,n)).y},r.prototype.getPositionY=function(e,t,i,a,n){var s=e.getWorkingValue(t);C(a)||(a="valueY");var o=e.getValue(a,"stack");g(s)||(s=this.baseValue,this.logarithmic&&o>0&&(s=0));var h=this.valueToPosition(s+o);return n&&(h=Y(h,n.start,n.end)),h},r.prototype.getAngle=function(e,t,i,a,n){var s=e.getWorkingValue(t),o=e.getValue(a,"stack");g(s)||(s=this.baseValue);var h=this.valueToPosition(s+o);return n&&(h=Y(h,n.start,n.end)),this.positionToAngle(h)},r.prototype.getAnyRangePath=function(e,t,i){var a=this.valueToPosition(e),n=this.valueToPosition(t);return this.getPositionRangePath(a,n)},r.prototype.getTooltipText=function(e){var t=j(this.positionToValue(e),this._stepDecimalPlaces+this.extraTooltipPrecision),i=this.tooltip.numberFormatter.format(t);return this._adapterO?this._adapterO.apply("getTooltipText",i):i},r.prototype.zoomToValues=function(e,t,i,a){var n=(e-this.min)/(this.max-this.min),s=(t-this.min)/(this.max-this.min);this.zoom({start:n,end:s},i,a)},Object.defineProperty(r.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:ee(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:U(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),r.prototype.fixAxisBreaks=function(){var e=this;l.prototype.fixAxisBreaks.call(this);var t=this._axisBreaks;t&&t.length>0&&t.each(function(i){var a=i.adjustedStartValue,n=i.adjustedEndValue,s=n-a,o=Math.ceil(s*i.breakSize)*e._gridCount/(e.max-e.min),h=e.adjustMinMax(a,n,s,o,!0);i.adjustedStep=h.step,i.adjustedMin=h.min,i.adjustedMax=h.max}),this._difference=this.adjustDifference(this.min,this.max)},r.prototype.getPositionLabel=function(e){var t=this.positionToValue(e);return this.numberFormatter.format(t)},r.prototype.showTooltipAt=function(e){this.showTooltipAtPosition(this.valueToPosition(e))},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.min=e.min,this.max=e.max,this.calculateTotals=e.calculateTotals,this._baseValue=e.baseValue},Object.defineProperty(r.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(e){var t=this;this.setPropertyValue("syncWithAxis",e,!0)&&e&&(this._disposers.push(e.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("startendchanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",function(){t.clearCache(),t._disposers.push(V.events.once("exitframe",function(){t.handleSelectionExtremesChange()}))},this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"treatZeroAs",{get:function(){return this.getPropertyValue("treatZeroAs")},set:function(e){this.setPropertyValue("treatZeroAs",e,!0)},enumerable:!0,configurable:!0}),r.prototype.syncAxes=function(e,t,i){var a=this.syncWithAxis;if(a){g(e)||(e=this.min),g(t)||(t=this.max),g(i)||(i=this._step);var n=Math.round((a.maxZoomed-a.minZoomed)/a.step),s=Math.round((t-e)/i);if(g(n)&&g(s))for(var o=!1,h=0,d=(t-e)*.01,u=e,p=t,f=i;o!=!0;)if(o=this.checkSync(u,p,f,n),h++,h>1e3&&(o=!0),o)e=u,t=p,i=f;else{h/3==Math.round(h/3)?(u=e-d*h,e>=0&&u<0&&(u=0)):(p=t+d*h,p<=0&&p>0&&(p=0));var c=this.adjustMinMax(u,p,p-u,this._gridCount,!0);u=c.min,p=c.max,f=c.step}}return{min:e,max:t,step:i}},r.prototype.checkSync=function(e,t,i,a){for(var n=(t-e)/i,s=1;s<a;s++)if(j(n/s,1)==a||n*s==a)return!0;return!1},r.prototype.processConfig=function(e){e&&C(e.syncWithAxis)&&ne(e.syncWithAxis)&&(this.map.hasKey(e.syncWithAxis)?e.syncWithAxis=this.map.getKey(e.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+e.syncWithAxis+'" found for `syncWithAxis`'),delete e.xAxis)),l.prototype.processConfig.call(this,e)},r.prototype._saveMinMax=function(e,t){},r}(Ut);V.registeredClasses.ValueAxis=E;V.registeredClasses.ValueAxisDataItem=Kt;var yr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="DateAxisBreak",e.applyTheme(),e}return Object.defineProperty(r.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},set:function(e){this.setPropertyValue("startDate",e)&&(this.startValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(e){this.setPropertyValue("endDate",e)&&(this.endValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),r}(Ti);V.registeredClasses.DateAxisBreak=yr;var vr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="DateAxisDataItem",e.applyTheme(),e.values.date={},e.values.endDate={},e}return Object.defineProperty(r.prototype,"date",{get:function(){return this.dates.date},set:function(e){this.setDate("date",e),this.value=e.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(e){this.setDate("endDate",e),this.endValue=e.getTime()},enumerable:!0,configurable:!0}),r}(Kt),z=function(l){_(r,l);function r(){var e=l.call(this)||this;return e._gapBreaks=!1,e.gridIntervals=new Ce,e.groupIntervals=new Ce,e.dateFormats=new Oe,e.periodChangeDateFormats=new Oe,e._baseIntervalReal={timeUnit:"day",count:1},e._prevSeriesTime={},e._minDifference={},e._firstWeekDay=1,e.groupMin={},e.groupMax={},e._intervalMax={},e._intervalMin={},e.className="DateAxis",e.setPropertyValue("markUnitChange",!0),e.snapTooltip=!0,e.tooltipPosition="pointer",e.setPropertyValue("groupData",!1),e.groupCount=200,e.events.on("parentset",e.getDFFormatter,e,!1),e.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}]),e.groupIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}]),e.axisFieldName="date",e.applyTheme(),e}return r.prototype.fillRule=function(e){var t=e.value,i=e.component,a=i._gridInterval,n=$(a.timeUnit,a.count);Math.round((t-i.min)/n)/2==Math.round(Math.round((t-i.min)/n)/2)?e.axisFill.__disabled=!0:e.axisFill.__disabled=!1},r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",this.language.translate("_date_second")),this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute")),this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour")),this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day")),this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day")),this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",this.language.translate("_date_month")),this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year")),this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second")),this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",this.language.translate("_date_minute")),this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",this.language.translate("_date_month")+" "+this.language.translate("_date_year"))},r.prototype.createDataItem=function(){return new vr},r.prototype.createAxisBreak=function(){return new yr},r.prototype.validateDataItems=function(){var e=this.start,t=this.end,i=this.baseDuration,a=(this.max-this.min)/i;this._firstWeekDay=this.getFirstWeekDay(),this.getDFFormatter(),l.prototype.validateDataItems.call(this);var n=$(this.mainBaseInterval.timeUnit,this.mainBaseInterval.count);this.maxZoomFactor=Math.max(1,(this.max-this.min)/n),this._deltaMinMax=this.baseDuration/2;var s=(this.max-this.min)/i;e=e+(t-e)*(1-a/s),this.zoom({start:e,end:t},!1,!0)},r.prototype.handleSelectionExtremesChange=function(){},r.prototype.getIntervalMax=function(e){return this._intervalMax[e.timeUnit+e.count]},r.prototype.getIntervalMin=function(e){return this._intervalMin[e.timeUnit+e.count]},r.prototype.calculateZoom=function(){var e=this;l.prototype.calculateZoom.call(this);var t=this.adjustDifference(this._minZoomed,this._maxZoomed),i=!1;if(this.groupData&&C(t)){var a=this.mainBaseInterval,n=this.getIntervalMin(a),s=this.getIntervalMax(a),o=n+(s-n)*this.start,h=n+(s-n)*this.end,d=this.adjustDifference(o,h),u=d+(this.startLocation+(1-this.endLocation))*this.baseDuration,p=void 0;this.groupInterval?p=Ie({},this.groupInterval):(p=this.chooseInterval(0,u,this.groupCount,this.groupIntervals),$(p.timeUnit,p.count)<$(a.timeUnit,a.count)&&(p=Ie({},a))),this._groupInterval=p;var f=p.timeUnit+p.count;this._currentDataSetId!=f&&(this._currentDataSetId=f,this.dispatch("groupperiodchanged")),this.series.each(function(y){y.baseAxis==e&&y.setDataSet(e._currentDataSetId)&&(i=!0)})}var c=this.chooseInterval(0,t,this._gridCount);$(c.timeUnit,c.count)<this.baseDuration&&(c=Ie({},this.baseInterval)),this._gridInterval=c,this._nextGridUnit=fa(c.timeUnit),this._intervalDuration=$(c.timeUnit,c.count),this._gridDate=se(new Date(this.minZoomed-$(c.timeUnit,c.count)),c.timeUnit,c.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),w(this.series.iterator(),function(y){if(y.baseAxis==e){var v=y.getAxisField(e),m=se(new Date(e._minZoomed+e.baseDuration*.05),e.baseInterval.timeUnit,e.baseInterval.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone).getTime(),x=m.toString(),P=y.dataItemsByAxis.getKey(e.uid).getKey(x+y.currentDataSetId),S=0;e.start!=0&&(P?(P=e.findFirst(P,m,v),S=P.index):S=y.dataItems.findClosestIndex(e._minZoomed,function(B){return B[v]},"left"));var A=e.baseInterval,T=de(se(new Date(e._maxZoomed),A.timeUnit,A.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone),A.timeUnit,A.count,e._df.utc).getTime(),b=T.toString(),O=y.dataItemsByAxis.getKey(e.uid).getKey(b+y.currentDataSetId),D=y.dataItems.length;e.end!=1&&(O?D=O.index:(T-=1,D=y.dataItems.findClosestIndex(T,function(B){return B[v]},"right"),D++)),y.max(e)<m?(y.startIndex=y.dataItems.length,y.endIndex=y.dataItems.length,y.outOfRange=!0):y.min(e)>T?(y.startIndex=0,y.endIndex=0,y.outOfRange=!0):(y.outOfRange=!1,y.startIndex=S,y.endIndex=D),!i&&y.dataRangeInvalid&&y.validateDataRange()}})},r.prototype.findFirst=function(e,t,i){var a=e.index;if(a>0){var n=e.component,s=n.dataItems.getIndex(a-1),o=s[i];return!o||o.getTime()<t?e:this.findFirst(s,t,i)}else return e},r.prototype.validateData=function(){l.prototype.validateData.call(this),g(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(r.prototype,"minDifference",{get:function(){var e=this,t=Number.MAX_VALUE;return this.series.each(function(i){t>e._minDifference[i.uid]&&(t=e._minDifference[i.uid])}),(t==Number.MAX_VALUE||t==0)&&(t=$("day")),t},enumerable:!0,configurable:!0}),r.prototype.seriesDataChangeUpdate=function(e){this._minDifference[e.uid]=Number.MAX_VALUE},r.prototype.postProcessSeriesDataItems=function(e){var t=this;this._firstWeekDay=this.getFirstWeekDay(),e?this.seriesGroupUpdate(e):this.series.each(function(i){t.seriesGroupUpdate(i)}),this.addEmptyUnitsBreaks()},r.prototype.seriesGroupUpdate=function(e){var t=this;JSON.stringify(e._baseInterval[this.uid])!=JSON.stringify(this.mainBaseInterval)&&(e._baseInterval[this.uid]=this.mainBaseInterval,e.mainDataSet.each(function(i){t.postProcessSeriesDataItem(i)}),this.groupData&&this.groupSeriesData(e))},r.prototype.groupSeriesData=function(e){var t=this;if(e.baseAxis==this&&e.dataItems.length>0&&!e.dataGrouped){e.bulletsContainer.removeChildren();var i=[],a=this.mainBaseInterval,n=$(a.timeUnit,a.count);this.groupIntervals.each(function(s){var o=$(s.timeUnit,s.count);(o>n&&o<t.max-t.min||t.groupInterval)&&i.push(s)}),e._dataSets&&(e._dataSets.each(function(s,o){o.each(function(h){h.dispose()}),o.clear()}),e._dataSets.clear()),e.dataGrouped=!0,H(i,function(s){var o="date"+t.axisLetter,h=s.timeUnit+s.count,d=new ca(e.mainDataSet.template.clone());e.dataSets.setKey(h,d);var u=e.mainDataSet,p=Number.NEGATIVE_INFINITY,f=0,c,y=[];Pe(e.dataFields,function(m,x){var P=m;P!=o&&P.indexOf("Show")==-1&&y.push(P)});var v;u.each(function(m){var x=m.getDate(o);if(x){var P=x.getTime();v=se(new Date(P),s.timeUnit,s.count,t._df.firstDayOfWeek,t._df.utc,void 0,t._df.timezoneMinutes,t._df.timezone);var S=v.getTime();p<S?(c&&e._adapterO&&H(y,function(A){c.values[A].value=e._adapterO.apply("groupDataItem",{dataItem:c,interval:s,dataField:A,date:v,value:c.values[A].value}).value,c.values[A].workingValue=c.values[A].value}),c=d.create(),c.dataContext={},c.setWorkingLocation("dateX",e.dataItems.template.locations.dateX,0),c.setWorkingLocation("openDateX",e.dataItems.template.locations.openDateX,0),c.setWorkingLocation("dateY",e.dataItems.template.locations.dateY,0),c.setWorkingLocation("openDateY",e.dataItems.template.locations.openDateY,0),c.component=e,c.setDate(o,v),c._index=f,f++,H(y,function(A){var T=m.values[A];if(T){var b=T.value;e._adapterO&&(b=e._adapterO.apply("groupValue",{dataItem:m,interval:s,dataField:A,date:v,value:b}).value);var O=c.values[A];g(b)?(O.value=b,O.workingValue=b,O.open=b,O.close=b,O.low=b,O.high=b,O.sum=b,O.average=b,O.count=1):O.count=0}}),t.postProcessSeriesDataItem(c,s),Pe(e.propertyFields,function(A,T){var b=A,O=m.properties[A];C(O)&&(c.hasProperties=!0,c.setProperty(b,O))}),c.groupDataItems=[m],p=S):c&&(H(y,function(A){var T=e.groupFields[A],b=m.values[A];if(b){var O=b.value;if(e._adapterO&&(O=e._adapterO.apply("groupValue",{dataItem:m,interval:s,dataField:A,date:v,value:O}).value),g(O)){var D=c.values[A];g(D.open)||(D.open=O),D.close=O,(D.low>O||!g(D.low))&&(D.low=O),(D.high<O||!g(D.high))&&(D.high=O),g(D.sum)?D.sum+=O:D.sum=O,D.count++,D.average=D.sum/D.count,g(D[T])&&(D.value=D[T],D.workingValue=D.value)}}}),oi(m.properties,c.properties),Pe(e.propertyFields,function(A,T){var b=A,O=m.properties[A];C(O)&&(c.hasProperties=!0,c.setProperty(b,O))}),c.groupDataItems.push(m))}c&&oi(m.dataContext,c.dataContext)}),c&&e._adapterO&&H(y,function(m){c.values[m].value=e._adapterO.apply("groupDataItem",{dataItem:c,interval:s,dataField:m,date:v,value:c.values[m].value}).value,c.values[m].workingValue=c.values[m].value})}),this.calculateZoom()}},r.prototype.getDFFormatter=function(){this._df=this.dateFormatter},r.prototype.postProcessSeriesDataItem=function(e,t){var i=this,a="";t?a=t.timeUnit+t.count:t=this.mainBaseInterval;var n=e.component,s=n.dataItemsByAxis.getKey(this.uid);Pe(e.dates,function(o){var h=e.getDate(o),d=h.getTime(),u=se(new Date(d),t.timeUnit,t.count,i._firstWeekDay,i._df.utc,void 0,i._df.timezoneMinutes,i._df.timezone),p=u.getTime(),f=de(new Date(p),t.timeUnit,t.count,i._df.utc);e.setCalculatedValue(o,p,"open"),e.setCalculatedValue(o,f.getTime(),"close"),s.setKey(p+a,e)})},r.prototype.addEmptyUnitsBreaks=function(){var e=this;if(this.skipEmptyPeriods&&g(this.min)&&g(this.max)){var t=this.baseInterval.timeUnit,i=this.baseInterval.count;this._axisBreaks&&this._axisBreaks.clear();for(var a=se(new Date(this.min),t,i,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),n=void 0,s=function(){de(a,t,i,o._df.utc);var h=a.getTime(),d=h.toString(),u=va(o.series.iterator(),function(p){return!!p.dataItemsByAxis.getKey(e.uid).getKey(d+p.currentDataSetId)});u?n&&(n.endDate=new Date(h-1),n=void 0):n||(n=o.axisBreaks.create(),n.startDate=new Date(h),o._gapBreaks=!0)},o=this;a.getTime()<this.max-this.baseDuration;)s()}},r.prototype.fixAxisBreaks=function(){var e=this;l.prototype.fixAxisBreaks.call(this);var t=this._axisBreaks;t&&t.length>0&&t.each(function(i){var a=Math.ceil(e._gridCount*(Math.min(e.end,i.endPosition)-Math.max(e.start,i.startPosition))/(e.end-e.start));i.gridInterval=e.chooseInterval(0,i.adjustedEndValue-i.adjustedStartValue,a);var n=se(new Date(i.adjustedStartValue),i.gridInterval.timeUnit,i.gridInterval.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone);n.getTime()>i.startDate.getTime()&&de(n,i.gridInterval.timeUnit,i.gridInterval.count,e._df.utc),i.gridDate=n})},r.prototype.getFirstWeekDay=function(){return this._df?this._df.firstDayOfWeek:1},r.prototype.getGridDate=function(e,t){var i=this._gridInterval.timeUnit,a=this._gridInterval.count;se(e,i,1,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);var n=e.getTime(),s=pt(e),o=de(s,i,t,this._df.utc).getTime(),h=this.isInBreak(o);h&&h.endDate&&(s=new Date(h.endDate.getTime()),se(s,i,a,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),s.getTime()<h.endDate.getTime()&&de(s,i,a,this._df.utc),o=s.getTime());var d=this.adjustDifference(n,o),u=Math.round(d/$(i));return u<a?this.getGridDate(e,t+a):s},r.prototype.getBreaklessDate=function(e,t,i){var a=new Date(e.endValue);se(a,t,i,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),de(a,t,i,this._df.utc);var n=a.getTime();return e=this.isInBreak(n),e?this.getBreaklessDate(e,t,i):a},r.prototype.validateAxisElements=function(){var e=this;if(g(this.max)&&g(this.min)){this.calculateZoom();var t=this._gridDate.getTime(),i=this._gridInterval.timeUnit,a=this._gridInterval.count,n=pt(this._gridDate),s=this._dataItemsIterator;this.resetIterators();for(var o=function(){var u=h.getGridDate(pt(n),a);t=u.getTime();var p=pt(u);p=de(p,i,a,h._df.utc);var f=h.dateFormats.getKey(i);h.markUnitChange&&n&&zi(u,n,h._nextGridUnit,h._df.utc)&&i!=="year"&&(f=h.periodChangeDateFormats.getKey(i));var c=h._df.format(u,f),y=s.find(function(v){return v.text===c});y.__disabled&&(y.__disabled=!1),h.appendDataItem(y),y.axisBreak=void 0,y.date=u,y.endDate=p,y.text=c,h.validateDataElement(y),n=u},h=this;t<=this._maxZoomed;)o();var d=this.renderer;this._axisBreaks&&w(this._axisBreaks.iterator(),function(u){if(u.breakSize>0){var p=u.gridInterval.timeUnit,f=u.gridInterval.count;if(K(u.startPoint,u.endPoint)>d.minGridDistance*4)for(var c=u.gridDate.getTime(),y,v=0,m=function(){var x=pt(u.gridDate);if(c=de(x,p,f*v,e._df.utc).getTime(),v++,c>u.adjustedStartValue&&c<u.adjustedEndValue){var P=pt(x);P=de(P,p,f,e._df.utc);var S=e.dateFormats.getKey(p);e.markUnitChange&&y&&zi(x,y,e._nextGridUnit,e._df.utc)&&p!=="year"&&(S=e.periodChangeDateFormats.getKey(p));var A=e._df.format(x,S),T=s.find(function(b){return b.text===A});T.__disabled&&(T.__disabled=!1),e.appendDataItem(T),T.axisBreak=u,u.dataItems.moveValue(T),T.date=x,T.endDate=P,T.text=A,y=x,e.validateDataElement(T)}};c<=u.adjustedMax;)m()}})}},r.prototype.validateDataElement=function(e){if(e.itemIndex=this._axisItemCount,this._axisItemCount++,g(this.max)&&g(this.min)){var t=this.renderer,i=e.value,a=e.endValue;g(a)||(a=i);var n=this.valueToPosition(i),s=this.valueToPosition(a),o=s;!e.isRange&&this._gridInterval.count>this.baseInterval.count&&(s=n+(s-n)/(this._gridInterval.count/this.baseInterval.count)),e.position=n;var h=e.tick;h&&!h.disabled&&t.updateTickElement(h,n,s);var d=e.grid;d&&!d.disabled&&t.updateGridElement(d,n,s);var u=e.axisFill;u&&!u.disabled&&(t.updateFillElement(u,n,o),e.isRange||this.fillRule(e));var p=e.mask;p&&t.updateFillElement(p,n,s),e.bullet&&t.updateBullet(e.bullet,n,s);var f=e.label;if(f&&!f.disabled){var c=f.location;c==0&&(this._gridInterval.count==1&&this._gridInterval.timeUnit!="week"&&!e.isRange?c=.5:c=0),t.updateLabelElement(f,n,s,c)}}},Object.defineProperty(r.prototype,"baseDuration",{get:function(){return $(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),r.prototype.adjustMinMax=function(e,t){return{min:e,max:t,step:this.baseDuration}},r.prototype.fixMin=function(e){var t=this.baseInterval,i=se(new Date(e),t.timeUnit,t.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime(),a=de(new Date(i),t.timeUnit,t.count,this._df.utc).getTime();return i+(a-i)*this.startLocation},r.prototype.fixMax=function(e){var t=this.baseInterval,i=se(new Date(e),t.timeUnit,t.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime(),a=de(new Date(i),t.timeUnit,t.count,this._df.utc).getTime();return i+(a-i)*this.endLocation},r.prototype.chooseInterval=function(e,t,i,a){a||(a=this.gridIntervals);var n=a.getIndex(e),s=$(n.timeUnit,n.count),o=a.length-1;if(e>=o)return Ie({},a.getIndex(o));var h=Math.ceil(t/s);return t<s&&e>0?Ie({},a.getIndex(e-1)):h<=i?Ie({},a.getIndex(e)):e+1<a.length?this.chooseInterval(e+1,t,i,a):Ie({},a.getIndex(e))},r.prototype.formatLabel=function(e){return this._df.format(e)},r.prototype.dateToPosition=function(e){return this.valueToPosition(e.getTime())},r.prototype.anyToPosition=function(e){return e instanceof Date?this.dateToPosition(e):this.valueToPosition(e)},r.prototype.dateToPoint=function(e){var t=this.dateToPosition(e),i=this.renderer.positionToPoint(t),a=this.renderer.positionToAngle(t);return{x:i.x,y:i.y,angle:a}},r.prototype.anyToPoint=function(e){return e instanceof Date?this.dateToPoint(e):this.valueToPoint(e)},r.prototype.positionToDate=function(e){return new Date(this.positionToValue(e))},r.prototype.getPositionX=function(e,t,i,a,n){var s=this.getTimeByLocation(e,t,i);g(s)||(s=this.baseValue);var o=this.valueToPosition(s);return n&&(o=Y(o,n.start,n.end)),o},r.prototype.getPositionY=function(e,t,i,a,n){var s=this.getTimeByLocation(e,t,i),o=e.getValue("valueX","stack");g(s)||(s=this.baseValue);var h=this.valueToPosition(s+o);return n&&(h=Y(h,n.start,n.end)),h},r.prototype.getAngle=function(e,t,i,a,n){var s=this.getTimeByLocation(e,t,i),o=e.getValue(a,"stack");g(s)||(s=this.baseValue);var h=this.valueToPosition(s+o);return n&&(h=Y(h,n.start,n.end)),this.positionToAngle(h)},r.prototype.getTimeByLocation=function(e,t,i){if(C(t)){g(i)||(i=e.workingLocations[t],g(i)||(i=0));var a=e.values[t].open,n=e.values[t].close,s=e.values[t].workingValue,o=e.values[t].value,h=o-s;if(a-=h,n-=h,g(a)&&g(n))return a+(n-a)*i}},r.prototype.processSeriesDataItem=function(e,t){var i=e.component,a,n=e["date"+t];if(g(this.timezoneOffset)?(n.setTime(n.getTime()+(n.getTimezoneOffset()-this.timezoneOffset)*6e4),e.setValue("date"+t,n.getTime(),0)):C(this.timezone)&&(n=ya(n,this.timezone),e.setValue("date"+t,n.getTime(),0),e["date"+t]=n),n)a=n.getTime();else return;var s=e["openDate"+t],o=this._prevSeriesTime[i.uid],h;if(s&&(h=s.getTime()),g(h)){var d=Math.abs(a-h);this._minDifference[i.uid]>d&&(this._minDifference[i.uid]=d)}var u=a-o;u>0&&this._minDifference[i.uid]>u&&(this._minDifference[i.uid]=u),this._prevSeriesTime[i.uid]=a,i._baseInterval[this.uid]&&this.postProcessSeriesDataItem(e)},r.prototype.updateAxisBySeries=function(){l.prototype.updateAxisBySeries.call(this);var e=this.chooseInterval(0,this.minDifference,1);this.minDifference>=$("day",27)&&e.timeUnit=="week"&&(e.timeUnit="month",e.count=1),e.timeUnit=="month"&&(this.minDifference>=$("day",29*2)&&e.count==1&&(e.count=2),this.minDifference>=$("day",29*3)&&e.count==2&&(e.count=3),this.minDifference>=$("day",29*6)&&e.count==5&&(e.count=6)),this.minDifference>=$("hour",23)&&e.timeUnit=="hour"&&(e.timeUnit="day",e.count=1),this.minDifference>=$("week",1)-$("hour",1)&&e.timeUnit=="day"&&(e.timeUnit="week",e.count=1),this.minDifference>=$("year",1)-$("day",1.01)&&e.timeUnit=="month"&&(e.timeUnit="year",e.count=1),this._baseIntervalReal=e,this._mainBaseInterval=e},Object.defineProperty(r.prototype,"baseInterval",{get:function(){return this._groupInterval?this._groupInterval:this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(e){JSON.stringify(this._baseInterval)!=JSON.stringify(e)&&(this._baseInterval=e,this._mainBaseInterval=e,g(e.count)||(e.count=1),this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mainBaseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._mainBaseInterval?this._mainBaseInterval:this._baseIntervalReal},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(e){if(e){var t=this.axisBreaks.template;t.startLine.disabled=!0,t.endLine.disabled=!0,t.fillShape.disabled=!0,t.breakSize=0}else this._gapBreaks&&(this.axisBreaks.clear(),this._gapBreaks=!1);this.setPropertyValue("skipEmptyPeriods",e)&&(this.invalidate(),this.postProcessSeriesDataItems(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltipDateFormat",{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(e){this.setPropertyValue("tooltipDateFormat",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(e){this.setPropertyValue("markUnitChange",e)&&this.invalidateData()},enumerable:!0,configurable:!0}),r.prototype.getTooltipText=function(e){var t,i=this.positionToDate(e);if(i=se(i,this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),this.tooltipDate=i,C(this.tooltipDateFormat))t=this._df.format(i,this.tooltipDateFormat,["day","month","week","year"].indexOf(this.baseInterval.timeUnit)==-1);else{var a=this.dateFormats.getKey(this.baseInterval.timeUnit);a?t=this._df.format(i,a):t=this.getPositionLabel(e)}return this._adapterO?this._adapterO.apply("getTooltipText",t):t},r.prototype.roundPosition=function(e,t,i){var a=this.baseInterval,n=a.timeUnit,s=a.count,o=this.positionToDate(e);if(se(o,n,s,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),t>0&&de(o,n,t*s,this._df.utc),i>0&&i<1&&o.setTime(o.getTime()+this.baseDuration*i),this.isInBreak(o.getTime()))for(;o.getTime()<this.max&&(de(o,n,s,this._df.utc),!!this.isInBreak(o.getTime())););return this.dateToPosition(o)},r.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},r.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},r.prototype.getSeriesDataItem=function(e,t,i){var a=this.positionToValue(t),n=.5;this.axisLetter=="Y"?n=e.dataItems.template.locations.dateY:n=e.dataItems.template.locations.dateX;var s=a-n*this.baseDuration,o=se(new Date(a),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),h=se(new Date(a+this.baseDuration),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);h.getTime()>o.getTime()&&Math.abs(h.getTime()-s)<Math.abs(s-o.getTime())&&(o=h);var d=e.dataItemsByAxis.getKey(this.uid),u=d.getKey(o.getTime()+e.currentDataSetId);if(!u&&i){var p;this.axisLetter=="Y"?p="dateY":p="dateX",u=e.dataItems.getIndex(e.dataItems.findClosestIndex(o.getTime(),function(f){return f[p]?f[p].getTime():-1/0},"any"))}return u},r.prototype.getPositionLabel=function(e){var t=this.positionToDate(e);return this._df.format(t,this.getCurrentLabelFormat())},r.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},r.prototype.initRenderer=function(){l.prototype.initRenderer.call(this);var e=this.renderer;e&&(e.ticks.template.location=0,e.grid.template.location=0,e.labels.template.location=0,e.baseGrid.disabled=!0)},Object.defineProperty(r.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),r.prototype.animateMinMax=function(e,t){var i=this,a=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:t}],this.rangeChangeDuration,this.rangeChangeEasing);return a.events.on("animationprogress",function(){i.dispatch("extremeschanged")}),a},r.prototype.handleExtremesChange=function(){if(l.prototype.handleExtremesChange.call(this),this.groupData){var e=this.baseInterval.timeUnit+this.baseInterval.count;this.groupMin[e]=this._finalMin,this.groupMax[e]=this._finalMax}},r.prototype.zoomToDates=function(e,t,i,a,n){e=this._df.parse(e),t=this._df.parse(t),this.zoomToValues(e.getTime(),t.getTime(),i,a,n)},r.prototype.zoomToValues=function(e,t,i,a,n){var s=this;if(this.groupData){var d=this.adjustDifference(e,t),u=!1;t==this.max&&(u=!0);var p=!1;if(e==this.min&&(p=!0),C(d)){var f=this.mainBaseInterval,c=this.chooseInterval(0,d,this.groupCount,this.groupIntervals);(c.timeUnit==f.timeUnit&&c.count<f.count||$(c.timeUnit,1)<$(f.timeUnit,1))&&(c=Ie({},f));var y=c.timeUnit+c.count,v=this.groupMin[y],m=this.groupMax[y];(!g(v)||!g(m))&&(v=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,this.series.each(function(S){var A=S.min(s),T=S.max(s);if(S._dataSets){var b=S._dataSets.getKey(c.timeUnit+c.count);if(b){var O=b.getIndex(0),D=b.getIndex(b.length-1);O&&(S.xAxis==s?A=O.dateX.getTime():S.yAxis==s&&(A=O.dateY.getTime())),D&&(S.xAxis==s?T=D.dateX.getTime():S.yAxis==s&&(T=D.dateY.getTime()))}}T=se(de(new Date(T),c.timeUnit,1,s._df.utc),c.timeUnit,1,s._df.firstDayOfWeek,s._df.utc,void 0,s._df.timezoneMinutes,s._df.timezone).getTime(),A<v&&(v=A),T>m&&(m=T)}),this.groupMin[y]=v,this.groupMax[y]=m),e=Y(e,v,m),t=Y(t,v,m),n&&(u&&(e=t-d,e=Y(e,v,m)),p&&(t=e+d,t=Y(t,v,m)));var o=(e-v)/(m-v),h=(t-v)/(m-v);this.zoom({start:o,end:h},i,a)}}else{var o=this.valueToPosition(e),h=this.valueToPosition(t);this.zoom({start:o,end:h},i,a)}},r.prototype.asIs=function(e){return e=="baseInterval"||l.prototype.asIs.call(this,e)},r.prototype.copyFrom=function(e){var t=this;l.prototype.copyFrom.call(this,e),this.dateFormats=e.dateFormats,this.periodChangeDateFormats=e.periodChangeDateFormats,this.groupIntervals.clear(),e.groupIntervals.each(function(i){t.groupIntervals.push(Ie({},i))}),this.gridIntervals.clear(),e.gridIntervals.each(function(i){t.gridIntervals.push(Ie({},i))}),e._baseInterval&&(this.baseInterval=e._baseInterval)},r.prototype.showTooltipAtPosition=function(e,t){var i=this;if(t||(e=this.toAxisPosition(e)),this.snapTooltip){var a=this.positionToDate(e),n=a.getTime(),s;if(this.series.each(function(d){if(d.baseAxis==i){var u=i.getSeriesDataItem(d,e,!0);if(u){var p=void 0;d.xAxis==i&&(p=u.dateX),d.yAxis==i&&(p=u.dateY),s?Math.abs(s.getTime()-n)>Math.abs(p.getTime()-n)&&(s=p):s=p}}}),s){var o=s.getTime();s=se(new Date(o),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),o=s.getTime();var h=this.renderer.tooltipLocation;h==0&&(h=1e-4),s=new Date(s.getTime()+this.baseDuration*h),e=this.dateToPosition(s),this.chart.cursor&&this.chart.cursor.snapToSeries||this.series.each(function(d){var u=d.dataItemsByAxis.getKey(i.uid).getKey(o+d.currentDataSetId),p=d.showTooltipAtDataItem(u);p?i.chart._seriesPoints.push({series:d,point:p}):(d.tooltipText||d.tooltipHTML)&&d.hideTooltip()})}}l.prototype.showTooltipAtPosition.call(this,e,!0)},Object.defineProperty(r.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupData",{get:function(){return this.getPropertyValue("groupData")},set:function(e){var t=this;this.setPropertyValue("groupData",e)&&(this.series.each(function(i){i.setDataSet(""),e&&!i.dataGrouped&&i.inited&&(i._baseInterval[t.uid]=t.mainBaseInterval,t.groupSeriesData(i))}),this._currentDataSetId="",this._groupInterval=void 0,this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupInterval",{get:function(){return this.getPropertyValue("groupInterval")},set:function(e){this.setPropertyValue("groupInterval",e)&&(this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupCount",{get:function(){return this.getPropertyValue("groupCount")},set:function(e){this.setPropertyValue("groupCount",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timezoneOffset",{get:function(){return this.getPropertyValue("timezoneOffset")},set:function(e){this.setPropertyValue("timezoneOffset",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timezone",{get:function(){return this.getPropertyValue("timezone")},set:function(e){this.setPropertyValue("timezone",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),r.prototype.makeGap=function(e,t){var i=e.component;if(e&&t&&!i.connect&&g(i.autoGapCount)&&i.baseAxis==this){var a=e.dates["date"+this.axisLetter],n=t.dates["date"+this.axisLetter];if(a&&n){var s=a.getTime(),o=n.getTime();if(s-o>i.autoGapCount*this.baseDuration)return!0}}return!1},Object.defineProperty(r.prototype,"baseValue",{get:function(){return this.min},enumerable:!0,configurable:!0}),r.prototype._saveMinMax=function(e,t){var i=this.groupInterval;i||(i=this._mainBaseInterval);var a=i.timeUnit+i.count;this._intervalMin[a]=e,this._intervalMax[a]=t},r}(E);V.registeredClasses.DateAxis=z;V.registeredClasses.DateAxisDataItem=vr;var Ee=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="AxisRendererX",e.minGridDistance=120,e.opposite=!1,e.rotation=0,e.width=M(100),e.labels.template.horizontalCenter="middle",e.applyTheme(),e}return r.prototype.setAxis=function(e){l.prototype.setAxis.call(this,e),e.layout="vertical"},r.prototype.updateGridContainer=function(){var e=this.axis;if(e){var t=this.gridContainer;t.x=e.pixelX,t.width=e.axisLength}},r.prototype.processRenderer=function(){l.prototype.processRenderer.call(this);var e=this.axis;if(e){e.width instanceof ve||(e.width=M(100)),Ue(this.line);var t=e.title;t.rotation=0,t.align="center",this.opposite?(this.line.toFront(),t.toBack()):(t.toFront(),this.toBack(),this.line.toBack())}},r.prototype.updateTooltip=function(){var e=this.axis;if(e){var t=1e3,i=this.line.pixelX,a=this.line.pixelY,n=this.axisLength,s=t;this.opposite?this.inside||(a=-t,s=t):this.inside&&(a=-t,s=t),this.axis.updateTooltip("vertical",{x:i,y:a,width:n,height:s})}},r.prototype.updateLabelElement=function(e,t,i,a){C(a)||(a=e.location),t=t+(i-t)*a;var n=this.positionToPoint(t);e.isMeasured=!e.inside;var s=0,o,h=this.gridContainer.maxHeight;this.opposite?(e.inside?(o="top",e.valign=="bottom"&&(s=h,o="bottom"),e.valign=="middle"&&(s=h/2,o="middle")):o="bottom",n.y=s):(e.inside?(o="bottom",e.valign=="top"&&(s=-h,o="top"),e.valign=="middle"&&(s=-h/2,o="middle")):o="top",n.y+=s),e.rotation==0&&(e.verticalCenter=o),this.positionItem(e,n),this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(r.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredWidth-e.pixelPaddingRight-e.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),r.prototype.positionToPoint=function(e,t){return{x:this.positionToCoordinate(e),y:0}},r.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.x,e.y)},r.prototype.getPositionRangePath=function(e,t){var i=Y(this.positionToCoordinate(e),0,this.axisLength),a=Y(this.positionToCoordinate(t),0,this.axisLength),n=Math.abs(a-i),s=this.getHeight(),o=Math.min(i,a),h=0;return Ne({x:o,y:h,width:n,height:s},!0)},r.prototype.updateBreakElement=function(e){l.prototype.updateBreakElement.call(this,e);var t=e.startLine,i=e.endLine,a=e.fillShape,n=e.startPoint,s=e.endPoint,o=e.pixelMarginLeft,h=this.getHeight()-e.pixelMarginTop-e.pixelMarginBottom;n.x=Y(n.x,-1,this.axisLength+1),s.x=Y(s.x,-1,this.axisLength+1),n.x==s.x&&(n.x<0||n.x>this.axisLength)?e.fillShape.__disabled=!0:e.fillShape.__disabled=!1,t.y=o,t.width=0,t.height=h,i.y=o,i.width=0,i.height=h,a.height=h,a.width=Math.abs(s.x-n.x),a.y=o,a.x=n.x},r.prototype.updateGridElement=function(e,t,i){t=t+(i-t)*e.location;var a=this.positionToPoint(t);e.path=W({x:0,y:0})+R({x:0,y:this.getHeight()}),this.positionItem(e,a),this.toggleVisibility(e,t,0,1)},r.prototype.updateTickElement=function(e,t,i){t=t+(i-t)*e.location;var a=this.positionToPoint(t),n=e.length;a.y=_e({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.opposite?n*=e.inside?1:-1:n*=e.inside?-1:1,e.path=W({x:0,y:0})+R({x:0,y:n}),this.positionItem(e,a),this.toggleVisibility(e,t,0,1)},r.prototype.updateAxisLine=function(){this.line.path=W({x:0,y:0})+R({x:this.axisLength,y:0})},r.prototype.updateBaseGridElement=function(){l.prototype.updateBaseGridElement.call(this);var e=this.axis,t=this.getHeight(),i=this.axisLength,a=this.baseGrid,n=e.basePoint.x;if(n<-.2||n>i+.2)a.hide(0);else{var s=_e({x:0,y:0},this.gridContainer,a.parent).y;a.path=W({x:0,y:0})+R({x:0,y:t}),a.moveTo({x:n,y:s}),a.show(0)}},r.prototype.createBreakSprites=function(e){e.startLine=new rt,e.endLine=new rt;var t=new nr;t.setWavedSides(!1,!0,!1,!0),e.fillShape=t},r.prototype.toAxisPosition=function(e){var t=e,i=this.axis;if(i){var a=i.relativePositionSprite,n=i.pixelX;if(a?n=_e({x:this.pixelX,y:0},this.parent,a).x:a=i.parent,a){var s=n/a.innerWidth,o=i.axisLength/a.innerWidth;return(t-s)/o}}return e},r.prototype.updateBullet=function(e,t,i){var a=.5;e instanceof Tt&&(a=e.location),t=t+(i-t)*a;var n=this.positionToPoint(t);n.y=_e({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},r}(Gt);V.registeredClasses.AxisRendererX=Ee;pe.push({relevant:fe.heightXS,state:function(l,r){if(l instanceof Ee){var e=l.states.create(r);return e.properties.inside=!0,e.properties.maxLabelPosition=.9,e.properties.minLabelPosition=.1,e}return null}});pe.push({relevant:fe.heightXXS,state:function(l,r){if(l instanceof Ee){var e=l.states.create(r);return e.properties.disabled=!0,e}return null}});var gr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="CategoryAxisBreak",e.properties.startLocation=.5,e.properties.endLocation=.5,e.applyTheme(),e}return Object.defineProperty(r.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue,this.startLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue,this.endLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(e){this.setPropertyValue("startCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(e){this.setPropertyValue("endCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startValue",{get:function(){var e=this.getPropertyValue("startCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endValue",{get:function(){var e=this.getPropertyValue("endCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),r}(Ht);V.registeredClasses.CategoryAxisBreak=gr;var mr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.seriesDataItems={},e.className="CategoryAxisDataItem",e.text="{category}",e.locations.category=0,e.locations.endCategory=1,e.deltaPosition=0,e.applyTheme(),e}return Object.defineProperty(r.prototype,"category",{get:function(){return this._adapterO&&this._adapterO.isEnabled("category")?this._adapterO.apply("category",this.properties.category):this.properties.category},set:function(e){var t=this.properties.category;this.setProperty("category",e),C(t)&&t!=e&&this.component&&this.component.validateDataElement(this)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(e){this.setProperty("endCategory",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"deltaPosition",{get:function(){return this.properties.deltaCoordinate},set:function(e){e!=this.properties.deltaCoordinate&&(this.setProperty("deltaCoordinate",e),this.component&&(this.component.invalidateDataItems(),this.component.invalidateSeries()))},enumerable:!0,configurable:!0}),r}(Vt),Z=function(l){_(r,l);function r(){var e=l.call(this)||this;e.dataItemsByCategory=new Oe,e.className="CategoryAxis",e.axisFieldName="category",e._lastDataItem=e.createDataItem(),e._lastDataItem.component=e,e._disposers.push(e._lastDataItem),e.applyTheme();var t=e.dataItemsByCategory;return e.addDisposer(e.mainDataSet.events.on("removed",function(i){t.removeKey(i.oldValue.category)})),e}return r.prototype.createDataItem=function(){return new mr},r.prototype.createAxisBreak=function(){return new gr},r.prototype.processSeriesDataItem=function(e,t){l.prototype.processSeriesDataItem.call(this,e,t);var i=e["category"+this.axisLetter];if(C(i)){var a=this.dataItemsByCategory.getKey(i);if(a){var n=e.component.uid,s=a.seriesDataItems[n];s||(s=[],a.seriesDataItems[n]=s),s.push(e)}}else e.component.dataItems.remove(e)},r.prototype.validateDataRange=function(){var e=this;l.prototype.validateDataRange.call(this),w(this._series.iterator(),function(t){if(t.xAxis instanceof r&&t.yAxis instanceof r)t.invalidateDataRange();else{var i=e.positionToIndex(e.start),a=e.positionToIndex(e.end);a>=e.dataItems.length&&a--;for(var n=t.uid,s=void 0,o=void 0,h=i;h<=a;h++){var d=e.dataItems.getIndex(h);if(d){var u=d.seriesDataItems[n];if(u)for(var p=0;p<u.length;p++){var f=u[p];if(f){var c=f.index;(!g(s)||c<s)&&(s=c),(!g(o)||c>o)&&(o=c)}}}}g(s)?t.startIndex=s:t.start=e.start,g(o)?t.endIndex=o+1:t.end=e.end,e._axisBreaks&&e._axisBreaks.length>0&&t.invalidateDataRange()}})},r.prototype.validate=function(){var e=this;l.prototype.validate.call(this);var t=this.dataItems.length,i=Y(Math.floor(this.start*t-1),0,t),a=Y(Math.ceil(this.end*t),0,t);this.renderer.invalid&&this.renderer.validate();var n=this.renderer.axisLength/Math.max(this.renderer.minGridDistance,1/Number.MAX_SAFE_INTEGER),s=Math.min(this.dataItems.length,Math.ceil((a-i)/n));if(this._startIndex=Math.floor(i/s)*s,this._endIndex=Math.ceil(this.end*t),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=s,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),i=ee(0,this._startIndex-this._frequency),a=U(this.dataItems.length,this._endIndex+this._frequency);for(var o=0,h=0;h<i;h++){var d=this.dataItems.getIndex(h);d.__disabled=!0}for(var h=a,u=this.dataItems.length;h<u;h++){var d=this.dataItems.getIndex(h);d.__disabled=!0}for(var h=i;h<a;h++)if(h<this.dataItems.length){var d=this.dataItems.getIndex(h);if(h/this._frequency==Math.round(h/this._frequency)){var p=this.isInBreak(h);p||(this.appendDataItem(d),this.validateDataElement(d,o)),o++}else d.__disabled=!0}if(this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,o+1,this.dataItems.length),this._axisBreaks){var f=this._axisBreaks;f.each(function(c){var y=c.adjustedStartValue,v=c.adjustedEndValue;if(Wt({start:y,end:v},{start:e._startIndex,end:e._endIndex})){for(var m=y;m<=v;m++){var x=e.dataItems.getIndex(m);x.__disabled=!0}var P=Y(Math.ceil(e._frequency/c.breakSize),1,v-y),S=0;if(c.breakSize>0)for(var m=y;m<=v;m=m+P){var x=e.dataItems.getIndex(m);x.__disabled=!1,e.appendDataItem(x),e.validateDataElement(x,S),S++}}})}this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout()}},r.prototype.validateDataElement=function(e,t,i){l.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var a=this.renderer;g(i)||(i=this.categoryToIndex(e.category));var n=this.categoryToIndex(e.endCategory);g(n)||(n=i);var s=this.indexToPosition(i,e.locations.category),o=this.indexToPosition(n,e.locations.endCategory);e.position=s;var h,d,u;e.isRange&&(h=n,d=this.indexToPosition(i,e.locations.category),u=this.indexToPosition(h,e.locations.endCategory)),e.point=a.positionToPoint(s);var p=e.tick;p&&!p.disabled&&a.updateTickElement(p,s,o);var f=e.grid;f&&!f.disabled&&a.updateGridElement(f,s,o);var c=e.label;c&&!c.disabled&&((!e.isRange||c.text==null)&&(e.text=e.text),a.updateLabelElement(c,s,o),(a instanceof ke&&e.label.measuredWidth>this.ghostLabel.measuredWidth||a instanceof Ee&&e.label.measuredHeight>this.ghostLabel.measuredHeight)&&(e.label.html?this.ghostLabel.html=e.label.currentText:this.ghostLabel.text=e.label.currentText));var y=e.axisFill;y&&!y.disabled&&(e.isRange||(h=i+this._frequency,d=this.indexToPosition(i,y.location),u=this.indexToPosition(h,y.location)),a.updateFillElement(y,d,u),e.isRange||this.fillRule(e,t)),e.bullet&&a.updateBullet(e.bullet,s,o);var v=e.mask;v&&a.updateFillElement(v,d,u)},r.prototype.disposeData=function(){this.dataItemsByCategory.clear(),l.prototype.disposeData.call(this)},r.prototype.processDataItem=function(e,t){e&&(l.prototype.processDataItem.call(this,e,t),C(e.category)&&this.dataItemsByCategory.setKey(e.category,e))},r.prototype.getDataItem=function(e){var t=e[this.dataFields.category];if(C(t)){var i=this.dataItemsByCategory.getKey(t);return i||this.dataItems.create()}},r.prototype.indexToPosition=function(e,t){g(t)||(t=.5);var i=this.startIndex,a=this.endIndex,n=this.adjustDifference(i,a),s=this.startLocation,o=this.endLocation;if(n-=s,n-=1-o,this._axisBreaks){var h=this._axisBreaks;We(h.iterator(),function(p){var f=p.adjustedStartValue,c=p.adjustedEndValue;if(e<i||!g(f)||!g(c))return!1;if(Wt({start:f,end:c},{start:i,end:a})){f=Math.max(i,f),c=Math.min(a,c);var y=p.breakSize;e>c?i+=(c-f)*(1-y):e<f||(e=f+(e-f)*y)}return!0})}var d=0,u=this.dataItems.getIndex(e);return u&&(d=u.deltaPosition),j(d+(e+t-s-i)/n,5)},r.prototype.categoryToPosition=function(e,t){var i=this.categoryToIndex(e);return this.indexToPosition(i,t)},r.prototype.categoryToPoint=function(e,t){var i=this.categoryToPosition(e,t),a=this.renderer.positionToPoint(i),n=this.renderer.positionToAngle(i);return{x:a.x,y:a.y,angle:n}},r.prototype.anyToPoint=function(e,t){return this.categoryToPoint(e,t)},r.prototype.anyToPosition=function(e,t){return this.categoryToPosition(e,t)},r.prototype.categoryToIndex=function(e){if(C(e)){var t=this.dataItemsByCategory.getKey(e);if(t)return t.index}},r.prototype.zoomToCategories=function(e,t){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(t)+1)},r.prototype.getAnyRangePath=function(e,t,i,a){var n=this.categoryToPosition(e,i),s=this.categoryToPosition(t,a);return this.getPositionRangePath(n,s)},r.prototype.roundPosition=function(e,t){var i=this.positionToIndex(e);return this.indexToPosition(i,t)},r.prototype.getFirstSeriesDataItem=function(e,t){for(var i=0;i<e.dataItems.length;i++){var a=e.dataItems.getIndex(i);if(e.xAxis==this&&a.categoryX==t||e.yAxis==this&&a.categoryY==t)return a}},r.prototype.getLastSeriesDataItem=function(e,t){for(var i=e.dataItems.length-1;i>=0;i--){var a=e.dataItems.getIndex(i);if(e.xAxis==this&&a.categoryX==t||e.yAxis==this&&a.categoryY==t)return a}},r.prototype.getSeriesDataItemByCategory=function(e,t){var i=this,a;return t.dataItems.each(function(n){t.xAxis==i?n.categoryX==e&&(a=n):t.yAxis==i&&n.categoryY==e&&(a=n)}),a},r.prototype.getSeriesDataItem=function(e,t,i){var a=this;if(g(t)){var n=this.positionToIndex(t);n>=this.dataItems.length&&n--;var s=this.dataItems.getIndex(n);if(s){var o=s.category,h,d=e.dataItems.getIndex(n);return d&&(e.xAxis==this&&d.categoryX==o||e.yAxis==this&&d.categoryY==o)?d:(e.dataItems.each(function(u){e.xAxis==a&&u.categoryX==o&&(h||(h=u),Math.abs(n-h.index)>Math.abs(n-u.index)&&(h=u)),e.yAxis==a&&u.categoryY==o&&(h||(h=u),Math.abs(n-h.index)>Math.abs(n-u.index)&&(h=u))}),h)}}},r.prototype.getX=function(e,t,i,a,n){var s=this.getPositionX(e,t,i,a,n);return me(s)?this.basePoint.x:this.renderer.positionToPoint(s).x},r.prototype.getPositionX=function(e,t,i,a,n){var s;return C(t)&&(s=this.categoryToPosition(e.categories[t],i)),n&&(s=Y(s,n.start,n.end)),s},r.prototype.getY=function(e,t,i,a,n){var s=this.getPositionY(e,t,i,a,n);return me(s)?this.basePoint.y:this.renderer.positionToPoint(s).y},r.prototype.getPositionY=function(e,t,i,a,n){var s;return C(t)&&(s=this.categoryToPosition(e.categories[t],i)),n&&(s=Y(s,n.start,n.end)),s},r.prototype.getAngle=function(e,t,i,a,n){var s=this.categoryToPosition(e.categories[t],i);return n&&(s=Y(s,n.start,n.end)),this.positionToAngle(s)},r.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},r.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},r.prototype.getTooltipText=function(e){var t=this.dataItems.getIndex(this.positionToIndex(e));if(t)return this.tooltipDataItem=t,this.tooltip.dataItem=t,this.tooltipText?this.tooltipText:this._adapterO?this._adapterO.apply("getTooltipText",t.category):t.category},r.prototype.positionToIndex=function(e){e=j(e,10),e<0&&(e=0),e>1&&(e=1);var t=this.startIndex,i=this.endIndex,a=i-t-this.startLocation-(1-this.endLocation);e+=1/a*this.startLocation;var n=null;if(this._axisBreaks){var s=this._axisBreaks;We(s.iterator(),function(o){var h=o.startPosition,d=o.endPosition,u=o.adjustedStartValue,p=o.adjustedEndValue;u=ee(u,t),p=U(p,i);var f=o.breakSize;if(a-=(p-u)*(1-f),e>d)t+=(p-u)*(1-f);else if(!(e<h)){var c=(e-h)/(d-h);return n=u+Math.round(c*(p-u)),!1}return!0})}return g(n)||(n=Math.floor(e*a+t)),n>=this.dataItems.length&&(n=this.dataItems.length-1),n},r.prototype.positionToCategory=function(e){return this.getPositionLabel(e)},r.prototype.getPositionLabel=function(e){var t=this.dataItems.getIndex(this.positionToIndex(e));if(t)return t.category},Object.defineProperty(r.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),r.prototype.initRenderer=function(){l.prototype.initRenderer.call(this);var e=this.renderer;e.baseGrid.disabled=!0},Object.defineProperty(r.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortBySeries",{get:function(){return this.getPropertyValue("sortBySeries")},set:function(e){this.setPropertyValue("sortBySeries",e,!0)},enumerable:!0,configurable:!0}),r.prototype.processConfig=function(e){e&&C(e.sortBySeries)&&ne(e.sortBySeries)&&(this.map.hasKey(e.sortBySeries)?e.sortBySeries=this.map.getKey(e.sortBySeries):(this.addDelayedMap("sortBySeries",e.sortBySeries),delete e.sortBySeries)),l.prototype.processConfig.call(this,e)},r}(Ut);V.registeredClasses.CategoryAxis=Z;V.registeredClasses.CategoryAxisDataItem=mr;var Zt=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="XYSeriesDataItem",e.values.customValue={},e.values.valueX={stack:0},e.values.valueY={stack:0},e.values.openValueX={},e.values.openValueY={},e.values.dateX={},e.values.dateY={},e.values.openDateX={},e.values.openDateY={},e.setLocation("dateX",.5,0),e.setLocation("dateY",.5,0),e.setLocation("categoryX",.5,0),e.setLocation("categoryY",.5,0),e.applyTheme(),e}return Object.defineProperty(r.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"customValue",{get:function(){return this.values.customValue.value},set:function(e){this.setValue("customValue",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"valueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(e){this.setDate("dateX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(e){this.setDate("dateY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(e){this.setCategory("categoryX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(e){this.setCategory("categoryY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(e){this.setValue("openValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(e){this.setValue("openValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(e){this.setDate("openDateX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(e){this.setDate("openDateY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(e){this.setCategory("openCategoryX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(e){this.setCategory("openCategoryY",e)},enumerable:!0,configurable:!0}),r.prototype.getMin=function(e,t,i){var a=this,n;return g(i)||(i=0),H(e,function(s){var o;t?o=a.getWorkingValue(s):o=a.getValue(s),o+=i,(o<n||!g(n))&&(n=o)}),n},r.prototype.getMax=function(e,t,i){var a=this,n;return g(i)||(i=0),H(e,function(s){var o;t?o=a.getWorkingValue(s):o=a.getValue(s),o+=i,(o>n||!g(n))&&(n=o)}),n},r}(Nt),st=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.groupFields={},e._xAxis=new he,e._yAxis=new he,e._xValueFields=[],e._yValueFields=[],e._baseInterval={},e.dataGrouped=!1,e.usesShowFields=!1,e._dataSetChanged=!1,e._maxxX=1e5,e._maxxY=1e5,e._propertiesChanged=!1,e.outOfRange=!1,e.className="XYSeries",e.isMeasured=!1,e.groupFields.valueX="close",e.groupFields.valueY="close",e.groupFields.customValue="close",e.groupFields.openValueX="open",e.groupFields.openValueY="open",e.cursorTooltipEnabled=!0,e.cursorHoverEnabled=!0,e.excludeFromTotal=!1,e.mainContainer.mask=new q,e.mainContainer.mask.setElement(e.paper.add("path")),e.stacked=!1,e.snapTooltip=!1,e._showBullets=!1,e.tooltip.pointerOrientation="horizontal",e.properties.stackToNegative=!0,e.hideTooltipWhileZooming=!0,e.setPropertyValue("maskBullets",!0),e.tooltip.events.on("hidden",function(){e.returnBulletDefaultState()},void 0,!1),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.observe(Q,function(){e.inited&&(e._propertiesChanged=!0,e.legendDataItem&&(e.legendDataItem.childrenCreated=!1),e.chart&&e.chart.legend&&e.chart.legend.invalidateDataItems(),e.invalidate())},void 0,!1),e.applyTheme(),e}return r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y Series"))},r.prototype.createDataItem=function(){return new Zt},r.prototype.resetExtremes=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear()},r.prototype.dataChangeUpdate=function(){this.dataGrouped=!1,this._baseInterval={},this._currentDataSetId="",this.resetExtremes(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},r.prototype.validateData=function(){this._baseInterval={};var e=this.dataFields;if(e.valueYShow||e.openValueXShow||e.openValueXShow||e.openValueYShow?this.usesShowFields=!0:this.usesShowFields=!1,this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),l.prototype.validateData.call(this),this.updateItemReaderText(),this.chart&&(!C(this.dataFields[this._xField])||!C(this.dataFields[this._yField])))throw Error('Data fields for series "'+(this.name?this.name:this.uid)+'" are not properly defined.');this.inited&&this.isHidden&&this.hide(0),this.dataGrouped=!1},r.prototype.processDataItem=function(e,t){try{l.prototype.processDataItem.call(this,e,t),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y"),this.setInitialWorkingValues(e)}catch(i){this._chart&&this._chart.raiseCriticalError(i)}},r.prototype.updateDataItem=function(e){l.prototype.updateDataItem.call(this,e),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y")},r.prototype.setInitialWorkingValues=function(e){},r.prototype.disposeData=function(){l.prototype.disposeData.call(this);var e=this.xAxis,t=this.yAxis;if(e){var i=this.dataItemsByAxis.getKey(e.uid);i&&i.clear(),e instanceof Z&&this.clearCatAxis(e)}if(t){var a=this.dataItemsByAxis.getKey(t.uid);a&&a.clear(),t instanceof Z&&this.clearCatAxis(t)}},r.prototype.clearCatAxis=function(e){var t=this.uid;e.dataItems.each(function(i){i.seriesDataItems[t]&&(i.seriesDataItems[t]=[])})},r.prototype.defineFields=function(){var e=this.xAxis,t=this.yAxis;if(e&&t){var i=e.axisFieldName,a=i+"X",n="open"+Xt(i)+"X",s=t.axisFieldName,o=s+"Y",h="open"+Xt(s)+"Y";this._xField=a,this._yField=o,this.dataFields[n]&&(this._xOpenField=n),this.dataFields[h]&&(this._yOpenField=h),!this.dataFields[h]&&this.baseAxis==t&&(this._yOpenField=o),!this.dataFields[n]&&this.baseAxis==e&&(this._xOpenField=a),this.stacked&&this.baseAxis==e&&(this._xOpenField=a),this.stacked&&this.baseAxis==t&&(this._yOpenField=o),e instanceof Z&&t instanceof Z&&(this._yOpenField||(this._yOpenField=o)),this._xValueFields=[],this._yValueFields=[],this.addValueField(e,this._xValueFields,this._xField),this.addValueField(e,this._xValueFields,this._xOpenField),this.addValueField(t,this._yValueFields,this._yField),this.addValueField(t,this._yValueFields,this._yOpenField)}},r.prototype.addValueField=function(e,t,i){e instanceof E&&C(this.dataFields[i])&&t.indexOf(i)==-1&&t.push(i)},r.prototype.setCategoryAxisField=function(e,t){C(this.dataFields[e])||(this.dataFields[e]=t.dataFields.category)},r.prototype.setDateAxisField=function(e,t){C(this.dataFields[e])||(this.dataFields[e]=t.dataFields.date)},r.prototype.afterDraw=function(){l.prototype.afterDraw.call(this),this.createMask()},r.prototype.createMask=function(){if(this.mainContainer.mask){var e=this.getMaskPath();w(this.axisRanges.iterator(),function(t){t.axisFill.fillPath&&(t.axisFill.validate(),e+=t.axisFill.fillPath)}),this.mainContainer.mask.path=e}},r.prototype.getMaskPath=function(){return this.xAxis&&this.yAxis?Ne({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength}):""},r.prototype.getAxisField=function(e){if(e==this.xAxis)return this.xField;if(e==this.yAxis)return this.yField},r.prototype.validateDataItems=function(){var e=this.chart;e&&(this._maxxX=ee(1e5,e.plotContainer.maxWidth*2),this._maxxY=ee(1e5,e.plotContainer.maxHeight*2));var t=this.xAxis,i=this.yAxis;t&&i&&(t.updateAxisBySeries(),i.updateAxisBySeries()),l.prototype.validateDataItems.call(this),t&&i&&(t.postProcessSeriesDataItems(this),i.postProcessSeriesDataItems(this))},r.prototype.validateDataRange=function(){var e=this.xAxis,t=this.yAxis;e&&t&&(e.dataRangeInvalid&&e.validateDataRange(),t.dataRangeInvalid&&t.validateDataRange()),l.prototype.validateDataRange.call(this)},r.prototype.validate=function(){var e=this.xAxis,t=this.yAxis;if(e&&t){e.invalid&&e.validate(),t.invalid&&t.validate(),this.y=t.pixelY,this.x=e.pixelX,this._showBullets=!0;var i=this.minBulletDistance;g(i)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<i&&(this._showBullets=!1)}if(this.updateTooltip(),!(e instanceof z&&e.groupData&&!this.dataGrouped||t instanceof z&&t.groupData&&!this.dataGrouped)){l.prototype.validate.call(this);var a=this.chart,n=this.maskBullets;a&&n&&a.className=="XYChart"&&((a.leftAxesContainer.layout=="vertical"||a.rightAxesContainer.layout=="vertical")&&(this.yAxis?this.bulletsContainer.mask=this.yAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0),(a.topAxesContainer.layout=="horizontal"||a.bottomAxesContainer.layout=="horizontal")&&(this.xAxis?this.bulletsContainer.mask=this.xAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0))}},Object.defineProperty(r.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var e=this.chart.xAxes.getIndex(0);if(!e)throw Error("There are no X axes on chart.");this.xAxis=e}return this._xAxis.get()}},set:function(e){this.setXAxis(e)},enumerable:!0,configurable:!0}),r.prototype.setXAxis=function(e){var t=this._xAxis.get();t!=e&&(t&&(this.dataItemsByAxis.removeKey(t.uid),this._xAxis.dispose(),t.series.removeValue(this)),this._xAxis.set(e,e.registerSeries(this)),this.dataItemsByAxis.setKey(e.uid,new Oe),this.invalidateData())},Object.defineProperty(r.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var e=this.chart.yAxes.getIndex(0);if(!e)throw Error("There are no Y axes on chart.");this.yAxis=e}return this._yAxis.get()}},set:function(e){this.setYAxis(e)},enumerable:!0,configurable:!0}),r.prototype.setYAxis=function(e){var t=this._yAxis.get();t!=e&&(t&&(this.dataItemsByAxis.removeKey(t.uid),this._yAxis.dispose(),t.series.removeValue(this)),this._yAxis.set(e,e.registerSeries(this)),e.chart instanceof Ke&&e.chart.handleYAxisSet(this),this.dataItemsByAxis.setKey(e.uid,new Oe),this.invalidateData())},Object.defineProperty(r.prototype,"baseAxis",{get:function(){var e=this.xAxis,t=this.yAxis;return!this._baseAxis&&e&&t&&(t instanceof z&&(this._baseAxis=t),e instanceof z&&(this._baseAxis=e),t instanceof Z&&(this._baseAxis=t),e instanceof Z&&(this._baseAxis=e),this._baseAxis||(this._baseAxis=e)),this._baseAxis},set:function(e){this._baseAxis!=e&&(this._baseAxis=e,this.invalidate())},enumerable:!0,configurable:!0}),r.prototype.addData=function(e,t,i){l.prototype.addData.call(this,e,t,i);var a=this.scrollbarSeries;a&&(this.scrollbarSeries.addData(e,t,!0),this.scrollbarSeries._parseDataFrom=this._parseDataFrom)},r.prototype.setData=function(e){l.prototype.setData.call(this,e),this.scrollbarSeries&&this.scrollbarSeries.setData(e)},r.prototype.setDataSet=function(e){var t=l.prototype.setDataSet.call(this,e);if(t){this._dataSetChanged=!0;var i=this.dataItems;if(this.resetExtremes(),i&&i.length>0){var a=this.xAxis,n=this.yAxis;this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.appeared||this.processValues(!1),a instanceof z&&a==this.baseAxis&&(this._tmin.setKey(a.uid,i.getIndex(0).dateX.getTime()),this._tmax.setKey(a.uid,i.getIndex(i.length-1).dateX.getTime()),this.dispatch("extremeschanged")),n instanceof z&&n==this.baseAxis&&(this._tmin.setKey(n.uid,i.getIndex(0).dateY.getTime()),this._tmax.setKey(n.uid,i.getIndex(i.length-1).dateY.getTime()),this.dispatch("extremeschanged"))}}return t},r.prototype.processValues=function(e){l.prototype.processValues.call(this,e);var t=this.xAxis,i=this.yAxis;if(!(!t||!i)){var a=this.dataItems,n=1/0,s=-1/0,o=1/0,h=-1/0,d=this.startIndex,u=this.endIndex,p=d,f=u;e||(d=0,u=this.dataItems.length);for(var c=d;c<u;c++){var y=a.getIndex(c);this.getStackValue(y,e);var v=y.getValue("valueX","stack"),m=y.getValue("valueY","stack");e||(v=y.getValue("valueX","stackTrue"),m=y.getValue("valueY","stackTrue")),n=U(y.getMin(this._xValueFields,e,v),n),o=U(y.getMin(this._yValueFields,e,m),o),s=ee(y.getMax(this._xValueFields,e,v),s),h=ee(y.getMax(this._yValueFields,e,m),h),this.stacked&&(this.baseAxis==t&&(m<o&&(o=m),m>h&&(h=m)),this.baseAxis==i&&(v<n&&(n=v),v>s&&(s=v)))}t.processSeriesDataItems(),i.processSeriesDataItems();var x=t.uid,P=i.uid;if(this.xAxis instanceof E&&(n==1/0||s==-1/0)){this._smin.setKey(x,void 0),this._smax.setKey(x,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(this.yAxis instanceof E&&(o==1/0||h==-1/0)){this._smin.setKey(P,void 0),this._smax.setKey(P,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(!e&&(this._tmin.getKey(x)!=n||this._tmax.getKey(x)!=s||this._tmin.getKey(P)!=o||this._tmax.getKey(P)!=h)){this._tmin.setKey(x,n),this._tmax.setKey(x,s),this._tmin.setKey(P,o),this._tmax.setKey(P,h);var S=this.stackedSeries;S&&(S.isDisposed()?this.stackedSeries=void 0:S.processValues(!1)),this.dispatchImmediately("extremeschanged")}if(d!=p||u!=f){n=1/0,s=-1/0,o=1/0,h=-1/0;for(var c=p;c<f;c++){var y=a.getIndex(c);this.getStackValue(y,e);var v=y.getValue("valueX","stack"),m=y.getValue("valueY","stack");e||(v=y.getValue("valueX","stackTrue"),m=y.getValue("valueY","stackTrue")),n=U(y.getMin(this._xValueFields,e,v),n),o=U(y.getMin(this._yValueFields,e,m),o),s=ee(y.getMax(this._xValueFields,e,v),s),h=ee(y.getMax(this._yValueFields,e,m),h),this.stacked&&(this.baseAxis==t&&(m<o&&(o=m),m>h&&(h=m)),this.baseAxis==i&&(v<n&&(n=v),v>s&&(s=v)))}}if(this.xAxis instanceof E&&(n==1/0||s==-1/0)){this._smin.setKey(x,void 0),this._smax.setKey(x,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(this.yAxis instanceof E&&(o==1/0||h==-1/0)){this._smin.setKey(P,void 0),this._smax.setKey(P,void 0),this.dispatchImmediately("selectionextremeschanged");return}if((this._smin.getKey(x)!=n||this._smax.getKey(x)!=s||this._smin.getKey(P)!=o||this._smax.getKey(P)!=h)&&(this._smin.setKey(x,n),this._smax.setKey(x,s),this._smin.setKey(P,o),this._smax.setKey(P,h),this.appeared||this.start!=0||this.end!=1||this.dataItems!=this.mainDataSet)){var A=!1;if(i instanceof E&&!(i instanceof z)){var T=this._tmin.getKey(P);(!g(T)||(this.usesShowFields||this._dataSetChanged||t instanceof z&&t.groupData&&this.isShowing)&&o<T||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmin.setKey(P,o),A=!0);var b=this._tmax.getKey(P);(!g(b)||(this.usesShowFields||this._dataSetChanged||t instanceof z&&t.groupData&&this.isShowing)&&h>b||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmax.setKey(P,h),A=!0)}if(t instanceof E&&!(t instanceof z)){var T=this._tmin.getKey(x);(!g(T)||(this.usesShowFields||this._dataSetChanged||i instanceof z&&i.groupData&&this.isShowing)&&n<T||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmin.setKey(x,n),A=!0);var b=this._tmax.getKey(x);(!g(b)||(this.usesShowFields||this._dataSetChanged||i instanceof z&&i.groupData&&this.isShowing)&&s>b||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmax.setKey(x,s),A=!0)}A&&this.dispatchImmediately("extremeschanged"),this.start==0&&this.end==1&&(this._dataSetChanged=!1),this.dispatchImmediately("selectionextremeschanged")}!e&&this.stacked&&this.processValues(!0)}},r.prototype.hideTooltip=function(e){l.prototype.hideTooltip.call(this,e),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0},r.prototype.showTooltipAtPosition=function(e,t){var i;if(this.visible&&!this.isHiding&&!this.isShowing){var a=this._xAxis.get(),n=this._yAxis.get();a==this.baseAxis&&(i=a.getSeriesDataItem(this,a.toAxisPosition(e),this.snapTooltip)),n==this.baseAxis&&(i=n.getSeriesDataItem(this,n.toAxisPosition(t),this.snapTooltip));var s=this.showTooltipAtDataItem(i);if(s)return s;if(!this.tooltipText&&!this.tooltipHTML)return}this.hideTooltip()},r.prototype.getAdjustedXLocation=function(e,t,i){return e.locations[t]},r.prototype.getAdjustedYLocation=function(e,t,i){return e.locations[t]},r.prototype.showTooltipAtDataItem=function(e){var t,i,a=this.chart.cursor;if(a&&a.hideSeriesTooltipsOnSelection&&a.selection.visible&&a.downPoint){this.hideTooltip();return}if(this.returnBulletDefaultState(e),e&&e.visible){if(this.updateLegendValue(e),this.cursorTooltipEnabled){this.tooltipDataItem=e;var n=this.tooltipXField,s=this.tooltipYField;if(C(e[n])&&C(e[s])){var o=this.getPoint(e,n,s,this.getAdjustedXLocation(e,n),this.getAdjustedYLocation(e,s));if(o&&!(this.chart.className=="XYChart"&&(o.y<-1||o.y>this.yAxis.pixelHeight+1||o.x<-1||o.x>this.xAxis.pixelWidth+1))){if(this.tooltipX=o.x,this.tooltipY=o.y,this._prevTooltipDataItem!=e&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:e}),this._prevTooltipDataItem=e),this.cursorHoverEnabled)try{for(var h=li(e.sprites),d=h.next();!d.done;d=h.next()){var u=d.value;!u.parent.visible||u.isHidden||u.__disabled||u.disabled||u.isHiding||(u.interactions.isRealHover||(u.dispatchImmediately("over"),u.interactions.isRealHover=!0),u.isHover=!0)}}catch(p){t={error:p}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(t)throw t.error}}return this.showTooltip()?tt({x:o.x,y:o.y},this):void 0}}}}else this.updateLegendValue(e,!0)},r.prototype.returnBulletDefaultState=function(e){var t,i;if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=e)try{for(var a=li(this._prevTooltipDataItem.sprites),n=a.next();!n.done;n=a.next()){var s=n.value;if(s.isDisposed())this._prevTooltipDataItem=void 0;else{var o=s.interactions.isRealHover;s.isHover=!1,o&&s.dispatchImmediately("out")}}}catch(h){t={error:h}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(t)throw t.error}}},r.prototype.shouldCreateBullet=function(e,t){var i=t.xField;C(i)||(i=this.xField);var a=t.yField;if(C(a)||(a=this.yField),this.xAxis instanceof E&&!e.hasValue([i])||this.yAxis instanceof E&&!e.hasValue([a]))return!1;if(t.disabled){var n=t.propertyFields.disabled,s=e.dataContext;return!!(s&&s[n]===!1)}return!0},r.prototype.updateTooltip=function(){!this.hideTooltipWhileZooming&&this.tooltip&&!this.tooltip.isHidden&&!this.isHiding&&!this.isHidden&&this.tooltipDataItem&&this.showTooltipAtDataItem(this.tooltipDataItem)},r.prototype.positionBullet=function(e){l.prototype.positionBullet.call(this,e);var t=e.dataItem,i=e.xField;C(i)||(i=this.xField);var a=e.yField;C(a)||(a=this.yField);var n=this.xAxis,s=this.yAxis;if(n instanceof E&&!t.hasValue([i])||s instanceof E&&!t.hasValue([a]))e.visible=!1;else{var o=this.getBulletLocationX(e,i),h=this.getBulletLocationY(e,a),d=this.getPoint(t,i,a,o,h);if(d){var u=this.xOpenField,p=this.yOpenField,f=void 0,c=void 0;if(n instanceof z){g(o)||(o=0);var y=void 0,v=t.getWorkingValue(i);u?y=t.getWorkingValue(u):n==this.baseAxis&&(y=n.baseValue),g(y)||(y=v);var m=t.getValue("valueX","stack");if(y+=m,v+=m,y==v){var x=n.baseInterval,P=n.dateFormatter;y=se(new Date(y),x.timeUnit,x.count,P.firstDayOfWeek,P.utc,void 0,P.timezoneMinutes,P.timezone).getTime(),v=de(new Date(y),x.timeUnit,x.count,P.utc).getTime()}var S=void 0;n==this.baseAxis?S=y+(v-y)*o:S=y+(v-y)*(1-o),f=n.valueToPosition(S)}else if(n instanceof E){g(o)||(o=0);var y=void 0,v=t.getWorkingValue(i);u?y=t.getWorkingValue(u):y=n.baseValue;var m=t.getValue("valueX","stack");y+=m,v+=m;var S=y+(v-y)*(1-o);f=n.valueToPosition(S)}else if(n instanceof Z){var A=this.getAdjustedXLocation(t,i,e.locationX),T=this.getAdjustedXLocation(t,u,e.locationX);f=n.categoryToPosition(t[i],A);var b=void 0;u&&(b=n.categoryToPosition(t[u],T)),g(b)||(b=1),f=b+(f-b)*o}if(s instanceof z){g(h)||(h=0);var y=void 0,v=t.getWorkingValue(a);p?y=t.getWorkingValue(p):s==this.baseAxis&&(y=s.baseValue),g(y)||(y=v);var m=t.getValue("valueY","stack");if(y+=m,v+=m,y==v){var x=s.baseInterval,P=s.dateFormatter;y=se(new Date(y),x.timeUnit,x.count,P.firstDayOfWeek,P.utc,void 0,P.timezoneMinutes,P.timezone).getTime(),v=de(new Date(y),x.timeUnit,x.count,P.utc).getTime()}var S=void 0;s==this.baseAxis?S=y+(v-y)*h:S=y+(v-y)*(1-h),c=s.valueToPosition(S)}else if(s instanceof E){g(h)||(h=0);var y=void 0,v=t.getWorkingValue(a);p?y=t.getWorkingValue(p):y=s.baseValue;var m=t.getValue("valueY","stack");y+=m,v+=m;var S=y+(v-y)*(1-h);c=s.valueToPosition(S)}else if(s instanceof Z){c=s.categoryToPosition(t[a],h);var O=this.getAdjustedYLocation(t,a,e.locationY),D=this.getAdjustedYLocation(t,p,e.locationY);c=s.categoryToPosition(t[a],O);var B=void 0;p&&(B=s.categoryToPosition(t[p],D)),g(B)||(B=1),c=B+(c-B)*h}e.visible=!0,this.positionBulletReal(e,f,c)}else e.visible=!1}},r.prototype.positionBulletReal=function(e,t,i){e.x=this.xAxis.renderer.positionToPoint(t,i).x,e.y=this.yAxis.renderer.positionToPoint(i,t).y},r.prototype.getBulletLocationX=function(e,t){var i=e.locationX,a=e.dataItem;return g(i)||(i=a.workingLocations[t]),i},r.prototype.getBulletLocationY=function(e,t){var i=e.locationY,a=e.dataItem;return g(i)||(i=a.workingLocations[t]),i},r.prototype.updateStacking=function(){var e=this;this.invalidateDataItems(),this.chart&&this.chart.series.each(function(t){t.baseAxis==e.baseAxis&&(t.stackedSeries=void 0,t.invalidateDataItems(),t.invalidateProcessedData())})},Object.defineProperty(r.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(e){if(this.setPropertyValue("stacked",e,!0)){this.updateStacking();var t=this.xAxis,i=this.yAxis;if(!e){var a;t!=this.baseAxis&&t instanceof E&&(a=this.xField),i!=this.baseAxis&&i instanceof E&&(a=this.yField),a&&this.dataItems.each(function(n){n.setCalculatedValue(a,0,"stack"),n.setCalculatedValue(a,0,"stackTrue")})}}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e)},enumerable:!0,configurable:!0}),r.prototype.show=function(e){var t=this;this.isHidden&&(this.appeared&&this.xAxis instanceof z&&this.xAxis.groupData&&(this._tmin.setKey(this.yAxis.uid,void 0),this._tmax.setKey(this.yAxis.uid,void 0)),this.appeared&&this.yAxis instanceof z&&this.yAxis.groupData&&(this._tmin.setKey(this.xAxis.uid,void 0),this._tmax.setKey(this.xAxis.uid,void 0)));var i;this.xAxis instanceof E&&this.xAxis!=this.baseAxis&&(i=this._xValueFields),this.yAxis instanceof E&&this.yAxis!=this.baseAxis&&(i=this._yValueFields);var a=this.startIndex,n=this.endIndex,s=0,o=this.defaultState.transitionDuration;g(e)&&(o=e);var h;w(Pt(this.dataItems.iterator()),function(u){var p=u[0],f=u[1],c=o;(p<t.startIndex-10||p>t.endIndex+10)&&(c=0,s=0),t.sequencedInterpolation&&c>0&&(s=t.sequencedInterpolationDelay*p+o*(p-a)/(n-a)),h=f.show(c,s,i)}),this.dataSets.each(function(u,p){p!=t.dataItems&&p.each(function(f){f.events.disable(),f.show(0,0,i),f.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(u){u.events.disable(),u.show(0,0,i),u.events.enable()});var d=l.prototype.show.call(this,e);return h&&!h.isFinished()&&(d=h),this.hidden&&(this.dispatchImmediately("selectionextremeschanged"),this.hidden=!1),d},r.prototype.hide=function(e){var t=this,i,a,n=this.xAxis;n instanceof E&&n!=this.baseAxis&&(i=this._xValueFields,this.stacked||n.minZoomed<n.baseValue&&n.maxZoomed>n.baseValue||this.stackedSeries?a=n.baseValue:a=n.min);var s=this.yAxis;s instanceof E&&s!=this.baseAxis&&(i=this._yValueFields,this.stacked||s.minZoomed<s.baseValue&&s.maxZoomed>s.baseValue||this.stackedSeries?a=s.baseValue:a=s.min);var o=this.startIndex,h=this.endIndex,d=this.hiddenState.transitionDuration;g(e)&&(d=e);var u=0,p;w(Pt(this.dataItems.iterator()),function(c){var y=c[0],v=c[1],m=d;(y<t.startIndex-10||y>t.endIndex+10)&&(m=0),m==0?v.hide(0,0,a,i):(t.sequencedInterpolation&&m>0&&(u=t.sequencedInterpolationDelay*y+d*(y-o)/(h-o)),p=v.hide(m,u,a,i))}),this.dataSets.each(function(c,y){y!=t.dataItems&&y.each(function(v){v.events.disable(),v.hide(0,0,a,i),v.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(c){c.events.disable(),c.hide(0,0,a,i),c.events.enable()});var f=l.prototype.hide.call(this,d);return f&&!f.isFinished()&&f.delay(u),p&&!p.isFinished()&&(f=p),this.appeared&&this.dispatch("selectionextremeschanged"),this.validateDataElements(),f},r.prototype.handleDataItemWorkingValueChange=function(e,t){l.prototype.handleDataItemWorkingValueChange.call(this,e,t);var i=this.baseAxis.series;w(i.iterator(),function(a){(a.stacked||a.stackedSeries)&&a.invalidateProcessedData()})},r.prototype.getStackValue=function(e,t){var i=this,a=this.xAxis,n=this.yAxis;if(!(!this.stacked||!a||!n)){var s=this.chart,o=s.series.indexOf(this),h;if(a!=this.baseAxis&&a instanceof E&&(h=this.xField),n!=this.baseAxis&&n instanceof E&&(h=this.yField),!h)return;e.setCalculatedValue(h,0,"stack"),e.setCalculatedValue(h,0,"stackTrue"),We(s.series.range(0,o).backwards().iterator(),function(d){if(d.xAxis==a&&d.yAxis==n&&d.className==i.className){d.stackedSeries=i;var u=d.dataItems.getIndex(e.index);if(u&&u.hasValue(i._xValueFields)&&u.hasValue(i._yValueFields)){var p=e.getValue(h),f=void 0,c=u.getValue(h,"stackTrue");c==null&&(c=0);var y=u.getValue(h)+c;if(f=u.getWorkingValue(h)+u.getValue(h,"stack"),i.stackToNegative){if(p>=0&&y>=0||p<0&&y<0)return e.setCalculatedValue(h,f,"stack"),e.setCalculatedValue(h,y,"stackTrue"),!1;if(!d.stacked)return!1}else return e.setCalculatedValue(h,f,"stack"),e.setCalculatedValue(h,y,"stackTrue"),!1}else if(!d.stacked)return!1}return!0})}},Object.defineProperty(r.prototype,"stackToNegative",{get:function(){return this.getPropertyValue("stackToNegative")},set:function(e){this.setPropertyValue("stackToNegative",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(e){this._tooltipXField=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(e){this._tooltipYField=e},enumerable:!0,configurable:!0}),r.prototype.min=function(e){return this._tmin.getKey(e.uid)},r.prototype.max=function(e){return this._tmax.getKey(e.uid)},r.prototype.selectionMin=function(e){var t=this._smin.getKey(e.uid);return t},r.prototype.selectionMax=function(e){var t=this._smax.getKey(e.uid);return t},r.prototype.processConfig=function(e){if(e){if(C(e.baseAxis)&&ne(e.baseAxis)&&(this.map.hasKey(e.baseAxis)?e.baseAxis=this.map.getKey(e.baseAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.baseAxis+'" found for `baseAxis`.'),delete e.baseAxis)),C(e.xAxis)&&ne(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.xAxis+'" found for `xAxis`.'),delete e.xAxis)),C(e.yAxis)&&ne(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.yAxis+'" found for `yAxis`.'),delete e.yAxis)),C(e.axisRanges)&&we(e.axisRanges))for(var t=0,i=e.axisRanges.length;t<i;t++){var a=e.axisRanges[t];C(a.type)||(a.type="AxisDataItem"),C(a.axis)&&ne(a.axis)&&this.map.hasKey(a.axis)?a.component=this.map.getKey(a.axis):C(a.component)&&ne(a.component)&&this.map.hasKey(a.component)&&(a.component=this.map.getKey(a.component))}(!C(e.dataFields)||!sr(e.dataFields))&&this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]")}l.prototype.processConfig.call(this,e)},r.prototype.getPoint=function(e,t,i,a,n,s,o){if(this.xAxis&&this.yAxis){var h=this.xAxis.getX(e,t,a),d=this.yAxis.getY(e,i,n);return h=Y(h,-this._maxxX,this._maxxX),d=Y(d,-this._maxxY,this._maxxY),{x:h,y:d}}},r.prototype.updateItemReaderText=function(){if(!this._itemReaderTextChanged){var e="";Pe(this.dataFields,function(t,i){e+="{"+t+"} "}),this.itemReaderText=e,this._itemReaderTextChanged=!1}},Object.defineProperty(r.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},set:function(e){this.setPropertyValue("cursorHoverEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"excludeFromTotal",{get:function(){return this.getPropertyValue("excludeFromTotal")},set:function(e){this.setPropertyValue("excludeFromTotal",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e);var t=this.chart;t&&(e?this.bulletsContainer.parent=t.bulletsContainer:this.bulletsContainer.parent=t.axisBulletsContainer)},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(e){this.groupFields=oi(e.groupFields,{}),l.prototype.copyFrom.call(this,e)},r.prototype.dispose=function(){this.scrollbarSeries&&this.scrollbarSeries.dispose(),l.prototype.dispose.call(this)},r}(zt);V.registeredClasses.XYSeries=st;V.registeredClasses.XYSeriesDataItem=Zt;var et=function(l){_(r,l);function r(){var e=l.call(this)||this;e._chart=new he,e.className="XYChartScrollbar";var t=new te;e.padding(0,0,0,0);var i=e.createChild(Ke);if(i.shouldClone=!1,i.margin(0,0,0,0),i.padding(0,0,0,0),i.interactionsEnabled=!1,e._scrollbarChart=i,!bt()){var a=new ga;a.filterUnits="userSpaceOnUse",i.plotContainer.filters.push(a)}e._disposers.push(e._scrollbarChart),e.minHeight=60,e.minWidth=60;var n=e.createChild(q);n.shouldClone=!1,n.setElement(e.paper.add("path")),n.fill=t.getFor("background"),n.fillOpacity=.8,n.interactionsEnabled=!1,n.isMeasured=!1,n.toBack(),e._unselectedOverlay=n,e._disposers.push(e._unselectedOverlay),i.toBack(),e.background.cornerRadius(0,0,0,0);var s=e.thumb.background;s.cornerRadius(0,0,0,0),s.fillOpacity=0,s.fill=t.getFor("background");var o=s.states.getKey("hover");o&&(o.properties.fillOpacity=.2);var h=s.states.getKey("down");return h&&(h.properties.fillOpacity=.4),e._disposers.push(e._chart),e.applyTheme(),e}return Object.defineProperty(r.prototype,"series",{get:function(){return this._series||(this._series=new Ce,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),r.prototype.handleSeriesAdded=function(e){var t=this,i=e.newValue;if(!(!i.xAxis||!i.yAxis)){var a=this.scrollbarChart;a.zoomOutButton.disabled=!0,this.chart=i.chart,a.dateFormatter.inputDateFormat=this.chart.dateFormatter.inputDateFormat,a.language.locale=this.chart.language.locale;var n=!0,s=!0;w(this.series.iterator(),function(P){P!=i&&(P.xAxis==i.xAxis&&t.scrollbarChart.xAxes.length>0&&(n=!1),P.yAxis==i.yAxis&&t.scrollbarChart.yAxes.length>0&&(s=!1))}),i.events.on("beforedisposed",function(){t.series.removeValue(i)});var o=new te,h=i.clone();if(bt()&&(h.stroke=Me("#aaaaaa"),h.fill=h.stroke,h.propertyFields.fill=void 0,h.propertyFields.stroke=void 0),i.scrollbarSeries=h,n){var d=i.xAxis.clone();a.xAxes.moveValue(d),d.title.disabled=!0,d.rangeChangeDuration=0;var u=d.renderer;u.ticks.template.disabled=!0,u.inside=!0,u.labels.template.inside=!0,u.line.strokeOpacity=0,u.minLabelPosition=.02,u.maxLabelPosition=.98,u.line.disabled=!0,u.axisFills.template.disabled=!0,u.baseGrid.disabled=!0,u.grid.template.strokeOpacity=.05,u.minWidth=void 0,u.minHeight=void 0,u.padding(0,0,0,0),u.chart=a,u.margin(0,0,0,0),d.width=M(100);var p=u.labels.template;if(p.fillOpacity=.5,d.maxZoomCount=void 0,d.minZoomCount=void 0,d instanceof z){var f=d,c=i.xAxis;f.groupCount=c.groupCount*5,f.min=void 0,f.max=void 0,this._disposers.push(f.clonedFrom.events.on("extremeschanged",function(){g(f.clonedFrom.minDefined)&&(f.min=f.clonedFrom.minDefined),g(f.clonedFrom.maxDefined)&&(f.max=f.clonedFrom.maxDefined)},void 0,!1))}else if(d instanceof E){var y=d;y.min=void 0,y.max=void 0,g(y.clonedFrom.minDefined)||(y.min=void 0),g(y.clonedFrom.maxDefined)||(y.max=void 0),this._disposers.push(y.clonedFrom.events.on("extremeschanged",function(){g(y.clonedFrom.minDefined)&&(y.min=y.clonedFrom.min),g(y.clonedFrom.maxDefined)&&(y.max=y.clonedFrom.max)},void 0,!1))}h.xAxis=d}else this.scrollbarChart.xAxes.each(function(P){P.clonedFrom==i.xAxis&&(h.xAxis=P)});if(s){var v=i.yAxis.clone();a.yAxes.moveValue(v),v.title.disabled=!0,v.rangeChangeDuration=0;var u=v.renderer;u.ticks.template.disabled=!0,u.inside=!0,u.labels.template.inside=!0,u.line.strokeOpacity=0,u.minLabelPosition=.02,u.maxLabelPosition=.98,u.line.disabled=!0,u.axisFills.template.disabled=!0,u.grid.template.stroke=o.getFor("background"),u.baseGrid.disabled=!0,u.grid.template.strokeOpacity=.05,u.minWidth=void 0,u.minHeight=void 0,u.chart=a,u.padding(0,0,0,0),u.margin(0,0,0,0),v.height=M(100);var p=u.labels.template;if(p.fillOpacity=.5,h.yAxis=v,v.maxZoomCount=void 0,v.minZoomCount=void 0,v instanceof z){var m=v;m.min=void 0,m.max=void 0;var c=i.yAxis;v.groupCount=c.groupCount*5,this._disposers.push(m.clonedFrom.events.on("extremeschanged",function(){g(m.clonedFrom.minDefined)&&(m.min=m.clonedFrom.minDefined),g(m.clonedFrom.maxDefined)&&(m.max=m.clonedFrom.maxDefined)}))}else if(v instanceof E){var x=v;x.min=void 0,x.max=void 0,g(x.clonedFrom.minDefined)||(x.min=void 0),g(x.clonedFrom.maxDefined)||(x.max=void 0),this._disposers.push(x.clonedFrom.events.on("extremeschanged",function(){g(x.clonedFrom.minDefined)&&(x.min=x.clonedFrom.minDefined),g(x.clonedFrom.maxDefined)&&(x.max=x.clonedFrom.maxDefined)}))}}else this.scrollbarChart.yAxes.each(function(P){P.clonedFrom==i.yAxis&&(h.yAxis=P)});h.rangeChangeDuration=0,h.interpolationDuration=0,h.defaultState.transitionDuration=0,h.showOnInit=!1,this._disposers.push(h.events.on("validated",this.zoomOutAxes,this,!1)),this._disposers.push(i.events.on("datavalidated",function(){h.data!=i.data&&(h.data=i.data)},void 0,!1)),h.defaultState.properties.visible=!0,a.series.push(h),this.updateByOrientation()}},r.prototype.updateByOrientation=function(){var e=this;this._scrollbarChart&&(w(this._scrollbarChart.xAxes.iterator(),function(t){var i=t.renderer;e.orientation=="vertical"?(i.grid.template.disabled=!0,i.labels.template.disabled=!0,i.minGridDistance=10):(i.grid.template.disabled=!1,i.labels.template.disabled=!1,i.minGridDistance=t.clonedFrom.renderer.minGridDistance)}),w(this._scrollbarChart.yAxes.iterator(),function(t){var i=t.renderer;e.orientation=="horizontal"?(i.grid.template.disabled=!0,i.labels.template.disabled=!0,i.minGridDistance=10):(i.grid.template.disabled=!1,i.labels.template.disabled=!1,i.minGridDistance=t.clonedFrom.renderer.minGridDistance)}))},r.prototype.handleSeriesRemoved=function(e){var t=e.oldValue,i=this.scrollbarChart;i.series.each(function(a){a&&a.clonedFrom==t&&i.series.removeValue(a)}),i.series.length==0&&(i.xAxes.clear(),i.yAxes.clear());try{t.events.off("validated",this.zoomOutAxes,this)}catch{}},Object.defineProperty(r.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.get()!==e&&(this._chart.set(e,e.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"unselectedOverlay",{get:function(){return this._unselectedOverlay},enumerable:!0,configurable:!0}),r.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data?this.scrollbarChart.data=this.chart.data:this.scrollbarChart.invalidateRawData()},r.prototype.zoomOutAxes=function(){var e=this.scrollbarChart;w(e.xAxes.iterator(),function(t){t.zoom({start:0,end:1},!0,!0)}),w(e.yAxes.iterator(),function(t){t.zoom({start:0,end:1},!0,!0)})},r.prototype.updateThumb=function(e){if(e===void 0&&(e=!0),l.prototype.updateThumb.call(this,e),this._unselectedOverlay){var t=this.thumb,i=t.pixelX||0,a=t.pixelY||0,n=t.pixelWidth||0,s=t.pixelHeight||0,o="";this.orientation=="horizontal"?(o=Ne({x:-1,y:0,width:i,height:s}),o+=Ne({x:i+n,y:0,width:(this.pixelWidth||0)-i-n,height:s})):(o=Ne({x:0,y:0,width:n,height:a}),o+=Ne({x:0,y:a+s,width:n,height:(this.pixelHeight||0)-a-s})),this._unselectedOverlay.path=o}},r.prototype.processConfig=function(e){if(e&&C(e.series)&&we(e.series))for(var t=0,i=e.series.length;t<i;t++){var a=e.series[t];if(C(a)&&ne(a))if(this.map.hasKey(a))e.series[t]=this.map.getKey(a);else throw Error("XYChartScrollbar error: Series with id `"+a+"` does not exist.")}l.prototype.processConfig.call(this,e)},r}(ir);V.registeredClasses.XYChartScrollbar=et;var Oi=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="XYChartDataItem",e.applyTheme(),e}return r}(pr),Ke=function(l){_(r,l);function r(){var e=l.call(this)||this;e._axisRendererX=Ee,e._axisRendererY=ke,e._seriesPoints=[],e.className="XYChart",e.maskBullets=!0,e.arrangeTooltips=!0;var t=e.chartContainer;t.layout="vertical",e.padding(15,15,15,15);var i=t.createChild(X);i.shouldClone=!1,i.layout="vertical",i.width=M(100),i.zIndex=1,e.topAxesContainer=i;var a=t.createChild(X);a.shouldClone=!1,a.layout="horizontal",a.width=M(100),a.height=M(100),a.zIndex=0,e.yAxesAndPlotContainer=a;var n=t.createChild(X);n.shouldClone=!1,n.width=M(100),n.layout="vertical",n.zIndex=1,e.bottomAxesContainer=n;var s=a.createChild(X);s.shouldClone=!1,s.layout="horizontal",s.height=M(100),s.contentAlign="right",s.events.on("transformed",e.updateXAxesMargins,e,!1),s.zIndex=1,e.leftAxesContainer=s;var o=a.createChild(X);o.shouldClone=!1,o.height=M(100),o.width=M(100),o.background.fillOpacity=0,e.plotContainer=o,e.mouseWheelBehavior="none",e._cursorContainer=o;var h=a.createChild(X);h.shouldClone=!1,h.layout="horizontal",h.height=M(100),h.zIndex=1,h.events.on("transformed",e.updateXAxesMargins,e,!1),e.rightAxesContainer=h,e.seriesContainer.parent=o,e.bulletsContainer.parent=o;var d=o.createChild(ma);d.shouldClone=!1,d.align="right",d.valign="top",d.zIndex=Number.MAX_SAFE_INTEGER,d.marginTop=5,d.marginRight=5,d.hide(0),e.zoomOutButton=d;var u=e.plotContainer.createChild(X);return u.shouldClone=!1,u.width=M(100),u.height=M(100),u.isMeasured=!1,u.zIndex=4,u.layout="none",e.axisBulletsContainer=u,e._bulletMask=e.plotContainer,e.events.on("beforedatavalidated",function(){e.series.each(function(p){p.dataGrouped=!1,p._baseInterval={}})},e,!1),e.applyTheme(),e}return r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,C(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y chart"))},r.prototype.draw=function(){l.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend()},r.prototype.updatePlotElements=function(){w(this.series.iterator(),function(e){e.invalidate()})},r.prototype.validateData=function(){this._parseDataFrom==0&&(w(this.xAxes.iterator(),function(e){e.dataChangeUpdate()}),w(this.yAxes.iterator(),function(e){e.dataChangeUpdate()}),w(this.series.iterator(),function(e){e.dataChangeUpdate()})),l.prototype.validateData.call(this)},r.prototype.updateXAxesMargins=function(){var e=this.leftAxesContainer.measuredWidth,t=this.rightAxesContainer.measuredWidth,i=this.bottomAxesContainer;(i.paddingLeft!=e||i.paddingRight!=t)&&(i.paddingLeft=e,i.paddingRight=t);var a=this.topAxesContainer;(a.paddingLeft!=e||a.paddingRight!=t)&&(a.paddingLeft=e,a.paddingRight=t)},r.prototype.reinit=function(){l.prototype.reinit.call(this),this.series.each(function(e){e.appeared=!1})},r.prototype.handleXAxisChange=function(e){this.updateXAxis(e.target)},r.prototype.handleYAxisChange=function(e){this.updateYAxis(e.target)},r.prototype.processXAxis=function(e){var t=e.newValue;t.chart=this,t.renderer||(t.renderer=new this._axisRendererX,t.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1)),t.axisLetter="X",t.events.on("startendchanged",this.handleXAxisRangeChange,this,!1),t.dataProvider=this,this.updateXAxis(t.renderer),this.processAxis(t)},r.prototype.processYAxis=function(e){var t=e.newValue;t.chart=this,t.renderer||(t.renderer=new this._axisRendererY,t.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1)),t.axisLetter="Y",t.events.on("startendchanged",this.handleYAxisRangeChange,this,!1),t.dataProvider=this,this.updateYAxis(t.renderer),this.processAxis(t)},r.prototype.handleXAxisRangeChange=function(){var e=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,e)},r.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var e=!1;We(this.xAxes.iterator(),function(t){if(t.toggleZoomOutButton){if(t.maxZoomCount>0){var i=t.maxZoomFactor/t.maxZoomCount;if(j(t.end-t.start,3)<1/i)return e=!0,!1}else if(j(t.start,3)>0||j(t.end,3)<1)return e=!0,!1}return!0}),We(this.yAxes.iterator(),function(t){if(t.toggleZoomOutButton){if(t.maxZoomCount>0){var i=t.maxZoomFactor/t.maxZoomCount;if(j(t.end-t.start,3)<1/i)return e=!0,!1}else if(j(t.start,3)>0||j(t.end,3)<1)return e=!0,!1;return!0}}),this.seriesAppeared||(e=!1),e?this.zoomOutButton.show():this.zoomOutButton.hide()}},r.prototype.seriesAppeared=function(){var e=!1;return w(this.series.iterator(),function(t){if(!t.appeared)return e=!1,!1}),e},r.prototype.handleYAxisRangeChange=function(){var e=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,e)},r.prototype.updateScrollbar=function(e,t){e&&(e.skipRangeEvents(),e.start=t.start,e.end=t.end)},r.prototype.getCommonAxisRange=function(e){var t,i;return e.each(function(a){if(!(!a.zoomable||a instanceof E&&a.syncWithAxis)){var n=a.start,s=a.end;a.renderer.inversed&&(n=1-a.end,s=1-a.start),(!g(t)||n<t)&&(t=n),(!g(i)||s>i)&&(i=s)}}),{start:t,end:i}},r.prototype.updateXAxis=function(e){var t=e.axis;e.opposite?(t.parent=this.topAxesContainer,t.toFront()):(t.parent=this.bottomAxesContainer,t.toBack()),t.renderer&&t.renderer.processRenderer()},r.prototype.updateYAxis=function(e){var t=e.axis;e.opposite?(t.parent=this.rightAxesContainer,t.toBack()):(t.parent=this.leftAxesContainer,t.toFront()),t.renderer&&t.renderer.processRenderer()},r.prototype.processAxis=function(e){var t=this;e instanceof Z&&this._dataUsers.moveValue(e);var i=e.renderer;i.gridContainer.parent=this.plotContainer,i.gridContainer.toBack(),i.breakContainer.parent=this.plotContainer,i.breakContainer.toFront(),i.breakContainer.zIndex=10,e.addDisposer(new oe(function(){t.dataUsers.removeValue(e)})),i.bulletsContainer.parent=this.axisBulletsContainer,this._disposers.push(e.events.on("positionchanged",function(){var a=_e({x:0,y:0},e,t.axisBulletsContainer);e.renderer instanceof ke&&(i.bulletsContainer.y=a.y),e.renderer instanceof Ee&&(i.bulletsContainer.x=a.x)},void 0,!1)),this.plotContainer.events.on("maxsizechanged",function(){t.inited&&(e.invalidateDataItems(),t.updateSeriesMasks())},e,!1)},r.prototype.updateSeriesMasks=function(){bt()&&this.series.each(function(e){var t=e.mainContainer.mask;e.mainContainer.mask=void 0,e.mainContainer.mask=t})},r.prototype.handleSeriesRemoved=function(e){var t=e.oldValue;t&&(t.xAxis&&(t.xAxis.series.removeValue(t),t.xAxis.invalidateProcessedData()),t.yAxis&&(t.yAxis.series.removeValue(t),t.yAxis.invalidateProcessedData()),this.series.each(function(i){i.resetExtremes()})),l.prototype.handleSeriesRemoved.call(this,e)},Object.defineProperty(r.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new Ce,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new G(this._xAxes,!1))),this._xAxes},enumerable:!0,configurable:!0}),r.prototype.handleAxisRemoval=function(e){var t=e.oldValue;this.dataUsers.removeValue(t),t.autoDispose&&t.dispose()},Object.defineProperty(r.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new Ce,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new G(this._yAxes,!1))),this._yAxes},enumerable:!0,configurable:!0}),r.prototype.handleSeriesAdded=function(e){try{l.prototype.handleSeriesAdded.call(this,e);var t=e.newValue;(this.xAxes.length==0||this.yAxes.length==0)&&(V.removeFromInvalidComponents(t),t.dataInvalid=!1),Ue(t.xAxis),Ue(t.yAxis),t.maskBullets=t.maskBullets,t.fill==null&&(this.patterns?(C(t.stroke)||(t.stroke=this.colors.next()),t.fill=this.patterns.next(),C(t.fillOpacity)&&(t.fill.backgroundOpacity=t.fillOpacity),t.stroke instanceof Ae&&(t.fill.stroke=t.stroke,t.fill.fill=t.stroke)):t.fill=this.colors.next()),C(t.stroke)||(t.stroke=t.fill)}catch(i){this.raiseCriticalError(i)}},Object.defineProperty(r.prototype,"cursor",{get:function(){return this._cursor},set:function(e){this._cursor!=e&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=e,e&&(this._disposers.push(e),e.chart=this,e.shouldClone=!1,e.parent=this._cursorContainer,e.events.on("cursorpositionchanged",this.handleCursorPositionChange,this,!1),e.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),e.events.on("zoomended",this.handleCursorZoomEnd,this,!1),e.events.on("panstarted",this.handleCursorPanStart,this,!1),e.events.on("panning",this.handleCursorPanning,this,!1),e.events.on("panended",this.handleCursorPanEnd,this,!1),e.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),e.events.on("hidden",this.handleHideCursor,this,!1),e.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),r.prototype.handleCursorPositionChange=function(){var e=this.cursor;if(e.visible&&!e.isHiding){var t=this.cursor.xPosition,i=this.cursor.yPosition;this.showSeriesTooltip({x:t,y:i});var a=[],n=e.snapToSeries;if(n&&!e.downPoint){n instanceof st&&(n=[n]);var s=[];H(n,function(h){if(!h.isHidden&&!h.isHiding){var d=h.xAxis,u=h.yAxis;d instanceof E&&!(d instanceof z)&&u instanceof E&&!(u instanceof z)?(h.dataItems.each(function(p){s.push(p)}),Lt(a,h.yAxis),Lt(a,h.xAxis)):(h.baseAxis==h.xAxis&&(Lt(a,h.yAxis),s.push(d.getSeriesDataItem(h,d.toAxisPosition(t),!0))),h.baseAxis==h.yAxis&&(Lt(a,h.xAxis),s.push(u.getSeriesDataItem(h,u.toAxisPosition(i),!0))))}});var o=this.getClosest(s,t,i);o&&(this.series.each(function(h){var d=o.component;h!=d&&(h.hideTooltip(),h.xAxis!=d.xAxis&&(h.xAxis.hideTooltip(),a.push(h.xAxis)),h.yAxis!=d.yAxis&&(h.yAxis.hideTooltip(),a.push(h.yAxis)))}),o.component.showTooltipAtDataItem(o),e.handleSnap(o.component))}this._seriesPoints=[],this._cursorXPosition!=t&&this.showAxisTooltip(this.xAxes,t,a),this._cursorYPosition!=i&&this.showAxisTooltip(this.yAxes,i,a),this.arrangeTooltips&&this.sortSeriesTooltips(this._seriesPoints),this.legend&&this.legend.afterDraw()}},r.prototype.getClosest=function(e,t,i){var a=1/0,n;return xa(e,function(s){if(s){var o=s.component.xAxis,h=s.component.yAxis,d=o.positionToCoordinate(o.toGlobalPosition(o.toAxisPosition(t))),u=h.positionToCoordinate(h.toGlobalPosition(h.toAxisPosition(i))),p=s.component.xField,f=s.component.yField;if(o instanceof E&&!g(s.getValue(p))||h instanceof E&&!g(s.getValue(f)))return!0;var c=o.positionToCoordinate(o.toGlobalPosition(o.getPositionX(s,p,s.locations[p],"valueX"))),y=h.positionToCoordinate(h.toGlobalPosition(h.getPositionY(s,f,s.locations[f],"valueY"))),v=Math.sqrt(Math.pow(d-c,2)+Math.pow(u-y,2));return v<a&&(a=v,n=s),!0}}),n},r.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this._cursorXPosition=void 0,this._cursorYPosition=void 0,this.updateSeriesLegend()},r.prototype.updateSeriesLegend=function(){w(this.series.iterator(),function(e){e.updateLegendValue()})},r.prototype.hideObjectTooltip=function(e){w(e.iterator(),function(t){t.cursorTooltipEnabled&&t.hideTooltip(0)})},r.prototype.showSeriesTooltip=function(e){var t=this;if(!e){this.series.each(function(a){a.hideTooltip()});return}var i=[];this.series.each(function(a){if(!(a.xAxis instanceof z&&a.xAxis.snapTooltip||a.yAxis instanceof z&&a.yAxis.snapTooltip)){var n=a.showTooltipAtPosition(e.x,e.y);n&&(a.tooltip.setBounds(ar({x:0,y:0,width:t.pixelWidth,height:t.pixelHeight},t)),i.push({series:a,point:n}))}}),this.arrangeTooltips&&this.sortSeriesTooltips(i)},r.prototype.sortSeriesTooltips=function(e){if(e.length>0){var t=this.cursor;if(t&&g(t.maxTooltipDistance)){var i=tt({x:t.point.x,y:t.point.y},t),a,n,s=1/0;H(e,function(k){var I=k.series,be=k.point;if(be){var Fe={x:be.x,y:be.y},Le=Math.abs(K(Fe,i));Le<s&&(n=Fe,s=Le,a=I)}});var o=[];a&&(H(e,function(k){if(Math.abs(K(k.point,n))<=Math.abs(t.maxTooltipDistance))o.push({series:k.series,point:k.point});else{var I=k.series.tooltipDataItem;I&&H(I.sprites,function(be){be.isHover=!1,be.handleOutReal()}),k.series.hideTooltip(0)}}),t.maxTooltipDistance<0&&(o.length>0&&H(o,function(k){a!=k.series&&k.series.hideTooltip(0)}),o=[{series:a,point:n}])),e=o}var h=tt({x:-.5,y:-.5},this.plotContainer),d=tt({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),u=0,p=[];H(e,function(k){var I=k.point;I&&ba(I,{x:h.x,y:h.y,width:d.x-h.x,height:d.y-h.y})&&(p.push({point:I,series:k.series}),u+=I.y)}),e=p;var f=this.series.getIndex(0),c=!1;f&&f.yAxis&&f.yAxis.renderer.inversed&&(c=!0),c?e.sort(function(k,I){return ct(k.point.y,I.point.y)}):(e.sort(function(k,I){return ct(I.point.y,k.point.y)}),e.reverse());var y=u/e.length,v=Pa({x:0,y:0},this.svgContainer.SVGContainer).y;if(e.length>0){var m=h.y,x=d.y;Ca({x:0,y:m},this);var P=!1;if(y>m+(x-m)/2)for(var S=x,A=e.length-1;A>=0;A--){var T=e[A].series,b=T.tooltip,O=e[A].point.y;if(b.setBounds({x:0,y:-v,width:this.pixelWidth,height:S+v}),b.invalid&&b.validate(),b.toBack(),S=tt({x:0,y:b.label.pixelY-b.pixelY+O-b.pixelMarginTop},b).y,S<-v){P=!0;break}}if(y<=m+(x-m)/2||P)for(var D=m,A=0,B=e.length;A<B;A++){var T=e[A].series,O=e[A].point.y,b=T.tooltip;b.setBounds({x:0,y:D,width:this.pixelWidth,height:x}),b.invalid&&b.validate(),b.toBack(),D=tt({x:0,y:b.label.pixelY+b.label.measuredHeight-b.pixelY+O+b.pixelMarginBottom},b).y}}}},r.prototype.showAxisTooltip=function(e,t,i){var a=this;w(e.iterator(),function(n){(!i||i.indexOf(n)==-1)&&(a.dataItems.length>0||n.dataItems.length>0)&&n.showTooltipAtPosition(t)})},r.prototype.getUpdatedRange=function(e,t){if(e){var i,a,n=e.renderer.inversed;n?(vt(t),i=1-e.end,a=1-e.start):(i=e.start,a=e.end);var s=a-i;return{start:i+t.start*s,end:i+t.end*s}}},r.prototype.handleCursorZoomEnd=function(e){var t=this.cursor,i=t.behavior;if(i=="zoomX"||i=="zoomXY"){var a=t.xRange;a&&this.xAxes.length>0&&(a=this.getUpdatedRange(this.xAxes.getIndex(0),a),a.priority="start",this.zoomAxes(this.xAxes,a))}if(i=="zoomY"||i=="zoomXY"){var n=t.yRange;n&&this.yAxes.length>0&&(n=this.getUpdatedRange(this.yAxes.getIndex(0),n),n.priority="start",this.zoomAxes(this.yAxes,n))}this.handleHideCursor()},r.prototype.handleCursorPanStart=function(e){var t=this.xAxes.getIndex(0);t&&(this._panStartXRange={start:t.start,end:t.end},t.renderer.inversed&&(this._panStartXRange=vt(this._panStartXRange)));var i=this.yAxes.getIndex(0);i&&(this._panStartYRange={start:i.start,end:i.end},i.renderer.inversed&&(this._panStartYRange=vt(this._panStartYRange)))},r.prototype.handleCursorPanEnd=function(e){var t=this.cursor,i=t.behavior;if(this._panEndXRange&&(i=="panX"||i=="panXY")){var a=this._panEndXRange,n=this._panStartXRange,s=0;a.start<0&&(s=a.start),n.end>1?a.end>n.end&&(s=a.end-n.end):a.end>1&&(s=a.end-1),this.zoomAxes(this.xAxes,{start:a.start-s,end:a.end-s},!1,t.snapOnPan),this._panEndXRange=void 0,this._panStartXRange=void 0}if(this._panEndYRange&&(i=="panY"||i=="panXY")){var a=this._panEndYRange,s=0;a.start<0&&(s=a.start),a.end>1&&(s=a.end-1),this.zoomAxes(this.yAxes,{start:a.start-s,end:a.end-s},!1,t.snapOnPan),this._panEndYRange=void 0,this._panStartYRange=void 0}},r.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0},r.prototype.handleCursorPanning=function(e){var t=this.cursor,i=t.behavior,a=t.maxPanOut;if(this._panStartXRange&&(i=="panX"||i=="panXY")){var n=this._panStartXRange,s=t.xRange,o=this.getCommonAxisRange(this.xAxes),h=n.end-n.start,d=s.start*(o.end-o.start),u=Math.max(-a,d+n.start),p=Math.min(d+n.end,1+a);u<=0&&(p=u+h),p>=1&&(u=p-h);var f={start:u,end:p};this._panEndXRange=f,this.zoomAxes(this.xAxes,f,!1,!1,t.maxPanOut)}if(this._panStartYRange&&(i=="panY"||i=="panXY")){var n=this._panStartYRange,s=t.yRange,o=this.getCommonAxisRange(this.yAxes),h=n.end-n.start,d=s.start*(o.end-o.start),u=Math.max(-a,d+n.start),p=Math.min(d+n.end,1+a);u<=0&&(p=u+h),p>=1&&(u=p-h);var f={start:u,end:p};this._panEndYRange=f,this.zoomAxes(this.yAxes,f,!1,!1,t.maxPanOut)}this.handleHideCursor()},r.prototype.handleYAxisSet=function(e){},r.prototype.handleCursorZoomStart=function(e){},Object.defineProperty(r.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(e){var t=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=e,e&&(this._disposers.push(e),e.parent=this.topAxesContainer,e.shouldClone=!1,e.startGrip.exportable=!1,e.endGrip.exportable=!1,e.toBack(),e.orientation="horizontal",e.events.on("rangechanged",this.handleXScrollbarChange,this,!1),this.events.on("datavalidated",function(){return e.updateThumb(!1)},this,!1),e.adapter.add("positionValue",function(i){var a=t.xAxes.getIndex(0);return a&&(i.value=a.getPositionLabel(a.renderer.inversed?1-i.position:i.position)),i}))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(e){var t=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=e,e&&(this._disposers.push(e),e.parent=this.rightAxesContainer,e.startGrip.exportable=!1,e.shouldClone=!1,e.endGrip.exportable=!1,e.toFront(),e.orientation="vertical",e.events.on("rangechanged",this.handleYScrollbarChange,this,!1),this.events.on("datavalidated",function(){return e.updateThumb(!1)},this,!1),e.adapter.add("positionValue",function(i){var a=t.yAxes.getIndex(0);return a&&(i.value=a.getPositionLabel(i.position)),i}))},enumerable:!0,configurable:!0}),r.prototype.handleXScrollbarChange=function(e){if(this.inited){var t=e.target,i=t.range;i.start==0&&(i.priority="start"),i.end==1&&(i.priority="end"),i=this.zoomAxes(this.xAxes,i),t.fixRange(i)}},r.prototype.handleYScrollbarChange=function(e){if(this.inited){var t=e.target,i=t.range;i.end==1&&(i.priority="end"),i.start==0&&(i.priority="start"),i=this.zoomAxes(this.yAxes,i),t.fixRange(i)}},r.prototype.zoomAxes=function(e,t,i,a,n,s){var o={start:0,end:1};this.showSeriesTooltip();var h=t;return this.dataInvalid||w(e.iterator(),function(d){var u=d.maxZoomFactor;if(g(d.minZoomCount)&&(u=u/d.minZoomCount),!(s&&1/(t.end-t.start)>=u)){if(d.zoomable){if(d.renderer.inversed?t=vt(h):t=h,d.hideTooltip(0),a)if(d instanceof Z){var p=d.getCellEndPosition(0)-d.getCellStartPosition(0);t.start=d.roundPosition(t.start+p/2-d.startLocation*p,d.startLocation),t.end=d.roundPosition(t.end-p/2+(1-d.endLocation)*p,d.endLocation)}else{var f=1e-4;t.start=d.roundPosition(t.start+f,0,d.startLocation),t.end=d.roundPosition(t.end+f,0,d.endLocation)}var c=d.zoom(t,i,i,n);d.renderer.inversed&&(c=vt(c)),o=c}}}),o},Object.defineProperty(r.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)&&this.bulletsContainer&&(e?this.bulletsContainer.mask=this._bulletMask:this.bulletsContainer.mask=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(e){this.setPropertyValue("arrangeTooltips",e,!0)},enumerable:!0,configurable:!0}),r.prototype.handleWheel=function(e){var t=this.plotContainer,i=Hi(e.point,this.htmlContainer,this.svgContainer.cssScale),a=Ge(i,t),n=e.shift.y;this.handleWheelReal(n,this.mouseWheelBehavior,a)},r.prototype.handleHorizontalWheel=function(e){var t=this.plotContainer,i=Hi(e.point,this.htmlContainer,this.svgContainer.cssScale),a=Ge(i,t);this.handleWheelReal(e.shift.x,this.horizontalMouseWheelBehavior,a)},r.prototype.handleWheelReal=function(e,t,i){if(e!=0){var a=this.plotContainer,n=this.getCommonAxisRange(this.xAxes),s=this.getCommonAxisRange(this.yAxes),o=.1,h=0;if(t=="panX"||t=="panXY"){var d=this.xAxes.getIndex(0),u=!1,p=o;d instanceof Z&&(p=.5/((n.end-n.start)*d.dataItems.length),u=!0),o=Math.max(.2,p);var f=n.end-n.start,c=Math.max(-h,n.start+o*e/100*(n.end-n.start)),y=Math.min(n.end+o*e/100*(n.end-n.start),1+h);c<=0&&(y=c+f),y>=1&&(c=y-f),this.zoomAxes(this.xAxes,{start:c,end:y},void 0,u)}if(t=="panY"||t=="panXY"){var v=this.yAxes.getIndex(0),p=o,u=!1;v instanceof Z&&(p=.5/((n.end-n.start)*v.dataItems.length),u=!0),o=Math.max(.2,p),e*=-1;var m=s.end-s.start,x=Math.max(-h,s.start+o*e/100*(s.end-s.start)),P=Math.min(s.end+o*e/100*(s.end-s.start),1+h);x<=0&&(P=x+m),P>=1&&(x=P-m),this.zoomAxes(this.yAxes,{start:x,end:P},void 0,u)}if(t=="zoomX"||t=="zoomXY"){var S=i.x/a.maxWidth,A=this.xAxes.getIndex(0).toAxisPosition(S),c=Math.max(-h,n.start-o*(n.end-n.start)*e/100*S);c=Math.min(c,A);var y=Math.min(n.end+o*(n.end-n.start)*e/100*(1-S),1+h);y=Math.max(y,A),this.zoomAxes(this.xAxes,{start:c,end:y},void 0)}if(t=="zoomY"||t=="zoomXY"){var T=i.y/a.maxHeight,b=this.yAxes.getIndex(0).toAxisPosition(T),x=Math.max(-h,s.start-o*(s.end-s.start)*e/100*(1-T));x=Math.min(x,b);var P=Math.min(s.end+o*e/100*T*(s.end-s.start),1+h);P=Math.max(P,b),this.zoomAxes(this.yAxes,{start:x,end:P},void 0)}}},Object.defineProperty(r.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(e){this.setPropertyValue("mouseWheelBehavior",e)&&(e!="none"?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"horizontalMouseWheelBehavior",{get:function(){return this.getPropertyValue("horizontalMouseWheelBehavior")},set:function(e){this.setPropertyValue("horizontalMouseWheelBehavior",e)&&(e!="none"?(this._mouseWheelDisposer2=this.plotContainer.events.on("wheel",this.handleHorizontalWheel,this,!1),this._disposers.push(this._mouseWheelDisposer2)):this._mouseWheelDisposer2&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer2.dispose()))},enumerable:!0,configurable:!0}),r.prototype.dataSourceDateFields=function(e){var t=this;return e=l.prototype.dataSourceDateFields.call(this,e),w(this.series.iterator(),function(i){e=t.populateDataSourceFields(e,i.dataFields,["dateX","dateY","openDateX","openDateY"])}),e},r.prototype.dataSourceNumberFields=function(e){var t=this;return e=l.prototype.dataSourceDateFields.call(this,e),w(this.series.iterator(),function(i){e=t.populateDataSourceFields(e,i.dataFields,["valueX","valueY","openValueX","openValueY"])}),e},r.prototype.processConfig=function(e){if(e){var t=[],i=[];if(C(e.xAxes)&&we(e.xAxes))for(var a=0,n=e.xAxes.length;a<n;a++)if(e.xAxes[a].type){if(C(e.xAxes[a].axisRanges)){for(var s=0,o=e.xAxes[a].axisRanges.length;s<o;s++){var h=e.xAxes[a].axisRanges[s];C(h.date)&&ne(h.date)&&(h.date=this.dateFormatter.parse(h.date)),C(h.endDate)&&ne(h.endDate)&&(h.endDate=this.dateFormatter.parse(h.endDate))}t.push({axisRanges:e.xAxes[a].axisRanges,index:a}),delete e.xAxes[a].axisRanges}}else throw Error("[XYChart error] No type set for xAxes["+a+"].");if(C(e.yAxes)&&we(e.yAxes))for(var a=0,n=e.yAxes.length;a<n;a++)if(e.yAxes[a].type){if(C(e.yAxes[a].axisRanges)){for(var s=0,d=e.yAxes[a].axisRanges.length;s<d;s++){var h=e.yAxes[a].axisRanges[s];C(h.date)&&ne(h.date)&&(h.date=this.dateFormatter.parse(h.date)),C(h.endDate)&&ne(h.endDate)&&(h.endDate=this.dateFormatter.parse(h.endDate))}i.push({axisRanges:e.yAxes[a].axisRanges,index:a}),delete e.yAxes[a].axisRanges}}else throw Error("[XYChart error] No type set for yAxes["+a+"].");if(C(e.series)&&we(e.series))for(var a=0,n=e.series.length;a<n;a++)e.series[a].type=e.series[a].type||"LineSeries";if(C(e.cursor)&&!C(e.cursor.type)&&(e.cursor.type="XYCursor"),C(e.scrollbarX)&&!C(e.scrollbarX.type)&&(e.scrollbarX.type="Scrollbar"),C(e.scrollbarY)&&!C(e.scrollbarY.type)&&(e.scrollbarY.type="Scrollbar"),l.prototype.processConfig.call(this,e),i.length)for(var a=0,n=i.length;a<n;a++)this.yAxes.getIndex(i[a].index).config={axisRanges:i[a].axisRanges};if(t.length)for(var a=0,n=t.length;a<n;a++)this.xAxes.getIndex(t[a].index).config={axisRanges:t[a].axisRanges}}},r.prototype.configOrder=function(e,t){return e==t?0:e=="scrollbarX"?1:t=="scrollbarX"?-1:e=="scrollbarY"?1:t=="scrollbarY"?-1:e=="cursor"?1:t=="cursor"?-1:e=="series"?1:t=="series"?-1:l.prototype.configOrder.call(this,e,t)},r.prototype.createSeries=function(){return new st},Object.defineProperty(r.prototype,"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(e){var t=this;this._zoomOutButton=e,e&&e.events.on("hit",function(){t.zoomAxes(t.xAxes,{start:0,end:1}),t.zoomAxes(t.yAxes,{start:0,end:1})},void 0,!1)},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(e){var t=this;e.xAxes.each(function(i){var a=t.xAxes.push(i.clone());a.chart=t,a.renderer.chart=t}),e.yAxes.each(function(i){var a=t.yAxes.push(i.clone());a.renderer.chart=t,a.chart=t}),l.prototype.copyFrom.call(this,e),e.cursor&&(this.cursor=e.cursor.clone()),e.scrollbarX&&(this.scrollbarX=e.scrollbarX.clone()),e.scrollbarY&&(this.scrollbarY=e.scrollbarY.clone())},r.prototype.disposeData=function(){l.prototype.disposeData.call(this);var e=this.scrollbarX;e&&e instanceof et&&e.scrollbarChart.disposeData();var t=this.scrollbarY;t&&t instanceof et&&t.scrollbarChart.disposeData(),this.xAxes.each(function(i){i instanceof Z&&i.disposeData()}),this.yAxes.each(function(i){i instanceof Z&&i.disposeData()})},r.prototype.addData=function(e,t){this.scrollbarX instanceof et&&this.addScrollbarData(this.scrollbarX,t),this.scrollbarY instanceof et&&this.addScrollbarData(this.scrollbarY,t),l.prototype.addData.call(this,e,t)},r.prototype.addScrollbarData=function(e,t){var i=e.scrollbarChart;i._parseDataFrom=i.data.length,i.invalidateData()},r.prototype.removeScrollbarData=function(e,t){var i=e.scrollbarChart;if(g(t)){for(;t>0;){var a=this.dataItems.getIndex(0);a&&i.dataItems.remove(a),i.dataUsers.each(function(n){var s=n.dataItems.getIndex(0);s&&n.dataItems.remove(s)}),i._parseDataFrom--,t--}i.invalidateData()}},r.prototype.removeData=function(e){this.scrollbarX instanceof et&&this.removeScrollbarData(this.scrollbarX,e),this.scrollbarY instanceof et&&this.removeScrollbarData(this.scrollbarY,e),l.prototype.removeData.call(this,e)},r.prototype.setTapToActivate=function(e){l.prototype.setTapToActivate.call(this,e),this.cursor&&(this.cursor.interactions.isTouchProtected=e,this.plotContainer.interactions.isTouchProtected=e)},r.prototype.handleTapToActivate=function(){l.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},r.prototype.handleTapToActivateDeactivation=function(){l.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},r}(_i);V.registeredClasses.XYChart=Ke;pe.push({relevant:fe.maybeXS,state:function(l,r){if(l instanceof Ke&&l.scrollbarX){var e=l.states.create(r),t=l.scrollbarX.states.create(r);return t.properties.disabled=!0,e}return null}});pe.push({relevant:fe.maybeXS,state:function(l,r){if(l instanceof Ke&&l.scrollbarY){var e=l.states.create(r),t=l.scrollbarY.states.create(r);return t.properties.disabled=!0,e}return null}});var Mi=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="LineSeriesSegment",e.isMeasured=!1,e.interactionsEnabled=!1,e.layout="none";var t=e.createChild(q);e.fillSprite=t,t.shouldClone=!1,t.setElement(e.paper.add("path")),t.isMeasured=!1,e._disposers.push(t);var i=e.createChild(q);return e.strokeSprite=i,i.shouldClone=!1,i.fill=Me(),i.setElement(e.paper.add("path")),i.isMeasured=!1,e._disposers.push(i),e}return r.prototype.drawSegment=function(e,t,i,a){if(!this.disabled)if(e.length>0&&t.length>0&&g(e[0].x)&&g(e[0].y)){var n=W({x:e[0].x-.2,y:e[0].y-.2})+W(e[0]),s=this.series;s.smoothing=="bezier"?n+=new Ct(i,a).smooth(e):s.smoothing=="monotoneX"?n+=new Ui({closed:!1}).smooth(e):s.smoothing=="monotoneY"&&(n+=new Gi({closed:!1}).smooth(e)),this.strokeOpacity==0||this.strokeSprite.strokeOpacity==0||(this.strokeSprite.path=n),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&g(t[0].x)&&g(t[0].y)&&(n+=R(t[0]),s.smoothing=="bezier"?n+=new Ct(i,a).smooth(t):s.smoothing=="monotoneX"?n+=new Ui({closed:!1}).smooth(t):s.smoothing=="monotoneY"&&(n+=new Gi({closed:!1}).smooth(t)),n+=R(e[0]),n+=nt(),this.fillSprite.path=n)}else this.fillSprite.path="",this.strokeSprite.path=""},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e);var t=this.strokeSprite;ae(e,t.properties,Q),t.events.copyFrom(e.strokeSprite.events),t.fillOpacity=0;var i=this.fillSprite;ae(e,i.properties,Q),i.events.copyFrom(e.fillSprite.events),i.strokeOpacity=0},r}(X);V.registeredClasses.LineSeriesSegment=Mi;var Ja=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="DurationAxisDataItem",e.applyTheme(),e}return r}(Kt),pi=function(l){_(r,l);function r(){var e=l.call(this)||this;return e._baseUnit="second",e.className="DurationAxis",e.setPropertyValue("maxZoomFactor",1e6),e.applyTheme(),e}return r.prototype.formatLabel=function(e,t){return this.durationFormatter.format(e,t||this.axisDurationFormat)},r.prototype.adjustMinMax=function(e,t,i,a,n){var s,o,h,d=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),d=="millisecond"||d=="second"||d=="minute"||d=="hour"){a<=1&&(a=1),a=Math.round(a);var u=e,p=t;i===0&&(i=Math.abs(t));var f=i/a,c=[60,30,20,15,10,2,1],y=1;d=="hour"&&(c=[24,12,6,4,2,1]);try{for(var v=li(c),m=v.next();!m.done;m=v.next()){var x=m.value;if(i/x>a){y=x;break}}}catch(O){s={error:O}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}var P=Math.ceil((t-e)/y/a),S=Math.log(Math.abs(P))*Math.LOG10E,A=Math.pow(10,Math.floor(S))/10,T=P/A,b=Da(c,T);P=b*A,f=y*P,this.durationFormatter.getValueUnit(f,this.baseUnit),e=Math.floor(e/f)*f,t=Math.ceil(t/f)*f,n&&(e-=f,e<0&&u>=0&&(e=0),t+=f,t>0&&p<=0&&(t=0)),h={min:e,max:t,step:f}}else h=l.prototype.adjustMinMax.call(this,e,t,i,a,n);return this.axisDurationFormat=this.durationFormatter.getFormat(h.step,h.max,this.baseUnit),h},Object.defineProperty(r.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(e){this._tooltipDurationFormat=e},enumerable:!0,configurable:!0}),r.prototype.getTooltipText=function(e){var t=j(this.positionToValue(e),this._stepDecimalPlaces),i=this.formatLabel(t,this.tooltipDurationFormat);return this._adapterO?this._adapterO.apply("getTooltipText",i):i},Object.defineProperty(r.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit!=e&&(this._baseUnit=e,this.durationFormatter.baseUnit=e,this.invalidate())},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.baseUnit=e.baseUnit},r}(E);V.registeredClasses.DurationAxis=pi;V.registeredClasses.DurationAxisDataItem=Ja;var qt=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="LineSeriesDataItem",e}return r}(Zt),wi=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.minDistance=.5,e.segments=new J(e.createSegment()),e.segments.template.applyOnClones=!0,e._disposers.push(new G(e.segments)),e._disposers.push(e.segments.template),e._segmentsIterator=new xi(e.segments,function(){return e.segments.create()}),e._segmentsIterator.createNewItems=!0,e.className="LineSeries",e.strokeOpacity=1,e.fillOpacity=0,e.connect=!0,e.tensionX=1,e.tensionY=1,e.autoGapCount=1.1,e.smoothing="bezier",e.segmentsContainer=e.mainContainer.createChild(X),e.segmentsContainer.isMeasured=!1,e.bulletsContainer.toFront(),e.applyTheme(),e}return r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Line Series"))},r.prototype.createSegment=function(){return new Mi},r.prototype.createDataItem=function(){return new qt},r.prototype.setInitialWorkingValues=function(e){var t=this._yAxis.get(),i=this._xAxis.get();if(this.appeared&&this.visible){var a=this.dataItems.getIndex(e.index-1);if(e.component=this,this.baseAxis==i&&t instanceof E){var n=t.minZoomed;if(a&&(n=a.values.valueY.workingValue),e.setWorkingValue("valueY",n,0),e.setWorkingValue("valueY",e.values.valueY.value),i instanceof z)e.setWorkingLocation("dateX",e.locations.dateX-1,0),e.setWorkingLocation("dateX",e.locations.dateX);else if(i instanceof pi&&a){var s=e.valueX;e.setWorkingValue("valueX",a.valueX,0),e.setWorkingValue("valueX",s)}}if(this.baseAxis==t&&i instanceof E){var o=i.minZoomed;if(a&&(o=a.values.valueX.workingValue),e.setWorkingValue("valueX",o,0),e.setWorkingValue("valueX",e.values.valueX.value),t instanceof z)e.setWorkingLocation("dateY",e.locations.dateX-1,0),e.setWorkingLocation("dateY",e.locations.dateY);else if(t instanceof pi&&a){var s=e.valueY;e.setWorkingValue("valueY",a.valueY,0),e.setWorkingValue("valueY",s)}}}else this.baseAxis==i&&t instanceof E&&(i instanceof z&&e.setWorkingLocation("dateX",e.locations.dateX),i instanceof Z&&e.setWorkingLocation("categoryX",e.locations.categoryX)),this.baseAxis==t&&i instanceof E&&(t instanceof z&&e.setWorkingLocation("dateY",e.locations.dateY),t instanceof Z&&e.setWorkingLocation("categoryY",e.locations.categoryY))},r.prototype.updateLegendValue=function(e,t){l.prototype.updateLegendValue.call(this,e,t),e&&e.segment&&(this.tooltipColorSource=e.segment)},r.prototype.validate=function(){var e=this;l.prototype.validate.call(this),this.xAxis&&this.yAxis&&(this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),w(this.axisRanges.iterator(),function(t){e.openSegmentWrapper(e._adjustedStartIndex,t)}),w(this._segmentsIterator.iterator(),function(t){t.__disabled=!0}))},r.prototype.sliceData=function(){for(var e=this.startIndex,t=this.endIndex,i=this.startIndex-1;i>=0;i--){var a=this.dataItems.getIndex(i);if(a&&a.hasValue(this._xValueFields)&&a.hasValue(this._yValueFields)){e=i;break}}this._adjustedStartIndex=this.findAdjustedIndex(e,["stroke","strokeWidth","strokeDasharray","strokeOpacity","fill","fillOpacity","opacity"]);for(var i=this.endIndex,n=this.dataItems.length;i<n;i++){var a=this.dataItems.getIndex(i);if(a&&a.hasValue(this._xValueFields)&&a.hasValue(this._yValueFields)){t=i+1;break}}this._workingStartIndex=e,this._workingEndIndex=t},r.prototype.findAdjustedIndex=function(e,t){var i=this,a=this.propertyFields,n=e;return H(t,function(s){if(C(a[s]))for(var o=n;o>=0;o--){var h=i.dataItems.getIndex(o);if(h&&C(h.properties[s])){e>o&&(e=o);break}}}),e},r.prototype.openSegmentWrapper=function(e,t){var i={index:e,axisRange:t};do i=this.openSegment(i.index,i.axisRange);while(i)},r.prototype.getSegment=function(){var e=this._segmentsIterator.getFirst();return e.series=this,e.isDisposed()?(this.segments.removeValue(e),this.getSegment()):e},r.prototype.openSegment=function(e,t){var i=!1,a=[];e=Math.min(e,this.dataItems.length);var n=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var s,o=!1,h=this.getSegment();h.strokeDasharray=void 0,h.__disabled=!1,t?(h.parent=t.contents,ae(t.contents,h,Q)):(ae(this,h,Q),h.filters.clear(),h.parent=this.segmentsContainer),this.group.node.removeAttribute("fill");for(var d=this.connect,u=!1,p=e;p<n;p++){var f=this.dataItems.getIndex(p);if(f.segment=h,f.hasProperties&&(p==e?this.updateSegmentProperties(f.properties,h):o=this.updateSegmentProperties(f.properties,h,!0)),f.hasValue(this._xValueFields)&&f.hasValue(this._yValueFields))this.addPoints(a,f,this.xField,this.yField),u=!0;else{if(p==e)continue;if(!d&&u){s=p;break}}if(s=p,this.baseAxis instanceof z){var c=this.dataItems.getIndex(p+1);if(c&&this.baseAxis.makeGap(c,f)){i=!0;break}}if(o)break}return this.closeSegment(h,a,e,s,t,i)},r.prototype.addPoints=function(e,t,i,a,n){var s=this.getPoint(t,i,a,t.workingLocations[i],t.workingLocations[a]);n||(t.point=s),e.push(s)},r.prototype.closeSegment=function(e,t,i,a,n,s){var o=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var h=a;h>=i;h--){var d=this.dataItems.getIndex(h);d.hasValue(this._xValueFields)&&d.hasValue(this._yValueFields)&&this.addPoints(o,d,this.xOpenField,this.yOpenField,!0)}else{var u=this.baseAxis,p=t.length,f=this.xAxis,c=this.yAxis;p>0&&(u==f?(o.push({x:t[p-1].x,y:c.basePoint.y}),o.push({x:t[0].x,y:c.basePoint.y})):(o.push({x:f.basePoint.x,y:t[p-1].y}),o.push({x:f.basePoint.x,y:t[0].y})))}return this.drawSegment(e,t,o),s&&a++,a<this._workingEndIndex-1?{index:a,axisRange:n}:null},r.prototype.drawSegment=function(e,t,i){e.drawSegment(t,i,this.tensionX,this.tensionY)},r.prototype.updateSegmentProperties=function(e,t,i){var a=!1;return Pe(e,function(n,s){if(C(s)){var o=t[n],h=void 0;o&&(o.toString?h=o.toString():h=o);var d=void 0;s&&(s.toString?d=s.toString():d=s),o==s||h!=null&&d!=null&&h==d||(i||(t[n]=s),a=!0)}}),a},Object.defineProperty(r.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(e){this.setPropertyValue("connect",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0)},enumerable:!0,configurable:!0}),r.prototype.createLegendMarker=function(e){var t=this,i=e.pixelWidth,a=e.pixelHeight;e.disposeChildren();var n=e.createChild(Ye);if(n.shouldClone=!1,ae(this,n,Q),n.x2=i,n.y=a/2,n.y2=1e-5,n.visible=!0,this.fillOpacity>0){var s=e.createChild(Aa);ae(this,s,Q),s.width=i,s.height=a,s.y=0,s.strokeOpacity=0,s.visible=!0,n.y=0}var o=e.dataItem;o.color=this.stroke,o.colorOrig=this.fill,We(this.bullets.iterator(),function(h){if(h instanceof Xe&&!h.copyToLegendMarker)return!1;var d=!1;if(h instanceof X&&w(h.children.iterator(),function(p){if(p instanceof He)return d=!0,!0}),!d){var u=h.clone();return u.parent=e,u.isMeasured=!0,u.tooltipText=void 0,u.x=i/2,t.fillOpacity>0?u.y=0:u.y=a/2,u.visible=!0,C(u.fill)||(u.fill=t.fill),C(u.stroke)||(u.stroke=t.stroke),!1}})},r.prototype.disposeData=function(){l.prototype.disposeData.call(this),this.segments.clear()},Object.defineProperty(r.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},set:function(e){this.setPropertyValue("autoGapCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"smoothing",{get:function(){return this.getPropertyValue("smoothing")},set:function(e){this.setPropertyValue("smoothing",e,!0)},enumerable:!0,configurable:!0}),r}(st);V.registeredClasses.LineSeries=wi;V.registeredClasses.LineSeriesDataItem=qt;var xr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="RadarSeriesDataItem",e.setLocation("dateX",0,0),e.setLocation("dateY",0,0),e.setLocation("categoryX",0,0),e.setLocation("categoryY",0,0),e.applyTheme(),e}return r}(qt),br=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="RadarSeries",e.connectEnds=!0,e.applyTheme(),e}return r.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),l.prototype.validate.call(this)},r.prototype.createDataItem=function(){return new xr},r.prototype.getPoint=function(e,t,i,a,n,s,o){s||(s="valueX"),o||(o="valueY");var h=this.yAxis.getX(e,i,n,o),d=this.yAxis.getY(e,i,n,o),u=K({x:h,y:d});u==0&&(u=1e-5);var p=this.xAxis.getAngle(e,t,a,s),f=this.chart.startAngle,c=this.chart.endAngle;if(!(p<f||p>c))return{x:u*F(p),y:u*L(p)}},r.prototype.addPoints=function(e,t,i,a,n){var s=this.getPoint(t,i,a,t.locations[i],t.locations[a]);s&&e.push(s)},r.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return _t(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},r.prototype.drawSegment=function(e,t,i){var a=this.yAxis,n=a.renderer;this.connectEnds&&Math.abs(n.endAngle-n.startAngle)==360&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(t.push(t[0]),i.length>0&&i.unshift(i[i.length-1])),l.prototype.drawSegment.call(this,e,t,i)},Object.defineProperty(r.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(e){this.setPropertyValue("connectEnds",e,!0)},enumerable:!0,configurable:!0}),r.prototype.positionBulletReal=function(e,t,i){var a=this.xAxis,n=this.yAxis;(t<a.start||t>a.end||i<n.start||i>n.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(t,i))},r.prototype.setXAxis=function(e){l.prototype.setXAxis.call(this,e),this.updateRendererRefs()},r.prototype.setYAxis=function(e){l.prototype.setYAxis.call(this,e),this.updateRendererRefs()},r.prototype.updateRendererRefs=function(){var e=this.xAxis.renderer,t=this.yAxis.renderer;e.axisRendererY=t},r}(wi);V.registeredClasses.RadarSeries=br;V.registeredClasses.RadarSeriesDataItem=xr;var Pr=function(l){_(r,l);function r(e){var t=l.call(this,e)||this;return t.className="AxisFillCircular",t.element=t.paper.add("path"),t.radius=M(100),t.applyTheme(),t}return r.prototype.draw=function(){if(l.prototype.draw.call(this),!(this.__disabled||this.disabled)&&this.axis){var e=this.axis.renderer;this.fillPath=e.getPositionRangePath(this.startPosition,this.endPosition,this.radius,C(this.innerRadius)?this.innerRadius:e.innerRadius,this.cornerRadius),this.path=this.fillPath}},Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),r}(Vi);V.registeredClasses.AxisFillCircular=Pr;var Cr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="GridCircular",e.pixelPerfect=!1,e.applyTheme(),e}return Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),r}(Dt);V.registeredClasses.GridCircular=Cr;var $t=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.fdx=0,e.fdy=0,e.className="AxisLabelCircular",e.padding(0,0,0,0),e.location=.5,e.locationOnPath=.5,e.radius=0,e.isMeasured=!1,e.applyTheme(),e}return Object.defineProperty(r.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(e){if(this.setPropertyValue("relativeRotation",e,!0),!C(e)){this.rotation=void 0;var t=this.dataItem;t&&t.component&&t.component.invalidateDataItems()}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(e){this.setPropertyValue("bent",e,!0),this.setPropertyValue("wrap",!1),this.setPropertyValue("horizontalCenter","none"),this.setPropertyValue("verticalCenter","none"),e?(this.setPropertyValue("dx",0),this.setPropertyValue("dy",0),this.setPropertyValue("x",0),this.setPropertyValue("y",0),this.setPropertyValue("rotation",0),this.fdx=0,this.fdy=0,this.textAlign="middle"):this.textPathElement&&(this.textPathElement.dispose(),this.textPathElement=void 0)},enumerable:!0,configurable:!0}),r.prototype.pixelRadius=function(e){var t=1;return this.inside&&(t=-1),le(this.radius,e)*t},r.prototype.pixelRadiusY=function(e,t){var i=1;this.inside&&(i=-1);var a=this.radius;return g(a)?(a*=t/e,le(a,e)*i):le(a,t)*i},r.prototype.fixPosition=function(e,t,i,a,n){g(i)||(i=t),g(a)||(a=0),g(n)||(n=0);var s={x:t*F(e),y:i*L(e)};this.invalid&&this.validate();var o=!1,h=this.radius;(h instanceof ve&&h.value<0||h<0)&&(o=!0);var d=this.relativeRotation,u=this.pixelRadius(t);if(this.bent){var p={x:(t+u)*F(e+180),y:(i+u*i/t)*L(e+180)};this.path=W(p)+ye(e+180,360,t+u,i+u*i/t),this.textPathElement&&this.textPathElement.attr({startOffset:this.locationOnPath*100+"%"});return}if(g(d)){this.horizontalCenter="none",this.verticalCenter="none",e=Re(e,-180,180);var f=this.bbox.width,c=this.bbox.height,y=this.pixelPaddingBottom,v=this.pixelPaddingTop,m=this.pixelPaddingLeft,x=this.pixelPaddingRight;e>90||e<-90?d==-90&&(d=90,f=0):(d==-90&&(c=-c),d==90&&(d=-90,f=-m-x,c=-c-v-y)),this.rotation=d+e+90;var P=L(d)/2,S=F(d)/2,A=this.rotation;this.dx=c*P*L(A)-f*S*F(A),this.dy=-c*P*F(A)-f*S*L(A),this.inside?e>90||e<-90?u-=(y+v)*F(d)+(m+x)*L(d):u+=(y+this.bbox.height+v)*F(d)+(m+x+this.bbox.width)*L(d):u+=(c+y+v)*F(d)+(f+m+x)*L(d),s.x+=F(e)*u,s.y+=L(e)*u*i/t}else this.horizontalCenter="middle",this.verticalCenter="middle",o?(this.dx=0,this.dy=0,s.x=(t+u)*F(e),s.y=(i+u*i/t)*L(e)):(this.dy=this._measuredHeight/2*L(e),this.dx=this._measuredWidth/2*F(e),s.x+=F(e)*u,s.y+=L(e)*u*i/t);s.x+=a,s.y+=n,this.fdx=this.dx,this.fdy=this.dy,this.moveTo(s)},r}(Si);V.registeredClasses.AxisLabelCircular=$t;var Dr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.pixelRadiusReal=0,e.layout="none",e.className="AxisRendererCircular",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.useChartAngles=!0,e.radius=M(100),e.isMeasured=!1,e.grid.template.location=0,e.labels.template.location=0,e.labels.template.radius=15,e.ticks.template.location=0,e.ticks.template.pixelPerfect=!1,e.tooltipLocation=0,e.line.strokeOpacity=0,e.applyTheme(),e}return r.prototype.setAxis=function(e){var t=this;l.prototype.setAxis.call(this,e),e.isMeasured=!1;var i=e.tooltip;i.adapter.add("dx",function(a,n){var s=Ge({x:n.pixelX,y:n.pixelY},t);return t.pixelRadius*Math.cos(Math.atan2(s.y,s.x))-s.x}),i.adapter.add("dy",function(a,n){var s=Ge({x:n.pixelX,y:n.pixelY},t);return t.pixelRadius*Math.sin(Math.atan2(s.y,s.x))-s.y})},r.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),l.prototype.validate.call(this)},Object.defineProperty(r.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelRadius",{get:function(){return re(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){var e=this.chart,t=this.getPropertyValue("innerRadius");if(e){if(!C(t))t=e.innerRadius,t instanceof ve&&e&&(t=M(t.value*e.innerRadiusModifyer*100));else if(t instanceof ve&&e){var i=e.mr,a=t.value;a=Math.max(i*a,i-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/i,t=M(a*100)}return t}},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(e){this.setPropertyValue("useChartAngles",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelInnerRadius",{get:function(){return re(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),r.prototype.positionToPoint=function(e,t){g(t)||(t=1);var i=this.positionToCoordinate(e),a=this.startAngle+(this.endAngle-this.startAngle)*i/this.axisLength,n=this.pixelRadius,s=this.pixelInnerRadius;if(this.axisRendererY){var o=Y(this.axisRendererY.positionToCoordinate(t),0,1/0);o==0&&(o=1e-6);var h={x:o*F(a),y:o*L(a)};return h}return{x:F(a)*s+(n-s)*F(a)*t,y:L(a)*s+(n-s)*L(a)*t}},r.prototype.positionToAngle=function(e){var t=this.axis,i=(this.endAngle-this.startAngle)/(t.end-t.start),a;return t.renderer.inversed?a=this.startAngle+(t.end-e)*i:a=this.startAngle+(e-t.start)*i,j(a,3)},r.prototype.angleToPosition=function(e){var t=this.axis,i=(this.endAngle-this.startAngle)/(t.end-t.start),a;return t.renderer.inversed?a=t.end-(e-this.startAngle)/i:a=(e-this.startAngle)/i+t.start,j(a,5)},r.prototype.updateAxisLine=function(){var e=this.pixelRadius,t=this.startAngle,i=this.endAngle,a=U(360,i-t);this.line.path=W({x:e*F(t),y:e*L(t)})+ye(t,a,e,e)},r.prototype.updateGridElement=function(e,t,i){t=t+(i-t)*e.location;var a=this.positionToPoint(t);if(g(a.x)&&g(a.y)&&e.element){var n=ti*Math.atan2(a.y,a.x),s=re(C(e.radius)?e.radius:M(100),this.pixelRadius),o=re(e.innerRadius,this.pixelRadius);e.zIndex=0;var h=re(g(o)?o:this.innerRadius,this.pixelRadiusReal,!0);g(h)||(h=0),e.path=W({x:h*F(n),y:h*L(n)})+R({x:s*F(n),y:s*L(n)})}this.toggleVisibility(e,t,0,1)},r.prototype.updateTickElement=function(e,t,i){t=t+(i-t)*e.location;var a=this.positionToPoint(t);if(e.element){var n=this.pixelRadius,s=ti*Math.atan2(a.y,a.x),o=e.length;e.inside&&(o=-o),e.zIndex=1,e.path=W({x:n*F(s),y:n*L(s)})+R({x:(n+o)*F(s),y:(n+o)*L(s)})}this.toggleVisibility(e,t,0,1)},r.prototype.updateBullet=function(e,t,i){var a=.5;e instanceof Tt&&(a=e.location),t=t+(i-t)*a;var n=this.positionToPoint(t),s=this.pixelRadius,o=ti*Math.atan2(n.y,n.x);n={x:s*F(o),y:s*L(o)},this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},r.prototype.updateLabelElement=function(e,t,i,a){C(a)||(a=e.location),t=t+(i-t)*a,e.fixPosition(this.positionToAngle(t),this.pixelRadius),e.zIndex=2,this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition)},r.prototype.fitsToBounds=function(e){return!0},Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),r.prototype.getPositionRangePath=function(e,t,i,a,n){var s="";if(g(e)&&g(t)){C(i)||(i=this.radius),e=ee(e,this.axis.start),t=U(t,this.axis.end),t<e&&(t=e);var o=re(i,this.pixelRadius),h=re(a,this.pixelRadius,!0),d=this.positionToAngle(e),u=this.positionToAngle(t),p=u-d;s=_t(d,p,o,h,o,n)}return s},r.prototype.createGrid=function(){return new Cr},r.prototype.createFill=function(e){return new Pr(e)},r.prototype.createLabel=function(){return new $t},r.prototype.pointToPosition=function(e){var t=Re(Se(e),this.startAngle,this.endAngle);return this.coordinateToPosition((t-this.startAngle)/360*this.axisLength)},r}(Gt);V.registeredClasses.AxisRendererCircular=Dr;var Ar=function(l){_(r,l);function r(){var e=l.call(this)||this;return e._chart=new he,e.pixelRadiusReal=0,e.className="AxisRendererRadial",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.minGridDistance=30,e.gridType="circles",e.axisAngle=-90,e.isMeasured=!1,e.layout="none",e.radius=M(100),e.line.strokeOpacity=0,e.labels.template.horizontalCenter="middle",e._disposers.push(e._chart),e.applyTheme(),e}return r.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),l.prototype.validate.call(this)},Object.defineProperty(r.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelRadius",{get:function(){return re(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){var e=this.chart,t=this.getPropertyValue("innerRadius");if(e){if(!C(t))t=e.innerRadius,t instanceof ve&&e&&(t=M(t.value*e.innerRadiusModifyer*100));else if(t instanceof ve&&e){var i=e.mr,a=t.value;a=Math.max(i*a,i-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/i,t=M(a*100)}}return t},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelInnerRadius",{get:function(){return re(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),r.prototype.positionToPoint=function(e,t){var i=Y(this.positionToCoordinate(e),0,1/0);return{x:i*F(this.axisAngle),y:i*L(this.axisAngle)}},r.prototype.updateAxisLine=function(){this.line.path=W({x:this.pixelInnerRadius*F(this.axisAngle),y:this.pixelInnerRadius*L(this.axisAngle)})+R({x:this.pixelRadius*F(this.axisAngle),y:this.pixelRadius*L(this.axisAngle)});var e=this.axis.title;e.valign="none",e.horizontalCenter="middle",e.verticalCenter="bottom",e.y=-this.axisLength/2;var t=90;this.opposite?this.inside||(t=-90):this.inside&&(t=-90),e.rotation=t},r.prototype.updateGridElement=function(e,t,i){t=t+(i-t)*e.location;var a=this.positionToPoint(t),n,s=K(a),o=this.startAngle,h=this.endAngle,d=this.chart;if(g(s)&&e.element&&d){var u=d.xAxes.getIndex(0),p=0,f=d.series.getIndex(0);if(f&&(p=f.dataItems.length),this.gridType=="polygons"&&p>0&&f&&u&&u instanceof Z){var c=u.renderer.grid.template.location,y=u.getAngle(f.dataItems.getIndex(0),"categoryX",c);n=W({x:s*F(y),y:s*L(y)});for(var v=1;v<p;v++)y=u.getAngle(f.dataItems.getIndex(v),"categoryX",c),n+=R({x:s*F(y),y:s*L(y)});y=u.getAngle(f.dataItems.getIndex(p-1),"categoryX",u.renderer.cellEndLocation),n+=R({x:s*F(y),y:s*L(y)})}else n=W({x:s*F(o),y:s*L(o)})+ye(o,h-o,s,s);e.path=n}this.toggleVisibility(e,t,0,1)},r.prototype.updateLabelElement=function(e,t,i,a){C(a)||(a=e.location),t=t+(i-t)*a;var n=this.positionToPoint(t);this.positionItem(e,n),this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition)},r.prototype.updateBaseGridElement=function(){},r.prototype.fitsToBounds=function(e){return!0},Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(e){this.setPropertyValue("axisAngle",hi(e)),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"gridType",{get:function(){var e=this.chart.xAxes.getIndex(0);return e instanceof Z?this.getPropertyValue("gridType"):"circles"},set:function(e){this.setPropertyValue("gridType",e,!0)},enumerable:!0,configurable:!0}),r.prototype.getPositionRangePath=function(e,t){var i=this.pixelInnerRadius,a=this.axisLength+i,n=Y(this.positionToCoordinate(e),i,a),s=Y(this.positionToCoordinate(t),i,a),o=this.startAngle,h=this.endAngle,d=h-o,u,p=this.chart,f=p.xAxes.getIndex(0),c=p.series.getIndex(0),y=0;if(c&&(y=c.dataItems.length),this.gridType=="polygons"&&y>0&&c&&f&&f instanceof Z){var v=f.renderer.grid.template.location,m=f.getAngle(c.dataItems.getIndex(0),"categoryX",v);u=W({x:s*F(m),y:s*L(m)});for(var x=1;x<y;x++)m=f.getAngle(c.dataItems.getIndex(x),"categoryX",v),u+=R({x:s*F(m),y:s*L(m)});m=f.getAngle(c.dataItems.getIndex(y-1),"categoryX",f.renderer.cellEndLocation),u+=R({x:s*F(m),y:s*L(m)}),u+=W({x:n*F(m),y:n*L(m)});for(var x=y-1;x>=0;x--)m=f.getAngle(c.dataItems.getIndex(x),"categoryX",v),u+=R({x:n*F(m),y:n*L(m)})}else u=_t(o,d,s,n);return u},r.prototype.updateBreakElement=function(e){var t=e.startLine,i=e.endLine,a=e.fillShape,n=e.startPoint,s=e.endPoint;t.radius=Math.abs(n.y),i.radius=Math.abs(s.y),a.radius=Math.abs(s.y),a.innerRadius=Math.abs(n.y)},r.prototype.createBreakSprites=function(e){e.startLine=new ii,e.endLine=new ii,e.fillShape=new ii},r.prototype.updateTooltip=function(){var e=this.axis;if(e){var t=4e3,i=-4e3,a=-4e3,n=t*2,s=t*2,o=this.axisAngle;o<0&&(o+=360);var h="vertical";(o>45&&o<135||o>225&&o<315)&&(h="horizontal"),this.axis.updateTooltip(h,{x:i,y:a,width:n,height:s})}},r.prototype.updateTickElement=function(e,t,i){t=t+(i-t)*e.location;var a=this.positionToPoint(t);if(e.element){var n=hi(this.axisAngle+90);n/90!=Math.round(n/90)?e.pixelPerfect=!1:e.pixelPerfect=!0;var s=-e.length;e.inside&&(s*=-1),e.path=W({x:0,y:0})+R({x:s*F(n),y:s*L(n)})}this.positionItem(e,a),this.toggleVisibility(e,t,0,1)},r.prototype.updateBullet=function(e,t,i){var a=.5;e instanceof Tt&&(a=e.location),t=t+(i-t)*a;var n=this.positionToPoint(t);this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},r.prototype.positionToCoordinate=function(e){var t,i=this.axis,a=i.axisFullLength,n=this.pixelInnerRadius;return i.renderer.inversed?t=(i.end-e)*a+n:t=(e-i.start)*a+n,j(t,1)},r.prototype.pointToPosition=function(e){var t=K(e)-this.pixelInnerRadius;return this.coordinateToPosition(t)},Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null)},enumerable:!0,configurable:!0}),r}(ke);V.registeredClasses.AxisRendererRadial=Ar;var en=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="RadarChartDataItem",e.applyTheme(),e}return r}(Oi),_r=function(l){_(r,l);function r(){var e=l.call(this)||this;e._axisRendererX=Dr,e._axisRendererY=Ar,e.innerRadiusModifyer=1,e.mr=1,e.className="RadarChart",e.startAngle=-90,e.endAngle=270,e.radius=M(80),e.innerRadius=0;var t=e.plotContainer.createChild(X);return t.shouldClone=!1,t.layout="absolute",t.align="center",t.valign="middle",e.seriesContainer.parent=t,e.radarContainer=t,e.bulletsContainer.parent=t,e.axisBulletsContainer=t,e._cursorContainer=t,e.chartContainer.events.on("maxsizechanged",e.invalidate,e,!1),e._bulletMask=t.createChild(bi),e._bulletMask.shouldClone=!1,e._bulletMask.element=e.paper.add("path"),e._bulletMask.opacity=0,e.applyTheme(),e}return r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Radar chart"))},r.prototype.processAxis=function(e){l.prototype.processAxis.call(this,e);var t=e.renderer;t.gridContainer.parent=t,t.breakContainer.parent=t,e.parent=this.radarContainer,t.toBack()},r.prototype.handleXAxisRangeChange=function(){l.prototype.handleXAxisRangeChange.call(this),w(this.yAxes.iterator(),function(e){e.invalidate()})},r.prototype.handleYAxisRangeChange=function(){l.prototype.handleYAxisRangeChange.call(this),w(this.xAxes.iterator(),function(e){e.invalidate()})},r.prototype.processConfig=function(e){if(e&&(C(e.cursor)&&!C(e.cursor.type)&&(e.cursor.type="RadarCursor"),C(e.series)&&we(e.series)))for(var t=0,i=e.series.length;t<i;t++)e.series[t].type=e.series[t].type||"RadarSeries";l.prototype.processConfig.call(this,e)},r.prototype.beforeDraw=function(){l.prototype.beforeDraw.call(this);var e=this.plotContainer,t=ze(this.startAngle,this.endAngle,1),i={x:0,y:0,width:0,height:0},a=e.innerWidth/t.width,n=e.innerHeight/t.height,s=this.innerRadius;if(s instanceof ve){var o=s.value,h=Math.min(a,n);this.mr=h,o=Math.max(h*o,h-Math.min(e.innerHeight,e.innerWidth))/h,i=ze(this.startAngle,this.endAngle,o),this.innerRadiusModifyer=o/s.value,s=M(o*100)}t=Pi([t,i]);var d=Math.min(e.innerWidth/t.width,e.innerHeight/t.height),u=re(this.radius,d)*2||0,p=u/2,f=this.startAngle,c=this.endAngle;this._pixelInnerRadius=re(s,p),this._bulletMask.path=_t(f,c-f,p,this._pixelInnerRadius),w(this.xAxes.iterator(),function(v){v.renderer.useChartAngles&&(v.renderer.startAngle=f,v.renderer.endAngle=c),v.width=u,v.height=u,v.renderer.pixelRadiusReal=p}),w(this.yAxes.iterator(),function(v){v.renderer.startAngle=f,v.renderer.endAngle=c,v.width=u,v.height=u,v.renderer.pixelRadiusReal=p});var y=this.cursor;y&&(y.width=u,y.height=u,y.startAngle=f,y.endAngle=c),this.radarContainer.definedBBox={x:p*t.x,y:p*t.y,width:p*t.width,height:p*t.height},this.radarContainer.validatePosition()},r.prototype.createSeries=function(){return new br},Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),r.prototype.updateXAxis=function(e){e&&e.processRenderer()},r.prototype.updateYAxis=function(e){e&&e.processRenderer()},r}(Ke);V.registeredClasses.RadarChart=_r;var Vr=function(l){_(r,l);function r(){var e=l.call(this)||this;e._axis=new he,e.className="ClockHand";var t=new te;e.fill=t.getFor("alternativeBackground"),e.stroke=e.fill;var i=new bi;i.radius=5,e.pin=i,e.isMeasured=!1,e.startWidth=5,e.endWidth=1,e.width=M(100),e.height=M(100),e.radius=M(100),e.innerRadius=M(0);var a=new _a;return e.hand=a,e._disposers.push(e._axis),e.applyTheme(),e}return r.prototype.validate=function(){l.prototype.validate.call(this);var e=this.hand;e.width=this.pixelWidth;var t=Math.max(this.startWidth,this.endWidth);if(e.height=t,e.leftSide=M(this.startWidth/t*100),e.rightSide=M(this.endWidth/t*100),this.axis){var i=this.axis.renderer,a=re(this.innerRadius,i.pixelRadius),n=re(this.radius,i.pixelRadius);e.x=a,e.y=-t/2,e.width=n-a}},Object.defineProperty(r.prototype,"pin",{get:function(){return this._pin},set:function(e){this._pin&&this.removeDispose(this._pin),e&&(this._pin=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hand",{get:function(){return this._hand},set:function(e){this._hand&&this.removeDispose(this._hand),e&&(this._hand=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(e){this.setPropertyValue("startWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(e){this.setPropertyValue("endWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(e){this.setPropertyValue("rotationDirection",e)},enumerable:!0,configurable:!0}),r.prototype.showValue=function(e,t,i){if(this._value=e,e!=null&&(g(t)||(t=0),this.axis)){var a=this.axis.renderer,n=a.positionToAngle(this.axis.anyToPosition(e)),s=this.rotation;this.rotationDirection=="clockWise"&&n<s&&(this.rotation=s-360),this.rotationDirection=="counterClockWise"&&n>s&&(this.rotation=s+360),this.animate({property:"rotation",to:n},t,i)}},Object.defineProperty(r.prototype,"currentPosition",{get:function(){if(this.axis){var e=this.axis.renderer;return e.angleToPosition(this.rotation)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(e){this.showValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this.axis!=e&&this._axis.set(e,new at([e.events.on("datavalidated",this.updateValue,this,!1),e.events.on("datarangechanged",this.updateValue,this,!1),e.events.on("dataitemsvalidated",this.updateValue,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),e){var t=e.chart;t&&(this.rotation=t.startAngle)}this.parent=e.renderer,this.zIndex=5},enumerable:!0,configurable:!0}),r.prototype.updateValue=function(){this.value=this.value},r.prototype.processConfig=function(e){e&&C(e.axis)&&ne(e.axis)&&this.map.hasKey(e.axis)&&(e.axis=this.map.getKey(e.axis)),l.prototype.processConfig.call(this,e)},r}(X);V.registeredClasses.ClockHand=Vr;(function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="GaugeChartDataItem",e.applyTheme(),e}return r})(en);var tn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="GaugeChart",e.startAngle=180,e.endAngle=360,e.hands=new J(new Vr),e.hands.events.on("inserted",e.processHand,e,!1),e._disposers.push(new G(e.hands)),e._disposers.push(e.hands.template),e.applyTheme(),e}return r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Gauge chart"))},r.prototype.processHand=function(e){var t=e.newValue;t.axis||(t.axis=this.xAxes.getIndex(0))},r.prototype.configOrder=function(e,t){return e==t?0:e=="hands"?1:t=="hands"?-1:l.prototype.configOrder.call(this,e,t)},r}(_r);V.registeredClasses.GaugeChart=tn;var Qt=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="PercentSeriesDataItem",e.applyTheme(),e}return r.prototype.uidAttr=function(){return this.slice.uidAttr()},r.prototype.hide=function(e,t,i,a){return a||(a=["value"]),l.prototype.hide.call(this,e,t,0,a)},r.prototype.setVisibility=function(e,t){t||(e?this.setWorkingValue("value",this.values.value.value,0,0):this.setWorkingValue("value",0,0,0)),l.prototype.setVisibility.call(this,e,t)},r.prototype.show=function(e,t,i){return i||(i=["value"]),l.prototype.show.call(this,e,t,i)},Object.defineProperty(r.prototype,"category",{get:function(){return this.properties.category},set:function(e){this.setProperty("category",e)},enumerable:!0,configurable:!0}),r.prototype.createLegendMarker=function(e){this.component.createLegendMarker(e,this)},Object.defineProperty(r.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tick",{get:function(){var e=this;if(!this._tick){var t=this.component.ticks.create();this._tick=t,this.addSprite(t),this._disposers.push(t),t.parent=this.component.ticksContainer,this._disposers.push(new oe(function(){e.component&&e.component.ticks.removeValue(t)})),t.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){var e=this;if(!this._label){var t=this.component.labels.create();this.addSprite(t),this._label=t,this._disposers.push(t),t.parent=this.component.labelsContainer,this._disposers.push(new oe(function(){e.component&&e.component.labels.removeValue(t)})),t.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"slice",{get:function(){var e=this;if(!this._slice){var t=this.component,i=t.slices.create();this.addSprite(i),this._slice=i,this._disposers.push(i),i.parent=t.slicesContainer,this._disposers.push(new oe(function(){t.slices.removeValue(i)})),i.visible=this.visible,t.itemsFocusable()?(C(this.component.role)||(this.component.role="menu"),C(i.role)||(i.role="menuitem"),i.focusable=!0):(C(this.component.role)||(this.component.role="list"),C(i.role)||(i.role="listitem"),i.focusable=!1),i.focusable&&(i.events.on("focus",function(a){i.readerTitle=t.populateString(t.itemReaderText,e)},void 0,!1),i.events.on("blur",function(a){i.readerTitle=""},void 0,!1)),i.hoverable&&(i.events.on("over",function(a){i.readerTitle=t.populateString(t.itemReaderText,e)},void 0,!1),i.events.on("out",function(a){i.readerTitle=""},void 0,!1))}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(e){this.setProperty("hiddenInLegend",e)},enumerable:!0,configurable:!0}),r}(Nt),Ot=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="PercentSeries",e._addAllDataItems=!1,e.colors=new Et,e.colors.step=1,e.isMeasured=!0,e.calculatePercent=!0;var t=e.createChild(X);t.shouldClone=!1,t.isMeasured=!1,e.slicesContainer=t;var i=e.createChild(X);i.shouldClone=!1,i.isMeasured=!1,i.layout="none",e.ticksContainer=i;var a=e.createChild(X);a.shouldClone=!1,a.isMeasured=!1,a.layout="none",e.labelsContainer=a,e.alignLabels=!1,e.bulletsContainer.toFront(),e.skipFocusThreshold=50;var n=e.defaultState;return n.transitionEasing=Va,e.itemReaderText="{category}: {value.percent.formatNumber('#.#p')}",e.applyTheme(),e}return r.prototype.createSlice=function(){return new q},r.prototype.createTick=function(){return new St},r.prototype.createLabel=function(){return new He},Object.defineProperty(r.prototype,"slices",{get:function(){if(!this._slices){var e=this.createSlice();e.applyOnClones=!0,this._disposers.push(e),this.initSlice(e),this._slices=new J(e),this._disposers.push(new G(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,this._disposers.push(e),this.initTick(e),this._ticks=new J(e),this._disposers.push(new G(this._ticks))}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();e.applyOnClones=!0,this._disposers.push(e),this.initLabel(e),this._labels=new J(e),this._disposers.push(new G(this._labels))}return this._labels},enumerable:!0,configurable:!0}),r.prototype.createDataItem=function(){return new Qt},r.prototype.initSlice=function(e){},r.prototype.initLabel=function(e){e.text="{category}: {value.percent.formatNumber('#.0p')}",e.isMeasured=!1,e.padding(5,5,5,5)},r.prototype.initTick=function(e){},r.prototype.validateDataItems=function(){this.colors.reset(),this.patterns&&this.patterns.reset(),l.prototype.validateDataItems.call(this)},r.prototype.validateDataElement=function(e){var t=e.slice;t&&(t.fill==null?this.patterns?(C(t.stroke)||(t.stroke=this.colors.next()),t.fill=this.patterns.next(),C(t.fillOpacity)&&(t.fill.backgroundOpacity=t.fillOpacity),t.stroke instanceof Ae&&(t.fill.stroke=t.stroke,t.fill.fill=t.stroke)):t.fill=this.colors.next():this.colors.currentStep+=this.colors.step,t.stroke==null&&(t.stroke=t.fill)),l.prototype.validateDataElement.call(this,e),t&&e.bullets.each(function(i,a){a.fill==null&&(a.fill=t.fill),a.stroke==null&&(a.stroke=t.stroke)}),this.updateLegendValue(e)},r.prototype.validateData=function(){l.prototype.validateData.call(this),this.chart&&this.chart.feedLegend()},r.prototype.arrangeLabels=function(e){for(var t=0,i=e.length;t<i;t++){var a=e[t],n=a.label;if(n){n.invalid&&n.validate();var s=n.measuredHeight;n.visible||(s=0),n.pixelY-s/2<-this.maxHeight/2&&(n.y=-this.maxHeight/2+s/2);var o=this.getNextLabel(t+1,e),h=n.pixelY+s/2;if(o){o.invalid&&o.validate();var d=o.measuredHeight;o.visible||(d=0);var u=o.pixelY;u==null&&(u=0),u-d/2<h&&(o.y=h+d/2)}}}},r.prototype.arrangeLabels2=function(e){for(var t=this.maxHeight/2,i=e.length-1;i>=0;i--){var a=e[i],n=a.label;if(n){n.invalid&&n.validate();var s=n.measuredHeight;n.visible||(s=0),n.pixelY+s/2>t&&(n.y=t-s/2,t=n.y-s/2)}}},r.prototype.getNextLabel=function(e,t){if(t.length>=e){var i=t[e];if(i)return i.label?i.visible?i.label:this.getNextLabel(e+1,t):this.getNextLabel(e+1,t)}},Object.defineProperty(r.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),r.prototype.createLegendMarker=function(e,t){w(e.children.iterator(),function(i){var a=t.slice;i.defaultState.properties.fill=a.fill,i.defaultState.properties.stroke=a.stroke,i.defaultState.properties.fillOpacity=a.fillOpacity,i.defaultState.properties.strokeOpacity=a.strokeOpacity,i.fill=a.fill,i.stroke=a.stroke,i.fillOpacity=a.fillOpacity,i.strokeOpacity=a.strokeOpacity,i.fill==null&&(i.__disabled=!0);var n=e.dataItem;n.color=a.fill,n.colorOrig=a.fill,i.addDisposer(a.events.on("propertychanged",function(s){s.property=="fill"&&(i.__disabled=!1,i.isActive||(i.fill=a.fill),i.defaultState.properties.fill=a.fill,n.color=a.fill,n.colorOrig=a.fill),s.property=="stroke"&&(i.isActive||(i.stroke=a.stroke),i.defaultState.properties.stroke=a.stroke),s.property=="strokeOpacity"&&(i.isActive||(i.strokeOpacity=a.strokeOpacity),i.defaultState.properties.strokeOpacity=a.strokeOpacity)},void 0,!1))})},r.prototype.handleSliceScale=function(e){var t=this,i=e.target,a=i.dataItem;a&&a.bullets&&w(a.bullets.iterator(),function(n){var s=n[1];t.positionBullet(s)})},r.prototype.handleSliceMove=function(e){},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.slices.template.copyFrom(e.slices.template),this.labels.template.copyFrom(e.labels.template),this.ticks.template.copyFrom(e.ticks.template),this.colors=e.colors.clone()},Object.defineProperty(r.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(e){this.setAlignLabels(e)},enumerable:!0,configurable:!0}),r.prototype.setAlignLabels=function(e){this.setPropertyValue("alignLabels",e,!0)},Object.defineProperty(r.prototype,"ignoreZeroValues",{get:function(){return this.getPropertyValue("ignoreZeroValues")},set:function(e){this.setPropertyValue("ignoreZeroValues",e,!0)},enumerable:!0,configurable:!0}),r.prototype.updateLegendValue=function(e){if(e){var t=e.legendDataItem,i=e.legendSettings;t&&i&&i&&(i.labelText&&(t.label.text=i.labelText),i.itemLabelText&&(t.label.text=i.itemLabelText),i.valueText&&(t.valueLabel.text=i.valueText),i.itemValueText&&(t.valueLabel.text=i.itemValueText))}},r}(zt);V.registeredClasses.PercentSeries=Ot;V.registeredClasses.PercentSeriesDataItem=Qt;pe.push({relevant:fe.maybeXS,state:function(l,r){if(l instanceof Ot){var e=l.states.create(r),t=l.labels.template.states.create(r);t.properties.disabled=!0;var i=l.ticks.template.states.create(r);return i.properties.disabled=!0,e}return null}});var ki=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="PercentChartDataItem",e.applyTheme(),e}return r}(pr),Fi=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="PercentChart",e.align="none",e.valign="none",e.chartContainer.minHeight=50,e.chartContainer.minWidth=50,e.applyTheme(),e}return r.prototype.validateData=function(){l.prototype.validateData.call(this),this.feedLegend()},r.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];w(this.series.iterator(),function(i){i.hiddenInLegend||w(i.dataItems.iterator(),function(a){a.hiddenInLegend||(t.push(a),a.legendSettings||(a.legendSettings=i.legendSettings))})}),e.data=t,e.dataFields.name="category"}},r.prototype.createSeries=function(){return new Ot},r.prototype.setLegend=function(e){l.prototype.setLegend.call(this,e),e&&(e.labels.template.text="{category}",e.valueLabels.template.text="{value.percent.formatNumber('#.0p')}",e.itemContainers.template.events.on("over",function(t){var i=t.target.dataItem.dataContext;if(i.visible&&!i.isHiding){var a=i.slice;a.dispatchImmediately("over"),a.isHover=!0,a.interactions.isRealHover=!0}}),e.itemContainers.template.events.on("out",function(t){var i=t.target.dataItem.dataContext,a=i.slice;a.dispatchImmediately("out"),a.isHover=!1}))},r}(_i);V.registeredClasses.PercentChart=Fi;V.registeredClasses.PercentChartDataItem=ki;var Sr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e._label=new he,e._slice=new he,e.className="PieTick",e.element=e.paper.add("polyline"),e._disposers.push(e._label),e._disposers.push(e._slice),e.applyTheme(),e}return r.prototype.draw=function(){l.prototype.draw.call(this);var e=this.slice,t=this.label,i=e.dataItem.component;if(e&&e.radius>0&&t&&t.text){var a=e.dx+e.slice.dx+e.pixelX+e.ix*e.radius*e.scale,n=e.dy+e.slice.dy+e.pixelY+e.iy*e.radiusY*e.scale,s=void 0,o=void 0,h=void 0,d=void 0;if(i.alignLabels)s=t.pixelX-this.length,o=t.pixelY,h=t.pixelX,d=o,t.horizontalCenter=="right"&&(s+=2*this.length,h=s-this.length);else{var u=t.pixelRadius(e.radius);s=a+u*e.ix,o=n+u*e.iy,h=s,d=o}this.element.attr({points:[a,n,s,o,h,d]})}},Object.defineProperty(r.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new at([e.events.on("transformed",this.invalidate,this),e.events.on("validated",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),r}(St);V.registeredClasses.PieTick=Sr;var Li=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="PieSeriesDataItem",e.values.radiusValue={},e.applyTheme(),e}return Object.defineProperty(r.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(e){this.setValue("radiusValue",e)},enumerable:!0,configurable:!0}),r.prototype.hide=function(e,t,i,a){return l.prototype.hide.call(this,e,t,0,["value","radiusValue"])},r.prototype.show=function(e,t,i){return l.prototype.show.call(this,e,t,["value","radiusValue"])},r}(Qt),Ii=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="PieSeries",e.alignLabels=!0,e.layout="none",e.labels.template.radius=M(5),e.addDisposer(e.labels.template.events.on("enabled",e.invalidate,e,!1)),e.applyTheme(),e}return r.prototype.createSlice=function(){return new Ci},r.prototype.createTick=function(){return new Sr},r.prototype.createLabel=function(){return new $t},r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Pie Slice Series"))},r.prototype.createDataItem=function(){return new Li},r.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})";var t=e.states.create("hover");t.properties.scale=1.05;var i=e.defaultState;i.properties.shiftRadius=0,e.togglable=!0,e.events.on("toggled",function(n){n.target.hideTooltip(),n.target.interactions.lastHitPointer&&n.target.interactions.lastHitPointer.touch&&!n.target.isActive&&(n.target.isHover=!1)});var a=e.states.create("active");a.properties.shiftRadius=.1},r.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=ze(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var e=this.startIndex;e<this.endIndex;e++){var t=this.dataItems.getIndex(e),i=t.values.radiusValue.percent;i>this._maxRadiusPercent&&(this._maxRadiusPercent=i)}l.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort(function(a,n){var s=(a.slice.middleAngle+360)%360,o=(n.slice.middleAngle+360)%360;return s>270&&(s-=360),o>270&&(o-=360),s<o?-1:s>o?1:0}),this._leftItems.sort(function(a,n){var s=(a.slice.middleAngle+360)%360,o=(n.slice.middleAngle+360)%360;return s<o?1:s>o?-1:0}),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},r.prototype.validateDataElement=function(e){if(this.pixelRadius>0){this.ignoreZeroValues&&(e.value==0||e.value==null)?e.__disabled=!0:e.__disabled=!1;var t=e.slice;if(t.radius=this.pixelRadius,g(e.radiusValue)&&(t.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*e.values.radiusValue.percent/this._maxRadiusPercent),t.innerRadius instanceof ve||(t.innerRadius=this.pixelInnerRadius),t.startAngle=this._currentStartAngle,t.arc=Math.abs(e.values.value.percent)*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var i=e.label,a=e.tick;a.slice=t,a.label=i;var n=(t.middleAngle+360)%360,s=void 0;if(this.alignLabels){var o=i.pixelRadius(t.radius),h=a.length+o;i.dx=0,i.dy=0,i.verticalCenter="middle";var d=this._arcRect;n>270||n<=90?(h+=(d.width+d.x)*this.pixelRadius,i.horizontalCenter="left",this._rightItems.push(e)):(h-=d.x*this.pixelRadius,i.horizontalCenter="right",this._leftItems.push(e),h*=-1);var u=t.radius+a.length+o;s={x:h,y:t.iy*u},i.moveTo(s)}else{var p=t.depth;g(p)||(p=0),i.fixPosition(t.middleAngle,t.radius,t.radiusY,0,-p)}}this._currentStartAngle+=t.arc,l.prototype.validateDataElement.call(this,e)}},Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(e){this._pixelRadius!=e&&(this._pixelRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(e){this._pixelInnerRadius!=e&&(this._pixelInnerRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startAngle",{get:function(){var e=this.getPropertyValue("startAngle");return g(e)?e:this._startAngleInternal},set:function(e){this.setPropertyValue("startAngle",hi(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){var e=this.getPropertyValue("endAngle");return g(e)?e:this._endAngleInternal},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),r.prototype.positionBullet=function(e){l.prototype.positionBullet.call(this,e);var t=e.dataItem,i=t.slice,a=e.locationX;g(a)||(a=.5);var n=e.locationY;g(n)||(n=1);var s=i.startAngle+i.arc*a;e.x=n*i.radius*F(s),e.y=n*i.radiusY*L(s)},r.prototype.handleSliceMove=function(e){if(!this.alignLabels){var t=e.target,i=t.dataItem;if(i){var a=i.label;a&&(a.dx=a.fdx+t.dx+t.pixelX,a.dy=a.fdy+t.dy+t.pixelY)}}},Object.defineProperty(r.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var e=this.chart;return e?ze(e.startAngle,e.endAngle,this.pixelRadius):ze(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),r}(Ot);V.registeredClasses.PieSeries=Ii;V.registeredClasses.PieSeriesDataItem=Li;var Tr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="PieChartDataItem",e.applyTheme(),e}return r}(ki),Ri=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="PieChart",e.innerRadius=0,e.radius=M(80),e.align="none",e.valign="none",e.startAngle=-90,e.endAngle=270;var t=e.seriesContainer;return t.isMeasured=!0,t.valign="middle",t.align="center",t.layout="absolute",t.width=void 0,t.height=void 0,e.chartContainer.minHeight=50,e.chartContainer.minWidth=50,e.chartContainer.events.on("maxsizechanged",e.updateRadius,e,!1),e.applyTheme(),e}return r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Pie chart"))},r.prototype.validateLayout=function(){l.prototype.validateLayout.call(this),this.updateRadius()},r.prototype.handleSeriesAdded=function(e){l.prototype.handleSeriesAdded.call(this,e),this._chartPixelRadius=void 0,this.updateSeriesAngles()},r.prototype.updateSeriesAngles=function(){var e=this;this.series.each(function(t){t._startAngleInternal=e.startAngle,t._endAngleInternal=e.endAngle})},r.prototype.updateRadius=function(){var e=this.chartContainer,t=ze(this.startAngle,this.endAngle,1),i={x:0,y:0,width:0,height:0},a=this.innerRadius;a instanceof ve&&(i=ze(this.startAngle,this.endAngle,a.value)),t=Pi([t,i]);var n=Math.min(e.innerWidth/t.width,e.innerHeight/t.height);g(n)||(n=0);var s=re(this.radius,n),o=re(this.innerRadius,n),h=(s-o)/this.series.length;(s!=this._chartPixelRadius||o!=this._chartPixelInnerRadius)&&(this._chartPixelRadius=s,this._chartPixelInnerRadius=o,w(Pt(this.series.iterator()),function(d){var u=d[0],p=d[1],f=o+re(p.radius,s-o),c=o+re(p.innerRadius,s-o);g(f)||(f=o+h*(u+1)),g(c)||(c=o+h*u),p.pixelRadius=f,p.pixelInnerRadius=c}),this.seriesContainer.definedBBox={x:s*t.x,y:s*t.y,width:s*t.width,height:s*t.height},this.seriesContainer.invalidateLayout(),this.bulletsContainer.x=this.seriesContainer.x,this.bulletsContainer.y=this.seriesContainer.y)},Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),r.prototype.createSeries=function(){return new Ii},Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),r}(Fi);V.registeredClasses.PieChart=Ri;V.registeredClasses.PieChartDataItem=Tr;var Or=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="PieSeries3DDataItem",e.values.depthValue={},e.applyTheme(),e}return Object.defineProperty(r.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(e){this.setValue("depthValue",e)},enumerable:!0,configurable:!0}),r}(Li),Mr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="PieSeries3D",e.applyTheme(),e}return r.prototype.createDataItem=function(){return new Or},r.prototype.createSlice=function(){return new Sa},r.prototype.validateDataElement=function(e){var t=e.slice,i=this.depth;g(i)||(i=this.chart.depth);var a=e.values.depthValue.percent;g(a)||(a=100),t.depth=a*i/100;var n=this.angle;g(n)||(n=this.chart.angle),t.angle=n,l.prototype.validateDataElement.call(this,e)},r.prototype.validate=function(){l.prototype.validate.call(this);for(var e=this._workingStartIndex;e<this._workingEndIndex;e++){var t=this.dataItems.getIndex(e),i=t.slice,a=i.startAngle;a>=-90&&a<90?i.toFront():a>=90&&i.toBack()}},Object.defineProperty(r.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e)},enumerable:!0,configurable:!0}),r.prototype.positionBullet=function(e){l.prototype.positionBullet.call(this,e);var t=e.dataItem,i=t.slice;e.y=e.pixelY-i.depth},r}(Ii);V.registeredClasses.PieSeries3D=Mr;V.registeredClasses.PieSeries3DDataItem=Or;(function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="PieChart3DDataItem",e.applyTheme(),e}return r})(Tr);var rn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="PieChart3D",e.depth=20,e.angle=10,e.applyTheme(),e}return Object.defineProperty(r.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){e=Y(e,0,90),this.setPropertyValue("angle",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),r.prototype.createSeries=function(){return new Mr},r}(Ri);V.registeredClasses.PieChart3D=rn;var an=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="SlicedChartDataItem",e.applyTheme(),e}return r}(ki),nn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="SlicedChart",e.seriesContainer.layout="horizontal",e.padding(15,15,15,15),e.applyTheme(),e}return r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Sliced chart"))},r.prototype.validate=function(){l.prototype.validate.call(this)},r}(Fi);V.registeredClasses.SlicedChart=nn;V.registeredClasses.SlicedChartDataItem=an;var Jt=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.legendSettings=new dr,e.className="FlowDiagramNode",e.isMeasured=!1,new te,e.draggable=!0,e.inert=!0,e.setStateOnChildren=!0,e.events.on("positionchanged",e.invalidateLinks,e,!1),e.events.on("sizechanged",e.invalidateLinks,e,!1),e}return r.prototype.handleHit=function(e){this.isHidden||this.isHiding?this.show():this.hide()},r.prototype.show=function(e){var t=l.prototype.show.call(this,e);return this.outgoingDataItems.each(function(i){(!i.toNode||i.toNode&&!i.toNode.isHidden)&&(i.setWorkingValue("value",i.getValue("value"),e),i.link.show())}),this.incomingDataItems.each(function(i){(!i.fromNode||i.fromNode&&!i.fromNode.isHidden)&&(i.setWorkingValue("value",i.getValue("value"),e),i.link.show())}),t},r.prototype.hide=function(e){var t=l.prototype.hide.call(this,e);return this.outgoingDataItems.each(function(i){i.setWorkingValue("value",0,e),i.link.hide()}),this.incomingDataItems.each(function(i){i.setWorkingValue("value",0,e),i.link.hide()}),t},r.prototype.validate=function(){this.isDisposed()||(l.prototype.validate.call(this),this.invalidateLinks())},r.prototype.invalidateLinks=function(){var e=this;this.outgoingDataItems.each(function(t){var i=t.link;if(i.colorMode=="fromNode"&&(i.fill=i.dataItem.fromNode.color),i.colorMode=="gradient"){i.fill=i.gradient,i.stroke=i.gradient;var a=i.gradient.stops.getIndex(0);a&&(a.color=e.color,i.gradient.validate())}}),this.incomingDataItems.each(function(t){var i=t.link;if(i.colorMode=="toNode"&&(i.fill=i.dataItem.toNode.color),i.colorMode=="gradient"){i.fill=i.gradient,i.stroke=i.gradient;var a=i.gradient.stops.getIndex(1);a&&(a.color=e.color,i.gradient.validate())}})},Object.defineProperty(r.prototype,"incomingDataItems",{get:function(){var e=this;if(!this._incomingDataItems){var t=new Ce;t.events.on("inserted",function(){e.chart.sortBy=="name"?e._incomingSorted=mt(e._incomingDataItems.iterator(),function(i,a){return Ki(i.fromName,a.fromName)}):e.chart.sortBy=="value"?e._incomingSorted=mt(e._incomingDataItems.iterator(),function(i,a){return ui(ct(i.value,a.value))}):e._incomingSorted=e._incomingDataItems.iterator()},void 0,!1),this._incomingDataItems=t}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"outgoingDataItems",{get:function(){var e=this;if(!this._outgoingDataItems){var t=new Ce;t.events.on("inserted",function(){e.chart.sortBy=="name"?e._outgoingSorted=mt(e._outgoingDataItems.iterator(),function(i,a){return Ki(i.fromName,a.fromName)}):e.chart.sortBy=="value"?e._outgoingSorted=mt(e._outgoingDataItems.iterator(),function(i,a){return ui(ct(i.value,a.value))}):e._outgoingSorted=e._outgoingDataItems.iterator()},void 0,!1),this._outgoingDataItems=t}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(e){this.setPropertyValue("total",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(e){this.setPropertyValue("totalIncoming",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(e){this.setPropertyValue("totalOutgoing",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){return this.getPropertyValue("color")},set:function(e){this.setColorProperty("color",e),this._background&&(this._background.fill=e),this.fill=e},enumerable:!0,configurable:!0}),r.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var a=e.createChild(yt);a.shouldClone=!1,ae(this,a,Q),a.stroke=this.fill,a.copyFrom(this),a.padding(0,0,0,0),a.width=t,a.height=i;var n=e.dataItem;n.color=a.fill,n.colorOrig=a.fill},Object.defineProperty(r.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),r}(X);V.registeredClasses.FlowDiagramNode=Jt;var ei=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="FlowDiagramLink";var t=new te;return e.maskBullets=!1,e.colorMode="fromNode",e.layout="none",e.isMeasured=!1,e.startAngle=0,e.endAngle=0,e.strokeOpacity=0,e.verticalCenter="none",e.horizontalCenter="none",e.tooltipText="{fromName}{toName}:{value.value}",e.tooltipLocation=.5,e.link=e.createChild(q),e.link.shouldClone=!1,e.link.setElement(e.paper.add("path")),e.link.isMeasured=!1,e.fillOpacity=.2,e.fill=t.getFor("alternativeBackground"),e.applyTheme(),e}return r.prototype.positionBullets=function(){var e=this;w(this.bullets.iterator(),function(t){t.parent=e.bulletsContainer,t.maxWidth=e.maxWidth,t.maxHeight=e.maxHeight,e.positionBullet(t)})},Object.defineProperty(r.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var e=this.createChild(X);e.shouldClone=!1,e.layout="none",this._bulletsContainer=e}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var e=this.createChild(q);e.shouldClone=!1,e.setElement(this.paper.add("path")),e.isMeasured=!1,this._bulletsMask=e}return this._bulletsMask},enumerable:!0,configurable:!0}),r.prototype.positionBullet=function(e){var t=e.locationX;g(t)||(t=e.locationY),g(t)||(t=.5);var i=this.middleLine.positionToPoint(t);e.moveTo(i);var a=e.propertyFields.rotation,n;if(e.dataItem){var s=e.dataItem.dataContext;n=s[a]}g(n)||(n=i.angle),e.rotation=n},Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(e){if(e=="gradient"){var t=this.fill;this.gradient.stops.clear(),t instanceof Ae&&(this.gradient.addColor(t),this.gradient.addColor(t)),this.fill=this.gradient,this.stroke=this.gradient}this.setPropertyValue("colorMode",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e,!0)},enumerable:!0,configurable:!0}),r.prototype.setFill=function(e){l.prototype.setFill.call(this,e);var t=this._gradient;t&&e instanceof Ae&&(t.stops.clear(),t.addColor(e),t.addColor(e))},r.prototype.measureElement=function(){},Object.defineProperty(r.prototype,"bullets",{get:function(){var e=this;return this._bullets||(this._bullets=new J(new Xe),this._disposers.push(new G(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",function(t){t.newValue.events.on("propertychanged",function(i){(i.property=="locationX"||i.property=="locationY")&&e.positionBullet(i.target)},void 0,!1)},void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.bullets.copyFrom(e.bullets);var t=this.middleLine;t&&(t instanceof Ye&&e.middleLine instanceof Ye&&t.copyFrom(e.middleLine),t instanceof Zi&&e.middleLine instanceof Zi&&t.copyFrom(e.middleLine)),this.link.copyFrom(e.link)},r.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},r.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(r.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=new di),this._gradient},enumerable:!0,configurable:!0}),r}(X);V.registeredClasses.FlowDiagramLink=ei;var ji=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="FlowDiagramDataItem",e.values.value={},e.applyTheme(),e}return Object.defineProperty(r.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(e){this.setProperty("fromName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"toName",{get:function(){return this.properties.toName},set:function(e){this.setProperty("toName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",Be(e))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"link",{get:function(){var e=this;if(!this._link){var t=this.component.links.create();this._link=t,this.addSprite(t),this._disposers.push(new oe(function(){e.component&&e.component.links.removeValue(t)}))}return this._link},enumerable:!0,configurable:!0}),r}(ur),Wi=function(l){_(r,l);function r(){var e=l.call(this)||this;e.colors=new Et,e.className="FlowDiagram",e.nodePadding=20,e.sortBy="none",e.sequencedInterpolation=!0,e.colors.step=2,e.minNodeSize=.02;var t=e.chartContainer.createChild(X);t.shouldClone=!1,t.layout="none",t.isMeasured=!1,e.linksContainer=t;var i=e.chartContainer.createChild(X);return i.shouldClone=!1,i.layout="none",i.isMeasured=!1,e.nodesContainer=i,e.dataItem=e.createDataItem(),e.dataItem.component=e,e.applyTheme(),e}return r.prototype.dispose=function(){l.prototype.dispose.call(this),this.dataItem.dispose()},r.prototype.validateData=function(){var e=this;this._parseDataFrom==0&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),l.prototype.validateData.call(this);var t=0,i=0,a,n;w(this.dataItems.iterator(),function(o){var h=o.fromName;if(h){var d=e.nodes.getKey(h);d||(d=e.nodes.create(h),d.name=h,d.chart=e,d.dataItem=o),o.fromNode=d,o.fromNode.outgoingDataItems.push(o)}var u=o.toName;if(u){var d=e.nodes.getKey(u);d||(d=e.nodes.create(u),d.name=u,d.chart=e,d.dataItem=o),o.toNode=d,o.toNode.incomingDataItems.push(o)}if(!o.fromNode){var p=new qi;p.opacities=[0,1],o.link.strokeModifier=p}if(!o.toNode){var f=new qi;f.opacities=[1,0],o.link.strokeModifier=f}var c=o.value;g(c)&&(t+=c,i++,(a>c||!g(a))&&(a=c),(n<c||!g(n))&&(n=c))});var s="value";this.dataItem.setCalculatedValue(s,n,"high"),this.dataItem.setCalculatedValue(s,a,"low"),this.dataItem.setCalculatedValue(s,t,"sum"),this.dataItem.setCalculatedValue(s,t/i,"average"),this.dataItem.setCalculatedValue(s,i,"count"),w(this.nodes.iterator(),function(o){var h=o[1];h.fill instanceof Ae&&(h.color=h.fill),h.color==null&&(h.color=e.colors.next()),h.dataItem.color!=null&&(h.color=h.dataItem.color),h.dataItem.visible||h.hide(0),e.getNodeValue(h)}),this.sortNodes(),this.feedLegend()},r.prototype.handleDataItemWorkingValueChange=function(e,t){this.invalidate()},r.prototype.sortNodes=function(){this.sortBy=="name"?this._sorted=this.nodes.sortedIterator():this.sortBy=="value"?this._sorted=mt(this.nodes.iterator(),function(e,t){return ui(ct(e[1].total,t[1].total))}):this._sorted=this.nodes.iterator()},r.prototype.getNodeValue=function(e){var t=0,i=0;w(e.incomingDataItems.iterator(),function(a){var n=a.getWorkingValue("value");g(n)&&(t+=n)}),w(e.outgoingDataItems.iterator(),function(a){var n=a.getWorkingValue("value");g(n)&&(i+=n)}),e.total=t+i,e.totalIncoming=t,e.totalOutgoing=i},r.prototype.changeSorting=function(){this.sortNodes()},r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Flow diagram"))},r.prototype.createDataItem=function(){return new ji},Object.defineProperty(r.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(e){this.setPropertyValue("nodePadding",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(e){this.setPropertyValue("sortBy",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(e){this.setPropertyValue("minNodeSize",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nodes",{get:function(){if(!this._nodes){var e=this.createNode();e.events.on("hit",function(t){t.target.handleHit(t)}),this._nodes=new or(e),this._disposers.push(new mi(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),r.prototype.createNode=function(){var e=new Jt;return this._disposers.push(e),e},Object.defineProperty(r.prototype,"links",{get:function(){return this._links||(this._links=new J(this.createLink()),this._disposers.push(new G(this._links))),this._links},enumerable:!0,configurable:!0}),r.prototype.createLink=function(){var e=new ei;return this._disposers.push(e),e},r.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];this.nodes.each(function(i,a){t.push(a)}),e.data=t,e.dataFields.name="name"}},r.prototype.disposeData=function(){l.prototype.disposeData.call(this),this.nodes.clear()},r}(ot);V.registeredClasses.FlowDiagram=Wi;var fi=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="LabelBullet";var t=e.createChild(He);return t.shouldClone=!1,t.verticalCenter="middle",t.horizontalCenter="middle",t.truncate=!0,t.hideOversized=!1,t.maxWidth=500,t.maxHeight=500,t.stroke=Me(),t.strokeOpacity=0,t.fill=new te().getFor("text"),e.events.on("maxsizechanged",e.handleMaxSize,e,!1),e.label=t,e.applyTheme(),e}return r.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label)},r}(Xe);V.registeredClasses.LabelBullet=fi;var wr=function(l){_(r,l);function r(){var e=l.call(this)||this;e.nextInCoord=0,e.nextOutCoord=0,e.className="SankeyNode",e.width=10,e.height=10;var t=e.createChild(fi);t.shouldClone=!1,t.locationX=1,t.locationY=.5,t.label.text="{name}",t.width=150,t.height=150,t.label.horizontalCenter="left",t.label.padding(0,5,0,5),e.nameLabel=t;var i=e.createChild(fi);i.shouldClone=!1,i.label.hideOversized=!1,i.locationX=.5,i.locationY=.5,i.width=150,i.height=150,i.label.horizontalCenter="middle",e.valueLabel=i;var a=e.hiddenState;return a.properties.fill=new te().getFor("disabledBackground"),a.properties.opacity=.5,a.properties.visible=!0,e.background.hiddenState.copyFrom(a),e}return r.prototype.invalidateLinks=function(){var e=this;l.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var t=this.chart;if(t){var i=t.orientation;this._incomingSorted&&w(this._incomingSorted,function(a){var n=a.link,s=a.getWorkingValue("value");if(g(s)){n.parent=e.chart.linksContainer;var o=void 0,h=void 0,d=void 0;if(i=="horizontal"?(o=e.pixelX+e.dx,h=e.nextInCoord+e.pixelY+e.dy,d=0):(h=e.pixelY+e.dy,o=e.nextInCoord+e.pixelX+e.dx,d=90),n.endX=o,n.endY=h,n.startAngle=d,n.endAngle=d,n.gradient.rotation=d,n.linkWidth=s*t.valueHeight,!a.fromNode){i=="horizontal"?(n.maxWidth=200,n.startX=e.pixelX+e.dx-n.maxWidth,n.startY=n.endY):(n.maxHeight=200,n.startX=n.endX,n.startY=e.pixelY+e.dy-n.maxHeight),Ue(n.gradient),n.fill=a.toNode.color;var u=n.gradient.stops.getIndex(0);u&&(n.colorMode=="gradient"&&(u.color=e.color),u.opacity=0,n.fill=n.gradient,n.stroke=n.gradient,n.gradient.validate())}e.nextInCoord+=n.linkWidth}}),this._outgoingSorted&&w(this._outgoingSorted,function(a){var n=a.link;n.parent=e.chart.linksContainer;var s=a.getWorkingValue("value");if(g(s)){var o=void 0,h=void 0,d=void 0;if(i=="horizontal"?(d=0,o=e.pixelX+e.pixelWidth+e.dx-1,h=e.nextOutCoord+e.pixelY+e.dy):(d=90,o=e.nextOutCoord+e.pixelX+e.dx,h=e.pixelY+e.pixelHeight+e.dy-1),n.startX=o,n.startY=h,n.startAngle=d,n.endAngle=d,n.gradient.rotation=d,n.linkWidth=s*e.chart.valueHeight,!a.toNode){i=="horizontal"?(n.maxWidth=200,n.endX=e.pixelX+n.maxWidth+e.dx,n.endY=n.startY):(n.maxHeight=200,n.endX=n.startX,n.endY=e.pixelY+n.maxHeight+e.dy),n.opacity=e.opacity;var u=n.gradient.stops.getIndex(1);u&&(n.colorMode=="gradient"&&(u.color=e.color),u.opacity=0,n.fill=n.gradient,n.stroke=n.gradient,n.gradient.validate())}e.nextOutCoord+=n.linkWidth}})}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel)},r.prototype.positionBullet=function(e){e&&(e.x=this.measuredWidth*e.locationX,e.y=this.measuredHeight*e.locationY)},Object.defineProperty(r.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(e){this.setPropertyValue("level",e,!0)},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.nameLabel.copyFrom(e.nameLabel),this.valueLabel.copyFrom(e.valueLabel)},r}(Jt);V.registeredClasses.SankeyNode=wr;var kr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="SankeyLink",new te,e.tension=.8,e.controlPointDistance=.2,e.startAngle=0,e.endAngle=0,e.linkWidth=0,e.startX=0,e.endX=0,e.startY=0,e.endY=0,e.middleLine=e.createChild(Ta),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return r.prototype.makeBackwards=function(){this.states.getKey("backwards")!=null&&this.setState("backwards")},r.prototype.validate=function(){var e,t,i,a;if(l.prototype.validate.call(this),!this.isTemplate){var n=this.startX,s=this.startY,o=this.endX,h=this.endY;if(this.states.getKey("backwards")&&this.setState("default"),this.dataItem){var d=this.dataItem.component;d&&(d.orientation=="horizontal"?o<n&&(e=It([o,n],2),n=e[0],o=e[1],t=It([h,s],2),s=t[0],h=t[1],this.makeBackwards()):h<s&&(i=It([h,s],2),s=i[0],h=i[1],a=It([o,n],2),n=a[0],o=a[1],this.makeBackwards()))}g(o)||(o=n),g(h)||(h=s);var u=this.startAngle,p=this.endAngle,f=this.linkWidth,c="",y=n,v=s,m=o,x=h,P=n+f*L(u),S=o+f*L(p),A=s+f*F(u),T=h+f*F(p),b=n+f/2*L(u),O=o+f/2*L(p),D=s+f/2*F(u),B=h+f/2*F(p);this.zIndex=this.zIndex||this.dataItem.index;var k=this.tension+(1-this.tension)*L(u),I=this.tension+(1-this.tension)*F(u);if(this.middleLine.tensionX=k,this.middleLine.tensionY=I,g(f)&&g(n)&&g(o)&&g(s)&&g(h)){j(y,3)==j(m,3)&&(m+=.01),j(v,3)==j(x,3)&&(x+=.01),j(P,3)==j(S,3)&&(S+=.01),j(A,3)==j(T,3)&&(T+=.01);var be=Math.min(P,S,y,m),Fe=Math.min(A,T,v,x),Le=Math.max(P,S,y,m),Mt=Math.max(A,T,v,x);this._bbox={x:be,y:Fe,width:Le-be,height:Mt-Fe};var ge=this.controlPointDistance,qe=y+(m-y)*ge*F(u),$e=v+(x-v)*ge*L(u),ut=m-(m-y)*ge*F(p),dt=x-(x-v)*ge*L(p),N=b+(O-b)*ge*F(u),De=D+(B-D)*ge*L(u),ue=O-(O-b)*ge*F(p),Qr=B-(B-D)*ge*L(p),wt=Se({x:qe,y:$e},{x:ut,y:dt}),kt=(f/F(wt)-f)/$i(wt)*F(u),Ft=(f/L(wt)-f)*$i(wt)*L(u),Jr=-kt/2+P+(S-P)*ge*F(u),ea=-Ft/2+A+(T-A)*ge*L(u),ta=-kt/2+S-(S-P)*ge*F(p),ia=-Ft/2+T-(T-A)*ge*L(p);B==D&&(B+=.01),this.middleLine.segments=[[{x:b,y:D},{x:N,y:De},{x:ue,y:Qr},{x:O,y:B}]],qe+=kt/2,$e+=Ft/2,ut+=kt/2,dt+=Ft/2,c+=W({x:y,y:v}),c+=new Ct(k,I).smooth([{x:y,y:v},{x:qe,y:$e},{x:ut,y:dt},{x:m,y:x}]),c+=R({x:S,y:T}),c+=new Ct(k,I).smooth([{x:S,y:T},{x:ta,y:ia},{x:Jr,y:ea},{x:P,y:A}]),c+=nt()}this.link.path=c,this.maskBullets&&(this.bulletsMask.path=c,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets()}},Object.defineProperty(r.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(e){this.setPropertyValue("startX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(e){this.setPropertyValue("endX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(e){this.setPropertyValue("startY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(e){this.setPropertyValue("endY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},set:function(e){this.setPropertyValue("linkWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),r}(ei);V.registeredClasses.SankeyLink=kr;var sn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="SankeyDiagramDataItem",e.applyTheme(),e}return r}(ji),on=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="SankeyDiagram",e.orientation="horizontal",e.nodeAlign="middle",e.nodesContainer.width=M(100),e.nodesContainer.height=M(100),e.linksContainer.width=M(100),e.linksContainer.height=M(100),e.applyTheme(),e}return r.prototype.validateData=function(){var e=this;this._valueHeight=void 0,l.prototype.validateData.call(this),this._levelCount=0,this.nodes.each(function(t,i){i.level=void 0}),this.nodes.each(function(t,i){i.level=e.getNodeLevel(i,0),e._levelCount=ee(e._levelCount,i.level)})},r.prototype.getNodeLevel=function(e,t){var i=this,a=[t];return w(e.incomingDataItems.iterator(),function(n){n.fromNode&&(g(n.fromNode.level)?a.push(n.fromNode.level+1):(i._counter=0,i.checkLoop(n.fromNode),i._counter<i.dataItems.length&&a.push(i.getNodeLevel(n.fromNode,t+1))))}),Math.max.apply(Math,Oa(a))},r.prototype.checkLoop=function(e){var t=this;this._counter++,!(this._counter>this.dataItems.length)&&w(e.incomingDataItems.iterator(),function(i){t.checkLoop(i.fromNode)})},r.prototype.calculateValueHeight=function(){var e=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var t=this.dataItem.values.value.sum;w(this._sorted,function(u){var p=u[1];e.getNodeValue(p)}),this.nodes.each(function(u,p){var f=p.level,c=Math.max(p.totalIncoming,p.totalOutgoing);c/t<e.minNodeSize&&(c=t*e.minNodeSize),g(e._levelSum[f])?e._levelSum[f]+=c:e._levelSum[f]=c,g(e._levelNodesCount[f])?e._levelNodesCount[f]++:e._levelNodesCount[f]=1});var i;this.orientation=="horizontal"?i=this.chartContainer.maxHeight-1:i=this.chartContainer.maxWidth-1;var a,n;Pe(this._levelSum,function(u,p){var f=p,c=e._levelNodesCount[u],y=(i-(c-1)*e.nodePadding)/f;y==1/0&&(y=0),(n>y||!g(n))&&(n=y,e.maxSum=f,a=Te(u))}),this._maxSumLevel=a;var s=this._levelNodesCount[this._maxSumLevel],o=(i-(s-1)*this.nodePadding)/this.maxSum;if(o==1/0&&(o=0),!g(this.valueHeight))this.valueHeight=o;else{var h=void 0;try{h=this._heightAnimation.animationOptions[0].to}catch{}if(h!=o){var d=this.interpolationDuration;try{d=this.nodes.template.states.getKey("active").transitionDuration}catch{}this._heightAnimation=new Ma(this,{property:"valueHeight",from:this.valueHeight,to:o},d,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation)}}},r.prototype.validate=function(){var e=this;l.prototype.validate.call(this),this.calculateValueHeight();var t=this.nodesContainer,i={},a=this._levelNodesCount[this._maxSumLevel],n=this.dataItem.values.value.sum,s;this.orientation=="horizontal"?s=this.chartContainer.maxHeight-1:s=this.chartContainer.maxWidth-1,w(this._sorted,function(o){var h=o[1],d=h.level,u=0,p=e._levelNodesCount[d];switch(e.nodeAlign){case"bottom":u=(e.maxSum-e._levelSum[d])*e.valueHeight-(p-a)*e.nodePadding;break;case"middle":u=(e.maxSum-e._levelSum[d])*e.valueHeight/2-(p-a)*e.nodePadding/2;break}if(e.maxSum==0)switch(e.nodeAlign){case"bottom":u=s-p*(e.minNodeSize*s+e.nodePadding);break;case"middle":u=s/2-p/2*(e.minNodeSize*s+e.nodePadding);break}h.parent=t;var f,c,y,v=Math.max(h.totalIncoming,h.totalOutgoing);if(v/n<e.minNodeSize&&(v=n*e.minNodeSize),e.orientation=="horizontal"){f=(e.innerWidth-h.pixelWidth)/e._levelCount,c=f*h.level,y=i[d]||u;var m=v*e.valueHeight;n==0&&m==0&&(m=e.minNodeSize*s),h.height=m,h.minX=c,h.maxX=c,i[d]=y+m+e.nodePadding}else{f=(e.innerHeight-h.pixelHeight)/e._levelCount,c=i[d]||u,y=f*h.level;var x=v*e.valueHeight;n==0&&x==0&&(x=e.minNodeSize*s),h.width=x,h.minY=y,h.maxY=y,i[d]=c+x+e.nodePadding}h.x=c,h.y=y})},r.prototype.showReal=function(e){var t=this;if(!this.preventShow){if(this.interpolationDuration>0){var i=this.nodesContainer,a=0;w(this.links.iterator(),function(n){n.hide(0)}),w(this._sorted,function(n){var s=n[1],o;t.orientation=="horizontal"?(s.dx=-(i.pixelWidth-s.pixelWidth)/Math.max(t._levelCount,1),o="dx"):(s.dy=-(i.pixelHeight-s.pixelHeight)/Math.max(t._levelCount,1),o="dy");var h=0,d=t.interpolationDuration;t.sequencedInterpolation&&(h=t.sequencedInterpolationDelay*a+d*a/wa(t.nodes.iterator())),s.opacity=0,s.invalidateLinks(),s.animate([{property:"opacity",from:0,to:1},{property:o,to:0}],t.interpolationDuration,t.interpolationEasing).delay(h),w(s.outgoingDataItems.iterator(),function(u){var p=u.link.show(t.interpolationDuration);p&&!p.isFinished()&&p.delay(h)}),w(s.incomingDataItems.iterator(),function(u){if(!u.fromNode){var p=u.link.show(t.interpolationDuration);p&&!p.isFinished()&&p.delay(h)}}),a++})}return l.prototype.showReal.call(this)}},r.prototype.changeSorting=function(){var e=this;this.sortNodes();var t={};w(this._sorted,function(i){var a=i[1],n=a.level,s=(e.maxSum-e._levelSum[n])*e.valueHeight/2,o,h;e.orientation=="horizontal"?(o="y",h=a.pixelHeight):(o="x",h=a.pixelWidth),a.animate({property:o,to:t[n]||s},e.interpolationDuration,e.interpolationEasing),t[n]=(t[n]||s)+h+e.nodePadding,a.invalidateLinks()})},r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Sankey diagram"))},r.prototype.createDataItem=function(){return new sn},Object.defineProperty(r.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(e){this.setPropertyValue("nodeAlign",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var t=this.nodes.template.nameLabel;e=="vertical"?(this.nodes.template.width=void 0,t.label.horizontalCenter="middle",t.locationX=.5):(this.nodes.template.height=void 0,t.label.horizontalCenter="left",t.locationX=1)},enumerable:!0,configurable:!0}),r.prototype.createNode=function(){var e=new wr;return this._disposers.push(e),e},r.prototype.createLink=function(){var e=new kr;return this._disposers.push(e),e},Object.defineProperty(r.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(e){e!=this._valueHeight&&(this._valueHeight=e,this.invalidate())},enumerable:!0,configurable:!0}),r.prototype.disposeData=function(){l.prototype.disposeData.call(this),this._sorted=this.nodes.iterator()},r}(Wi);V.registeredClasses.SankeyDiagram=on;var Fr=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="ChordNode";var t=e.createChild($t);t.location=.5,t.radius=5,t.text="{name}",t.zIndex=1,t.shouldClone=!1,e.label=t,e.layout="none",e.events.on("positionchanged",e.updateRotation,e,!1),e.isMeasured=!1,e.slice=e.createChild(Ci),e.slice.isMeasured=!1;var i=e.hiddenState;return i.properties.fill=new te().getFor("disabledBackground"),i.properties.opacity=.5,i.properties.visible=!0,e.setStateOnChildren=!1,e.slice.hiddenState.properties.visible=!0,e.adapter.add("tooltipX",function(a,n){return n.slice.ix*(n.slice.radius-(n.slice.radius-n.slice.pixelInnerRadius)/2)}),e.adapter.add("tooltipY",function(a,n){return n.slice.iy*(n.slice.radius-(n.slice.radius-n.slice.pixelInnerRadius)/2)}),e}return r.prototype.invalidateLinks=function(){var e=this;l.prototype.invalidateLinks.call(this);var t=this.label,i=this.slice,a=this.chart;if(a&&i){var n=this.total,s=i.arc,o=i.startAngle;this.children.each(function(u){if(u instanceof Xe){var p=u.locationX;g(p)||(p=.5);var f=u.locationY;g(f)||(f=1);var c=o+s*p,y=f*i.radius;u.x=y*F(c),u.y=y*L(c)}});var h=o+s*t.location,d=o+(1-n/this.adjustedTotal)*s*.5;me(d)&&(d=o),t.fixPosition(h,i.radius),this.nextAngle=d,this._outgoingSorted&&w(this._outgoingSorted,function(u){var p=u.link;p.parent=e.chart.linksContainer;var f=u.getWorkingValue("value");if(g(f)){if(a.nonRibbon){var c=p.percentWidth;g(c)||(c=5),c=c/100,p.startAngle=o+s/2-s/2*c,p.arc=s*c}else p.arc=f*a.valueAngle,p.startAngle=e.nextAngle,e.nextAngle+=p.arc;u.toNode||(p.endAngle=p.startAngle),p.radius=i.pixelInnerRadius}}),this._incomingSorted&&w(this._incomingSorted,function(u){var p=u.link;if(p.radius=i.pixelInnerRadius,a.nonRibbon){var f=p.percentWidth;g(f)||(f=5),f=f/100,p.endAngle=o+s/2-s/2*f,p.arc=s*f}else{p.endAngle=e.nextAngle;var c=u.getWorkingValue("value");g(c)&&(p.arc=c*a.valueAngle,e.nextAngle+=p.arc)}u.fromNode||(p.startAngle=p.endAngle)})}},r.prototype.updateRotation=function(){var e=this.slice,t=this.trueStartAngle+e.arc/2,i=e.radius,a=i*F(t),n=i*L(t),s=Se({x:a+this.pixelX,y:n+this.pixelY});e.startAngle=this.trueStartAngle+(s-t),this.dx=-this.pixelX,this.dy=-this.pixelY},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),this.slice.copyFrom(e.slice)},r}(Jt);V.registeredClasses.ChordNode=Fr;var ln=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="QuadraticCurve",e.element=e.paper.add("path"),e.pixelPerfect=!1,e.fill=Me(),e.applyTheme(),e}return r.prototype.draw=function(){if(g(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var e={x:this.x1,y:this.y1},t={x:this.x2,y:this.y2},i={x:this.cpx,y:this.cpy},a=W(e)+it(t,i);this.path=a}},Object.defineProperty(r.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(e){this.setPropertyValue("cpx",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(e){this.setPropertyValue("cpy",e,!0)},enumerable:!0,configurable:!0}),r.prototype.positionToPoint=function(e){var t={x:this.x1,y:this.y1},i={x:this.cpx,y:this.cpy},a={x:this.x2,y:this.y2},n=Qi(t,a,i,e),s=Qi(t,a,i,e+.001);return{x:n.x,y:n.y,angle:Se(n,s)}},r}(Ye),Lr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="ChordLink",e.middleLine=e.createChild(ln),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return r.prototype.validate=function(){if(l.prototype.validate.call(this),!this.isTemplate){var e=this.startAngle,t=this.endAngle,i=this.arc,a=this.radius,n=this.dataItem.fromNode,s=this.dataItem.toNode,o=0,h=0;n&&(o=n.pixelX+n.dx,h=n.pixelY+n.dy);var d=0,u=0;if(s&&(d=s.pixelX+s.dx,u=s.pixelY+s.dy),a>0){var p=a*F(e)+o,f=a*L(e)+h,c=a*F(t)+d,y=a*L(t)+u,v={x:0,y:0},m=W({x:p,y:f});m+=ye(e,i,a),m+=it({x:c,y},v),m+=ye(t,i,a),m+=it({x:p,y:f},v),i>0?this.link.path=m:this.link.path="",this.maskBullets&&(this.bulletsMask.path=m,this.bulletsContainer.mask=this.bulletsMask);var x=e+i/2,P=t+i/2,S=this.middleLine;S.x1=a*F(x)+o,S.y1=a*L(x)+h,S.x2=a*F(P)+d,S.y2=a*L(P)+u,S.cpx=0,S.cpy=0,S.stroke=this.fill,this.positionBullets()}}},Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),r}(ei);V.registeredClasses.ChordLink=Lr;var hn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="ChordDiagramDataItem",e.applyTheme(),e}return r}(ji),un=function(l){_(r,l);function r(){var e=l.call(this)||this;e.valueAngle=0,e.className="ChordDiagram",e.startAngle=-90,e.endAngle=270,e.radius=M(80),e.innerRadius=-15,e.nodePadding=5;var t=e.chartContainer.createChild(X);return t.align="center",t.valign="middle",t.shouldClone=!1,t.layout="absolute",e.chordContainer=t,e.nodesContainer.parent=t,e.linksContainer.parent=t,e.chartContainer.events.on("maxsizechanged",e.invalidate,e,!1),e.applyTheme(),e}return r.prototype.validate=function(){var e=this,t=this.chartContainer,i=this.endAngle,a=this.startAngle+this.nodePadding/2,n=ze(this.startAngle,this.endAngle,1),s={x:0,y:0,width:0,height:0};n=Pi([n,s]);var o=Math.min(t.innerWidth/n.width,t.innerHeight/n.height);g(o)||(o=0);var h=re(this.radius,o),d=re(this.innerRadius,h,!0),u=this.dataItem.values.value.sum,p=0,f=0;w(this._sorted,function(c){var y=c[1];e.getNodeValue(y),p++;var v=y.total;y.total/u<e.minNodeSize&&(v=u*e.minNodeSize),f+=v}),this.valueAngle=(i-this.startAngle-this.nodePadding*p)/f,w(this._sorted,function(c){var y=c[1],v=y.slice;v.radius=h,v.innerRadius=d;var m=y.total;y.total/u<e.minNodeSize&&(m=u*e.minNodeSize),y.adjustedTotal=m;var x;e.nonRibbon?x=(i-e.startAngle)/p-e.nodePadding:x=e.valueAngle*m,v.arc=x,v.startAngle=a,y.trueStartAngle=a,y.parent=e.nodesContainer,y.validate(),a+=x+e.nodePadding}),this.chordContainer.definedBBox={x:h*n.x,y:h*n.y,width:h*n.width,height:h*n.height},this.chordContainer.invalidateLayout(),l.prototype.validate.call(this)},r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Chord diagram"))},r.prototype.createDataItem=function(){return new hn},Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},set:function(e){this.setPropertyValue("nonRibbon",e,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),r.prototype.createNode=function(){var e=new Fr;return this._disposers.push(e),e},r.prototype.createLink=function(){var e=new Lr;return this._disposers.push(e),e},r}(Wi);V.registeredClasses.ChordDiagram=un;var lt=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="Column",e.width=M(80),e.height=M(80),e.events.disableType("transformed"),e.applyOnClones=!0,e.strokeOpacity=1,e.layout="none",e.createAssets(),e.events.on("childadded",e.handleKidAdded,e,!1),e}return r.prototype.handleKidAdded=function(){this.layout=="none"&&(this.layout="absolute")},r.prototype.createAssets=function(){this.column=this.createChild(yt),this.column.shouldClone=!1,this.column.isMeasured=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column)},r.prototype.validate=function(){l.prototype.validate.call(this);var e=this.column;e&&(e.width=U(this.pixelWidth,this.maxWidth),e.height=U(this.pixelHeight,this.maxHeight),e.invalid&&e.validate())},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.column&&this.column.copyFrom(e.column)},Object.defineProperty(r.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:U(this.pixelWidth,this.maxWidth),height:U(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),r}(X);V.registeredClasses.Column=lt;var Ze=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="ColumnSeriesDataItem",e.locations.dateX=.5,e.locations.dateY=.5,e.locations.categoryX=.5,e.locations.categoryY=.5,e.applyTheme(),e}return Object.defineProperty(r.prototype,"column",{get:function(){return this._column},set:function(e){this.setColumn(e)},enumerable:!0,configurable:!0}),r.prototype.setColumn=function(e){var t=this;if(this._column&&e!=this._column&&Ve(this.sprites,this._column),this._column=e,e){var i=e.dataItem;i&&i!=this&&(i.column=void 0),this.addSprite(e),this._disposers.push(new oe(function(){t.component&&t.component.columns.removeValue(e)}))}},Object.defineProperty(r.prototype,"width",{get:function(){var e=this.properties.width;return this._adapterO&&(e=this._adapterO.apply("width",e)),e},set:function(e){this.properties.width!=e&&(this.properties.width=e,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){var e=this.properties.height;return this._adapterO&&(e=this._adapterO.apply("height",e)),e},set:function(e){this.properties.height!=e&&(this.properties.height=e,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new Oe),this._rangesColumns},enumerable:!0,configurable:!0}),r}(Zt),ht=function(l){_(r,l);function r(){var e=l.call(this)||this;e._startLocation=0,e._endLocation=1,e.className="ColumnSeries",e.width=M(100),e.height=M(100),e.strokeOpacity=0,e.fillOpacity=1,e.clustered=!0;var t=e.mainContainer.createChild(X);return t.shouldClone=!1,t.isMeasured=!1,t.layout="none",e._columnsContainer=t,e.columns.template.pixelPerfect=!1,e.tooltipColorSource=e.columns.template,e.applyTheme(),e}return Object.defineProperty(r.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Column Series"))},r.prototype.createDataItem=function(){return new Ze},r.prototype.validate=function(){var e=this;if(this.group.node.removeAttribute("fill"),this.chart&&this.xAxis&&this.yAxis){var t=this.chart.series,i=0,a=0,n=[];w(t.iterator(),function(y){if(y instanceof r&&e.baseAxis==y.baseAxis){var v;e.baseAxis==e.xAxis?v=e.chart.yAxes.indexOf(y.yAxis):v=e.chart.xAxes.indexOf(y.xAxis),n.push({series:y,axis:v})}}),n.sort(function(y,v){return y.axis-v.axis});var s;H(n,function(y){var v=y.series;v instanceof r&&((!v.stacked&&v.clustered||s!=y.axis&&v.clustered)&&i++,v==e&&(a=i-1)),s=y.axis}),this.clustered||(a=0,i=1);var o=this.baseAxis.renderer,h=o.cellStartLocation,d=o.cellEndLocation;this._startLocation=h+a/i*(d-h),this._endLocation=h+(a+1)/i*(d-h);var u=this.xAxis,p=this.yAxis;u instanceof Z&&p instanceof E&&u.sortBySeries==this&&this.sortCategoryAxis(u,"valueY"),p instanceof Z&&u instanceof E&&p.sortBySeries==this&&this.sortCategoryAxis(p,"valueX")}l.prototype.validate.call(this);for(var f=0;f<this.startIndex;f++){var c=this.dataItems.getIndex(f);this.disableUnusedColumns(c)}for(var f=this.dataItems.length-1;f>this.endIndex;f--){var c=this.dataItems.getIndex(f);this.disableUnusedColumns(c)}this._propertiesChanged=!1},r.prototype.sortCategoryAxis=function(e,t){var i=this;this.dataItems.values.sort(function(n,s){return s.values[t].workingValue-n.values[t].workingValue});var a=0;this.dataItems.each(function(n){n._index=a,a++}),e.dataItems.each(function(n){var s=n.component,o=s.categoryToPosition(n.category)-n.deltaPosition,h=s.getSeriesDataItemByCategory(n.category,i);if(h){var d=i.dataItems.indexOf(h);n._index=d;var u=j((d+.5)/i.dataItems.length-o,3);n.deltaAnimation&&!n.deltaAnimation.isDisposed()&&n.deltaAnimation.animationOptions[0].to==u||u!=j(n.deltaPosition,3)&&(n.deltaAnimation&&n.deltaAnimation.stop(),n.deltaAnimation=n.animate({property:"deltaPosition",from:-u,to:0},s.interpolationDuration,s.interpolationEasing),i._disposers.push(n.deltaAnimation))}}),e.dataItems.values.sort(function(n,s){return n.index-s.index})},r.prototype.validateDataElement=function(e){this.chart&&this.xAxis&&this.yAxis&&(this.validateDataElementReal(e),l.prototype.validateDataElement.call(this,e))},r.prototype.getStartLocation=function(e){var t=this._startLocation;return this.baseAxis==this.xAxis?t+=e.locations[this.xOpenField]-.5:t+=e.locations[this.yOpenField]-.5,t},r.prototype.getEndLocation=function(e){var t=this._endLocation;return this.baseAxis==this.xAxis?t+=e.locations[this.xField]-.5:t+=e.locations[this.yField]-.5,t},r.prototype.validateDataElementReal=function(e){var t=this,i,a,n,s,o=this.getStartLocation(e),h=this.getEndLocation(e),d=this.xField,u=this.xOpenField,p=this.yField,f=this.yOpenField,c=this.columns.template,y=c.percentWidth,v=c.percentHeight,m=c.pixelWidth,x=c.pixelHeight,P=c.maxWidth,S=c.maxHeight,A=c.pixelPaddingLeft,T=c.pixelPaddingRight,b=c.pixelPaddingTop,O=c.pixelPaddingBottom,D=!1,B=e.width;C(B)&&(g(B)&&(m=B),B instanceof ve&&(y=B.value*100));var k=e.height;if(C(k)&&(g(k)&&(x=k),k instanceof ve&&(v=k.value*100)),this.xAxis instanceof Z&&this.yAxis instanceof Z){if(!e.hasValue(this._xValueFields)||!e.hasValue(this._yValueFields))return;if(o=0,h=1,!me(y)){var I=j((h-o)*(1-y/100)/2,5);o+=I,h-=I}if(i=this.xAxis.getX(e,u,o),a=this.xAxis.getX(e,d,h),me(y)){var I=(a-i-m)/2;i+=I,a-=I}if(!me(P)&&P<Math.abs(a-i)){var I=(a-i-P)/2;i+=I,a-=I}if(o=0,h=1,!me(v)){var I=j((1-v/100)/2,5);o+=I,h-=I}if(n=this.yAxis.getY(e,f,o),s=this.yAxis.getY(e,p,h),me(v)){var I=(s-n-x)/2;s+=I,n-=I}if(!me(S)&&S<Math.abs(s-n)){var I=(s-n-S)/2;s+=I,n-=I}a=this.fixHorizontalCoordinate(a),i=this.fixHorizontalCoordinate(i),n=this.fixVerticalCoordinate(n),s=this.fixVerticalCoordinate(s)}else if(this.baseAxis==this.xAxis){if(!e.hasValue(this._yValueFields))return;if(!me(y)){var I=j((h-o)*(1-y/100)/2,5);o+=I,h-=I}if(i=this.xAxis.getX(e,u,o),a=this.xAxis.getX(e,d,h),me(y)){var I=(a-i-m)/2;i+=I,a-=I}if(!me(P)&&P<Math.abs(a-i)){var I=(a-i-P)/2;i+=I,a-=I}var be=e.locations[f],Fe=e.locations[p];this.yAxis instanceof E&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(be=0,Fe=0),s=this.yAxis.getY(e,f,be),n=this.yAxis.getY(e,p,Fe);var Le=Math.ceil(this.yAxis.axisLength);(n<0&&s<0||n>Le&&s>Le)&&(D=!0),n=this.fixVerticalCoordinate(n),s=this.fixVerticalCoordinate(s),Math.abs(a-i)-A-T==0&&(D=!0)}else{if(!e.hasValue(this._xValueFields))return;if(!me(v)){var I=j((h-o)*(1-v/100)/2,5);o+=I,h-=I}if(n=this.yAxis.getY(e,f,o),s=this.yAxis.getY(e,p,h),me(v)){var I=(s-n-x)/2;s-=I,n+=I}if(!me(S)&&S<Math.abs(s-n)){var I=(s-n-S)/2;s-=I,n+=I}var Mt=e.locations[d],ge=e.locations[u];this.xAxis instanceof E&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(Mt=0,ge=0),a=this.xAxis.getX(e,d,Mt),i=this.xAxis.getX(e,u,ge);var Le=Math.ceil(this.xAxis.axisLength);(a<0&&i<0||a>Le&&i>Le)&&(D=!0),a=this.fixHorizontalCoordinate(a),i=this.fixHorizontalCoordinate(i),Math.abs(n-s)-b-O==0&&(D=!0)}var qe=Math.abs(a-i),$e=Math.abs(s-n),ut=Math.min(i,a),dt=Math.min(n,s);if(D)this.disableUnusedColumns(e);else{var N;e.column?(N=e.column,this._propertiesChanged&&(ae(this,N,Q),ae(this.columns.template,N,Q),H(Q,function(De){N[De]=N[De]}))):(N=this.columns.create(),ae(this,N,Q),ae(this.columns.template,N,Q),e.addSprite(N),e.column=N,N.paper=this.paper,this.itemsFocusable()?(C(this.role)||(this.role="menu"),C(N.role)||(N.role="menuitem"),N.focusable=!0):(C(this.role)||(this.role="list"),C(N.role)||(N.role="listitem"),N.focusable=!1),N.focusable&&(N.events.on("focus",function(De){N.readerTitle=t.populateString(t.itemReaderText,e)},void 0,!1),N.events.on("blur",function(De){N.readerTitle=""},void 0,!1)),N.hoverable&&(N.events.on("over",function(De){N.readerTitle=t.populateString(t.itemReaderText,e)},void 0,!1),N.events.on("out",function(De){N.readerTitle=""},void 0,!1)),N.parent=this.columnsContainer,N.virtualParent=this),N.width=qe,N.height=$e,N.x=ut,N.y=dt,N.realX=i,N.realY=n,N.realWidth=a-i,N.realHeight=s-n,this.setColumnStates(N),N.invalid&&N.validate(),N.__disabled=!1,w(this.axisRanges.iterator(),function(De){var ue=e.rangesColumns.getKey(De.uid);ue||(ue=t.columns.create(),ae(De.contents,ue,Q),e.addSprite(ue),e.rangesColumns.setKey(De.uid,ue),ue.paper=t.paper),ue.parent=De.contents,ue.width=qe,ue.height=$e,ue.x=ut,ue.y=dt,t.setColumnStates(ue),ue.invalid&&ue.validate(),ue.__disabled=!1})}e.itemWidth=qe,e.itemHeight=$e},r.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.width=0,e.column.height=0,e.column.__disabled=!0),w(this.axisRanges.iterator(),function(t){var i=e.rangesColumns.getKey(t.uid);i&&(i.width=0,i.height=0,i.__disabled=!0)}))},r.prototype.setColumnStates=function(e){if(this._dropFromOpenState||this._dropFromPreviousState||this._riseFromOpenState||this._riseFromPreviousState){var t=e.dataItem;if(this.xAxis instanceof E||this.yAxis instanceof E){var i,a=void 0,n=void 0;this.baseAxis==this.yAxis?(this.xOpenField&&this.xField&&this.xAxis instanceof E&&(i=t.getValue(this.xOpenField),a=t.getValue(this.xField)),n=t.getValue(this.xAxis.axisFieldName+"X","previousChange")):(this.yOpenField&&this.yField&&this.yAxis instanceof E&&(i=t.getValue(this.yOpenField),a=t.getValue(this.yField)),n=t.getValue(this.yAxis.axisFieldName+"Y","previousChange")),a<i?(t.droppedFromOpen=!0,e.defaultState.copyFrom(this._dropFromOpenState),e.setState(this._dropFromOpenState,0)):(t.droppedFromOpen=!1,e.defaultState.copyFrom(this._riseFromOpenState),e.setState(this._riseFromOpenState,0)),n<0?(t.droppedFromPrevious=!0,e.defaultState.copyFrom(this._dropFromPreviousState),e.setState(this._dropFromPreviousState,0)):(t.droppedFromPrevious=!1,e.defaultState.copyFrom(this._riseFromPreviousState),e.setState(this._riseFromPreviousState,0))}}},Object.defineProperty(r.prototype,"columns",{get:function(){return this._columns||(this._columns=new J(this.createColumnTemplate()),this._disposers.push(new G(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),r.prototype.createColumnTemplate=function(){return new lt},Object.defineProperty(r.prototype,"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(e){this.setPropertyValue("clustered",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},set:function(e){this._dropFromOpenState=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create("dropFromPreviousState")),this._dropFromPreviousState},set:function(e){this._dropFromPreviousState=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},set:function(e){this._riseFromOpenState=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),this._riseFromPreviousState},set:function(e){this._riseFromPreviousState=e},enumerable:!0,configurable:!0}),r.prototype.updateLegendValue=function(e,t){var i=this;if(l.prototype.updateLegendValue.call(this,e,t),this.legendDataItem){var a=this.legendDataItem.marker,n,s;e&&(e.droppedFromOpen?n=this._dropFromOpenState:n=this._riseFromOpenState,e.droppedFromPrevious?s=this._dropFromPreviousState:s=this._riseFromPreviousState),w(a.children.iterator(),function(o){e?(o.setState(s),o.setState(n)):(o.setState(i._riseFromPreviousState),o.setState(i._riseFromOpenState))})}},r.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var a=e.createChild(yt);a.shouldClone=!1,ae(this,a,Q),a.copyFrom(this.columns.template),a.padding(0,0,0,0),a.width=t,a.height=i;var n=e.dataItem;n.color=this.fill,n.colorOrig=this.fill},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.columns.template.copyFrom(e.columns.template)},r.prototype.getBulletLocationX=function(e,t){if(this.baseAxis==this.xAxis){var i=e.locationX;g(i)||(i=.5);var a=this.getEndLocation(e.dataItem),n=this.getStartLocation(e.dataItem);return a-(a-n)*i}else return l.prototype.getBulletLocationX.call(this,e,t)},r.prototype.getBulletLocationY=function(e,t){if(this.baseAxis==this.yAxis){var i=e.locationY;g(i)||(i=.5);var a=this.getEndLocation(e.dataItem),n=this.getStartLocation(e.dataItem);return a-(a-n)*i}else return l.prototype.getBulletLocationY.call(this,e,t)},r.prototype.getAdjustedXLocation=function(e,t,i){return g(i)||(e?i=e.locations[t]:i=.5),this._endLocation-(this._endLocation-this._startLocation)*(1-i)},r.prototype.getAdjustedYLocation=function(e,t,i){return g(i)||(e?i=e.locations[t]:i=.5),this._endLocation-(this._endLocation-this._startLocation)*i},r.prototype.fixVerticalCoordinate=function(e){var t=this.columns.template.pixelPaddingBottom,i=this.columns.template.pixelPaddingTop,a=-i,n=this.yAxis.axisLength+t;return Y(e,a,n)},r.prototype.fixHorizontalCoordinate=function(e){var t=this.columns.template.pixelPaddingLeft,i=this.columns.template.pixelPaddingRight,a=-t,n=this.xAxis.axisLength+i;return Y(e,a,n)},r.prototype.disposeData=function(){l.prototype.disposeData.call(this),this.columns.clear()},r}(st);V.registeredClasses.ColumnSeries=ht;V.registeredClasses.ColumnSeriesDataItem=Ze;var Ir=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="TreeMapSeriesDataItem",e.applyTheme(),e}return Object.defineProperty(r.prototype,"parentName",{get:function(){var e=this.treeMapDataItem;if(e&&e.parent)return e.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){var e=this.treeMapDataItem;if(e)return e.value},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),r.prototype.hide=function(e,t,i,a){var n=this.treeMapDataItem;return n&&n.hide(e),l.prototype.hide.call(this,e,t,i,a)},r.prototype.show=function(e,t,i){var a=this.treeMapDataItem;return a&&a.show(e,t,i),l.prototype.show.call(this,e,t,i)},r}(Ze),ci=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="TreeMapSeries",e.applyTheme(),e.fillOpacity=1,e.strokeOpacity=1,e.minBulletDistance=0,e.columns.template.tooltipText="{parentName} {name}: {value}",e.columns.template.configField="config";var t=new te;return e.stroke=t.getFor("background"),e.dataFields.openValueX="x0",e.dataFields.valueX="x1",e.dataFields.openValueY="y0",e.dataFields.valueY="y1",e.sequencedInterpolation=!1,e.showOnInit=!1,e.columns.template.pixelPerfect=!1,e}return r.prototype.processDataItem=function(e,t){t.seriesDataItem=e,l.prototype.processDataItem.call(this,e,t)},r.prototype.createDataItem=function(){return new Ir},r.prototype.show=function(e){if(!this.preventShow){var t=this.defaultState.transitionDuration;return g(e)&&(t=e),this.dataItems.each(function(i){i.show(e)}),l.prototype.showReal.call(this,t)}},r.prototype.hide=function(e){var t=this.defaultState.transitionDuration;g(e)&&(t=e);var i=l.prototype.hideReal.call(this,t);return this.dataItems.each(function(a){a.hide(e)}),i},r.prototype.processValues=function(){},r.prototype.getStartLocation=function(e){return 0},r.prototype.getEndLocation=function(e){return 1},r.prototype.dataChangeUpdate=function(){},r.prototype.processConfig=function(e){e&&(!C(e.dataFields)||!sr(e.dataFields))&&(e.dataFields={}),l.prototype.processConfig.call(this,e)},r.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var a=e.createChild(yt);a.shouldClone=!1,ae(this,a,Q),a.padding(0,0,0,0),a.width=t,a.height=i;var n=e.dataItem;n.color=a.fill,n.colorOrig=a.fill},r.prototype.disableUnusedColumns=function(e){l.prototype.disableUnusedColumns.call(this,e),e.column&&(e.column.__disabled=!1)},r}(ht);V.registeredClasses.TreeMapSeries=ci;V.registeredClasses.TreeMapSeriesDataItem=Ir;var dn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.rows=[],e.className="TreeMapDataItem",e.values.value={workingValue:0},e.values.x0={},e.values.y0={},e.values.x1={},e.values.y1={},e.hasChildren.children=!0,e.applyTheme(),e}return Object.defineProperty(r.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),r.prototype.getDuration=function(){return 0},Object.defineProperty(r.prototype,"value",{get:function(){var e=0;return!this.children||this.children.length==0?e=this.values.value.workingValue:w(this.children.iterator(),function(t){var i=t.value;g(i)&&(e+=i)}),e},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"x0",{get:function(){return this.values.x0.value},set:function(e){this.setValue("x0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"x1",{get:function(){return this.values.x1.value},set:function(e){this.setValue("x1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y0",{get:function(){return this.values.y0.value},set:function(e){this.setValue("y0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y1",{get:function(){return this.values.y1.value},set:function(e){this.setValue("y1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"children",{get:function(){return this.properties.children},set:function(e){this.setProperty("children",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){var e=this.properties.color;return e==null&&this.parent&&(e=this.parent.color),e==null&&this.component&&(e=this.component.colors.getIndex(this.component.colors.step*this.index)),e},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"series",{get:function(){return this._series},set:function(e){e!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=e,this._disposers.push(e))},enumerable:!0,configurable:!0}),r.prototype.hide=function(e,t,i,a){this.setWorkingValue("value",0),this.children&&this.children.each(function(s){s.hide(e,t,i,a)});var n=this.seriesDataItem;return n&&n.bullets.each(function(s,o){o.hide(),o.preventShow=!0}),l.prototype.hide.call(this,e,t,i,a)},r.prototype.show=function(e,t,i){this.setWorkingValue("value",this.values.value.value),this.children&&this.children.each(function(n){n.show(e,t,i)});var a=this.seriesDataItem;return a&&a.bullets.each(function(n,s){s.preventShow=!1}),l.prototype.show.call(this,e,t,i)},r}(Oi),pn=function(l){_(r,l);function r(){var e=l.call(this)||this;e.layoutAlgorithm=e.squarify,e.zoomable=!0,e.className="TreeMap",e._usesData=!0,e.maxLevels=2,e.currentLevel=0,e.hideParentColumns=!1,e.colors=new Et,e.sorting="descending";var t=e.xAxes.push(new E);t.title.disabled=!0,t.strictMinMax=!0;var i=t.renderer;i.inside=!0,i.labels.template.disabled=!0,i.ticks.template.disabled=!0,i.grid.template.disabled=!0,i.axisFills.template.disabled=!0,i.minGridDistance=100,i.line.disabled=!0,i.baseGrid.disabled=!0;var a=e.yAxes.push(new E);a.title.disabled=!0,a.strictMinMax=!0;var n=a.renderer;n.inside=!0,n.labels.template.disabled=!0,n.ticks.template.disabled=!0,n.grid.template.disabled=!0,n.axisFills.template.disabled=!0,n.minGridDistance=100,n.line.disabled=!0,n.baseGrid.disabled=!0,n.inversed=!0,e.xAxis=t,e.yAxis=a;var s=new ci;return e.seriesTemplates=new or(s),s.virtualParent=e,e._disposers.push(new mi(e.seriesTemplates)),e._disposers.push(s),e.zoomOutButton.events.on("hit",function(){e.zoomToChartDataItem(e._homeDataItem)},void 0,!1),e.seriesTemplates.events.on("insertKey",function(o){o.newValue.isTemplate=!0},void 0,!1),e.applyTheme(),e}return Object.defineProperty(r.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(e){var t=this;this._navigationBar!=e&&(this._navigationBar=e,e.parent=this,e.toBack(),e.links.template.events.on("hit",function(i){var a=i.target.dataItem.dataContext;a.isDisposed()||(t.zoomToChartDataItem(a),t.createTreeSeries(a))},void 0,!0),this._disposers.push(e))},enumerable:!0,configurable:!0}),r.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],l.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var e=this.dataItems.template.clone();this._homeDataItem=e,w(this.dataItems.iterator(),function(a){a.parent=e}),e.children=this.dataItems,e.x0=0,e.y0=0,e.name=this._homeText;var t=1e3,i=Math.round(t*this.pixelHeight/this.pixelWidth/10)*10||1e3;e.x1=t,e.y1=i,this.xAxis.min=0,this.xAxis.max=t,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=i,this.yAxis.getMinMax(),this.layoutItems(e),this.createTreeSeries(e),this.feedLegend()},r.prototype.layoutItems=function(e,t){if(e){var i=e.children;t||(t=this.sorting),t=="ascending"&&i.values.sort(function(o,h){return o.value-h.value}),t=="descending"&&i.values.sort(function(o,h){return h.value-o.value}),this._updateDataItemIndexes(0),this.layoutAlgorithm(e);for(var a=0,n=i.length;a<n;a++){var s=i.getIndex(a);s.children&&this.layoutItems(s)}}},r.prototype.createTreeSeries=function(e){var t=this;this._tempSeries=[];for(var i=[e],a=e.parent;a!=null;)this.initSeries(a),i.push(a),a=a.parent;i.reverse(),this.navigationBar&&(this.navigationBar.data=i),this.createTreeSeriesReal(e),H(this._tempSeries,function(n){t.series.indexOf(n)==-1&&t.series.push(n),n.zIndex=n.level})},r.prototype.createTreeSeriesReal=function(e){if(e.children){var t=e.level;if(t<this.currentLevel+this.maxLevels){this.initSeries(e);for(var i=0;i<e.children.length;i++){var a=e.children.getIndex(i);a.children&&this.createTreeSeriesReal(a)}}}},r.prototype.setData=function(e){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,l.prototype.setData.call(this,e)},r.prototype.seriesAppeared=function(){return!0},r.prototype.initSeries=function(e){var t=this;if(!e.series){var i=void 0,a=this.seriesTemplates.getKey(e.level.toString());a?i=a.clone():i=this.series.create(),i.dataItem.dataContext=e,i.name=e.name,i.parentDataItem=e,e.series=i;var n=e.level;i.level=n;var s=e.dataContext;s&&(i.config=s.config),this.dataUsers.removeValue(i),i.data=e.children.values,i.fill=e.color,i.columnsContainer.hide(0),i.bulletsContainer.hide(0),i.columns.template.adapter.add("fill",function(o,h){var d=h.dataItem;if(d){var u=d.treeMapDataItem;if(u)return h.fill=u.color,h.adapter.remove("fill"),u.color}}),this.zoomable&&(e.level>this.currentLevel||e.children&&e.children.length>0)&&(i.columns.template.cursorOverStyle=xt.pointer,this.zoomable&&i.columns.template.events.on("hit",function(o){var h=o.target.dataItem;e.level>t.currentLevel?t.zoomToChartDataItem(h.treeMapDataItem.parent):t.zoomToSeriesDataItem(h)},this,void 0))}this._tempSeries.push(e.series)},r.prototype.toggleBullets=function(e){var t=this;w(this.series.iterator(),function(i){t._tempSeries.indexOf(i)==-1?(i.columnsContainer.hide(),i.bulletsContainer.hide(e)):(i.columnsContainer.show(),i.bulletsContainer.show(e),i.dataItems.each(function(a){a.bullets.each(function(n,s){s.show()})}),i.level<t.currentLevel?(t.hideParentColumns&&i.columnsContainer.hide(),i.bulletsContainer.hide(e)):i.level==t.currentLevel&&t.maxLevels>1&&i.dataItems.each(function(a){a.treeMapDataItem.children&&a.bullets.each(function(n,s){s.hide()})}))})},r.prototype.zoomToSeriesDataItem=function(e){this.zoomToChartDataItem(e.treeMapDataItem)},r.prototype.zoomToChartDataItem=function(e){var t=this;e||(e=this._homeDataItem);var i=this.zoomOutButton;if(i&&(e!=this._homeDataItem?i.show():i.hide()),e&&e.children){this.xAxis.zoomToValues(e.x0,e.x1),this.yAxis.zoomToValues(e.y0,e.y1),this.currentLevel=e.level,this.currentlyZoomed=e,this.createTreeSeries(e);var a=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;a&&!a.isDisposed()&&!a.isFinished()?(this._dataDisposers.push(a),a.events.once("animationended",function(){t.toggleBullets()})):this.toggleBullets()}},r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("TreeMap chart"))},r.prototype.createDataItem=function(){return new dn},Object.defineProperty(r.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(e){this.setPropertyValue("maxLevels",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},set:function(e){this.setPropertyValue("currentLevel",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hideParentColumns",{get:function(){return this.getPropertyValue("hideParentColumns")},set:function(e){this.setPropertyValue("hideParentColumns",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(e){this.setPropertyValue("sorting",e,!0)},enumerable:!0,configurable:!0}),r.prototype.createSeries=function(){return new ci},Object.defineProperty(r.prototype,"homeText",{get:function(){return this._homeText},set:function(e){this._homeText=e,this._homeDataItem&&(this._homeDataItem.name=this._homeText)},enumerable:!0,configurable:!0}),r.prototype.processConfig=function(e){if(e){if(C(e.layoutAlgorithm)&&ne(e.layoutAlgorithm))switch(e.layoutAlgorithm){case"squarify":e.layoutAlgorithm=this.squarify;break;case"binaryTree":e.layoutAlgorithm=this.binaryTree;break;case"slice":e.layoutAlgorithm=this.slice;break;case"dice":e.layoutAlgorithm=this.dice;break;case"sliceDice":e.layoutAlgorithm=this.sliceDice;break;default:delete e.layoutAlgorithm;break}C(e.navigationBar)&&!C(e.navigationBar.type)&&(e.navigationBar.type="NavigationBar"),l.prototype.processConfig.call(this,e)}},r.prototype.validateLayout=function(){l.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed)},r.prototype.validateDataItems=function(){l.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),w(this.series.iterator(),function(e){e.validateRawData()}),this.zoomToChartDataItem(this._homeDataItem)},r.prototype.binaryTree=function(e){var t=e.children,i,a=t.length,n,s=new Array(a+1);for(s[0]=n=i=0;i<a;++i)s[i+1]=n+=t.getIndex(i).value;a>0&&o(0,a,e.value,e.x0,e.y0,e.x1,e.y1);function o(h,d,u,p,f,c,y){if(h>=d-1){var v=t.getIndex(h);v.x0=p,v.y0=f,v.x1=c,v.y1=y;return}for(var m=s[h],x=u/2+m,P=h+1,S=d-1;P<S;){var A=P+S>>>1;s[A]<x?P=A+1:S=A}x-s[P-1]<s[P]-x&&h+1<P&&--P;var T=s[P]-m,b=u-T;if(u==0){var v=t.getIndex(h);v.x0=p,v.y0=f,v.x1=c,v.y1=y;return}if(c-p>y-f){var O=(p*b+c*T)/u;o(h,P,T,p,f,O,y),o(P,d,b,O,f,c,y)}else{var D=(f*b+y*T)/u;o(h,P,T,p,f,c,D),o(P,d,b,p,D,c,y)}}},r.prototype.slice=function(e){for(var t=e.x0,i=e.x1,a=e.y0,n=e.y1,s=e.children,o,h=-1,d=s.length,u=e.value&&(n-a)/e.value;++h<d;)o=s.getIndex(h),o.x0=t,o.x1=i,o.y0=a,a+=o.value*u,o.y1=a},r.prototype.dice=function(e){for(var t=e.x0,i=e.x1,a=e.y0,n=e.y1,s=e.children,o,h=-1,d=s.length,u=e.value&&(i-t)/e.value;++h<d;)o=s.getIndex(h),o.y0=a,o.y1=n,o.x0=t,t+=o.value*u,o.x1=t},r.prototype.sliceDice=function(e){e.level&1?this.slice(e):this.dice(e)},r.prototype.squarify=function(e){for(var t=(1+Math.sqrt(5))/2,i=e.x0,a=e.x1,n=e.y0,s=e.y1,o=e.children,h,d=0,u=0,p=o.length,f,c,y=e.value,v,m,x,P,S,A,T;d<p;){f=a-i,c=s-n;do v=o.getIndex(u++).value;while(!v&&u<p);for(m=x=v,A=Math.max(c/f,f/c)/(y*t),T=v*v*A,S=Math.max(x/T,T/m);u<p;++u){if(v+=h=o.getIndex(u).value,h<m&&(m=h),h>x&&(x=h),T=v*v*A,P=Math.max(x/T,T/m),P>S){v-=h;break}S=P}var b=this.dataItems.template.clone();b.value=v,b.dice=f<c,b.children=o.slice(d,u),b.x0=i,b.y0=n,b.x1=a,b.y1=s,b.dice?(b.y1=y?n+=c*v/y:s,this.dice(b)):(b.x1=y?i+=f*v/y:a,this.slice(b)),y-=v,d=u}},r.prototype.handleSeriesAdded2=function(){},r.prototype.handleDataItemValueChange=function(e,t){t=="value"&&this.invalidateDataItems()},r.prototype.handleDataItemWorkingValueChange=function(e,t){t=="value"&&this.invalidateDataItems()},r.prototype.getLegendLevel=function(e){if(e&&e.children){if(e.children.length>1)return e;if(e.children.length==1){var t=e.children.getIndex(0);return t.children?this.getLegendLevel(t):e}else return e}},r.prototype.handleLegendSeriesAdded=function(e){},Object.defineProperty(r.prototype,"homeDataItem",{get:function(){return this._homeDataItem},enumerable:!0,configurable:!0}),r.prototype.feedLegend=function(){var e=this.legend;if(e){e.dataFields.name="name";var t=this.getLegendLevel(this._homeDataItem);if(t){var i=[];t.children.each(function(a){i.push(a)}),e.data=i}}},r.prototype.disposeData=function(){l.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData()},r.prototype.getExporting=function(){var e=this,t=l.prototype.getExporting.call(this);return t.adapter.add("formatDataFields",function(i){return(i.format=="csv"||i.format=="xlsx")&&C(e.dataFields.children)&&delete i.dataFields[e.dataFields.children],i}),t},r}(Ke);V.registeredClasses.TreeMap=pn;var Rr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e._chart=new he,e.className="AxisRendererX3D",e._disposers.push(e._chart),e.applyTheme(),e}return r.prototype.updateGridElement=function(e,t,i){t=t+(i-t)*e.location;var a=this.positionToPoint(t);if(e.element){var n=this.chart.dx3D||0,s=this.chart.dy3D||0,o=this.getHeight();e.path=W({x:n,y:s})+R({x:n,y:o+s})+R({x:0,y:o})}this.positionItem(e,a),this.toggleVisibility(e,t,0,1)},r.prototype.updateBaseGridElement=function(){l.prototype.updateBaseGridElement.call(this);var e=this.getHeight(),t=this.chart.dx3D||0,i=this.chart.dy3D||0;this.baseGrid.path=W({x:t,y:i})+R({x:0,y:0})+R({x:0,y:e})},Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),r.prototype.handle3DChanged=function(e){(e.property=="depth"||e.property=="angle")&&this.invalidate()},r}(Ee);V.registeredClasses.AxisRendererX3D=Rr;var fn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e._chart=new he,e.className="AxisRendererY3D",e._disposers.push(e._chart),e.applyTheme(),e}return r.prototype.updateGridElement=function(e,t,i){t=t+(i-t)*e.location;var a=this.positionToPoint(t);if(e.element){var n=this.chart.dx3D||0,s=this.chart.dy3D||0,o=this.getWidth();e.path=W({x:0,y:0})+R({x:n,y:s})+R({x:o+n,y:s})}this.positionItem(e,a),this.toggleVisibility(e,t,0,1)},r.prototype.updateBaseGridElement=function(){l.prototype.updateBaseGridElement.call(this);var e=this.chart.dx3D||0,t=this.chart.dy3D||0,i=this.getWidth();this.baseGrid.path=W({x:0,y:0})+R({x:i,y:0})+R({x:i+e,y:t})},Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),r.prototype.handle3DChanged=function(e){(e.property=="depth"||e.property=="angle")&&this.invalidate()},r}(ke),jr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="Column3D",e}return r.prototype.createAssets=function(){this.column3D=this.createChild(ka),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D},r.prototype.validate=function(){l.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.column3D&&this.column3D.copyFrom(e.column3D)},r.prototype.setFill=function(e){l.prototype.setFill.call(this,e),this.column.fill=e},r}(lt);V.registeredClasses.Column3D=jr;var cn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="ColumnSeries3DDataItem",e.applyTheme(),e}return r}(Ze),yi=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="ColumnSeries3D",e.columns.template.column3D.applyOnClones=!0,e.columns.template.hiddenState.properties.visible=!0,e.applyTheme(),e}return Object.defineProperty(r.prototype,"columnsContainer",{get:function(){var e=this.chart;return e&&e.columnsContainer&&e.leftAxesContainer.layout!="vertical"&&e.rightAxesContainer.layout!="vertical"&&e.bottomAxesContainer.layout!="horizontal"&&e.topAxesContainer.layout!="horizontal"?e.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),r.prototype.validateDataElementReal=function(e){l.prototype.validateDataElementReal.call(this,e),e.column&&(e.column.dx=this.dx,e.column.dy=this.dy,e.column.visible=this.visible)},r.prototype.validateDataElements=function(){l.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout()},r.prototype.createColumnTemplate=function(){return new jr},Object.defineProperty(r.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0);var t=this.columns.template;t.column3D.depth=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e);var t=this.columns.template;t.column3D.angle=e},enumerable:!0,configurable:!0}),r}(ht);V.registeredClasses.ColumnSeries3D=yi;V.registeredClasses.ColumnSeries3DDataItem=cn;(function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="XYChart3DDataItem",e.applyTheme(),e}return r})(Oi);var yn=function(l){_(r,l);function r(){var e=l.call(this)||this;e._axisRendererX=Rr,e._axisRendererY=fn,e.className="XYChart3D",e.depth=30,e.angle=30;var t=e.seriesContainer.createChild(X);return t.shouldClone=!1,t.isMeasured=!1,t.layout="none",e.columnsContainer=t,e.columnsContainer.mask=e.createChild(q),e.applyTheme(),e}return r.prototype.updateSeriesMasks=function(){if(l.prototype.updateSeriesMasks.call(this),bt()){var e=this.columnsContainer,t=e.mask;e.mask=void 0,e.mask=t}},Object.defineProperty(r.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dx3D",{get:function(){return F(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dy3D",{get:function(){return-L(this.angle)*this.depth},enumerable:!0,configurable:!0}),r.prototype.validateLayout=function(){l.prototype.validateLayout.call(this),this.fixColumns()},r.prototype.fixLayout=function(){this.chartContainer.paddingTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),l.prototype.fixLayout.call(this)},r.prototype.fixColumns=function(){var e=this,t=1,i=0;w(this.series.iterator(),function(n){n instanceof yi&&(!n.clustered&&i>0&&t++,n.depthIndex=t-1,i++)});var a=0;w(this.series.iterator(),function(n){if(n instanceof yi){n.depth=e.depth/t,n.angle=e.angle,n.columnsContainer==e.columnsContainer&&(n.dx=e.depth/t*F(e.angle)*n.depthIndex,n.dy=-e.depth/t*L(e.angle)*n.depthIndex);var s=!1;(n.baseAxis==n.xAxis&&n.xAxis.renderer.inversed||n.baseAxis==n.yAxis&&n.yAxis.renderer.inversed)&&(s=!0);var o=1;n.dataItems.each(function(h){var d=h.column;d&&(s?d.zIndex=1e3*(1e3-o)+a-n.depthIndex*100:d.zIndex=1e3*o+a-n.depthIndex*100),o++}),s?a--:a++}}),this.maskColumns()},r.prototype.processConfig=function(e){if(e&&C(e.series)&&we(e.series))for(var t=0,i=e.series.length;t<i;t++)e.series[t].type=e.series[t].type||"ColumnSeries3D";l.prototype.processConfig.call(this,e)},r.prototype.maskColumns=function(){var e=this.plotContainer.pixelWidth,t=this.plotContainer.pixelHeight,i=this.dx3D,a=this.dy3D,n=W({x:0,y:0})+R({x:i,y:a})+R({x:e+i,y:a})+R({x:e+i,y:t+a})+R({x:e,y:t})+R({x:e,y:t})+R({x:0,y:t})+nt(),s=this.columnsContainer;s&&s.mask&&(s.mask.path=n)},r}(Ke);V.registeredClasses.XYChart3D=yn;var vn=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="HeatLegend",e.markerContainer=e.createChild(X),e.markerContainer.shouldClone=!1,e.markerCount=1;var t=new yt;return t.minHeight=20,t.minWidth=20,t.interactionsEnabled=!1,t.fillOpacity=1,t.cornerRadius(0,0,0,0),e.markerContainer.minHeight=20,e.markerContainer.minWidth=20,e.orientation="horizontal",e.markers=new J(t),e._disposers.push(new G(e.markers)),e._disposers.push(e.markers.template),e.applyTheme(),e}return r.prototype.getMinFromRules=function(e){var t=this.series;if(t){var i;return We(t.heatRules.iterator(),function(a){return a.property==e?(i=a.min,!1):!0}),i}},r.prototype.getMaxFromRules=function(e){var t=this.series;if(t){var i;return w(t.heatRules.iterator(),function(a){return a.property==e?(i=a.max,!1):!0}),i}},r.prototype.validate=function(){l.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var e=this.series,t=this.minColor,i=this.maxColor;if(C(t)||(t=Be(this.getMinFromRules("fill"))),C(i)||(i=Be(this.getMaxFromRules("fill"))),e){var a=e.fill;!C(t)&&a instanceof Ae&&(t=a),!C(i)&&a instanceof Ae&&(i=a)}C(i)||(i=Be(this.getMaxFromRules("fill")));var n=Te(this.getMinFromRules("fillOpacity"));g(n)||(n=1);var s=Te(this.getMaxFromRules("fillOpacity"));g(s)||(s=1);var o=Te(this.getMinFromRules("strokeOpacity"));g(o)||(o=1);var h=Te(this.getMaxFromRules("strokeOpacity"));g(h)||(h=1);for(var d=Be(this.getMinFromRules("stroke")),u=Be(this.getMaxFromRules("stroke")),p=0;p<this.markerCount;p++){var f=this.markers.getIndex(p);if(f||(f=this.markers.create(),f.parent=this.markerContainer,f.height=M(100),f.width=M(100)),this.markerCount==1){var c=new di;if(this.reverseOrder?(c.addColor(i,s),c.addColor(t,n)):(c.addColor(t,n),c.addColor(i,s)),this.orientation=="vertical"&&(c.rotation=-90),f.fill=c,C(d)&&C(u)){var y=new di;this.reverseOrder?(y.addColor(u,h),y.addColor(d,o)):(y.addColor(d,o),y.addColor(u,h)),this.orientation=="vertical"&&(y.rotation=-90),f.stroke=y}}else{var v=p;this.reverseOrder&&(v=this.markerCount-p-1);var m=new Ae(si(t.rgb,i.rgb,v/this.markerCount));f.fill=m;var x=n+(s-n)*v/this.markerCount;if(f.fillOpacity=x,C(d)&&C(u)){var P=new Ae(si(d.rgb,u.rgb,v/this.markerCount));f.stroke=P;var S=o+(h-o)*v/this.markerCount;f.strokeOpacity=S}}}var A=this.valueAxis.renderer;this.markerCount>1&&(this.orientation=="horizontal"?A.minGridDistance=this.measuredWidth/this.markerCount:A.minGridDistance=this.measuredHeight/this.markerCount),this.valueAxis.invalidate();for(var p=this.markerCount,T=this.markers.length;p<T;p++)this.markers.getIndex(p).parent=void 0},Object.defineProperty(r.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(e){e instanceof Ae||(e=Be(e)),this.setColorProperty("minColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(e){e instanceof Ae||(e=Be(e)),this.setColorProperty("maxColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(e){this.setPropertyValue("markerCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e),this.valueAxis.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(e){this.setPropertyValue("maxValue",e),this.valueAxis.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var t=this.markerContainer,i=this.valueAxis;e=="horizontal"?(C(this.width)||(this.width=200),this.height=void 0,i.width=M(100),i.height=void 0,i.tooltip.pointerOrientation="vertical",this.layout="vertical",t.width=M(100),t.height=void 0,i.renderer instanceof Ee||(i.renderer=new Ee)):(C(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",t.width=void 0,t.height=M(100),i.height=M(100),i.width=void 0,i.tooltip.pointerOrientation="horizontal",i.renderer instanceof ke||(i.renderer=new ke),i.renderer.inside=!0,i.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var a=i.renderer;a.grid.template.disabled=!0,a.axisFills.template.disabled=!0,a.baseGrid.disabled=!0,a.labels.template.padding(2,3,2,3),a.minHeight=void 0,a.minWidth=void 0,this.markerContainer.layout=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(E),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(e){this._valueAxis=e,e.parent=this,e.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"series",{get:function(){return this._series},set:function(e){var t=this;this._series=e;var i="value";try{var a=e.heatRules.getIndex(0).dataField;a&&(i=a)}catch{}this.updateMinMax(e.dataItem.values[i].low,e.dataItem.values[i].high),e.dataItem.events.on("calculatedvaluechanged",function(n){t.updateMinMax(e.dataItem.values[i].low,e.dataItem.values[i].high)},void 0,!1),e.heatRules.events.on("inserted",this.invalidate,this,!1),e.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),r.prototype.updateMinMax=function(e,t){var i=this.valueAxis;g(this.minValue)||(i.min=e,i.invalidate()),g(this.maxValue)||(i.max=t,i.invalidate())},r.prototype.processConfig=function(e){if(e&&C(e.series)&&ne(e.series)&&ne(e.series))if(this.map.hasKey(e.series))e.series=this.map.getKey(e.series);else{var t=e.series,i=this.map.events.on("insertKey",function(a){a.key==t&&(this.series=a.newValue,i.dispose())},this);this._disposers.push(i),delete e.series}l.prototype.processConfig.call(this,e)},r}(X);V.registeredClasses.HeatLegend=vn;var Yt=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="Candlestick",e.layout="none",e}return r.prototype.createAssets=function(){l.prototype.createAssets.call(this),this.lowLine=this.createChild(Ye),this.lowLine.shouldClone=!1,this.highLine=this.createChild(Ye),this.highLine.shouldClone=!1},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.lowLine&&this.lowLine.copyFrom(e.lowLine),this.highLine&&this.highLine.copyFrom(e.highLine)},r}(lt);V.registeredClasses.Candlestick=Yt;var Xi=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.values.lowValueX={},e.values.lowValueY={},e.values.highValueX={},e.values.highValueY={},e.className="CandlestickSeriesDataItem",e.applyTheme(),e}return Object.defineProperty(r.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(e){this.setValue("lowValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(e){this.setValue("lowValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(e){this.setValue("highValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(e){this.setValue("highValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),r}(Ze),Wr=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="CandlestickSeries",e.groupFields.lowValueX="low",e.groupFields.lowValueY="low",e.groupFields.highValueX="high",e.groupFields.highValueY="high",e.strokeOpacity=1;var t=new te,i=t.getFor("positive"),a=t.getFor("negative");return e.dropFromOpenState.properties.fill=a,e.dropFromOpenState.properties.stroke=a,e.riseFromOpenState.properties.fill=i,e.riseFromOpenState.properties.stroke=i,e.applyTheme(),e}return r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Candlestick Series"))},r.prototype.createDataItem=function(){return new Xi},r.prototype.validateDataElementReal=function(e){l.prototype.validateDataElementReal.call(this,e),this.validateCandlestick(e)},r.prototype.validateCandlestick=function(e){var t=e.column;if(t){var i=t.lowLine,a=t.highLine;if(this.baseAxis==this.xAxis){var n=t.pixelWidth/2;i.x=n,a.x=n;var s=e.getWorkingValue(this.yOpenField),o=e.getWorkingValue(this.yField),h=this.yAxis.getY(e,this.yOpenField),d=this.yAxis.getY(e,this.yField),u=this.yAxis.getY(e,this.yLowField),p=this.yAxis.getY(e,this.yHighField),f=t.pixelY;i.y1=u-f,a.y1=p-f,s<o?(i.y2=h-f,a.y2=d-f):(i.y2=d-f,a.y2=h-f)}if(this.baseAxis==this.yAxis){var c=t.pixelHeight/2;i.y=c,a.y=c;var y=e.getWorkingValue(this.xOpenField),v=e.getWorkingValue(this.xField),m=this.xAxis.getX(e,this.xOpenField),x=this.xAxis.getX(e,this.xField),P=this.xAxis.getX(e,this.xLowField),S=this.xAxis.getX(e,this.xHighField),A=t.pixelX;i.x1=P-A,a.x1=S-A,y<v?(i.x2=m-A,a.x2=x-A):(i.x2=x-A,a.x2=m-A)}w(this.axisRanges.iterator(),function(T){var b=e.rangesColumns.getKey(T.uid);if(b){var O=b.lowLine;O.x=i.x,O.y=i.y,O.x1=i.x1,O.x2=i.x2,O.y1=i.y1,O.y2=i.y2;var D=b.highLine;D.x=a.x,D.y=a.y,D.x1=a.x1,D.x2=a.x2,D.y1=a.y1,D.y2=a.y2}})}},Object.defineProperty(r.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),r.prototype.defineFields=function(){l.prototype.defineFields.call(this);var e=this.xAxis,t=this.yAxis;if(e&&t){if(this.baseAxis==e){var i=Xt(t.axisFieldName);this._yLowField="low"+i+"Y",this._yHighField="high"+i+"Y"}if(this.baseAxis==t){var a=Xt(e.axisFieldName);this._xLowField="low"+a+"X",this._xHighField="high"+a+"X"}this.addValueField(e,this._xValueFields,this._xLowField),this.addValueField(e,this._xValueFields,this._xHighField),this.addValueField(t,this._yValueFields,this._yLowField),this.addValueField(t,this._yValueFields,this._yHighField)}},r.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var a=e.createChild(Yt);a.shouldClone=!1,a.copyFrom(this.columns.template);var n,s,o=a.lowLine,h=a.highLine;this.baseAxis==this.yAxis?(n=t/3,s=i,o.y=i/2,h.y=i/2,o.x2=t/3,h.x2=t/3,h.x=t/3*2,a.column.x=t/3):(n=t,s=i/3,o.x=t/2,h.x=t/2,o.y2=i/3,h.y2=i/3,h.y=i/3*2,a.column.y=i/3),a.width=n,a.height=s,ae(this,e,Q),ae(this.columns.template,a,Q),a.stroke=this.riseFromOpenState.properties.stroke,a.fill=a.stroke;var d=e.dataItem;d.color=a.fill,d.colorOrig=a.fill},r.prototype.createColumnTemplate=function(){return new Yt},r}(ht);V.registeredClasses.CandlestickSeries=Wr;V.registeredClasses.CandlestickSeriesDataItem=Xi;var vi=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="OHLC",e.layout="none",e}return r.prototype.createAssets=function(){this.openLine=this.createChild(Ye),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(Ye),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(Ye),this.closeLine.shouldClone=!1},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.openLine&&this.openLine.copyFrom(e.openLine),this.highLowLine&&this.highLowLine.copyFrom(e.highLowLine),this.closeLine&&this.closeLine.copyFrom(e.closeLine)},r}(Yt);V.registeredClasses.OHLC=vi;var Xr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="OHLCSeriesDataItem",e.applyTheme(),e}return r}(Xi),gn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="OHLCSeries",e.applyTheme(),e}return r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("OHLC Series"))},r.prototype.createDataItem=function(){return new Xr},r.prototype.validateCandlestick=function(e){var t=e.column;if(t){var i=t.openLine,a=t.highLowLine,n=t.closeLine;if(this.baseAxis==this.xAxis){var s=t.pixelWidth/2;a.x=s,e.getWorkingValue(this.yOpenField),e.getWorkingValue(this.yField);var o=this.yAxis.getY(e,this.yOpenField),h=this.yAxis.getY(e,this.yField),d=this.yAxis.getY(e,this.yLowField),u=this.yAxis.getY(e,this.yHighField),p=t.pixelY;i.y1=o-p,i.y2=o-p,i.x1=0,i.x2=s,n.y1=h-p,n.y2=h-p,n.x1=s,n.x2=2*s,a.y1=u-p,a.y2=d-p}if(this.baseAxis==this.yAxis){var f=t.pixelHeight/2;a.y=f,e.getWorkingValue(this.xOpenField),e.getWorkingValue(this.xField);var c=this.xAxis.getX(e,this.xOpenField),y=this.xAxis.getX(e,this.xField),v=this.xAxis.getX(e,this.xLowField),m=this.xAxis.getX(e,this.xHighField),x=t.pixelX;i.x1=c-x,i.x2=c-x,i.y1=f,i.y2=2*f,n.x1=y-x,n.x2=y-x,n.y1=0,n.y2=f,a.x1=m-x,a.x2=v-x}w(this.axisRanges.iterator(),function(P){var S=e.rangesColumns.getKey(P.uid);if(S){var A=S.openLine;A.x=i.x,A.y=i.y,A.x1=i.x1,A.x2=i.x2,A.y1=i.y1,A.y2=i.y2;var T=S.closeLine;T.x=n.x,T.y=n.y,T.x1=n.x1,T.x2=n.x2,T.y1=n.y1,T.y2=n.y2;var b=S.highLowLine;b.x=a.x,b.y=a.y,b.x1=a.x1,b.x2=a.x2,b.y1=a.y1,b.y2=a.y2}})}},r.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var a=e.createChild(vi);a.shouldClone=!1,a.copyFrom(this.columns.template);var n,s,o=a.openLine,h=a.closeLine,d=a.highLowLine;this.baseAxis==this.yAxis?(n=t/3,s=i,d.y=i/2,d.x2=t,o.x=t/3*2,o.y2=i/2,h.x=t/3,h.y2=i,h.y1=i/2):(n=t,s=i/3,d.x=t/2,d.y2=i,o.y=i/3*2,o.x2=t/2,h.y=i/3,h.x2=t,h.x1=t/2),a.width=n,a.height=s,ae(this,e,Q),ae(this.columns.template,a,Q),a.stroke=this.riseFromOpenState.properties.stroke;var u=e.dataItem;u.color=a.stroke,u.colorOrig=a.stroke},r.prototype.createColumnTemplate=function(){return new vi},r}(Wr);V.registeredClasses.OHLCSeries=gn;V.registeredClasses.OHLCSeriesDataItem=Xr;var Yr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="StepLineSeriesSegment",e}return r.prototype.drawSegment=function(e,t,i,a,n,s){if(e.length>0&&t.length>0)if(n){var o=W(e[0]);if(e.length>0)for(var h=1;h<e.length;h++){var d=e[h];h/2==Math.round(h/2)?o+=W(d):o+=R(d)}this.strokeSprite.path=o,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(o=W(e[0])+Rt(e),o+=R(t[0])+Rt(t),o+=R(e[0]),o+=nt(),this.fillSprite.path=o)}else{var o=W(e[0])+Rt(e);this.strokeSprite.path=o,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(o+=R(t[0])+Rt(t),o+=R(e[0]),o+=nt(),this.fillSprite.path=o)}else this.strokeSprite.path="",this.fillSprite.path=""},r}(Mi);V.registeredClasses.StepLineSeriesSegment=Yr;var Er=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="StepLineSeriesDataItem",e.applyTheme(),e}return r}(qt),mn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="StepLineSeries",e.applyTheme(),e.startLocation=0,e.endLocation=1,e}return r.prototype.createDataItem=function(){return new Er},r.prototype.addPoints=function(e,t,i,a,n){var s,o,h,d;this.baseAxis==this.xAxis&&(s=this.startLocation,o=this.endLocation,h=this.getAdjustedXLocation(t,this.yOpenField),d=this.getAdjustedXLocation(t,this.yField)),this.baseAxis==this.yAxis&&(h=this.startLocation,d=this.endLocation,s=this.getAdjustedXLocation(t,this.xOpenField),o=this.getAdjustedXLocation(t,this.xField));var u=this.xAxis.getX(t,i,s),p=this.yAxis.getY(t,a,h),f=this.xAxis.getX(t,i,o),c=this.yAxis.getY(t,a,d);if(u=Y(u,-1e5,1e5),p=Y(p,-1e5,1e5),f=Y(f,-1e5,1e5),c=Y(c,-1e5,1e5),!this.noRisers&&e.length>1){var y=e[e.length-1];this.baseAxis==this.xAxis&&(n?e.push({x:y.x,y:c}):e.push({x:u,y:y.y})),this.baseAxis==this.yAxis&&(n?e.push({x:f,y:y.y}):e.push({x:y.x,y:p}))}var v={x:u,y:p},m={x:f,y:c};n?e.push(m,v):e.push(v,m)},r.prototype.drawSegment=function(e,t,i){var a=!1;this.yAxis==this.baseAxis&&(a=!0),e.drawSegment(t,i,this.tensionX,this.tensionY,this.noRisers,a)},r.prototype.createSegment=function(){return new Yr},Object.defineProperty(r.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(e){this.setPropertyValue("noRisers",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),r}(wi);V.registeredClasses.StepLineSeries=mn;V.registeredClasses.StepLineSeriesDataItem=Er;var Br=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="RadarColumn",e}return r.prototype.createAssets=function(){this.radarColumn=this.createChild(Ci),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.radarColumn&&this.radarColumn.copyFrom(e.radarColumn)},r.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");return g(e)?e:this.radarColumn.getTooltipX()},r.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipX");return g(e)?e:this.radarColumn.getTooltipY()},r}(lt);V.registeredClasses.RadarColumn=Br;var xn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="ColumnSeriesDataItem",e.applyTheme(),e}return r}(Ze),bn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="RadarColumnSeries",e.applyTheme(),e}return r.prototype.createColumnTemplate=function(){return new Br},r.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),l.prototype.validate.call(this)},r.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.__disabled=!0),w(this.axisRanges.iterator(),function(t){var i=e.rangesColumns.getKey(t.uid);i&&(i.__disabled=!0)}))},r.prototype.validateDataElementReal=function(e){var t=this,i=this.chart.startAngle,a=this.chart.endAngle,n=this.yField,s=this.yOpenField,o=this.xField,h=this.xOpenField,d,u,p,f,c=this.getStartLocation(e),y=this.getEndLocation(e),v=(a-i)/(this.dataItems.length*(this.end-this.start)),m=e.column;m||(m=this.columns.create(),e.column=m,ae(this,m,Q),ae(this.columns.template,m,Q),e.addSprite(m),m.paper=this.paper,this.setColumnStates(m));var x=m.width,P=100;x instanceof ve&&(P=x.percent);var S=j((y-c)*(1-P/100)/2,5);if(c+=S,y-=S,this.xAxis instanceof Z&&this.yAxis instanceof Z)p=K({x:this.yAxis.getX(e,n,0,"valueY"),y:this.yAxis.getY(e,n,0,"valueY")}),f=K({x:this.yAxis.getX(e,s,1,"valueY"),y:this.yAxis.getY(e,s,1,"valueY")}),d=this.xAxis.getAngle(e,h,0,"valueX"),u=this.xAxis.getAngle(e,o,1,"valueX"),i=i+c*v,a=a-(1-y)*v;else if(this.baseAxis==this.xAxis)p=K({x:this.yAxis.getX(e,n,e.locations[n],"valueY"),y:this.yAxis.getY(e,n,e.locations[n],"valueY")}),f=K({x:this.yAxis.getX(e,s,e.locations[s],"valueY"),y:this.yAxis.getY(e,s,e.locations[s],"valueY")}),d=this.xAxis.getAngle(e,h,c,"valueX"),u=this.xAxis.getAngle(e,o,y,"valueX"),i=i+c*v,a=a-(1-y)*v;else{if(p=K({x:this.yAxis.getX(e,n,c,"valueY"),y:this.yAxis.getY(e,n,c,"valueY")}),f=K({x:this.yAxis.getX(e,s,y,"valueY"),y:this.yAxis.getY(e,s,y,"valueY")}),g(x)){var A=Math.abs(p-f);if(A>x){var T=(A-x)/2;p+=T,f-=T}}d=this.xAxis.getAngle(e,o,e.locations[o],"valueX"),u=this.xAxis.getAngle(e,h,e.locations[h],"valueX")}if(u<d){var b=u;u=d,d=b}d=Y(d,i,a),u=Y(u,i,a);var O=m.radarColumn;O.startAngle=d;var D=u-d;D>0?(O.arc=D,O.radius=p,O.innerRadius=f,m.__disabled=!1,m.parent=this.columnsContainer,w(this.axisRanges.iterator(),function(B){var k=e.rangesColumns.getKey(B.uid);k||(k=t.columns.create(),Fa(t.columns.template,k,Q),ae(B.contents,k,Q),k.dataItem&&Ve(k.dataItem.sprites,k),e.addSprite(k),k.paper=t.paper,t.setColumnStates(k),e.rangesColumns.setKey(B.uid,k));var I=k.radarColumn;I.startAngle=d,I.arc=D,I.radius=p,I.innerRadius=f,I.invalid&&(I.paper=t.paper,I.validate()),k.__disabled=!1,k.parent=B.contents})):this.disableUnusedColumns(e)},r.prototype.getPoint=function(e,t,i,a,n,s,o){s||(s="valueX"),o||(o="valueY");var h=this.yAxis.getX(e,i,n,o),d=this.yAxis.getY(e,i,n,o),u=K({x:h,y:d});u==0&&(u=1e-5);var p=this.xAxis.getAngle(e,t,a,s);return{x:u*F(p),y:u*L(p)}},r.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return _t(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},r.prototype.positionBulletReal=function(e,t,i){var a=this.xAxis,n=this.yAxis;(t<a.start||t>a.end||i<n.start||i>n.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(t,i))},r.prototype.setXAxis=function(e){l.prototype.setXAxis.call(this,e),this.updateRendererRefs()},r.prototype.setYAxis=function(e){l.prototype.setYAxis.call(this,e),this.updateRendererRefs()},r.prototype.updateRendererRefs=function(){var e=this.xAxis.renderer,t=this.yAxis.renderer;e.axisRendererY=t},r}(ht);V.registeredClasses.RadarColumnSeries=bn;V.registeredClasses.RadarColumnSeriesDataItem=xn;var gi=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.slice=e.createChild(q),e.slice.shouldClone=!1,e.slice.setElement(e.paper.add("path")),e.slice.isMeasured=!1,e.orientation="vertical",e.bottomWidth=M(100),e.topWidth=M(100),e.isMeasured=!1,e.width=10,e.height=10,e.expandDistance=0,e.className="FunnelSlice",e.applyTheme(),e}return r.prototype.draw=function(){l.prototype.draw.call(this);var e=this.pixelPaddingTop,t=this.pixelPaddingBottom,i=this.pixelPaddingRight,a=this.pixelPaddingLeft,n=this.pixelWidth-i-a,s=this.pixelHeight-e-t,o=this.expandDistance,h="";if(this.orientation=="vertical"){var d=le(this.topWidth,n),u=le(this.bottomWidth,n),p={x:(n-d)/2+a,y:e},f={x:(n+d)/2+a,y:e},c={x:(n+u)/2+a,y:e+s},y={x:(n-u)/2+a,y:e+s},v={x:f.x+(c.x-f.x)/2+o*s,y:f.y+.5*s},m={x:p.x+(y.x-p.x)/2-o*s,y:p.y+.5*s},x=R(c),P=R(p);o!=0&&(x=it(c,v),P=it(p,m)),h=W(p)+R(f)+x+R(y)+P,this.tickPoint={x:f.x+(c.x-f.x)/2,y:f.y+(c.y-f.y)/2}}else{var d=le(this.topWidth,s),u=le(this.bottomWidth,s),S={x:a,y:(s-d)/2+e},A={x:a,y:(s+d)/2+e},T={x:a+n,y:(s-u)/2+e},b={x:a+n,y:(s+u)/2+e},v={y:S.y+(T.y-S.y)/2-o*n,x:S.x+.5*n},m={y:A.y+(b.y-A.y)/2+o*n,x:A.x+.5*n},x=R(T),P=R(A);o!=0&&(x=it(T,v),P=it(A,m)),h=W(A)+R(S)+x+R(b)+P,this.tickPoint={y:A.y+(b.y-A.y)/2,x:A.x+(b.x-A.x)/2}}this.slice.path=h,this.invalidateLayout()},r.prototype.getPoint=function(e,t){var i=this.pixelPaddingTop,a=this.pixelPaddingBottom,n=this.pixelPaddingRight,s=this.pixelPaddingLeft,o=this.pixelWidth-n-s,h=this.pixelHeight-i-a;if(this.orientation=="vertical"){var d=le(this.topWidth,o),u=le(this.bottomWidth,o),p={x:(o-d)/2+s,y:i},f={x:(o+d)/2+s,y:i},c={x:(o+u)/2+s,y:i+h},y={x:(o-u)/2+s,y:i+h},v=p.x+(y.x-p.x)*t,m=f.x+(c.x-f.x)*t;return{x:v+(m-v)*e,y:f.y+(c.y-f.y)*t}}else{var d=le(this.topWidth,h),u=le(this.bottomWidth,h),x={x:s,y:(h-d)/2+i},P={x:s,y:(h+d)/2+i},S={x:s+o,y:(h-u)/2+i},A={x:s+o,y:(h+u)/2+i},T=x.y+(S.y-x.y)*e,b=P.y+(A.y-P.y)*e;return{y:T+(b-T)*t,x:x.x+(S.x-x.x)*e}}},Object.defineProperty(r.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(e){this.setPropertyValue("expandDistance",e,!0)},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.slice&&this.slice.copyFrom(e.slice)},r}(X);V.registeredClasses.FunnelSlice=gi;var Nr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e._label=new he,e._slice=new he,e.className="FunnelTick",e.element=e.paper.add("path"),e._disposers.push(e._label),e._disposers.push(e._slice),e.setPropertyValue("locationX",0),e.setPropertyValue("locationY",0),e.applyTheme(),e}return r.prototype.draw=function(){l.prototype.draw.call(this);var e=this.slice,t=e.getPoint(this.locationX,this.locationY);if(t){var i=this.label,a=e.dataItem.component,n=void 0,s=void 0,o=void 0;if(a.orientation=="vertical"){var h=i.pixelX,d=i.pixelY;a.labelsOpposite||(h+=i.maxRight),n=_e(t,e,this.parent),o=_e({x:h,y:d},i.parent,this.parent),s={x:i.parent.pixelX-this.length,y:o.y},a.labelsOpposite||(s.x=i.parent.measuredWidth+this.length)}else{var h=i.pixelX,d=i.pixelY;a.labelsOpposite||(d+=i.maxBottom),n=_e(t,e,this.parent),o=_e({x:h,y:d},i.parent,this.parent),s={x:o.x,y:i.parent.pixelY-this.length},a.labelsOpposite||(s.y=i.parent.measuredHeight+this.length)}this.path=W(n)+R(s)+R(o)}},Object.defineProperty(r.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new at([e.events.on("transformed",this.invalidate,this,!1),e.events.on("validated",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){this.setPropertyValue("locationX",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){this.setPropertyValue("locationY",e,!1,!0)},enumerable:!0,configurable:!0}),r}(St);V.registeredClasses.FunnelTick=Nr;var Yi=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="FunnelSeriesDataItem",e.events.on("visibilitychanged",function(){e.component&&e.component.invalidateDataItems()},e,!1),e.applyTheme(),e}return Object.defineProperty(r.prototype,"sliceLink",{get:function(){var e=this;if(!this._sliceLink){var t=this.component.sliceLinks.create();this._sliceLink=t,this._disposers.push(t),t.parent=this.component.slicesContainer,this._disposers.push(new oe(function(){e.component&&e.component.sliceLinks.removeValue(t)})),this.addSprite(t),t.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),r}(Qt),zr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e._nextY=0,e.className="FunnelSeries",e.orientation="vertical",e.width=M(100),e.height=M(100),e.slicesContainer.width=M(100),e.slicesContainer.height=M(100),e._disposers.push(e.slicesContainer.events.on("maxsizechanged",e.invalidateDataItems,e,!1)),e.labelsOpposite=!0,e.labelsContainer.layout="absolute",e.bottomRatio=0,e.applyTheme(),e}return r.prototype.createSlice=function(){return new gi},r.prototype.createTick=function(){return new Nr},r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Funnel Series"))},r.prototype.createDataItem=function(){return new Yi},r.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})";var t=e.states.create("hover");t.properties.expandDistance=.2},r.prototype.initLabel=function(e){l.prototype.initLabel.call(this,e),e.verticalCenter="middle",e.horizontalCenter="middle",e.isMeasured=!0,e.padding(5,5,5,5)},r.prototype.validate=function(){l.prototype.validate.call(this),this._nextY=0},r.prototype.validateDataElements=function(){var e=this,t=this.slicesContainer,i=this.labelsContainer,a=this.labels.template;this.alignLabels?(a.interactionsEnabled=!0,t.isMeasured=!0,i.isMeasured=!0):(a.interactionsEnabled=!1,t.isMeasured=!1,i.isMeasured=!1);var n=0,s=0;this.dataItems.each(function(o){C(o.value)&&(s++,o.value>0?n+=Math.abs(o.getWorkingValue("value")/o.value):e.ignoreZeroValues||!o.visible||o.__disabled||o.isHiding?s--:n+=1)}),this._total=1/s*n,this._count=s,l.prototype.validateDataElements.call(this),this.arrangeLabels()},r.prototype.getNextValue=function(e){var t=e.index,i=e.getWorkingValue("value");if(t<this.dataItems.length-1){var a=this.dataItems.getIndex(t+1);if(i=a.getWorkingValue("value"),!a.visible||a.isHiding||a.__disabled||a.value==0&&this.ignoreZeroValues)return this.getNextValue(a)}return i},r.prototype.formDataElement=function(){},r.prototype.validateDataElement=function(e){var t=this,i=e.slice;i.orientation=this.orientation;var a=e.sliceLink;a.orientation=this.orientation;var n=e.tick,s=e.label;n.slice=i,n.label=s,C(e.value)?(this.decorateSlice(e),H(e.sprites,function(o){e.value==0&&t.ignoreZeroValues?o.__disabled=!0:o.__disabled=!1})):H(e.sprites,function(o){o.__disabled=!0}),e.index==this.dataItems.length-1&&(a.disabled=!0),l.prototype.validateDataElement.call(this,e),a.fill=i.fill},r.prototype.decorateSlice=function(e){var t=e.slice,i=e.sliceLink,a=e.label,n=e.tick,s=this.slicesContainer.innerWidth,o=this.slicesContainer.innerHeight,h=this.getNextValue(e),d=Math.abs(e.getWorkingValue("value")),u=this.bottomRatio,p=1;if(e.value!=0?p=d/Math.abs(e.value):(e.__disabled||e.isHiding||!e.visible)&&(p=1e-6),this.ignoreZeroValues&&e.value==0){e.__disabled=!0;return}else e.__disabled=!1;if(this._nextY==1/0&&(this._nextY=0),this.orientation=="vertical"){var f=i.pixelHeight*p;o=o+f,t.topWidth=d/this.dataItem.values.value.high*s,t.bottomWidth=(d-(d-h)*u)/this.dataItem.values.value.high*s,i.topWidth=t.bottomWidth,i.bottomWidth=(d-(d-h))/this.dataItem.values.value.high*s,t.y=this._nextY,t.height=Math.min(1e5,ee(0,o/this._count*p/this._total-f)),t.x=s/2,this.alignLabels?a.x=void 0:a.x=t.x,a.y=t.pixelY+t.pixelHeight*n.locationY,this._nextY+=t.pixelHeight+f,i.y=this._nextY-f,i.x=t.x}else{var c=i.pixelWidth*p;s=s+c,t.topWidth=d/this.dataItem.values.value.high*o,t.bottomWidth=(d-(d-h)*u)/this.dataItem.values.value.high*o,i.topWidth=t.bottomWidth,i.bottomWidth=(d-(d-h))/this.dataItem.values.value.high*o,t.x=this._nextY,t.width=Math.min(1e5,s/this._count*p*1/this._total-c),t.y=o/2,this.alignLabels?a.y=this.labelsContainer.measuredHeight:a.y=t.y,a.x=t.pixelX+t.pixelWidth*n.locationX,this._nextY+=t.pixelWidth+c,i.x=this._nextY-c,i.y=t.y}},r.prototype.getLastLabel=function(e){if(e>0){var t=this.labels.getIndex(e);return t.__disabled||!t.visible?this.getLastLabel(e-1):t}},r.prototype.arrangeLabels=function(){if(this.alignLabels){var e=this.labels.length;if(e>1){var t=this.getLastLabel(e-1);if(t){var i=t.pixelY,a=t.pixelX;if(e>1){for(var n=e-2;n>=0;n--){var s=this.labels.getIndex(n);s.visible&&!s.__disabled&&(s.invalid&&s.validate(),this.orientation=="vertical"?s.pixelY+s.measuredHeight>i&&(s.y=Math.min(1e6,i-s.measuredHeight)):s.pixelX+s.measuredWidth>a&&(s.x=Math.min(1e6,a-s.measuredWidth)),i=s.pixelY,a=s.pixelX)}i=0,a=0;for(var n=0;n<e;n++){var s=this.labels.getIndex(n);s.visible&&!s.__disabled&&(s.invalid&&s.validate(),this.orientation=="vertical"?s.pixelY<i&&(s.y=Math.min(1e6,i)):s.pixelX<a&&(s.x=Math.min(1e6,a)),i+=s.measuredHeight,a+=s.measuredWidth)}}}}}},r.prototype.positionBullet=function(e){l.prototype.positionBullet.call(this,e);var t=e.dataItem,i=t.slice,a=e.locationX;g(a)||(a=.5);var n=e.locationY;g(n)||(n=1),e.x=i.pixelX+i.measuredWidth*a,e.y=i.pixelY+i.measuredHeight*n},Object.defineProperty(r.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),e=="vertical"?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(e){this.setPropertyValue("bottomRatio",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var e=new gi;e.applyOnClones=!0,e.fillOpacity=.5,e.expandDistance=-.3,e.hiddenState.properties.opacity=0,this._disposers.push(e),this._sliceLinks=new J(e),this._disposers.push(new G(this._sliceLinks))}return this._sliceLinks},enumerable:!0,configurable:!0}),r.prototype.show=function(e){var t=this,i=this.startIndex,a=this.endIndex,n=this.defaultState.transitionDuration;g(e)&&(n=e);var s=0;w(Pt(this.dataItems.iterator()),function(h){var d=h[0],u=h[1];t.sequencedInterpolation&&(s=t.sequencedInterpolationDelay*d+n*(d-i)/(a-i)),u.show(n,s,["value"])});var o=l.prototype.show.call(this,e);return o},r.prototype.hide=function(e){var t=this,i=["value"],a=0,n=this.startIndex,s=this.endIndex,o=0,h=this.hiddenState.transitionDuration;g(e)&&(h=e),w(Pt(this.dataItems.iterator()),function(u){var p=u[0],f=u[1];t.sequencedInterpolation&&(o=t.sequencedInterpolationDelay*p+h*(p-n)/(s-n)),f.hide(h,o,a,i)});var d=l.prototype.hide.call(this,e);return d&&!d.isFinished()&&d.delay(o),d},r.prototype.setAlignLabels=function(e){l.prototype.setAlignLabels.call(this,e),this.ticks.template.disabled=!e;var t=this.labelsContainer;t&&(e?(t.height=void 0,t.width=void 0,t.margin(10,10,10,10)):(t.width=M(100),t.height=M(100))),this.labelsOpposite=this.labelsOpposite},Object.defineProperty(r.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(e){this.setPropertyValue("labelsOpposite",e);var t=this.labels.template,i="none",a="none";this.alignLabels?e?(this.labelsContainer.toFront(),this.orientation=="vertical"?(this.ticks.template.locationX=1,t.horizontalCenter="left",i="right"):(this.ticks.template.locationY=1,t.horizontalCenter="right",a="bottom")):(this.labelsContainer.toBack(),this.orientation=="vertical"?(this.ticks.template.locationX=0,i="left"):(a="top",this.ticks.template.locationY=0)):this.orientation=="vertical"?i="center":a="middle",t.align=i,t.valign=a,this.validateLayout(),this.ticks.each(function(n){n.invalidate()}),this.invalidateDataItems()},enumerable:!0,configurable:!0}),r}(Ot);V.registeredClasses.FunnelSeries=zr;V.registeredClasses.FunnelSeriesDataItem=Yi;var Ei=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="PyramidSeriesDataItem",e.applyTheme(),e}return r}(Yi),Hr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="PyramidSeries",e.topWidth=M(0),e.bottomWidth=M(100),e.pyramidHeight=M(100),e.valueIs="area",e.sliceLinks.template.width=0,e.sliceLinks.template.height=0,e.applyTheme(),e}return r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},r.prototype.createDataItem=function(){return new Ei},r.prototype.validate=function(){l.prototype.validate.call(this),this._nextWidth=void 0},r.prototype.getNextValue=function(e){var t=e.index,i=e.getWorkingValue("value");if(t<this.dataItems.length-1){var a=this.dataItems.getIndex(t+1);i=a.getWorkingValue("value")}return i==0&&(i=1e-6),i},r.prototype.validateDataElements=function(){var e=this,t=this.slicesContainer.innerWidth,i=this.slicesContainer.innerHeight;if(this.dataItems.each(function(s){if(s.value>0){var o=s.getWorkingValue("value")/s.value,h=s.sliceLink;e.orientation=="vertical"?i-=h.pixelHeight*o:t-=h.pixelWidth*o}}),this._pyramidHeight=le(this.pyramidHeight,i),this._pyramidWidth=le(this.pyramidHeight,t),this.orientation=="vertical"){var a=(i-this._pyramidHeight)/2;this.slicesContainer.y=a,this.labelsContainer.y=a,this.ticksContainer.y=a}else{var n=(t-this._pyramidWidth)/2;this.slicesContainer.x=n,this.labelsContainer.x=n,this.ticksContainer.x=n}l.prototype.validateDataElements.call(this)},r.prototype.decorateSlice=function(e){var t=this.dataItem.values.value.absoluteSum;if(t!=0){var i=e.slice,a=e.sliceLink,n=e.label,s=e.tick;this.getNextValue(e);var o=Math.abs(e.getWorkingValue("value")),h=this._pyramidWidth,d=this._pyramidHeight,u=this.slicesContainer.innerWidth,p=this.slicesContainer.innerHeight,f=a.pixelWidth,c=a.pixelHeight;if((e.value==0||e.value==null)&&this.ignoreZeroValues?e.__disabled=!0:e.__disabled=!1,this.orientation=="vertical"){var y=le(this.topWidth,u);g(this._nextWidth)||(this._nextWidth=y);var v=le(this.bottomWidth,u),m=this._nextWidth,x=Math.atan2(d,y-v),P=Math.tan(Math.PI/2-x);P==0&&(P=1e-8);var S=void 0,A=void 0;if(this.valueIs=="area"){var T=(y+v)/2*d,b=T*o/t,O=Math.abs(m*m-2*b*P);S=(m-Math.sqrt(O))/P,S>0?A=(2*b-S*m)/S:A=m}else S=d*o/t,A=m-S*P;i.height=S,i.width=u,i.bottomWidth=A,i.topWidth=m,a.topWidth=i.bottomWidth,a.bottomWidth=i.bottomWidth,i.y=this._nextY,this.alignLabels?n.x=0:n.x=u/2,n.y=i.pixelY+i.pixelHeight*s.locationY+i.dy,this._nextY+=i.pixelHeight+c*o/Math.max(Math.abs(e.value),1e-8),a.y=this._nextY-c,a.x=u/2}else{var y=le(this.topWidth,p);g(this._nextWidth)||(this._nextWidth=y);var v=le(this.bottomWidth,p),m=this._nextWidth,x=Math.atan2(h,y-v),P=Math.tan(Math.PI/2-x);P==0&&(P=1e-8);var D=void 0,A=void 0;if(this.valueIs=="area"){var T=(y+v)/2*h,b=T*o/t;D=(m-Math.sqrt(m*m-2*b*P))/P,A=(2*b-D*m)/D}else D=h*o/t,A=m-D*P;i.width=D,i.height=p,i.bottomWidth=A,i.topWidth=m,a.topWidth=i.bottomWidth,a.bottomWidth=i.bottomWidth,i.x=this._nextY,this.alignLabels?n.y=this.labelsContainer.measuredHeight:n.y=p/2,n.x=i.pixelX+i.pixelWidth*s.locationX+i.dx,this._nextY+=i.pixelWidth+f*o/Math.max(Math.abs(e.value),1e-8),a.x=this._nextY-f,a.y=p/2}this._nextWidth=i.bottomWidth}},Object.defineProperty(r.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(e){this.setPercentProperty("pyramidHeight",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(e){this.setPropertyValue("valueIs",e)&&this.invalidate()},enumerable:!0,configurable:!0}),r}(zr);V.registeredClasses.PyramidSeries=Hr;V.registeredClasses.PyramidSeriesDataItem=Ei;var Ur=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="PictorialStackedSeriesDataItem",e.applyTheme(),e}return r}(Ei),Pn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="PictorialStackedSeries",e.topWidth=M(100),e.bottomWidth=M(100),e.valueIs="height",e.applyTheme(),e.startLocation=0,e.endLocation=1,e.align="center",e.valign="middle",e._maskSprite=e.slicesContainer.createChild(q),e._maskSprite.visible=!1,e._maskSprite.zIndex=100,e._maskSprite.shouldClone=!1,e}return r.prototype.validateDataElements=function(){var e=this.slicesContainer.maxWidth,t=this.slicesContainer.maxHeight,i=this._maskSprite,a=i.measuredWidth/i.scale,n=i.measuredHeight/i.scale,s=U(t/n,e/a);s==1/0&&(s=1),s=ee(.001,s);var o=this.startLocation,h=this.endLocation,d=U(e,a*s),u=U(t,n*s);i.scale=s,this.orientation=="vertical"?(this.topWidth=d+4,this.bottomWidth=d+4,this.pyramidHeight=u*(h-o),i.x=e/2,i.y=u/2):(this.topWidth=u+4,this.bottomWidth=u+4,this.pyramidHeight=d*(h-o),i.valign="middle",i.x=d/2,i.y=t/2),i.verticalCenter="middle",i.horizontalCenter="middle",l.prototype.validateDataElements.call(this);var p,f;this.orientation=="vertical"?(this.valign=="bottom"&&(p=t-u),this.valign=="middle"&&(p=(t-u)/2),this.valign=="top"&&(p=0),this.align=="left"&&(f=-(e-d)/2),this.align=="center"&&(f=0),this.align=="right"&&(f=(e-d)/2),this.slices.template.dy=o*u,this.alignLabels&&(this.slicesContainer.dx=f)):(this.valign=="bottom"&&(p=(t-u)/2),this.valign=="middle"&&(p=0),this.valign=="top"&&(p=-(t-u)/2),this.align=="left"&&(f=0),this.align=="center"&&(f=(e-d)/2),this.align=="right"&&(f=e-d),this.slices.template.dx=o*d,this.alignLabels&&(this.slicesContainer.dy=p)),this.slicesContainer.x=f,this.labelsContainer.x=f,this.ticksContainer.x=f,this.slicesContainer.y=p,this.labelsContainer.y=p,this.ticksContainer.y=p,d>0&&u>0&&(this.slicesContainer.mask=i)},r.prototype.applyInternalDefaults=function(){l.prototype.applyInternalDefaults.call(this),C(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},r.prototype.createDataItem=function(){return new Ur},Object.defineProperty(r.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),r.prototype.initSlice=function(e){l.prototype.initSlice.call(this,e);var t=e.states.getKey("hover");t&&(t.properties.expandDistance=0)},Object.defineProperty(r.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),r}(Hr);V.registeredClasses.PictorialStackedSeries=Pn;V.registeredClasses.PictorialStackedSeriesDataItem=Ur;var Gr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="ConeColumn",e}return r.prototype.createAssets=function(){this.coneColumn=this.createChild(La),this.coneColumn.shouldClone=!1,this.column=this.coneColumn},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.coneColumn&&this.coneColumn.copyFrom(e.coneColumn)},r}(lt);V.registeredClasses.ConeColumn=Gr;var Cn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="ConeSeriesDataItem",e.applyTheme(),e}return r}(Ze),Dn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="ConeSeries",e.applyTheme(),e}return r.prototype.createColumnTemplate=function(){return new Gr},r.prototype.getMaskPath=function(){var e=0,t=0,i=this.columns.getIndex(0);if(i)return this.baseAxis==this.xAxis?t=i.coneColumn.innerWidth/2+1:e=i.coneColumn.innerHeight/2+1,Ne({x:-e,y:0,width:this.xAxis.axisLength+e,height:this.yAxis.axisLength+t})},r.prototype.validateDataElementReal=function(e){l.prototype.validateDataElementReal.call(this,e);var t=e.column;if(t){var i=e.column.coneColumn;i.fill=e.column.fill,this.baseAxis==this.yAxis?i.orientation="horizontal":i.orientation="vertical"}},r}(ht);V.registeredClasses.ConeSeries=Dn;V.registeredClasses.ConeSeriesDataItem=Cn;var Kr=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="CurvedColumn",e}return r.prototype.createAssets=function(){this.curvedColumn=this.createChild(q),this.curvedColumn.shouldClone=!1,this.setPropertyValue("tension",.7),this.width=M(120),this.height=M(120),this.column=this.curvedColumn},r.prototype.draw=function(){l.prototype.draw.call(this);var e=this.realWidth,t=this.realHeight,i=this.realX-this.pixelX,a=this.realY-this.pixelY,n;Ue(this.width);var s=1,o=1;this.orientation=="vertical"?(s=this.tension,n=[{x:0,y:t+a},{x:e/2,y:a},{x:e,y:t+a}]):(o=this.tension,t=Math.abs(t),n=[{x:i,y:t},{x:i+e,y:t/2},{x:i,y:0}]);var h=W(n[0])+new Ct(s,o).smooth(n);this.column.path=h},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.curvedColumn&&this.curvedColumn.copyFrom(e.curvedColumn)},Object.defineProperty(r.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),r}(lt);V.registeredClasses.CurvedColumn=Kr;var An=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="CurvedColumnSeriesDataItem",e.applyTheme(),e}return r}(Ze),_n=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="CurvedColumnSeries",e.applyTheme(),e}return r.prototype.createColumnTemplate=function(){return new Kr},r.prototype.validateDataElementReal=function(e){l.prototype.validateDataElementReal.call(this,e);var t=e.column;if(t=e.column,t){var i=e.column.curvedColumn;i.fill=e.column.fill,this.baseAxis==this.yAxis?t.orientation="horizontal":t.orientation="vertical"}},r}(ht);V.registeredClasses.CurvedColumnSeries=_n;V.registeredClasses.CurvedColumnSeriesDataItem=An;var Vn=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="CircleBullet";var t=e.createChild(bi);return t.shouldClone=!1,t.radius=5,t.isMeasured=!1,e.circle=t,e.applyTheme(),e}return r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.circle.copyFrom(e.circle)},r}(Xe);V.registeredClasses.CircleBullet=Vn;var Sn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="ErrorBullet",e.errorLine=e.createChild(q),e.errorLine.shouldClone=!1,e.width=20,e.height=20,e.strokeOpacity=1,e.isDynamic=!0,e}return r.prototype.validatePosition=function(){l.prototype.validatePosition.call(this);var e=this.pixelWidth/2,t=this.pixelHeight/2;this.errorLine.path=W({x:-e,y:-t})+R({x:e,y:-t})+W({x:0,y:-t})+R({x:0,y:t})+W({x:-e,y:t})+R({x:e,y:t})},r.prototype.copyFrom=function(e){l.prototype.copyFrom.call(this,e),this.errorLine.copyFrom(e.errorLine)},r}(Xe);V.registeredClasses.ErrorBullet=Sn;var Tn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="NavigationBarDataItem",e.applyTheme(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),r}(ft),On=function(l){_(r,l);function r(){var e=l.call(this)||this;e.className="NavigationBar";var t=new te,i=new Ji;i.valign="middle",i.paddingTop=8,i.paddingBottom=8,e.paddingBottom=2,e.links=new J(i),e._disposers.push(new G(e.links)),e._disposers.push(i),e._linksIterator=new xi(e.links,function(){return e.links.create()}),e._linksIterator.createNewItems=!0;var a=new Ia;a.direction="right",a.width=8,a.height=12,a.fill=t.getFor("alternativeBackground"),a.fillOpacity=.5,a.valign="middle",a.marginLeft=10,a.marginRight=10,e.separators=new J(a),e._disposers.push(new G(e.separators)),e._disposers.push(a);var n=new Ji;return e.activeLink=n,n.copyFrom(i),n.valign="middle",n.fontWeight="bold",e.width=M(100),e.layout="grid",e.dataFields.name="name",e.applyTheme(),e}return r.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),l.prototype.validateDataElements.call(this)},r.prototype.validateDataElement=function(e){l.prototype.validateDataElement.call(this,e);var t;if(e.index<this.dataItems.length-1){t=this._linksIterator.getLast(),t.parent=this;var i=this.separators.create();i.parent=this,i.valign="middle"}else t=this.activeLink,t.events.copyFrom(this.links.template.events),t.hide(0),t.show(),t.parent=this;t.dataItem=e,t.text=e.name,t.validate()},r}(At);V.registeredClasses.NavigationBar=On;V.registeredClasses.NavigationBarDataItem=Tn;var Zr=function(l){_(r,l);function r(){var e=l.call(this)||this;e.point={x:0,y:0},e._stick="none",e.className="Cursor",e.width=M(100),e.height=M(100),e.shouldClone=!1,e.hide(0),e.trackable=!0,e.clickable=!0,e.isMeasured=!1;var t=je();return e._disposers.push(t.body.events.on("down",e.handleCursorDown,e)),e._disposers.push(t.body.events.on("up",e.handleCursorUp,e)),e._disposers.push(t.body.events.on("track",e.handleCursorMove,e)),e.applyTheme(),e}return r.prototype.handleCursorMove=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch)){if((this._generalBehavior!="zoom"&&this._generalBehavior!="pan"||!this.downPoint)&&!je().isLocalElement(e.pointer,this.paper.svg,this.uid)){(!this.isHidden||!this.isHiding)&&this.hide();return}var t=ri(e.pointer.point,this);return this._stick=="hard"&&this._stickPoint&&(t=this._stickPoint),this._stick=="soft"&&this._stickPoint&&(this.fitsToBounds(t)||(t=this._stickPoint)),this._adapterO&&this._adapterO.apply("cursorPoint",t),this.triggerMove(t),t}},r.prototype.hideReal=function(e){if(!((this._stick=="hard"||this._stick=="soft")&&this._stickPoint))return l.prototype.hideReal.call(this,e)},r.prototype.triggerMove=function(e,t,i){e.x=j(e.x,1),e.y=j(e.y,1),t&&(this._stick=t),(t=="hard"||t=="soft")&&(this._stickPoint=e),this.triggerMoveReal(e,i)},r.prototype.triggerMoveReal=function(e,t){(this.point.x!=e.x||this.point.y!=e.y||t)&&(this.point=e,this.invalidatePosition(),this.fitsToBounds(e)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")))},r.prototype.triggerDown=function(e){this.triggerDownReal(e)},r.prototype.triggerDownReal=function(e){switch(this._generalBehavior){case"zoom":this.dispatchImmediately("zoomstarted");break;case"select":this.dispatchImmediately("selectstarted");break;case"pan":this.dispatchImmediately("panstarted"),je().setGlobalStyle(xt.grabbing);break}},r.prototype.triggerUp=function(e){this.triggerUpReal(e)},r.prototype.triggerUpReal=function(e){Ra.requestFrame(),this.updatePoint(this.upPoint);var t=je();if(K(this._upPointOrig,this._downPointOrig)>t.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case"zoom":this.dispatch("zoomended");break;case"select":this.dispatch("selectended");break;case"pan":this.dispatch("panended"),t.setGlobalStyle(xt.default);break}this.downPoint=void 0,this.updateSelection()}},r.prototype.updateSelection=function(){},r.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight},r.prototype.handleCursorDown=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch||!je().isLocalElement(e.pointer,this.paper.svg,this.uid))){ja();var t=ri(e.pointer.point,this);this._stick=="hard"&&this._stickPoint&&(t=this._stickPoint),this._adapterO&&this._adapterO.apply("cursorPoint",t),this.fitsToBounds(t)&&(this._downPointOrig={x:t.x,y:t.y},e.event.cancelable&&this.shouldPreventGestures(e.touch)&&this.fitsToBounds(t)&&e.event.preventDefault(),this.triggerMove(t),this.triggerDown(t))}},r.prototype.shouldPreventGestures=function(e){return!0},r.prototype.updatePoint=function(e){},r.prototype.handleCursorUp=function(e){if(this.interactionsEnabled&&!(!this.downPoint&&!je().isLocalElement(e.pointer,this.paper.svg,this.uid))){var t=ri(e.pointer.point,this);this._adapterO&&this._adapterO.apply("cursorPoint",t),!(!this.downPoint||!this.fitsToBounds(this.downPoint))&&(this._stick=="hard"&&this._stickPoint&&(t=this._stickPoint),this._upPointOrig={x:t.x,y:t.y},this.triggerMove(t),this.triggerUp(t))}},Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e,C(this._chart.plotContainer)&&je().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),r}(X);V.registeredClasses.Cursor=Zr;var qr=function(l){_(r,l);function r(){var e=l.call(this)||this;e._lineX=new he,e._lineY=new he,e._xAxis=new he,e._yAxis=new he,e._snapToDisposers=[],e.className="XYCursor",e.behavior="zoomX",e.maxPanOut=.1;var t=new te;e.snapOnPan=!0;var i=e.createChild(q);i.shouldClone=!1,i.fillOpacity=.2,i.fill=t.getFor("alternativeBackground"),i.isMeasured=!1,i.visible=!1,i.interactionsEnabled=!1,e.selection=i,e._disposers.push(e.selection);var a=e.createChild(q);a.shouldClone=!1,a.stroke=t.getFor("grid"),a.fill=Me(),a.strokeDasharray="3,3",a.isMeasured=!1,a.strokeOpacity=.4,a.interactionsEnabled=!1,a.y=0,e.lineX=a,e._disposers.push(e.lineX);var n=e.createChild(q);return n.shouldClone=!1,n.stroke=t.getFor("grid"),n.fill=Me(),n.strokeDasharray="3,3",n.isMeasured=!1,n.strokeOpacity=.4,n.interactionsEnabled=!1,n.x=0,e.lineY=n,e._disposers.push(e.lineY),e.events.on("sizechanged",e.updateSize,e,!1),e._disposers.push(e._lineX),e._disposers.push(e._lineY),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.mask=e,e.hideSeriesTooltipsOnSelection=!0,e.applyTheme(),e}return r.prototype.updateSize=function(){this.lineX&&(this.lineX.path=W({x:0,y:0})+R({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=W({x:0,y:0})+R({x:this.innerWidth,y:0}))},r.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint,t=this.behavior;if(e){var i=this.point;this.lineX&&(i.x=this.lineX.pixelX),this.lineY&&(i.y=this.lineY.pixelY);var a=this.selection,n=Math.min(i.x,e.x),s=Math.min(i.y,e.y),o=j(Math.abs(e.x-i.x),this._positionPrecision),h=j(Math.abs(e.y-i.y),this._positionPrecision);switch(t){case"zoomX":s=0,h=this.pixelHeight;break;case"zoomY":n=0,o=this.pixelWidth;break;case"selectX":s=0,h=this.pixelHeight;break;case"selectY":n=0,o=this.pixelWidth;break}a.x=n,a.y=s,a.path=ai(o,h),a.validatePosition()}else this._generalBehavior!="select"&&this.selection.hide()}},r.prototype.fixPoint=function(e){return e.x=Math.max(0,e.x),e.y=Math.max(0,e.y),e.x=Math.min(this.pixelWidth,e.x),e.y=Math.min(this.pixelHeight,e.y),e},r.prototype.triggerMoveReal=function(e,t){l.prototype.triggerMoveReal.call(this,e,t);var i=this.snapToSeries;if(i&&!this.downPoint)if(i instanceof st)i.isHidden&&this.updateLinePositions(e);else{var a=!0;H(i,function(n){n.isHidden||(a=!1)}),a&&this.updateLinePositions(e)}else this.updateLinePositions(e);this.downPoint&&K(this.downPoint,e)>3&&this._generalBehavior=="pan"&&(this.getPanningRanges(),this.dispatch("panning"))},r.prototype.updateLinePositions=function(e){e=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=e.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=e.y),this.updateSelection()},r.prototype.triggerDownReal=function(e){if(this.visible&&!this.isHiding)if(this._generalBehavior=="select"&&(this.selection.parent=this.parent),this.fitsToBounds(e)){this.downPoint={x:e.x,y:e.y},this.updatePoint(e),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var t=this.selection,i=this.downPoint.x,a=this.downPoint.y;this._usesSelection&&(t.x=i,t.y=a,t.path="",t.show()),l.prototype.triggerDownReal.call(this,e)}else this.downPoint=void 0;else this.downPoint=void 0},r.prototype.updatePoint=function(e){this.lineX&&(e.x=this.lineX.pixelX),this.lineY&&(e.y=this.lineY.pixelY)},r.prototype.triggerUpReal=function(e){if(this.hasMoved())this.downPoint&&(this.upPoint=e,this.updatePoint(this.upPoint),this._generalBehavior!="pan"&&this.getRanges(),this._generalBehavior!="select"&&this.selection.hide(),l.prototype.triggerUpReal.call(this,e));else{if(this._generalBehavior!="select"?this.selection.hide(0):(this.xRange=void 0,this.yRange=void 0,this.dispatchImmediately("selectended")),this._generalBehavior=="pan"){var t=je();t.setGlobalStyle(xt.default)}this.dispatchImmediately("behaviorcanceled")}this.downPoint=void 0,this.dispatch("cursorpositionchanged")},r.prototype.hasMoved=function(){var e;return this.behavior=="zoomX"||this.behavior=="panX"?e=Wa(this._upPointOrig,this._downPointOrig):this.behavior=="zoomY"||this.behavior=="panY"?e=Xa(this._upPointOrig,this._downPointOrig):e=K(this._upPointOrig,this._downPointOrig),e>je().getHitOption(this.interactions,"hitTolerance")},r.prototype.getPanningRanges=function(){var e=j(this.downPoint.x/this.innerWidth,5),t=1-j(this.downPoint.y/this.innerHeight,5),i=j(this.point.x/this.innerWidth,5),a=1-j(this.point.y/this.innerHeight,5),n=e-i,s=t-a;this.xRange={start:n,end:1+n},this.yRange={start:s,end:1+s},this.behavior=="panX"&&(this.yRange.start=0,this.yRange.end=1),this.behavior=="panY"&&(this.xRange.start=0,this.xRange.end=1)},r.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY),Ue(this.selection);var e=j(this.downPoint.x/this.innerWidth,5),t=j(this.upPoint.x/this.innerWidth,5),i=1-j(this.downPoint.y/this.innerHeight,5),a=1-j(this.upPoint.y/this.innerHeight,5);this.xRange={start:U(e,t),end:ee(e,t)},this.yRange={start:U(i,a),end:ee(i,a)}},Object.defineProperty(r.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(e){this.setPropertyValue("behavior",e,!0),this._usesSelection=!1,e.indexOf("zoom")!=-1&&(this._generalBehavior="zoom",this._usesSelection=!0),e.indexOf("select")!=-1&&(this._generalBehavior="select",this._usesSelection=!0),e.indexOf("pan")!=-1&&(this._generalBehavior="pan",this._usesSelection=!1)},enumerable:!0,configurable:!0}),r.prototype.shouldPreventGestures=function(e){return(!this.interactions.isTouchProtected||!e)&&this.behavior!="none"},Object.defineProperty(r.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(e){this.setPropertyValue("fullWidthLineX",e),e||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(e){this.setPropertyValue("fullWidthLineY",e),e||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hideSeriesTooltipsOnSelection",{get:function(){return this.getPropertyValue("hideSeriesTooltipsOnSelection")},set:function(e){this.setPropertyValue("hideSeriesTooltipsOnSelection",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxTooltipDistance",{get:function(){return this.getPropertyValue("maxTooltipDistance")},set:function(e){this.setPropertyValue("maxTooltipDistance",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(e){this.setPropertyValue("maxPanOut",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"xAxis",{get:function(){return this._xAxis.get()},set:function(e){var t=this;this._xAxis.get()!=e&&this._xAxis.set(e,new at([e.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1),e.events.on("rangechangestarted",function(i){t.hide(0),t.preventShow=!0},void 0,!1),e.events.on("rangechangeended",function(i){t.preventShow=!1,t.hide(0),t.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(e){var t=this;this._yAxis.get()!=e&&this._yAxis.set(e,new at([e.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1),e.events.on("rangechangestarted",function(i){t.hide(0),t.__disabled=!0},void 0,!1),e.events.on("rangechangeended",function(i){t.__disabled=!1,t.hide(0),t.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),r.prototype.handleXTooltipPosition=function(e){var t=this.xAxis.tooltip,i=Ge({x:t.pixelX,y:t.pixelY},this),a=i.x;if(i.y=1,this.lineX&&(this.lineX.x=a,this.fitsToBounds(i)||this.hide()),this.xAxis&&this.fullWidthLineX){var n=this.xAxis.currentItemStartPoint,s=this.xAxis.currentItemEndPoint;if(n&&s){this.lineX.x=a;var o=s.x-n.x;this.lineX.path=ai(o,this.innerHeight,-o/2)}}},r.prototype.handleYTooltipPosition=function(e){var t=this.yAxis.tooltip,i=Ge({x:t.pixelX,y:t.pixelY},this),a=i.y;if(i.x=1,this.lineY&&(this.lineY.y=a,this.fitsToBounds(i)||this.hide()),this.yAxis&&this.fullWidthLineY){var n=this.yAxis.currentItemStartPoint,s=this.yAxis.currentItemEndPoint;if(n&&s){this.lineY.y=a;var o=s.y-n.y;this.lineY.path=ai(this.innerWidth,o,0,-o/2)}}},Object.defineProperty(r.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineX.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.interactionsEnabled=!1,e.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lineY",{get:function(){return this._lineY.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineY.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.parent=this,e.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selection",{get:function(){return this._selection},set:function(e){this._selection=e,e&&(e.element=this.paper.add("path"),e.parent=this)},enumerable:!0,configurable:!0}),r.prototype.processConfig=function(e){var t=this;if(e&&(C(e.xAxis)&&ne(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+e.xAxis+'" found for `xAxis`'),delete e.xAxis)),C(e.yAxis)&&ne(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+e.yAxis+'" found for `yAxis`'),delete e.yAxis)),C(e.snapToSeries))){var i=we(e.snapToSeries)?e.snapToSeries:[e.snapToSeries],a=!1;H(i,function(n,s){ne(n)&&(t.map.hasKey(n)?i[s]=t.map.getKey(n):(t.processingErrors.push('[XYCursor] No series with id "'+n+'" found for `series`'),a=!0))}),a?delete e.snapToSeries:e.snapToSeries=i}l.prototype.processConfig.call(this,e)},Object.defineProperty(r.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(e){var t=this;this.setPropertyValue("snapToSeries",e)&&(e instanceof st&&(e=[e]),this._snapToDisposers&&H(this._snapToDisposers,function(i){i.dispose()}),this._snapToDisposers=[],e&&H(e,function(i){t._snapToDisposers.push(i.events.on("tooltipshownat",function(){t.handleSnap(i)},void 0,!1))}))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"snapOnPan",{get:function(){return this.getPropertyValue("snapOnPan")},set:function(e){this.setPropertyValue("snapOnPan",e)},enumerable:!0,configurable:!0}),r.prototype.handleSnap=function(e){if(!this.downPoint){var t=e.getTooltipX()+e.xAxis.pixelX,i=e.getTooltipY()+e.yAxis.pixelY,a=e.xAxis,n=e.yAxis;a&&a.renderer.opposite&&(i-=this.pixelHeight),this.point={x:t,y:i},this.getPositions();var s=t,o=i;t-=this.pixelWidth,n&&n.renderer.opposite&&(t+=this.pixelWidth);var h=e.tooltip,d=h.animationDuration,u=h.animationEasing;a instanceof E&&!(a instanceof z)&&n instanceof E&&!(n instanceof z)?(e.yAxis.showTooltipAtPosition(this.yPosition),e.xAxis.showTooltipAtPosition(this.xPosition)):(e.baseAxis==e.xAxis&&e.yAxis.showTooltipAtPosition(this.yPosition),e.baseAxis==e.yAxis&&e.xAxis.showTooltipAtPosition(this.xPosition)),this.lineY.x=t,this.lineX.y=i,this.xAxis||this.lineX.animate([{property:"x",to:s}],d,u),this.yAxis||this.lineY.animate([{property:"y",to:o}],d,u)}},r.prototype.dispose=function(){this.hide(0),l.prototype.dispose.call(this)},r}(Zr);V.registeredClasses.XYCursor=qr;var Mn=function(l){_(r,l);function r(){var e=l.call(this)||this;return e.className="RadarCursor",e.radius=M(100),e.innerRadius=M(0),e.applyTheme(),e.mask=void 0,e}return r.prototype.fitsToBounds=function(e){var t=K(e);return t<this.truePixelRadius+1&&t>this.pixelInnerRadius-1},Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),r.prototype.triggerMoveReal=function(e,t){(!this.xAxis||this.xAxis&&(!this.xAxis.cursorTooltipEnabled||this.xAxis.tooltip.disabled))&&this.updateLineX(this.point),(!this.yAxis||this.yAxis&&(!this.yAxis.cursorTooltipEnabled||this.yAxis.tooltip.disabled))&&this.updateLineY(this.point),this.updateSelection(),l.prototype.triggerMoveReal.call(this,e,t)},r.prototype.updateLineX=function(e){var t=this.pixelRadius,i=this.startAngle,a=this.endAngle,n=this.pixelInnerRadius;if(t>0&&g(i)&&g(a)&&g(n)){var s=Re(Se(e),i,a),o=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var h=this.xAxis.currentItemStartPoint,d=this.xAxis.currentItemEndPoint;if(h&&d){var u=Re(Se(h),i,a),p=Re(Se(d),i,a),f=p-u;i<a?f<0&&(f+=360):f>0&&(f-=360),s-=f/2,o=W({x:n*F(s),y:n*L(s)})+R({x:t*F(s),y:t*L(s)})+ye(s,f,t)+R({x:n*F(s+f),y:n*L(s+f)})+ye(s+f,-f,n)}}o||(o=W({x:n*F(s),y:n*L(s)})+R({x:t*F(s),y:t*L(s)})),this.lineX.path=o}}},r.prototype.updateLineY=function(e){if(this.lineY&&this.lineY.visible){var t=this.startAngle,i=this.endAngle,a=this.truePixelRadius,n=Y(K(e),0,this.truePixelRadius);if(g(n)&&g(t)){this.lineY.moveTo({x:0,y:0});var s=void 0,o=i-t;if(this.yAxis&&this.fullWidthLineY){var h=this.yAxis.currentItemStartPoint,d=this.yAxis.currentItemEndPoint;if(h&&d){var u=Y(K(h),0,a);n=Y(K(d),0,a),s=W({x:n*F(t),y:n*L(t)})+ye(t,o,n),s+=W({x:u*F(i),y:u*L(i)})+ye(i,-o,u)}}s||(s=W({x:n*F(t),y:n*L(t)})+ye(t,i-t,n)),this.lineY.path=s}}},r.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint;if(e){var t=this.point,i=this.pixelRadius,a=this.truePixelRadius,n=this.pixelInnerRadius,s=Math.min(this.startAngle,this.endAngle),o=Math.max(this.startAngle,this.endAngle),h=Re(Se(e),s,o),d=Re(Se(t),s,o),u=K(e);if(u<a){var p=Y(K(t),0,a);this._prevAngle=d;var f=W({x:0,y:0}),c=L(h),y=F(h),v=L(d),m=F(d),x=this.behavior;x=="zoomX"||x=="selectX"?f+=R({x:i*y,y:i*c})+ye(h,d-h,i)+R({x:n*m,y:n*v})+ye(d,h-d,n):x=="zoomY"||x=="selectY"?f=W({x:p*F(s),y:p*L(s)})+ye(s,o-s,p)+R({x:u*F(o),y:u*L(o)})+ye(o,s-o,u)+nt():x=="zoomXY"&&(f=W({x:p*F(h),y:p*L(h)})+ye(h,d-h,p)+R({x:u*F(d),y:u*L(d)})+ye(d,h-d,u)+nt()),this.selection.path=f}this.selection.moveTo({x:0,y:0})}}},r.prototype.getPositions=function(){var e=this.chart;if(e){var t=this.pixelInnerRadius,i=this.truePixelRadius-t,a=this.startAngle,n=this.endAngle,s=Re(Se(this.point),a,n),o=(s-a)/(n-a);this.xPosition=o,this.yPosition=Y((K(this.point)-t)/i,0,1)}},r.prototype.updatePoint=function(e){},r.prototype.handleXTooltipPosition=function(e){if(this.xAxis.cursorTooltipEnabled){var t=this.xAxis.tooltip;this.updateLineX(Ge({x:t.pixelX,y:t.pixelY},this))}},r.prototype.handleYTooltipPosition=function(e){if(this.yAxis.cursorTooltipEnabled){var t=this.yAxis.tooltip;this.updateLineY(Ge({x:t.pixelX,y:t.pixelY},this))}},r.prototype.updateLinePositions=function(e){},r.prototype.getRanges=function(){var e=this.downPoint;if(e){var t=this.upPoint,i=this.chart;if(i){var a=this.pixelRadius,n=this.startAngle,s=this.endAngle,o=Re(Se(e),this.startAngle,this.endAngle),h=Re(Se(t),this.startAngle,this.endAngle),d=Y(K(e),0,a),u=Y(K(t),0,a),p=0,f=1,c=0,y=1,v=this.behavior;if(v=="zoomX"||v=="selectX"||v=="zoomXY"||v=="selectXY"){var m=s-n;p=j((o-n)/m,5),f=j((h-n)/m,5)}(v=="zoomY"||v=="selectY"||v=="zoomXY"||v=="selectXY")&&(c=j(d/a,5),y=j(u/a,5)),this.xRange={start:Math.min(p,f),end:Math.max(p,f)},this.yRange={start:Math.min(c,y),end:Math.max(c,y)},this.behavior=="selectX"||this.behavior=="selectY"||this.behavior=="selectXY"||this.selection.hide()}}},r.prototype.updateSize=function(){},Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelRadius",{get:function(){return re(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"truePixelRadius",{get:function(){return le(M(100),U(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelInnerRadius",{get:function(){var e=this.innerRadius;return e instanceof ve&&(e=M(100*e.value*this.chart.innerRadiusModifyer)),re(e,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),r.prototype.fixPoint=function(e){return e},r}(qr);V.registeredClasses.RadarCursor=Mn;const wn=Di({__name:"DonutChart",props:{data:{type:Array,required:!0},title:{type:[String,Object],required:!0},isLoading:{type:Boolean,required:!1,default:!1},displayAmChartsLogo:{type:Boolean,required:!1,default:!1},url:{type:[String,Object],required:!1,default:null},hideSliceLabels:{type:Boolean,required:!1,default:!1},saveChart:{type:Boolean,required:!1,default:!1},titleProps:{type:Object,required:!1,default:null},subTitleProps:{type:Object,required:!1,default:null},emptySubTitle:{type:String,required:!1,default:"NO"},reverseTitles:{type:Boolean,required:!1,default:!1}},setup(l){const r=l,e="DonutChart--titleLabel",t="DonutChart--sumLabel",i="rgba(41, 11, 83, 0.75)",a="#19a654",n="#bf1330",s="#f2a230",o=()=>[{category:"Empty",disabled:!0,labelDisabled:!0,tooltipDisabled:!0,value:1,fill:"#dadada",fillOpacity:.3,strokeColor:"#dadada",strokeDasharray:"4,4",strokeWidth:2}],h=ra(),d=Ea(null);let u,p,f,c,y;er(()=>r.data,function(){v(r.data)},{deep:!0}),er(()=>r.isLoading,function(){r.isLoading?(c==null||c.hide(0),p==null||p.hide(0)):(c==null||c.show(),p==null||p.show())}),Ba(function(){A(),v(r.data)}),Na(function(){u==null||u.dispose()});function v(b){u&&(b.length||u.invalidateData(),u.data=b)}function m(b,O){return b.length?b.map(D=>{const{route:B}=D,k=B||O.url?{...D,fillOpacity:.7}:D;if(B){const{href:I,meta:be}=h.resolve(B),{title:Fe}=be;return{url:I,urlTitle:Fe,...k}}return k}).map(D=>{const{category:B=""}=D;switch(B.toLowerCase()){case"online":return{fill:a,minSizeForLabel:.13,...D};case"offline":return{fill:n,minSizeForLabel:.14,...D};case"partially degraded":return{fill:s,minSizeForLabel:.3,...D};default:return D}}):o()}function x(b,O){const{fontSize:D}=O.properties,B=O.parent.parent,k=B.pixelRadius-B.pixelInnerRadius;return B.labels.template.fontSize=Math.ceil(k/3),(2-k-D)/2}function P(){const b=r.data.reduce((O,{value:D})=>O+D,0);typeof r.title=="object"&&r.title.singular&&r.title.plural&&(y.text=b===1?r.title.singular:r.title.plural),typeof r.title=="string"&&(y.text=r.title),p.invalidateLabels()}function S(){P(),!r.data.length&&f.currentText!==r.emptySubTitle&&(y.fontWeight="400",y.fontSize=13,f.text=r.emptySubTitle,f.fontWeight="400",f.fontSize=13,p.invalidateLabels()),r.data.length&&f.currentText===r.emptySubTitle&&(y.fontWeight=r.titleProps&&r.titleProps.fontWeight?r.titleProps.fontWeight:"400",y.fontSize=r.titleProps&&r.titleProps.fontSize?r.titleProps.fontSize:13,f.text=r.subTitleProps&&r.subTitleProps.text?r.subTitleProps.text:"{values.value.sum}",f.fontWeight=r.subTitleProps&&r.subTitleProps.fontWeight?r.subTitleProps.fontWeight:"700",f.fontSize=r.subTitleProps&&r.subTitleProps.fontSize?r.subTitleProps.fontSize:22,p.invalidateLabels())}function A(){if(d.value instanceof HTMLElement){if(u=Ya(T(),d.value,Ri),r.saveChart&&(window.chart=u,window.series=c),u.logo&&(u.logo.disabled=!r.displayAmChartsLogo,r.displayAmChartsLogo&&(u.logo.properties.align="right")),c.labels.template.disabled=r.hideSliceLabels,r.url&&(u.url=h.resolve(r.url).href),r.titleProps&&y)for(const b in r.titleProps)y[b]=r.titleProps[b];if(r.subTitleProps&&f)for(const b in r.subTitleProps)f[b]=r.subTitleProps[b];return u}}function T(){return{startAngle:0,endAngle:360,radius:"90%",innerRadius:"60%",data:o(),series:[{type:"PieSeries",dataFields:{value:"value",category:"category"},colors:{step:2},alignLabels:!1,labels:{fontWeight:"500",fontSize:11,bent:!0,radius:0,verticalCenter:"middle",fill:"#ffffff",paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,text:"{category}",interactionsEnabled:!1,userClassName:"pie-chart-label",propertyFields:{disabled:"labelDisabled"},adapter:{radius:x,disabled(b,{dataItem:O}){if(O){const D=O.dataContext.minSizeForLabel||.1;return O.values.value.percent/100<D}return b}}},ticks:{disabled:!0},tooltip:{pointerOrientation:"down",background:{callback(){this.filters.clear()},strokeWidth:0,pointerBaseWidth:0},propertyFields:{disabled:"tooltipDisabled"}},hiddenState:{properties:{opacity:1,startAngle:-90,endAngle:-90}},slices:{cornerRadius:5,propertyFields:{fill:"fill",fillOpacity:"fillOpacity",stroke:"strokeColor",strokeDasharray:"strokeDasharray",strokeWidth:"strokeWidth",url:"url"},stroke:"#ffffff",strokeWidth:2,strokeOpacity:1,tooltipPosition:"pointer",callback(){this.states.getKey("hover").properties.scale=1,this.states.getKey("active").properties.shiftRadius=0,this.states.getKey("hover").properties.fillOpacity=1}},children:[{type:"Container",forceCreate:!0,horizontalCenter:"middle",verticalCenter:"middle",layout:"vertical",background:{fill:"#ffffff"},callback(){this.toBack(),p=this},children:[{type:"Label",forceCreate:!0,fontSize:22,fill:i,text:"{values.value.sum}",horizontalCenter:"middle",verticalCenter:"middle",fontWeight:"700",userClassName:t,callback(){f=this}},{type:"Label",forceCreate:!0,fontSize:13,fill:i,text:"TOTAL",horizontalCenter:"middle",verticalCenter:"middle",fontWeight:"400",userClassName:e,callback(){r.reverseTitles&&this.toBack(),y=this,P()}}]}],callback(){c=this},events:{dataitemsvalidated:S}}],adapter:{data:m}}}return(b,O)=>(Ai(),lr("div",{ref_key:"chartNode",ref:d},null,512))}}),Zn=Di({__name:"VersionsDonutChart",props:{data:{type:Array,required:!0},title:{type:[String,Object],required:!0},isLoading:{type:Boolean,required:!1,default:!1},displayAmChartsLogo:{type:Boolean,required:!1,default:!1},url:{type:[String,Object],required:!1,default:null},titleProps:{type:Object,required:!1,default:()=>({fontSize:18,fontWeight:"400"})},subTitleProps:{type:Object,required:!1,default:()=>({fontSize:12,fontWeight:"300",text:"VERSIONS"})},emptySubTitle:{type:String,required:!1,default:"NOT FOUND"},reverseTitles:{type:Boolean,required:!1,default:!0}},setup(l){const r=l;return(e,t)=>(Ai(),za(wn,Ha(e.$attrs,{data:l.data,title:l.title,"is-loading":l.isLoading,url:l.url,"display-am-charts-logo":l.displayAmChartsLogo,"title-props":r.titleProps,"sub-title-props":r.subTitleProps,"empty-sub-title":r.emptySubTitle,"reverse-titles":r.reverseTitles}),null,16,["data","title","is-loading","url","display-am-charts-logo","title-props","sub-title-props","empty-sub-title","reverse-titles"]))}}),$r=l=>(Ga("data-v-189f4a92"),l=l(),Ka(),l),kn={class:"resource-list"},Fn=$r(()=>ce("p",null,[xe(`
          We can create multiple isolated Mesh resources (i.e. per application/`),ce("wbr"),xe("team/"),ce("wbr"),xe(`business unit).
        `)],-1)),Ln={class:"resource-list-actions mt-4"},In=$r(()=>ce("p",null,`
          We need a data plane proxy for each replica of our services within a Mesh resource.
        `,-1)),Rn={class:"resource-list-actions mt-4"},jn={class:"resource-list-actions mt-4"},Wn=["href"],Xn=["href"],Yn=["href"],En=Di({__name:"MeshResources",setup(l){const r=qa(),e=Za(),t=Ua(()=>({name:e.getters["config/getEnvironment"]==="universal"?"universal-dataplane":"kubernetes-dataplane"}));return(i,a)=>(Ai(),lr("div",kn,[Qe(ie(jt),{title:"Create a virtual mesh"},{body:Je(()=>[Fn,xe(),ce("div",Ln,[Qe(ie(ni),{icon:"plus",appearance:"creation",to:{name:"create-mesh"}},{default:Je(()=>[xe(`
            Create mesh
          `)]),_:1})])]),_:1}),xe(),Qe(ie(jt),{title:"Connect data plane proxies"},{body:Je(()=>[In,xe(),ce("div",Rn,[Qe(ie(ni),{to:ie(t),appearance:"primary"},{default:Je(()=>[xe(`
            Get started
          `)]),_:1},8,["to"])])]),_:1}),xe(),Qe(ie(jt),{title:`Apply ${ie(r)("KUMA_PRODUCT_NAME")} policies`},{body:Je(()=>[ce("p",null,`
          We can apply `+gt(ie(r)("KUMA_PRODUCT_NAME"))+` policies to secure, observe, route and manage the Mesh and its data plane proxies.
        `,1),xe(),ce("div",jn,[Qe(ie(ni),{to:`${ie(r)("KUMA_DOCS_URL")}/policies/?${ie(r)("KUMA_UTM_QUERY_PARAMS")}`,appearance:"primary",target:"_blank"},{default:Je(()=>[xe(`
            Explore policies
          `)]),_:1},8,["to"])])]),_:1},8,["title"]),xe(),Qe(ie(jt),{title:"Resources"},{body:Je(()=>[ce("p",null,`
          Join the `+gt(ie(r)("KUMA_PRODUCT_NAME"))+` community and ask questions:
        `,1),xe(),ce("ul",null,[ce("li",null,[ce("a",{href:`${ie(r)("KUMA_DOCS_URL")}/?${ie(r)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},gt(ie(r)("KUMA_PRODUCT_NAME"))+` Documentation
            `,9,Wn)]),xe(),ce("li",null,[ce("a",{href:`${ie(r)("KUMA_CHAT_URL")}/?${ie(r)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},gt(ie(r)("KUMA_PRODUCT_NAME"))+`  Community Chat
            `,9,Xn)]),xe(),ce("li",null,[ce("a",{href:`https://github.com/kumahq/kuma?${ie(r)("KUMA_UTM_QUERY_PARAMS")}`,target:"_blank"},gt(ie(r)("KUMA_PRODUCT_NAME"))+` GitHub Repository
            `,9,Yn)])])]),_:1})]))}});const qn=$a(En,[["__scopeId","data-v-189f4a92"]]);export{qn as M,wn as _,Zn as a};
