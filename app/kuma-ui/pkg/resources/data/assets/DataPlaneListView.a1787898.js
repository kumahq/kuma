import{d as _,cu as D,bP as l,h,c9 as A,o as P,i as x}from"./index.2d238a59.js";import{p as G}from"./DataOverview.b81dc292.js";import{D as E}from"./DataPlaneList.c0af1ec6.js";import"./EmptyBlock.vue_vue_type_script_setup_true_lang.a51bf735.js";import"./ErrorBlock.6d694e33.js";import"./LoadingBlock.vue_vue_type_script_setup_true_lang.ccaabdfd.js";import"./StatusBadge.ce20a7cd.js";import"./TagList.ebca8e2c.js";import"./ContentWrapper.6f82fa9b.js";import"./YamlView.vue_vue_type_script_setup_true_lang.196883ed.js";import"./index.58caa11d.js";import"./CodeBlock.vue_vue_type_style_index_0_lang.f5cf526a.js";import"./_commonjsHelpers.f037b798.js";const F=_({__name:"DataPlaneListView",props:{selectedDppName:{type:String,required:!1,default:null},offset:{type:Number,required:!1,default:0},isGatewayView:{type:Boolean,required:!1,default:!1}},setup(v){const e=v,d=50,w={All:!0,Builtin:"builtin",Delegated:"delegated"},s=D(),r=l([]),u=l(!0),c=l(null),n=l(null),f=l(e.offset);h(()=>s.params.mesh,function(){s.name!=="data-plane-list-view"&&s.name!=="gateway-list-view"||o(0)}),o(e.offset);async function o(a,i="All"){f.value=a,G("offset",a>0?a:null),u.value=!0;const p=s.params.mesh,y=d;try{const t=e.isGatewayView?w[i]:!1,{items:m,next:g}=await A.getAllDataplaneOverviewsFromMesh({mesh:p},{size:y,offset:a,gateway:t});Array.isArray(m)&&m.length>0?(r.value=m,n.value=g):(r.value=[],n.value=null)}catch(t){t instanceof Error?c.value=t:console.error(t),r.value=[],n.value=null}finally{u.value=!1}}return(a,i)=>(P(),x(E,{"data-plane-overviews":r.value,"is-loading":u.value,error:c.value,"next-url":n.value,"page-offset":f.value,"selected-dpp-name":e.selectedDppName,"is-gateway-view":e.isGatewayView,onGatewayTypeChange:i[0]||(i[0]=p=>o(0,p)),onLoadData:o},null,8,["data-plane-overviews","is-loading","error","next-url","page-offset","selected-dpp-name","is-gateway-view"]))}});export{F as default};
