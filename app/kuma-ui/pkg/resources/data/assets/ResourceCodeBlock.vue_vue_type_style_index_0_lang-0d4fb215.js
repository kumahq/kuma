import{_ as h}from"./CodeBlock.vue_vue_type_style_index_0_lang-b2b0573a.js";import{d as b,l as f,R as _,a as x,o as g,b as T,w as r,e as u,q as n,aj as k,f as q,t as C}from"./index-3dc6e8c8.js";import{t as K}from"./toYaml-4e00099e.js";const R=b({__name:"ResourceCodeBlock",props:{id:{},resource:{},resourceFetcher:{},codeMaxHeight:{default:null},isSearchable:{type:Boolean,default:!1},query:{default:""}},emits:["query-change"],setup(l,{emit:m}){const{t:o}=f(),e=l,p=m,d=_(()=>c(e.resource));async function y(){const t=await e.resourceFetcher({format:"kubernetes"});return c(t)}function c(t){const{creationTime:a,modificationTime:i,...s}=t;return K(s)}return(t,a)=>{const i=x("KTooltip");return g(),T(h,{id:t.id,language:"yaml",code:d.value,"is-searchable":e.isSearchable,"code-max-height":e.codeMaxHeight,query:e.query,onQueryChange:a[0]||(a[0]=s=>p("query-change",s))},{"secondary-actions":r(()=>[u(i,{class:"kubernetes-copy-button-tooltip",label:n(o)("common.copyKubernetesText"),placement:"bottomEnd","max-width":"200","position-fixed":""},{default:r(()=>[u(k,{class:"kubernetes-copy-button","get-text":y,"copy-text":n(o)("common.copyKubernetesText"),"has-border":"","hide-title":""},{default:r(()=>[q(C(n(o)("common.copyKubernetesShortText")),1)]),_:1},8,["copy-text"])]),_:1},8,["label"])]),_:1},8,["id","code","is-searchable","code-max-height","query"])}}});export{R as _};
