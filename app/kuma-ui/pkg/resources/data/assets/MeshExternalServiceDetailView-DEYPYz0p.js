import{d as Q,r as l,p as h,o as p,w as e,b as t,e as s,c as f,q as v,l as c,t as m,m as C,a0 as K,K as P,L as w,M as x,N as Y,Y as E,_ as j}from"./index-BkRXKYLT.js";const I={key:0},$={key:1},G={key:2,class:"port"},H={key:3,class:"tls"},J=Q({__name:"MeshExternalServiceDetailView",props:{data:{}},setup(u){const r=u;return(O,a)=>{const g=l("XBadge"),k=l("XAction"),R=l("KumaPort"),B=l("XDl"),S=l("XAboutCard"),V=l("XCopyButton"),y=l("XLayout"),D=l("DataCollection"),b=l("DataLoader"),X=l("XCard"),F=l("XSelect"),z=l("XCodeBlock"),A=l("AppView"),L=l("RouteView");return p(),h(L,{name:"mesh-external-service-detail-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,environment:String}},{default:e(({route:n,can:N,t:i,uri:q,me:_})=>[t(A,null,{default:e(()=>[t(y,{type:"stack"},{default:e(()=>[t(S,{title:i("services.mesh-external-service.about.title"),created:r.data.creationTime,modified:r.data.modificationTime},{default:e(()=>[t(B,{variant:"x-stack"},{default:e(()=>[r.data.namespace.length>0?(p(),f("div",I,[c("dt",null,m(i("http.api.property.namespace")),1),a[0]||(a[0]=s()),c("dd",null,[t(g,{appearance:"decorative"},{default:e(()=>[s(m(r.data.namespace),1)]),_:1})])])):v("",!0),a[4]||(a[4]=s()),N("use zones")&&r.data.zone?(p(),f("div",$,[c("dt",null,m(i("http.api.property.zone")),1),a[1]||(a[1]=s()),c("dd",null,[t(g,{appearance:"decorative"},{default:e(()=>[t(k,{to:{name:"zone-cp-detail-view",params:{zone:r.data.zone}}},{default:e(()=>[s(m(r.data.zone),1)]),_:1},8,["to"])]),_:1})])])):v("",!0),a[5]||(a[5]=s()),u.data.spec.match?(p(),f("div",G,[c("dt",null,m(i("http.api.property.port")),1),a[2]||(a[2]=s()),c("dd",null,[t(R,{port:u.data.spec.match},null,8,["port"])])])):v("",!0),a[6]||(a[6]=s()),u.data.spec.match?(p(),f("div",H,[c("dt",null,m(i("http.api.property.tls")),1),a[3]||(a[3]=s()),c("dd",null,[t(g,{appearance:u.data.spec.tls?.enabled?"success":"neutral"},{default:e(()=>[s(m(u.data.spec.tls?.enabled?"Enabled":"Disabled"),1)]),_:1},8,["appearance"])])])):v("",!0)]),_:2},1024)]),_:2},1032,["title","created","modified"]),a[10]||(a[10]=s()),t(X,null,{title:e(()=>[s(m(i("services.detail.hostnames.title")),1)]),default:e(()=>[a[8]||(a[8]=s()),t(b,{src:q(C(K),"/meshes/:mesh/:serviceType/:serviceName/_hostnames",{mesh:n.params.mesh,serviceType:"meshexternalservices",serviceName:n.params.service}),variant:"list"},{default:e(({data:d})=>[t(D,{type:"hostnames",items:d.items},{default:e(()=>[t(P,{type:"hostnames-collection","data-testid":"hostnames-collection",items:d.items,headers:[{..._.get("headers.hostname"),label:i("services.detail.hostnames.hostname"),key:"hostname"},{..._.get("headers.zones"),label:i("services.detail.hostnames.zone"),key:"zones"}],onResize:_.set},{hostname:e(({row:o})=>[c("b",null,[t(V,{text:o.hostname},null,8,["text"])])]),zones:e(({row:o})=>[t(y,{type:"separated"},{default:e(()=>[(p(!0),f(w,null,x(o.zones,(M,T)=>(p(),h(g,{key:T,appearance:"decorative"},{default:e(()=>[t(k,{to:{name:"zone-cp-detail-view",params:{zone:M.name}}},{default:e(()=>[s(m(M.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1024)]),_:1},8,["items","headers","onResize"])]),_:2},1032,["items"])]),_:2},1032,["src"])]),_:2},1024),a[11]||(a[11]=s()),t(X,null,{default:e(()=>[t(y,null,{default:e(()=>[t(y,{type:"separated",justify:"end"},{default:e(()=>[(p(),f(w,null,x([["universal","k8s"]],d=>c("div",{key:typeof d},[t(F,{label:i("services.routes.item.format"),selected:n.params.environment,onChange:o=>{n.update({environment:o})},onVnodeBeforeMount:o=>o?.props?.selected&&d.includes(o.props.selected)&&o.props.selected!==n.params.environment&&n.update({environment:o.props.selected})},Y({_:2},[x(d,o=>({name:`${o}-option`,fn:e(()=>[s(m(i(`services.routes.item.formats.${o}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024),a[9]||(a[9]=s()),n.params.environment==="universal"?(p(),h(z,{key:0,"data-testid":"codeblock-yaml-universal",language:"yaml",code:C(E).stringify(r.data.config),"is-searchable":"",query:n.params.codeSearch,"is-filter-mode":n.params.codeFilter,"is-reg-exp-mode":n.params.codeRegExp,onQueryChange:d=>n.update({codeSearch:d}),onFilterModeChange:d=>n.update({codeFilter:d}),onRegExpModeChange:d=>n.update({codeRegExp:d})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(p(),h(b,{key:1,src:`/meshes/${r.data.mesh}/mesh-external-service/${r.data.id}/as/kubernetes`},{default:e(({data:d})=>[t(z,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:C(E).stringify(d),"is-searchable":"",query:n.params.codeSearch,"is-filter-mode":n.params.codeFilter,"is-reg-exp-mode":n.params.codeRegExp,onQueryChange:o=>n.update({codeSearch:o}),onFilterModeChange:o=>n.update({codeFilter:o}),onRegExpModeChange:o=>n.update({codeRegExp:o})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1})}}}),W=j(J,[["__scopeId","data-v-f8778de2"]]);export{W as default};
