import{d as D,r as t,p as c,o as m,w as a,b as n,l as g,e as l,I as x,m as L,W as N,q as y,K as R,t as r,c as G,N as S,y as q,_ as I}from"./index-8QMKyk4n.js";const E=D({__name:"BuiltinGatewayListView",setup(F){return(K,i)=>{const w=t("XSearch"),d=t("XAction"),h=t("XCopyButton"),f=t("XActionGroup"),z=t("DataCollection"),b=t("XDrawer"),C=t("RouterView"),k=t("DataLoader"),v=t("XLayout"),X=t("XCard"),V=t("AppView"),A=t("RouteView");return m(),c(A,{name:"builtin-gateway-list-view",params:{page:1,size:Number,mesh:"",gateway:"",s:""}},{default:a(({route:e,t:u,can:_,me:p,uri:B})=>[n(V,{docs:u("builtin-gateways.href.docs")},{default:a(()=>[n(X,null,{default:a(()=>[n(v,null,{default:a(()=>[g("search",null,[g("form",{onSubmit:i[0]||(i[0]=x(()=>{},["prevent"]))},[n(w,{class:"search-field",keys:["name",..._("use zones")?["zone"]:[],"label"],value:e.params.s,onChange:o=>e.update({page:1,s:o})},null,8,["keys","value","onChange"])],32)]),i[4]||(i[4]=l()),n(k,{src:B(L(N),"/meshes/:mesh/mesh-gateways",{mesh:e.params.mesh},{page:e.params.page,size:e.params.size,search:e.params.s}),variant:"list"},{default:a(({data:o})=>[n(z,{type:"gateways",items:o.items,page:e.params.page,"page-size":e.params.size,total:o.total,onChange:e.update},{default:a(()=>[n(R,{class:"builtin-gateway-collection","data-testid":"builtin-gateway-collection",headers:[{...p.get("headers.name"),label:"Name",key:"name"},..._("use zones")?[{...p.get("headers.zone"),label:"Zone",key:"zone"}]:[],{...p.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],items:o.items,onResize:p.set},{name:a(({row:s})=>[n(h,{text:s.name},{default:a(()=>[n(d,{"data-action":"",to:{name:"builtin-gateway-summary-view",query:{size:e.params.size,page:e.params.page,s:e.params.s},params:{mesh:s.mesh,gateway:s.id}}},{default:a(()=>[l(r(s.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),zone:a(({row:s})=>[s.labels&&s.labels["kuma.io/origin"]==="zone"&&s.labels["kuma.io/zone"]?(m(),c(d,{key:0,to:{name:"zone-cp-detail-view",params:{zone:s.labels["kuma.io/zone"]}}},{default:a(()=>[l(r(s.labels["kuma.io/zone"]),1)]),_:2},1032,["to"])):(m(),G(S,{key:1},[l(r(u("common.detail.none")),1)],64))]),actions:a(({row:s})=>[n(f,null,{default:a(()=>[n(d,{to:{name:"builtin-gateway-detail-view",params:{mesh:s.mesh,gateway:s.name}}},{default:a(()=>[l(r(u("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1032,["headers","items","onResize"])]),_:2},1032,["items","page","page-size","total","onChange"]),i[3]||(i[3]=l()),e.child()?(m(),c(C,{key:0},{default:a(({Component:s})=>[n(b,{onClose:M=>e.replace({name:"builtin-gateway-list-view",params:{mesh:e.params.mesh},query:{page:e.params.page,size:e.params.size,s:e.params.s}})},{default:a(()=>[typeof o<"u"?(m(),c(q(s),{key:0,items:o.items},null,8,["items"])):y("",!0)]),_:2},1032,["onClose"])]),_:2},1024)):y("",!0)]),_:2},1032,["src"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["docs"])]),_:1})}}}),W=I(E,[["__scopeId","data-v-3a8068d1"]]);export{W as default};
