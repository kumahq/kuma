import{d as z,k as N,ad as R,r,p as c,o as i,w as p,a as f,e as t,c as a,b as g,l as s,q as y,t as l,m as d,Y as b,N as V}from"./index-8QMKyk4n.js";const A={scope:"row"},L={key:0},S={scope:"row"},T={key:0},M={key:1},Y={scope:"row"},$={key:2},q={key:1},D={class:"mt-4"},F=z({__name:"PolicySummary",props:{policy:{},format:{},legacy:{type:Boolean}},setup(k){const{t:u}=N(),X=R(),n=k;return(o,e)=>{const m=r("XBadge"),B=r("XAction"),w=r("XTable"),v=r("XCodeBlock"),C=r("XLayout");return i(),c(C,{type:"stack"},{default:p(()=>[f(o.$slots,"header"),e[11]||(e[11]=t()),n.format==="structured"?(i(),a(V,{key:0},[g(w,{"data-testid":"structured-view",variant:"kv"},{default:p(()=>[s("tr",null,[s("th",A,l(d(u)("http.api.property.type")),1),e[0]||(e[0]=t()),s("td",null,[n.policy.type?(i(),c(m,{key:0,appearance:"neutral"},{default:p(()=>[t(l(n.policy.type),1)]),_:1})):y("",!0)])]),e[7]||(e[7]=t()),n.legacy?y("",!0):(i(),a("tr",L,[s("th",S,l(d(u)("http.api.property.targetRef")),1),e[3]||(e[3]=t()),s("td",null,[n.policy.spec?.targetRef?(i(),c(m,{key:0,appearance:"neutral"},{default:p(()=>[t(l(n.policy.spec.targetRef.kind),1),n.policy.spec.targetRef.name?(i(),a("span",T,[e[1]||(e[1]=t(":",-1)),s("b",null,l(n.policy.spec.targetRef.name),1)])):y("",!0)]),_:1})):(i(),c(m,{key:1,appearance:"neutral"},{default:p(()=>[...e[2]||(e[2]=[t(`
              Mesh
            `,-1)])]),_:1}))])])),e[8]||(e[8]=t()),n.policy.namespace.length>0?(i(),a("tr",M,[s("th",Y,l(d(u)("data-planes.routes.item.namespace")),1),e[4]||(e[4]=t()),s("td",null,l(n.policy.namespace),1)])):y("",!0),e[9]||(e[9]=t()),d(X)("use zones")&&n.policy.zone?(i(),a("tr",$,[e[5]||(e[5]=s("th",{scope:"row"},`
            Zone
          `,-1)),e[6]||(e[6]=t()),s("td",null,[g(B,{to:{name:"zone-cp-detail-view",params:{zone:n.policy.zone}}},{default:p(()=>[t(l(n.policy.zone),1)]),_:1},8,["to"])])])):y("",!0)]),_:1}),e[10]||(e[10]=t()),g(v,{language:"yaml",code:d(b).stringify(o.policy.spec?{spec:o.policy.spec}:{..."sources"in o.policy?{sources:o.policy.sources}:{},..."destinations"in o.policy?{destinations:o.policy.destinations}:{},..."selectors"in o.policy?{selectors:o.policy.selectors}:{},..."conf"in o.policy?{conf:o.policy.conf}:{},..."routing"in o.policy?{routing:o.policy.routing}:{},..."tracing"in o.policy?{tracing:o.policy.tracing}:{},..."metrics"in o.policy?{metrics:o.policy.metrics}:{},..."logging"in o.policy?{logging:o.policy.logging}:{}})},null,8,["code"])],64)):(i(),a("div",q,[s("div",D,[f(o.$slots,"default")])]))]),_:3})}}});export{F as _};
