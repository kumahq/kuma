import{d as F,v as J,r as o,p as V,o as i,w as e,b as t,M as T,e as n,L as k,t as _,y as G,q as x,l as f,I as H,c as b,N as B,m as K,$ as Q,_ as W}from"./index-8QMKyk4n.js";const Y=["onSubmit"],Z=["disabled"],ee={key:0},ae={key:0},te=F({__name:"DataPlaneDetailTabsView",props:{data:{},mesh:{}},setup(S){const d=S,s=J({eds:!1,xds:!0,clusters:!0,stats:!0,proxy:!0,policies:!0});return(A,a)=>{const L=o("RouteTitle"),N=o("XCopyButton"),R=o("XBadge"),y=o("XLayout"),w=o("XAction"),C=o("XI18n"),h=o("XCheckbox"),$=o("XAlert"),M=o("DataLoader"),I=o("XDownload"),E=o("XModal"),D=o("XDisclosure"),U=o("XTeleportTemplate"),O=o("XTabs"),P=o("RouterView"),j=o("AppView"),q=o("RouteView");return i(),V(q,{name:"data-plane-detail-tabs-view",params:{mesh:"",proxy:""}},{default:e(({route:r,t:l,uri:z})=>[t(j,{breadcrumbs:[{to:{name:"mesh-detail-view",params:{mesh:r.params.mesh}},text:r.params.mesh},{to:{name:"data-plane-list-view",params:{mesh:r.params.mesh}},text:l("data-planes.routes.item.breadcrumbs")}]},T({actions:e(()=>[t(D,null,{default:e(({expanded:p,toggle:v})=>[t(w,{appearance:"primary",onClick:v},{default:e(()=>[...a[2]||(a[2]=[n(`
            Download bundle
          `,-1)])]),_:1},8,["onClick"]),a[7]||(a[7]=n()),p?(i(),V(U,{key:0,to:{name:"modal-layer"}},{default:e(()=>[t(D,null,{default:e(({expanded:X,toggle:g})=>[f("form",{onSubmit:H(g,["prevent"])},[t(E,{title:l("data-planes.routes.item.download.title"),onCancel:v},{"footer-actions":e(()=>[t(y,{type:"separated"},{default:e(()=>[t(I,{onStart:v},{default:e(({download:u})=>[t(M,{variant:"spinner",src:X?z(K(Q),"/meshes/:mesh/dataplanes/:name/as/tarball/:spec",{mesh:r.params.mesh,name:r.params.proxy,spec:JSON.stringify(s.value)},{cacheControl:"no-cache"}):"",onChange:u,onError:g},{error:e(()=>[t($,{appearance:"warning","show-icon":""},{default:e(()=>[t(C,{t:"data-planes.routes.item.download.error"})]),_:1})]),_:1},8,["src","onChange","onError"])]),_:2},1032,["onStart"]),a[5]||(a[5]=n()),t(w,{appearance:"primary",type:"submit",disabled:X||Object.values(s.value).every(u=>!u)},{default:e(()=>[n(_(l("data-planes.routes.item.download.action")),1)]),_:2},1032,["disabled"])]),_:2},1024)]),default:e(()=>[f("fieldset",{disabled:X},[t(C,{path:"data-planes.routes.item.download.description"}),a[4]||(a[4]=n()),f("ul",null,[(i(!0),b(B,null,k(s.value,(u,m)=>(i(),b(B,{key:typeof u},[m!=="eds"?(i(),b("li",ee,[t(h,{modelValue:s.value[m],"onUpdate:modelValue":c=>s.value[m]=c,onChange:c=>{m==="xds"&&!c&&(s.value.eds=!1)}},{default:e(()=>[n(_(l(`data-planes.routes.item.download.options.${m}`)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),a[3]||(a[3]=n()),m==="xds"?(i(),b("ul",ae,[f("li",null,[t(h,{modelValue:s.value.eds,"onUpdate:modelValue":a[0]||(a[0]=c=>s.value.eds=c),disabled:!s.value.xds},{default:e(()=>[n(_(l("data-planes.routes.item.download.options.eds")),1)]),_:2},1032,["modelValue","disabled"])])])):x("",!0)])):x("",!0)],64))),128))])],8,Z),a[6]||(a[6]=n())]),_:2},1032,["title","onCancel"])],40,Y)]),_:2},1024)]),_:2},1024)):x("",!0)]),_:2},1024)]),default:e(()=>[a[8]||(a[8]=n()),a[9]||(a[9]=n()),t(O,{selected:r.child()?.name},T({_:2},[k(r.children,({name:p})=>({name:`${p}-tab`,fn:e(()=>[t(w,{to:{name:p}},{default:e(()=>[n(_(l(`data-planes.routes.item.navigation.${p}`)),1)]),_:2},1032,["to"])])}))]),1032,["selected"]),a[10]||(a[10]=n()),t(P,null,{default:e(({Component:p})=>[(i(),V(G(p),{data:d.data,networking:d.data.dataplane.networking,mesh:d.mesh},null,8,["data","networking","mesh"]))]),_:1})]),_:2},[A.data?{name:"title",fn:e(()=>[t(y,{size:"small"},{default:e(()=>[f("h1",null,[t(N,{text:d.data.name},{default:e(()=>[t(L,{title:l("data-planes.routes.item.title",{name:d.data.name})},null,8,["title"])]),_:2},1032,["text"])]),a[1]||(a[1]=n()),t(R,{appearance:l(`common.status.appearance.${d.data.status}`,void 0,{defaultMessage:"neutral"})},{default:e(()=>[n(_(l(`http.api.value.${d.data.status}`)),1)]),_:2},1032,["appearance"])]),_:2},1024)]),key:"0"}:void 0]),1032,["breadcrumbs"])]),_:1})}}}),ne=W(te,[["__scopeId","data-v-2d14596a"]]);export{ne as default};
