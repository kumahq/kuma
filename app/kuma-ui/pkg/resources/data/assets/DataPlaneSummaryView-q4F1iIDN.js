import{d as S,l as I,a as m,o as l,c as p,m as i,e as s,w as e,q as a,t as n,f as t,F as v,E as f,Y as P,b as h,p as k,X as _,_ as T,A as R,S as V,x as z,y as B,a2 as C}from"./index-SPSPfmv7.js";import{a as $,K}from"./index-FZCiQto1.js";import{S as N}from"./StatusBadge-w9-Vv1zp.js";import{T as O}from"./TagList-RdwN0U_U.js";import{T as x}from"./TextWithCopyButton-lWuYw9Vs.js";import"./CopyButton-Kejus1zY.js";const L={class:"stack"},A={class:"stack-with-borders"},E={class:"status-with-reason"},U={key:0},F={class:"mt-4"},q={class:"stack-with-borders"},G={key:1},W={class:"mt-4"},X={class:"stack"},Y={class:"mt-2 stack-with-borders"},Z=S({__name:"DataPlaneSummary",props:{dataplaneOverview:{}},setup(u){const{t:o,formatIsoDate:w}=I(),r=u;return(b,D)=>{const g=m("KTooltip"),y=m("KBadge");return l(),p("div",L,[i("div",A,[s(_,{layout:"horizontal"},{title:e(()=>[t(n(a(o)("http.api.property.status")),1)]),body:e(()=>[i("div",E,[s(N,{status:r.dataplaneOverview.status},null,8,["status"]),t(),(l(!0),p(v,null,f([r.dataplaneOverview.dataplane.networking.inbounds.filter(d=>!d.health.ready)],d=>(l(),p(v,{key:d},[d.length>0?(l(),h(g,{key:0,class:"reason-tooltip","position-fixed":""},{content:e(()=>[i("ul",null,[(l(!0),p(v,null,f(d,c=>(l(),p("li",{key:`${c.service}:${c.port}`},n(a(o)("data-planes.routes.item.unhealthy_inbound",{service:c.service,port:c.port})),1))),128))])]),default:e(()=>[s(a(P),{color:a($),size:a(K),"hide-title":""},null,8,["color","size"]),t()]),_:2},1024)):k("",!0)],64))),128))])]),_:1}),t(),s(_,{layout:"horizontal"},{title:e(()=>[t(n(a(o)("data-planes.routes.item.last_updated")),1)]),body:e(()=>[t(n(a(w)(r.dataplaneOverview.modificationTime)),1)]),_:1})]),t(),r.dataplaneOverview.dataplane.networking.gateway?(l(),p("div",U,[i("h3",null,n(a(o)("data-planes.routes.item.gateway")),1),t(),i("div",F,[i("div",q,[s(_,{layout:"horizontal"},{title:e(()=>[t(n(a(o)("http.api.property.tags")),1)]),body:e(()=>[s(O,{alignment:"right",tags:r.dataplaneOverview.dataplane.networking.gateway.tags},null,8,["tags"])]),_:1}),t(),s(_,{layout:"horizontal"},{title:e(()=>[t(n(a(o)("http.api.property.address")),1)]),body:e(()=>[s(x,{text:`${r.dataplaneOverview.dataplane.networking.address}`},null,8,["text"])]),_:1})])])])):k("",!0),t(),r.dataplaneOverview.dataplane.networking.inbounds.length>0?(l(),p("div",G,[i("h3",null,n(a(o)("data-planes.routes.item.inbounds")),1),t(),i("div",W,[i("div",X,[(l(!0),p(v,null,f(r.dataplaneOverview.dataplane.networking.inbounds,(d,c)=>(l(),p("div",{key:c,class:"inbound"},[i("h4",null,[s(x,{text:d.tags["kuma.io/service"]},{default:e(()=>[t(n(a(o)("data-planes.routes.item.inbound_name",{service:d.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])]),t(),i("div",Y,[s(_,{layout:"horizontal"},{title:e(()=>[t(n(a(o)("http.api.property.status")),1)]),body:e(()=>[d.health.ready?(l(),h(y,{key:0,appearance:"success"},{default:e(()=>[t(n(a(o)("data-planes.routes.item.health.ready")),1)]),_:1})):(l(),h(y,{key:1,appearance:"danger"},{default:e(()=>[t(n(a(o)("data-planes.routes.item.health.not_ready")),1)]),_:1}))]),_:2},1024),t(),s(_,{layout:"horizontal"},{title:e(()=>[t(n(a(o)("http.api.property.tags")),1)]),body:e(()=>[s(O,{alignment:"right",tags:d.tags},null,8,["tags"])]),_:2},1024),t(),s(_,{layout:"horizontal"},{title:e(()=>[t(n(a(o)("http.api.property.address")),1)]),body:e(()=>[s(x,{text:d.addressPort},null,8,["text"])]),_:2},1024)])]))),128))])])])):k("",!0)])}}}),j=T(Z,[["__scopeId","data-v-53b633ce"]]),H=u=>(z("data-v-21ad478f"),u=u(),B(),u),J={class:"summary-title-wrapper"},M=H(()=>i("img",{"aria-hidden":"true",src:C},null,-1)),Q={class:"summary-title"},tt={key:1,class:"stack"},et=S({__name:"DataPlaneSummaryView",props:{name:{},dataplaneOverview:{default:void 0}},setup(u){const{t:o}=I(),w=R(),r=u;return(b,D)=>{const g=m("RouteTitle"),y=m("RouterLink"),d=m("AppView"),c=m("RouteView");return l(),h(c,{name:a(w).name},{default:e(()=>[s(d,null,{title:e(()=>[i("div",J,[M,t(),i("h2",Q,[s(y,{to:{name:"data-plane-detail-view",params:{dataPlane:r.name}}},{default:e(()=>[s(g,{title:a(o)("data-planes.routes.item.title",{name:r.name})},null,8,["title"])]),_:1},8,["to"])])])]),default:e(()=>[t(),r.dataplaneOverview===void 0?(l(),h(V,{key:0},{message:e(()=>[i("p",null,n(a(o)("common.collection.summary.empty_message",{type:"Data Plane Proxy"})),1)]),default:e(()=>[t(n(a(o)("common.collection.summary.empty_title",{type:"Data Plane Proxy"}))+" ",1)]),_:1})):(l(),p("div",tt,[s(j,{class:"mt-4","dataplane-overview":r.dataplaneOverview},null,8,["dataplane-overview"])]))]),_:1})]),_:1},8,["name"])}}}),rt=T(et,[["__scopeId","data-v-21ad478f"]]);export{rt as default};
