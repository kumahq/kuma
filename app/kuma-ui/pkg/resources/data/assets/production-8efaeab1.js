var $n=Object.defineProperty;var Bn=(t,e,n)=>e in t?$n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var O=(t,e,n)=>(Bn(t,typeof e!="symbol"?e+"":e,n),n);import{a as Xe,D as ht}from"./constants-31fdaf55.js";import{c as Ut}from"./vuex.esm-bundler-4e6e06ec.js";const Fn="modulepreload",Gn=function(t,e){return t.startsWith(".")?new URL(t,e).href:t},pt={},m=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Gn(i,r),i in pt)return;pt[i]=!0;const o=i.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(!!r)for(let l=s.length-1;l>=0;l--){const p=s[l];if(p.href===i&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${c}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Fn,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((l,p)=>{u.addEventListener("load",l),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};var $e=new Map,kt=new Map,Vn=new Map,G;(function(t){t[t.Constant=0]="Constant",t[t.Instance=1]="Instance",t[t.Factory=2]="Factory"})(G||(G={}));var N;(function(t){t[t.Container=0]="Container",t[t.Resolution=1]="Resolution",t[t.Singleton=2]="Singleton",t[t.Transient=3]="Transient"})(N||(N={}));var Hn=class{constructor(t){this.impl=t,this.type=G.Constant}},jn=class{constructor(t){this.impl=t,this.type=G.Factory}},zn=t=>t.type===G.Factory,De=class{constructor(t){this.impl=t,this.type=G.Instance}},Kn=class extends De{constructor(){super(...arguments),this.scope=N.Container,this.cache=new WeakMap}},qn=class extends De{constructor(){super(...arguments),this.scope=N.Resolution}},Xn=class extends De{constructor(t){super(t),this.impl=t,this.scope=N.Singleton}},Yn=class extends De{constructor(){super(...arguments),this.scope=N.Transient}},Wn=t=>t.type===G.Instance,Zn=t=>t.scope===N.Container,Jn=t=>t.scope===N.Resolution,Qn=t=>t.scope===N.Singleton,er=t=>Symbol(t),$t=t=>{const e=Symbol(t);return{__t:null,__d:t,__s:e,__o:!1,optional:{__t:null,__d:t,__s:e,__o:!0}}},re=class{constructor(){this.parent=null,this.map=new Map}set(t,e,n=re.notag){const r=this.map.get(e.__s);r?r.set(n,t):this.map.set(e.__s,new Map().set(n,t))}find(t,e,n){const r=this.map.get(t.__s);if(r!==void 0){if(n){const s=r.get(n);if(s)return s}if(e)for(let s=0,i=e.length;s<i;s+=1){const o=r.get(e[s]);if(o)return o}return r.get(re.notag)}}resolve(t,e,n,r){const s=this.find(t,n,r);return s===void 0?this.parent?this.parent.resolve(t,e,n,r):null:s instanceof re?(e.vaults.push(s),s.resolve(t,e,n,r)):s}get(t,e,n,r){const s=this.resolve(t,e,n,r);if(s)return s;for(let i=0,o=e.vaults,c=o.length;i<c;i+=1){const a=o[i].resolve(t,e,n,r);if(a)return a}return null}from(t){const e=new re;return e.parent=this.parent,this.map.forEach((n,r)=>{e.map.set(r,t(n))}),e}clone(){return this.from(t=>new Map(t))}},Bt=re;Bt.notag=er("NO_TAG");var tr=class{constructor(t,e,n,r){this.vault=t,this.tokens=e,this.getVault=n,this.condition=r}from(t){const{tokens:e}=this;for(let n=0,r=e.length;n<r;n+=1)this.vault.set(this.getVault(t),e[n],this.condition)}},nr=class{constructor(t,e,n,r){this.vault=t,this.impl=e,this.token=n,this.condition=r}inContainerScope(){this.set(Kn)}inResolutionScope(){this.set(qn)}inSingletonScope(){this.set(Xn)}inTransientScope(){this.set(Yn)}set(t){this.vault.set(new t(this.impl),this.token,this.condition)}},rr=class{constructor(t,e,n){this.vault=t,this.token=e,this.condition=n}toConstant(t){this.vault.set(new Hn(t),this.token,this.condition)}toFactory(t,e){this.vault.set(new jn({creator:t,initializer:e}),this.token,this.condition)}toInstance(t){return new nr(this.vault,t,this.token,this.condition)}},Ye=class{constructor(t,e){this.vault=t,this.condition=e}static vault(t){return t.vault}bind(t){return new rr(this.vault,t,this.condition)}use(...t){return new tr(this.vault,t,Ye.vault,this.condition)}},sr=class extends Ye{when(t){return new Ye(this.vault,t)}},ir=class extends sr{constructor(){super(new Bt)}},Ft=class{constructor(t=new Map,e=[]){this.instances=t,this.vaults=e}split(){return new Ft(this.instances,this.vaults.slice())}},Ie=class extends ir{constructor(){super(),this.snapshot=null}extend(t){return this.vault.parent=t===null?null:t.vault,this}clone(){const t=new Ie;return t.vault=this.vault.clone(),t}get(t,e){return this.resolveToken(t,e)}resolveTokens(t,e,n,r){return t.map(s=>this.resolveToken(s,n,r,e.split()))}resolveToken(t,e,n,r=new Ft){const s=this.vault.get(t,r,e,n);if(s)return this.resolveBinding(s,r);if(!t.__o)throw new Error(`No matching bindings found for '${t.__d}' token.`)}resolveBinding(t,e){return Wn(t)?Qn(t)?this.resolveCache(t,e,()=>t.cache,n=>{t.cache=n}):Zn(t)?this.resolveCache(t,e,()=>t.cache.get(this.vault),n=>{t.cache.set(this.vault,n)}):Jn(t)?this.resolveCache(t,e,()=>e.instances.get(t),n=>{e.instances.set(t,n)}):this.createInstance(t.impl,e):zn(t)?(...n)=>{const r=this.createInstance(t.impl.creator,e);return r instanceof Promise?r.then(s=>Ie.resolveInitialization(s,n,t.impl.initializer)):Ie.resolveInitialization(r,n,t.impl.initializer)}:t.impl}resolveCache(t,e,n,r){const s=n();if(s!==void 0)return s;const i=this.createInstance(t.impl,e);return r(i),i}createInstance(t,e){const n=this.getParameters(t,e),r=$e.get(t);if(r!==void 0)return r?t(...n):new t(...n);try{const s=t(...n);return $e.set(t,!0),s}catch{const i=new t(...n);return $e.set(t,!1),i}}getParameters(t,e){const n=kt.get(t);if(n)return this.resolveTokens(n,e,Vn.get(t),t);if(t.length===0)return[];throw new Error(`Missing required 'injected' registration of '${t.name}'`)}static resolveInitialization(t,e,n){const r=n==null?void 0:n(t,...e);return r instanceof Promise?r.then(()=>t):t}},or=()=>new Ie,Q=(t,...e)=>(kt.set(t,e),t);const nt=or(),Gt=t=>nt.get(t),ga=(...t)=>t.map(e=>()=>Gt(e)),M=(t,e)=>{const n=$t(e.description);return nt.bind(n).toInstance(t).inSingletonScope(),n},vt=(t,e)=>{const n=$t(e.description);return nt.bind(n).toConstant(t),n},ar={baseGuiPath:"",apiUrl:"/",version:"1.7.0"};class Vt{constructor(e){O(this,"env");let n=e;const r=(c,a="")=>this.var(c,(n==null?void 0:n[c])??a),s=ur(),i=cr(r("KUMA_VERSION",s.version)),o=encodeURIComponent(r("KUMA_PRODUCT_NAME"));n={...n,KUMA_UTM_QUERY_PARAMS:`utm_source=${o}&utm_medium=${o}`},this.env={...n,KUMA_INSTALL_URL:`${r("KUMA_INSTALL_URL")}?${r("KUMA_UTM_QUERY_PARAMS")}`,KUMA_DOCS_URL:`${r("KUMA_DOCS_URL")}/${i.patch==="0.0.0"?"dev":i.patch.replace(/\.\d+$/,".x")}`,KUMA_VERSION:i.pre,KUMA_API_URL:r("KUMA_API_URL")??s.apiUrl,KUMA_BASE_PATH:r("KUMA_BASE_PATH")??s.baseGuiPath}}var(e,n=""){var r;return((r=this.env)==null?void 0:r[e])??n}}function cr(t){const[e,n,...r]=t.split("."),[s,i]=r.join(".").split("-");return{major:e,minor:`${e}.${n}`,patch:`${e}.${n}.${s}`,pre:`${e}.${n}.${s}${i!==void 0?`-${i}`:""}`}}function ur(){const t=document.querySelector("#kuma-config");if(t instanceof HTMLScriptElement)try{return JSON.parse(t.innerText.trim())}catch{}return ar}var b={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},y=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.prototype.hasOwnProperty.call(b,t)||(t=b.log),y[t].apply(y,e)};y.debug=console.debug.bind(console);y.log=console.log.bind(console);y.info=console.info.bind(console);y.warn=console.warn.bind(console);y.error=console.error.bind(console);var lr=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},Ae,Ht=!1;function fr(t){Ae=t}function dr(t){Ht=t}function hr(t,e,n){var r=n.value;n.value=function(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];var o=Ae?d(r):r;return o.apply(this,s)}}function d(t){return function(){return V(t,this,arguments)}}function V(t,e,n){try{return t.apply(e,n)}catch(r){if(We(b.error,r),Ae)try{Ae(r)}catch(s){We(b.error,s)}}}function We(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ht&&y.apply(void 0,lr([t,"[MONITOR]"],e,!1))}var de=1e3,H=60*de,pr=60*H,ue=1024,jt=1024*ue;function vr(t,e,n){var r=n&&n.leading!==void 0?n.leading:!0,s=n&&n.trailing!==void 0?n.trailing:!0,i=!1,o,c;return{throttled:function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];if(i){o=a;return}r?t.apply(void 0,a):o=a,i=!0,c=setTimeout(function(){s&&o&&t.apply(void 0,o),i=!1,o=void 0},e)},cancel:function(){clearTimeout(c),i=!1,o=void 0}}}function I(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach(function(r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}),t}function mr(t){return I({},t)}function ee(t){return t?(parseInt(t,10)^Math.random()*16>>parseInt(t,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,ee)}function Ze(t){return t!==0&&Math.random()*100<=t}function Pe(){}function xe(t,e,n){if(typeof t!="object"||t===null)return JSON.stringify(t);var r=ge(Object.prototype),s=ge(Array.prototype),i=ge(Object.getPrototypeOf(t)),o=ge(t);try{return JSON.stringify(t,e,n)}catch{return"<error: unable to serialize object>"}finally{r(),s(),i(),o()}}function ge(t){var e=t,n=e.toJSON;return n?(delete e.toJSON,function(){e.toJSON=n}):Pe}function te(t,e){return t.indexOf(e)!==-1}function zt(t){if(Array.from)return Array.from(t);var e=[];if(t instanceof Set)t.forEach(function(r){return e.push(r)});else for(var n=0;n<t.length;n++)e.push(t[n]);return e}function gr(t,e){for(var n=0;n<t.length;n+=1){var r=t[n];if(e(r,n))return r}}function Be(t){return Er(t)&&t>=0&&t<=100}function Er(t){return typeof t=="number"}function le(t){return Object.keys(t).map(function(e){return t[e]})}function Sr(t){return Object.keys(t).map(function(e){return[e,t[e]]})}function Kt(t){return Object.keys(t).length===0}function qt(t,e){return t.slice(0,e.length)===e}function yr(t,e){return t.slice(-e.length)===e}function rt(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var t=_dd_temp_;return delete Object.prototype._dd_temp_,typeof t!="object"&&(typeof self=="object"?t=self:typeof window=="object"?t=window:t={}),t}function _r(){return Tr(window.location)}function Tr(t){if(t.origin)return t.origin;var e=t.host.replace(/(:80|:443)$/,"");return"".concat(t.protocol,"//").concat(e)}function br(t,e){var n=new RegExp("(?:^|;)\\s*".concat(e,"\\s*=\\s*([^;]+)")),r=n.exec(t);return r?r[1]:void 0}function Ir(t,e,n){n===void 0&&(n="");var r=t.charCodeAt(e-1),s=r>=55296&&r<=56319,i=s?e+1:e;return t.length<=i?t:"".concat(t.slice(0,i)).concat(n)}function Xt(t){return t===null?"null":Array.isArray(t)?"array":typeof t}function Or(){if(typeof WeakSet<"u"){var t=new WeakSet;return{hasAlreadyBeenSeen:function(n){var r=t.has(n);return r||t.add(n),r}}}var e=[];return{hasAlreadyBeenSeen:function(n){var r=e.indexOf(n)>=0;return r||e.push(n),r}}}function we(t,e,n){if(n===void 0&&(n=Or()),e===void 0)return t;if(typeof e!="object"||e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){var r=e.flags||[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.sticky?"y":"",e.unicode?"u":""].join("");return new RegExp(e.source,r)}if(!n.hasAlreadyBeenSeen(e)){if(Array.isArray(e)){for(var s=Array.isArray(t)?t:[],i=0;i<e.length;++i)s[i]=we(s[i],e[i],n);return s}var o=Xt(t)==="object"?t:{};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(o[c]=we(o[c],e[c],n));return o}}function W(t){return we(void 0,t)}function Ue(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n,r=0,s=t;r<s.length;r++){var i=s[r];i!=null&&(n=we(n,i))}return n}function Rr(t){var e=new Set;return t.forEach(function(n){return e.add(n)}),zt(e)}var mt=de;function he(t,e,n,r){var s=new Date;s.setTime(s.getTime()+n);var i="expires=".concat(s.toUTCString()),o=r&&r.crossSite?"none":"strict",c=r&&r.domain?";domain=".concat(r.domain):"",a=r&&r.secure?";secure":"";document.cookie="".concat(t,"=").concat(e,";").concat(i,";path=/;samesite=").concat(o).concat(c).concat(a)}function w(t){return br(document.cookie,t)}function Yt(t,e){he(t,"",0,e)}function Cr(t){if(document.cookie===void 0||document.cookie===null)return!1;try{var e="dd_cookie_test_".concat(ee()),n="test";he(e,n,H,t);var r=w(e)===n;return Yt(e,t),r}catch(s){return y.error(s),!1}}var Fe;function Ar(){if(Fe===void 0){for(var t="dd_site_test_".concat(ee()),e="test",n=window.location.hostname.split("."),r=n.pop();n.length&&!w(t);)r="".concat(n.pop(),".").concat(r),he(t,e,de,{domain:r});Yt(t,{domain:r}),Fe=r}return Fe}function Wt(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,n)}catch(s){y.error(e,s)}}}var Oe;function wr(t){Array.isArray(t)&&(Oe||(Oe=new Set(t)),t.filter(function(e){return typeof e=="string"}).forEach(function(e){te(e,"-")&&y.warn("please use snake case for '".concat(e,"'")),Oe.add(e)}))}function Lr(){return Oe||new Set}function ie(){return new Date().getTime()}function x(){return ie()}function fe(){return performance.now()}function pe(){return{relative:fe(),timeStamp:x()}}function Nr(){return{relative:0,timeStamp:Zt()}}function Mr(t,e){return e-t}function Dr(t){return t-Zt()}var Ge;function Zt(){return Ge===void 0&&(Ge=performance.timing.navigationStart),Ge}function st(t){return Pr(t,_r()).href}function Pr(t,e){if(xr())return e!==void 0?new URL(t,e):new URL(t);if(e===void 0&&!/:/.test(t))throw new Error("Invalid URL: '".concat(t,"'"));var n=document,r=n.createElement("a");if(e!==void 0){n=document.implementation.createHTMLDocument("");var s=n.createElement("base");s.href=e,n.head.appendChild(s),n.body.appendChild(r)}return r.href=t,r}var q;function xr(){if(q!==void 0)return q;try{var t=new URL("http://test/path");return q=t.href==="http://test/path",q}catch{q=!1}return q}var Ur="datad0g.com",oe="datadoghq.com",kr="ddog-gov.com",$r={logs:"logs",rum:"rum",sessionReplay:"session-replay"},Br={logs:"logs",rum:"rum",sessionReplay:"replay"};function ae(t,e,n){var r=t.clientToken,s=Fr(t,e),i="https://".concat(s,"/api/v2/").concat(Br[e]),o=t.proxyUrl&&st(t.proxyUrl);return{build:function(c,a){var u=["sdk_version:".concat("4.30.1"),"api:".concat(c)].concat(n);a&&u.push("retry_count:".concat(a.count),"retry_after:".concat(a.lastFailureStatus));var l=["ddsource=browser","ddtags=".concat(encodeURIComponent(u.join(","))),"dd-api-key=".concat(r),"dd-evp-origin-version=".concat(encodeURIComponent("4.30.1")),"dd-evp-origin=browser","dd-request-id=".concat(ee())];e==="rum"&&l.push("batch_time=".concat(x())),t.internalAnalyticsSubdomain&&l.reverse();var p="".concat(i,"?").concat(l.join("&"));return o?"".concat(o,"?ddforward=").concat(encodeURIComponent(p)):p},buildIntakeUrl:function(){return o?"".concat(o,"?ddforward"):i},endpointType:e}}function Fr(t,e){var n=t.site,r=n===void 0?oe:n,s=t.internalAnalyticsSubdomain;if(s&&r===oe)return"".concat(s,".").concat(oe);var i=r.split("."),o=i.pop();return"".concat($r[e],".browser-intake-").concat(i.join("-"),".").concat(o)}var Gr=200;function Vr(t){var e=t.env,n=t.service,r=t.version,s=t.datacenter,i=[];return e&&i.push(Ee("env",e)),n&&i.push(Ee("service",n)),r&&i.push(Ee("version",r)),s&&i.push(Ee("datacenter",s)),i}var Hr=/[^a-z0-9_:./-]/;function Ee(t,e){var n=Gr-t.length-1;(e.length>n||Hr.test(e))&&y.warn("".concat(t," value doesn't meet tag requirements and will be sanitized"));var r=e.replace(/,/g,"_");return"".concat(t,":").concat(r)}function jr(t){var e=Vr(t),n=zr(t,e),r=le(n).map(function(i){return i.buildIntakeUrl()}),s=Kr(t,r,e);return I({isIntakeUrl:function(i){return r.some(function(o){return i.indexOf(o)===0})},replica:s,site:t.site||oe},n)}function zr(t,e){return{logsEndpointBuilder:ae(t,"logs",e),rumEndpointBuilder:ae(t,"rum",e),sessionReplayEndpointBuilder:ae(t,"sessionReplay",e)}}function Kr(t,e,n){if(t.replica){var r=I({},t,{site:oe,clientToken:t.replica.clientToken}),s={logsEndpointBuilder:ae(r,"logs",n),rumEndpointBuilder:ae(r,"rum",n)};return e.push.apply(e,le(s).map(function(i){return i.buildIntakeUrl()})),I({applicationId:t.replica.applicationId},s)}}function qr(t){var e,n,r;if(!t||!t.clientToken){y.error("Client Token is not configured, we will not send any data.");return}var s=(e=t.sessionSampleRate)!==null&&e!==void 0?e:t.sampleRate;if(s!==void 0&&!Be(s)){y.error("Session Sample Rate should be a number between 0 and 100");return}if(t.telemetrySampleRate!==void 0&&!Be(t.telemetrySampleRate)){y.error("Telemetry Sample Rate should be a number between 0 and 100");return}if(t.telemetryConfigurationSampleRate!==void 0&&!Be(t.telemetryConfigurationSampleRate)){y.error("Telemetry Configuration Sample Rate should be a number between 0 and 100");return}return wr(t.enableExperimentalFeatures),I({beforeSend:t.beforeSend&&Wt(t.beforeSend,"beforeSend threw an error:"),cookieOptions:Xr(t),sessionSampleRate:s??100,telemetrySampleRate:(n=t.telemetrySampleRate)!==null&&n!==void 0?n:20,telemetryConfigurationSampleRate:(r=t.telemetryConfigurationSampleRate)!==null&&r!==void 0?r:5,service:t.service,silentMultipleInit:!!t.silentMultipleInit,batchBytesLimit:16*ue,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*de,batchMessagesLimit:50,messageBytesLimit:256*ue},jr(t))}function Xr(t){var e={};return e.secure=Yr(t),e.crossSite=!!t.useCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(e.domain=Ar()),e}function Yr(t){return!!t.useSecureSessionCookie||!!t.useCrossSiteSessionCookie}function Wr(t){var e;return{session_sample_rate:(e=t.sessionSampleRate)!==null&&e!==void 0?e:t.sampleRate,telemetry_sample_rate:t.telemetrySampleRate,telemetry_configuration_sample_rate:t.telemetryConfigurationSampleRate,use_before_send:!!t.beforeSend,use_cross_site_session_cookie:t.useCrossSiteSessionCookie,use_secure_session_cookie:t.useSecureSessionCookie,use_proxy:t.proxyUrl!==void 0?!!t.proxyUrl:void 0,silent_multiple_init:t.silentMultipleInit,track_session_across_subdomains:t.trackSessionAcrossSubdomains,track_resources:t.trackResources,track_long_task:t.trackLongTasks}}var ve="?";function U(t){var e=[],n=Ve(t,"stack"),r=String(t);return n&&qt(n,r)&&(n=n.slice(r.length)),n&&n.split(`
`).forEach(function(s){var i=Qr(s)||ts(s)||rs(s)||os(s);i&&(!i.func&&i.line&&(i.func=ve),e.push(i))}),{message:Ve(t,"message"),name:Ve(t,"name"),stack:e}}var Jt="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",J="(?::(\\d+))",Zr=new RegExp("^\\s*at (.*?) ?\\(".concat(Jt).concat(J,"?").concat(J,"?\\)?\\s*$"),"i"),Jr=new RegExp("\\((\\S*)".concat(J).concat(J,"\\)"));function Qr(t){var e=Zr.exec(t);if(e){var n=e[2]&&e[2].indexOf("native")===0,r=e[2]&&e[2].indexOf("eval")===0,s=Jr.exec(e[2]);return r&&s&&(e[2]=s[1],e[3]=s[2],e[4]=s[3]),{args:n?[e[2]]:[],column:e[4]?+e[4]:void 0,func:e[1]||ve,line:e[3]?+e[3]:void 0,url:n?void 0:e[2]}}}var es=new RegExp("^\\s*at ?".concat(Jt).concat(J,"?").concat(J,"??\\s*$"),"i");function ts(t){var e=es.exec(t);if(e)return{args:[],column:e[3]?+e[3]:void 0,func:ve,line:e[2]?+e[2]:void 0,url:e[1]}}var ns=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function rs(t){var e=ns.exec(t);if(e)return{args:[],column:e[4]?+e[4]:void 0,func:e[1]||ve,line:+e[3],url:e[2]}}var ss=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,is=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function os(t){var e=ss.exec(t);if(e){var n=e[3]&&e[3].indexOf(" > eval")>-1,r=is.exec(e[3]);return n&&r&&(e[3]=r[1],e[4]=r[2],e[5]=void 0),{args:e[2]?e[2].split(","):[],column:e[5]?+e[5]:void 0,func:e[1]||ve,line:e[4]?+e[4]:void 0,url:e[3]}}}function Ve(t,e){if(!(typeof t!="object"||!t||!(e in t))){var n=t[e];return typeof n=="string"?n:void 0}}function Qt(t,e,n){var r=t[e],s=n(r),i=function(){if(typeof s=="function")return s.apply(this,arguments)};return t[e]=i,{stop:function(){t[e]===i?t[e]=r:s=r}}}function Z(t,e,n){var r=n.before,s=n.after;return Qt(t,e,function(i){return function(){var o=arguments,c;return r&&V(r,this,o),typeof i=="function"&&(c=i.apply(this,o)),s&&V(s,this,o),c}})}var as=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function cs(t){var e=us(t).stop,n=ls(t).stop;return{stop:function(){e(),n()}}}function us(t){return Z(window,"onerror",{before:function(e,n,r,s,i){var o;if(i)o=U(i),t(o,i);else{var c={url:n,column:s,line:r},a,u=e;if({}.toString.call(e)==="[object String]"){var l=as.exec(u);l&&(a=l[1],u=l[2])}o={name:a,message:typeof u=="string"?u:void 0,stack:[c]},t(o,e)}}})}function ls(t){return Z(window,"onunhandledrejection",{before:function(e){var n=e.reason||"Empty reason",r=U(n);t(r,n)}})}var T={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function fs(t){var e=t.stackTrace,n=t.originalError,r=t.handlingStack,s=t.startClocks,i=t.nonErrorPrefix,o=t.source,c=t.handling;return!e||e.message===void 0&&!(n instanceof Error)?{startClocks:s,source:o,handling:c,originalError:n,message:"".concat(i," ").concat(xe(n)),stack:"No stack, consider using an instance of Error",handlingStack:r,type:e&&e.name}:{startClocks:s,source:o,handling:c,originalError:n,message:e.message||"Empty message",stack:j(e),handlingStack:r,type:e.name,causes:ps(n,o)}}function j(t){var e=en(t);return t.stack.forEach(function(n){var r=n.func==="?"?"<anonymous>":n.func,s=n.args&&n.args.length>0?"(".concat(n.args.join(", "),")"):"",i=n.line?":".concat(n.line):"",o=n.line&&n.column?":".concat(n.column):"";e+=`
  at `.concat(r).concat(s," @ ").concat(n.url).concat(i).concat(o)}),e}function ds(t){var e;return(e=/@ (.+)/.exec(t))===null||e===void 0?void 0:e[1]}function en(t){return"".concat(t.name||"Error",": ").concat(t.message)}function hs(){var t=2,e=new Error,n;if(!e.stack)try{throw e}catch{}return V(function(){var r=U(e);r.stack=r.stack.slice(t),n=j(r)}),n}function ps(t,e){for(var n=t,r=[];(n==null?void 0:n.cause)instanceof Error&&r.length<10;){var s=U(n.cause);r.push({message:n.cause.message,source:e,type:s==null?void 0:s.name,stack:s&&j(s)}),n=n.cause}return r.length?r:void 0}function vs(t){return cs(function(e,n){t.notify(fs({stackTrace:e,originalError:n,startClocks:pe(),nonErrorPrefix:"Uncaught",source:T.SOURCE,handling:"unhandled"}))})}function ms(t){var e=I({version:"4.30.1",onReady:function(n){n()}},t);return Object.defineProperty(e,"_setDebug",{get:function(){return dr},enumerable:!1}),e}function gs(t,e,n){var r=t[e];t[e]=n,r&&r.q&&r.q.forEach(function(s){return Wt(s,"onReady callback threw an error:")()})}var R=function(){function t(e){this.onFirstSubscribe=e,this.observers=[]}return t.prototype.subscribe=function(e){var n=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){n.observers=n.observers.filter(function(r){return e!==r}),!n.observers.length&&n.onLastUnsubscribe&&n.onLastUnsubscribe()}}},t.prototype.notify=function(e){this.observers.forEach(function(n){return n(e)})},t}();function tn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new R(function(){var r=t.map(function(s){return s.subscribe(function(i){return n.notify(i)})});return function(){return r.forEach(function(s){return s.unsubscribe()})}});return n}function gt(t,e){var n=window,r;return n.Zone&&typeof n.Zone.__symbol__=="function"&&(r=t[n.Zone.__symbol__(e)]),r||(r=t[e]),r}function Le(t,e,n,r){return nn(t,[e],n,r)}function nn(t,e,n,r){var s=r===void 0?{}:r,i=s.once,o=s.capture,c=s.passive,a=d(i?function(v){p(),n(v)}:n),u=c?{capture:o,passive:c}:o,l=gt(t,"addEventListener");e.forEach(function(v){return l.call(t,v,a,u)});function p(){var v=gt(t,"removeEventListener");e.forEach(function(f){return v.call(t,f,a,u)})}return{stop:p}}var D={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Es(t){var e=[];te(t,D.cspViolation)&&e.push(ys());var n=t.filter(function(r){return r!==D.cspViolation});return n.length&&e.push(Ss(n)),tn.apply(void 0,e)}function Ss(t){var e=new R(function(){if(window.ReportingObserver){var n=d(function(s){return s.forEach(function(i){e.notify(_s(i))})}),r=new window.ReportingObserver(n,{types:t,buffered:!0});return r.observe(),function(){r.disconnect()}}});return e}function ys(){var t=new R(function(){var e=d(function(r){t.notify(Ts(r))}),n=Le(document,"securitypolicyviolation",e).stop;return n});return t}function _s(t){var e=t.type,n=t.body;return{type:e,subtype:n.id,message:"".concat(e,": ").concat(n.message),stack:rn(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)}}function Ts(t){var e=D.cspViolation,n="'".concat(t.blockedURI,"' blocked by '").concat(t.effectiveDirective,"' directive");return{type:D.cspViolation,subtype:t.effectiveDirective,message:"".concat(e,": ").concat(n),stack:rn(t.effectiveDirective,t.originalPolicy?"".concat(n,' of the policy "').concat(Ir(t.originalPolicy,100,"..."),'"'):"no policy",t.sourceFile,t.lineNumber,t.columnNumber)}}function rn(t,e,n,r,s){return n&&j({name:t,message:e,stack:[{func:"?",url:n,line:r,column:s}]})}function sn(t,e){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:t,payload:e})}var it={log:"log",configuration:"configuration"},bs=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],Is=[kr],L={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1},Je;function Os(t,e){var n,r=new R;L.telemetryEnabled=Ze(e.telemetrySampleRate),L.telemetryConfigurationEnabled=L.telemetryEnabled&&Ze(e.telemetryConfigurationSampleRate),Je=function(i){if(!te(Is,e.site)&&L.telemetryEnabled){var o=s(t,i);r.notify(o),sn("telemetry",o)}},fr(on),I(L,{maxEventsPerPage:e.maxTelemetryEventsPerPage,sentEventCount:0});function s(i,o){return Ue({type:"telemetry",date:x(),service:i,version:"4.30.1",source:"browser",_dd:{format_version:2},telemetry:o,experimental_features:zt(Lr())},n!==void 0?n():{})}return{setContextProvider:function(i){n=i},observable:r}}function Rs(t){return t.site===Ur}function Cs(t,e){We(b.debug,t,e),ot(I({type:it.log,message:t,status:"debug"},e))}function on(t){ot(I({type:it.log,status:"error"},ws(t)))}function As(t){L.telemetryConfigurationEnabled&&ot({type:it.configuration,configuration:t})}function ot(t){Je&&L.sentEventCount<L.maxEventsPerPage&&(L.sentEventCount+=1,Je(t))}function ws(t){if(t instanceof Error){var e=U(t);return{error:{kind:e.name,stack:j(Ls(e))},message:e.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(xe(t))}}function Ls(t){return t.stack=t.stack.filter(function(e){return!e.url||bs.some(function(n){return qt(e.url,n)})}),t}var Se=1/0,Ns=H,Ms=function(){function t(e){var n=this;this.expireDelay=e,this.entries=[],this.clearOldContextsInterval=setInterval(function(){return n.clearOldContexts()},Ns)}return t.prototype.add=function(e,n){var r=this,s={context:e,startTime:n,endTime:Se,remove:function(){var i=r.entries.indexOf(s);i>=0&&r.entries.splice(i,1)},close:function(i){s.endTime=i}};return this.entries.unshift(s),s},t.prototype.find=function(e){e===void 0&&(e=Se);for(var n=0,r=this.entries;n<r.length;n++){var s=r[n];if(s.startTime<=e){if(e<=s.endTime)return s.context;break}}},t.prototype.closeActive=function(e){var n=this.entries[0];n&&n.endTime===Se&&n.close(e)},t.prototype.findAll=function(e){return e===void 0&&(e=Se),this.entries.filter(function(n){return n.startTime<=e&&e<=n.endTime}).map(function(n){return n.context})},t.prototype.reset=function(){this.entries=[]},t.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},t.prototype.clearOldContexts=function(){for(var e=fe()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},t}();function Ds(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}var an=4*pr,cn=15*H,un=/^([a-z]+)=([a-z0-9-]+)$/,at="&",ke="_dd_s",Ps=10,xs=100,ln=[],Re;function ce(t,e){var n;if(e===void 0&&(e=0),Re||(Re=t),t!==Re){ln.push(t);return}if(e>=xs){Et();return}var r,s=se();if(He()){if(s.lock){ye(t,e);return}if(r=ee(),s.lock=r,Qe(s,t.options),s=se(),s.lock!==r){ye(t,e);return}}var i=t.process(s);if(He()&&(s=se(),s.lock!==r)){ye(t,e);return}if(i&&fn(i,t.options),He()&&!(i&&dn(i))){if(s=se(),s.lock!==r){ye(t,e);return}delete s.lock,Qe(s,t.options),i=s}(n=t.after)===null||n===void 0||n.call(t,i||s),Et()}function He(){return Ds()}function ye(t,e){setTimeout(d(function(){ce(t,e+1)}),Ps)}function Et(){Re=void 0;var t=ln.shift();t&&ce(t)}function fn(t,e){if(dn(t)){$s(e);return}t.expire=String(ie()+cn),Qe(t,e)}function Qe(t,e){he(ke,Us(t),cn,e)}function Us(t){return Sr(t).map(function(e){var n=e[0],r=e[1];return"".concat(n,"=").concat(r)}).join(at)}function se(){var t=w(ke),e={};return ks(t)&&t.split(at).forEach(function(n){var r=un.exec(n);if(r!==null){var s=r[1],i=r[2];e[s]=i}}),e}function ks(t){return t!==void 0&&(t.indexOf(at)!==-1||un.test(t))}function dn(t){return Kt(t)}function $s(t){he(ke,"",0,t)}var Bs="_dd",Fs="_dd_r",Gs="_dd_l",Vs="rum",Hs="logs";function js(t){var e=w(ke),n=w(Bs),r=w(Fs),s=w(Gs);if(!e){var i={};n&&(i.id=n),s&&/^[01]$/.test(s)&&(i[Hs]=s),r&&/^[012]$/.test(r)&&(i[Vs]=r),fn(i,t)}}function zs(t,e,n){var r=new R,s=new R,i=setInterval(d(u),mt),o=_();function c(){var h;ce({options:t,process:function(C){var k=l(C);return h=p(k),k},after:function(C){h&&!v()&&S(C),o=C}})}function a(){ce({options:t,process:function(h){return v()?l(h):void 0}})}function u(){ce({options:t,process:function(h){return K(h)?void 0:{}},after:l})}function l(h){return K(h)||(h={}),v()&&(f(h)?g():o=h),h}function p(h){var C=n(h[e]),k=C.trackingType,$=C.isTracked;return h[e]=k,$&&!h.id&&(h.id=ee(),h.created=String(ie())),$}function v(){return o[e]!==void 0}function f(h){return o.id!==h.id||o[e]!==h[e]}function g(){o={},s.notify()}function S(h){o=h,r.notify()}function _(){var h=se();return K(h)?h:{}}function K(h){return(h.created===void 0||ie()-Number(h.created)<an)&&(h.expire===void 0||ie()<Number(h.expire))}return{expandOrRenewSession:vr(d(c),mt).throttled,expandSession:a,getSession:function(){return o},renewObservable:r,expireObservable:s,stop:function(){clearInterval(i)}}}var Ks=H,qs=an;function Xs(t,e,n){js(t);var r=zs(t,e,n),s=new Ms(qs);r.renewObservable.subscribe(function(){s.add(i(),fe())}),r.expireObservable.subscribe(function(){s.closeActive(fe())}),r.expandOrRenewSession(),s.add(i(),Nr().relative),Ys(function(){return r.expandOrRenewSession()}),Ws(function(){return r.expandSession()});function i(){return{id:r.getSession().id,trackingType:r.getSession()[e]}}return{findActiveSession:function(o){return s.find(o)},renewObservable:r.renewObservable,expireObservable:r.expireObservable}}function Ys(t){nn(window,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0}).stop}function Ws(t){var e=d(function(){document.visibilityState==="visible"&&t()});Le(document,"visibilitychange",e).stop,setInterval(e,Ks)}var Zs=80*ue,Js=32,hn=3*jt,Qs=H,pn=de;function vn(t,e,n,r,s){e.transportStatus===0&&e.queuedPayloads.size()===0&&e.bandwidthMonitor.canHandle(t)?gn(t,e,n,{onSuccess:function(){return En(0,e,n,r,s)},onFailure:function(){e.queuedPayloads.enqueue(t),mn(e,n,r,s)}}):e.queuedPayloads.enqueue(t)}function mn(t,e,n,r){t.transportStatus===2&&setTimeout(d(function(){var s=t.queuedPayloads.first();gn(s,t,e,{onSuccess:function(){t.queuedPayloads.dequeue(),t.currentBackoffTime=pn,En(1,t,e,n,r)},onFailure:function(){t.currentBackoffTime=Math.min(Qs,t.currentBackoffTime*2),mn(t,e,n,r)}})}),t.currentBackoffTime)}function gn(t,e,n,r){var s=r.onSuccess,i=r.onFailure;e.bandwidthMonitor.add(t),n(t,function(o){e.bandwidthMonitor.remove(t),ei(o)?(e.transportStatus=e.bandwidthMonitor.ongoingRequestCount>0?1:2,t.retry={count:t.retry?t.retry.count+1:1,lastFailureStatus:o.status},i()):(e.transportStatus=0,s())})}function En(t,e,n,r,s){t===0&&e.queuedPayloads.isFull()&&!e.queueFullReported&&(s({message:"Reached max ".concat(r," events size queued for upload: ").concat(hn/jt,"MiB"),source:T.AGENT,startClocks:pe()}),e.queueFullReported=!0);var i=e.queuedPayloads;for(e.queuedPayloads=Sn();i.size()>0;)vn(i.dequeue(),e,n,r,s)}function ei(t){return t.type!=="opaque"&&(t.status===0&&!navigator.onLine||t.status===408||t.status===429||t.status>=500)}function ti(){return{transportStatus:0,currentBackoffTime:pn,bandwidthMonitor:ni(),queuedPayloads:Sn(),queueFullReported:!1}}function Sn(){var t=[];return{bytesCount:0,enqueue:function(e){this.isFull()||(t.push(e),this.bytesCount+=e.bytesCount)},first:function(){return t[0]},dequeue:function(){var e=t.shift();return e&&(this.bytesCount-=e.bytesCount),e},size:function(){return t.length},isFull:function(){return this.bytesCount>=hn}}}function ni(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(t){return this.ongoingRequestCount===0||this.ongoingByteCount+t.bytesCount<=Zs&&this.ongoingRequestCount<Js},add:function(t){this.ongoingRequestCount+=1,this.ongoingByteCount+=t.bytesCount},remove:function(t){this.ongoingRequestCount-=1,this.ongoingByteCount-=t.bytesCount}}}function ri(t,e,n){var r=ti(),s=function(i,o){return oi(t,e,i,o)};return{send:function(i){vn(i,r,s,t.endpointType,n)},sendOnExit:function(i){si(t,e,i)}}}function si(t,e,n){var r=n.data,s=n.bytesCount,i=!!navigator.sendBeacon&&s<e;if(i)try{var o=t.build("beacon"),c=navigator.sendBeacon(o,r);if(c)return}catch(u){ii(u)}var a=t.build("xhr");et(a,r)}var St=!1;function ii(t){St||(St=!0,on(t))}function oi(t,e,n,r){var s=n.data,i=n.bytesCount,o=n.retry,c=ai()&&i<e;if(c){var a=t.build("fetch",o);fetch(a,{method:"POST",body:s,keepalive:!0,mode:"cors"}).then(d(function(l){return r==null?void 0:r({status:l.status,type:l.type})}),d(function(){var l=t.build("xhr",o);et(l,s,r)}))}else{var u=t.build("xhr",o);et(u,s,r)}}function ai(){try{return window.Request&&"keepalive"in new Request("http://a")}catch{return!1}}function et(t,e,n){var r=new XMLHttpRequest,s=d(function(){r.removeEventListener("loadend",s),n==null||n({status:r.status})});r.open("POST",t,!0),r.addEventListener("loadend",s),r.send(e)}var ci=/[^\u0000-\u007F]/,ui=function(){function t(e,n,r,s,i,o){var c=this;this.request=e,this.batchMessagesLimit=n,this.batchBytesLimit=r,this.messageBytesLimit=s,this.flushTimeout=i,this.pageExitObservable=o,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,o.subscribe(function(){return c.flush(c.request.sendOnExit)}),this.flushPeriodically()}return t.prototype.add=function(e){this.addOrUpdate(e)},t.prototype.upsert=function(e,n){this.addOrUpdate(e,n)},t.prototype.flush=function(e){if(e===void 0&&(e=this.request.send),this.bufferMessagesCount!==0){var n=this.pushOnlyBuffer.concat(le(this.upsertBuffer)),r=this.bufferBytesCount;this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,e({data:n.join(`
`),bytesCount:r})}},t.prototype.computeBytesCount=function(e){return ci.test(e)?window.TextEncoder!==void 0?new TextEncoder().encode(e).length:new Blob([e]).size:e.length},t.prototype.addOrUpdate=function(e,n){var r=this.process(e),s=r.processedMessage,i=r.messageBytesCount;if(i>=this.messageBytesLimit){y.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB."));return}this.hasMessageFor(n)&&this.remove(n),this.willReachedBytesLimitWith(i)&&this.flush(),this.push(s,i,n),this.isFull()&&this.flush()},t.prototype.process=function(e){var n=xe(e),r=this.computeBytesCount(n);return{processedMessage:n,messageBytesCount:r}},t.prototype.push=function(e,n,r){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),r!==void 0?this.upsertBuffer[r]=e:this.pushOnlyBuffer.push(e),this.bufferBytesCount+=n,this.bufferMessagesCount+=1},t.prototype.remove=function(e){var n=this.upsertBuffer[e];delete this.upsertBuffer[e];var r=this.computeBytesCount(n);this.bufferBytesCount-=r,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},t.prototype.hasMessageFor=function(e){return e!==void 0&&this.upsertBuffer[e]!==void 0},t.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesCount+e+1>=this.batchBytesLimit},t.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},t.prototype.flushPeriodically=function(){var e=this;setTimeout(d(function(){e.flush(),e.flushPeriodically()}),this.flushTimeout)},t}();function ct(){var t=li();if(t)return{getAllowedWebViewHosts:function(){return JSON.parse(t.getAllowedWebViewHosts())},send:function(e,n){t.send(JSON.stringify({eventType:e,event:n}))}}}function Ne(t){var e;t===void 0&&(t=(e=rt().location)===null||e===void 0?void 0:e.hostname);var n=ct();return!!n&&n.getAllowedWebViewHosts().some(function(r){return t===r||yr(t,".".concat(r))})}function li(){return rt().DatadogEventBridge}function yn(t,e,n,r,s){var i=c(e),o;s&&(o=c(s));function c(a){return new ui(ri(a,t.batchBytesLimit,n),t.batchMessagesLimit,t.batchBytesLimit,t.messageBytesLimit,t.flushTimeout,r)}return{add:function(a,u){u===void 0&&(u=!0),i.add(a),o&&u&&o.add(a)}}}function fi(t,e,n){var r=0,s=!1;return{isLimitReached:function(){if(r===0&&setTimeout(function(){r=0},H),r+=1,r<=e||s)return s=!1,!1;if(r===e+1){s=!0;try{n({message:"Reached max number of ".concat(t,"s by minute: ").concat(e),source:T.AGENT,startClocks:pe()})}finally{s=!1}}return!0}}}var je,ut=new WeakMap;function di(){return je||(je=hi()),je}function hi(){var t=new R(function(){var e=Z(XMLHttpRequest.prototype,"open",{before:pi}).stop,n=Z(XMLHttpRequest.prototype,"send",{before:function(){vi.call(this,t)}}).stop,r=Z(XMLHttpRequest.prototype,"abort",{before:mi}).stop;return function(){e(),n(),r()}});return t}function pi(t,e){ut.set(this,{state:"open",method:t,url:st(String(e))})}function vi(t){var e=this,n=ut.get(this);if(n){var r=n;r.state="start",r.startTime=fe(),r.startClocks=pe(),r.isAborted=!1,r.xhr=this;var s=!1,i=Z(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&o()}}).stop,o=d(function(){if(e.removeEventListener("loadend",o),i(),!s){s=!0;var c=n;c.state="complete",c.duration=Mr(r.startClocks.timeStamp,x()),c.status=e.status,t.notify(mr(c))}});this.addEventListener("loadend",o),t.notify(r)}}function mi(){var t=ut.get(this);t&&(t.isAborted=!0)}var ze;function gi(){return ze||(ze=Ei()),ze}function Ei(){var t=new R(function(){if(window.fetch){var e=Qt(window,"fetch",function(n){return function(r,s){var i,o=V(Si,null,[t,r,s]);return o?(i=n.call(this,o.input,o.init),V(yi,null,[t,i,o])):i=n.call(this,r,s),i}}).stop;return e}});return t}function Si(t,e,n){var r=n&&n.method||typeof e=="object"&&e.method||"GET",s=st(typeof e=="object"&&e.url||e),i=pe(),o={state:"start",init:n,input:e,method:r,startClocks:i,url:s};return t.notify(o),o}function yi(t,e,n){var r=function(s){var i=n;i.state="resolve","stack"in s||s instanceof Error?(i.status=0,i.isAborted=s instanceof DOMException&&s.code===DOMException.ABORT_ERR,i.error=s):"status"in s&&(i.response=s,i.responseType=s.type,i.status=s.status,i.isAborted=!1),t.notify(i)};e.then(d(r),d(r))}function _i(){var t=new R(function(){var e=Le(document,"visibilitychange",function(){document.visibilityState==="hidden"&&t.notify({reason:"visibility_hidden"})},{capture:!0}).stop,n=Le(window,"beforeunload",function(){t.notify({reason:"before_unload"})}).stop;return function(){e(),n()}});return t}var Ke={};function Ti(t){var e=t.map(function(n){return Ke[n]||(Ke[n]=bi(n)),Ke[n]});return tn.apply(void 0,e)}function bi(t){var e=new R(function(){var n=console[t];return console[t]=function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];n.apply(console,r);var i=hs();V(function(){e.notify(Ii(r,t,i))})},function(){console[t]=n}});return e}function Ii(t,e,n){var r=t.map(function(o){return Oi(o)}).join(" "),s;if(e===b.error){var i=gr(t,function(o){return o instanceof Error});s=i?j(U(i)):void 0,r="console error: ".concat(r)}return{api:e,message:r,stack:s,handlingStack:n}}function Oi(t){return typeof t=="string"?t:t instanceof Error?en(U(t)):xe(t,void 0,2)}var Ri=500,Ci=function(){function t(){this.buffer=[]}return t.prototype.add=function(e){var n=this.buffer.push(e);n>Ri&&this.buffer.splice(0,1)},t.prototype.drain=function(){this.buffer.forEach(function(e){return e()}),this.buffer.length=0},t}();function tt(){var t={};return{get:function(){return t},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},set:function(e){t=e},getContext:function(){return W(t)},setContext:function(e){t=W(e)},setContextProperty:function(e,n){t[e]=W(n)},removeContextProperty:function(e){delete t[e]},clearContext:function(){t={}}}}function Ai(t,e,n){var r=t.getReader(),s=[],i=0;o();function o(){r.read().then(d(function(a){if(a.done){c();return}n.collectStreamBody&&s.push(a.value),i+=a.value.length,i>n.bytesLimit?c():o()}),d(function(a){return e(a)}))}function c(){r.cancel().catch(Pe);var a,u;if(n.collectStreamBody){var l;if(s.length===1)l=s[0];else{l=new Uint8Array(i);var p=0;s.forEach(function(v){l.set(v,p),p+=v.length})}a=l.slice(0,n.bytesLimit),u=l.length>n.bytesLimit}e(void 0,a,u)}}var wi="datadog-synthetics-public-id",Li="datadog-synthetics-result-id",Ni="datadog-synthetics-injects-rum";function _n(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||w(Ni))}function Mi(){var t=window._DATADOG_SYNTHETICS_PUBLIC_ID||w(wi);return typeof t=="string"?t:void 0}function Di(){var t=window._DATADOG_SYNTHETICS_RESULT_ID||w(Li);return typeof t=="string"?t:void 0}function yt(t){var e=I({},t),n=["id","name","email"];return n.forEach(function(r){r in e&&(e[r]=String(e[r]))}),e}function Pi(t){var e=Xt(t)==="object";return e||y.error("Unsupported user:",t),e}var xi=32*ue;function Ui(t){var e=qr(t),n=_t(t.forwardConsoleLogs,le(b),"Forward Console Logs"),r=_t(t.forwardReports,le(D),"Forward Reports");if(!(!e||!n||!r))return t.forwardErrorsToLogs&&!te(n,b.error)&&n.push(b.error),I({forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:n,forwardReports:r,requestErrorResponseLengthLimit:xi},e)}function _t(t,e,n){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(function(r){return te(e,r)}))){y.error("".concat(n,' should be "all" or an array with allowed values "').concat(e.join('", "'),'"'));return}return t==="all"?e:Rr(t)}function ki(t){var e=Wr(t);return I({forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports},e)}var $i=globalThis&&globalThis.__decorate||function(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},E={debug:"debug",error:"error",info:"info",warn:"warn"},lt={console:"console",http:"http",silent:"silent"},Bi=Object.keys(E),Tt=function(){function t(e,n,r,s,i){r===void 0&&(r=lt.http),s===void 0&&(s=E.debug),i===void 0&&(i={}),this.handleLogStrategy=e,this.handlerType=r,this.level=s,this.contextManager=tt(),this.contextManager.set(I({},i,n?{logger:{name:n}}:void 0))}return t.prototype.log=function(e,n,r){r===void 0&&(r=E.info),this.handleLogStrategy({message:e,context:W(n),status:r},this)},t.prototype.debug=function(e,n){this.log(e,n,E.debug)},t.prototype.info=function(e,n){this.log(e,n,E.info)},t.prototype.warn=function(e,n){this.log(e,n,E.warn)},t.prototype.error=function(e,n){var r={error:{origin:T.LOGGER}};this.log(e,Ue(r,n),E.error)},t.prototype.setContext=function(e){this.contextManager.set(e)},t.prototype.getContext=function(){return this.contextManager.get()},t.prototype.addContext=function(e,n){this.contextManager.add(e,n)},t.prototype.removeContext=function(e){this.contextManager.remove(e)},t.prototype.setHandler=function(e){this.handlerType=e},t.prototype.getHandler=function(){return this.handlerType},t.prototype.setLevel=function(e){this.level=e},t.prototype.getLevel=function(){return this.level},$i([hr],t.prototype,"log",null),t}();function Fi(t){var e=!1,n=tt(),r=tt(),s={},i=function(){},o=new Ci,c=function(f,g,S,_){S===void 0&&(S=W(l())),_===void 0&&(_=x()),o.add(function(){return c(f,g,S,_)})},a=function(){},u=new Tt(function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];return c.apply(void 0,f)});function l(){return{view:{referrer:document.referrer,url:window.location.href},context:n.getContext(),user:r.getContext()}}return ms({logger:u,init:d(function(f){var g;if(a=function(){return W(f)},Ne()&&(f=p(f)),!!v(f)){var S=Ui(f);S&&(g=t(f,S,l,u),c=g.handleLog,i=g.getInternalContext,o.drain(),e=!0)}}),getLoggerGlobalContext:d(n.get),getGlobalContext:d(n.getContext),setLoggerGlobalContext:d(n.set),setGlobalContext:d(n.setContext),addLoggerGlobalContext:d(n.add),setGlobalContextProperty:d(n.setContextProperty),removeLoggerGlobalContext:d(n.remove),removeGlobalContextProperty:d(n.removeContextProperty),clearGlobalContext:d(n.clearContext),createLogger:d(function(f,g){return g===void 0&&(g={}),s[f]=new Tt(function(){for(var S=[],_=0;_<arguments.length;_++)S[_]=arguments[_];return c.apply(void 0,S)},f,g.handler,g.level,g.context),s[f]}),getLogger:d(function(f){return s[f]}),getInitConfiguration:d(function(){return a()}),getInternalContext:d(function(f){return i(f)}),setUser:d(function(f){Pi(f)&&r.setContext(yt(f))}),getUser:d(r.getContext),setUserProperty:d(function(f,g){var S,_=yt((S={},S[f]=g,S))[f];r.setContextProperty(f,_)}),removeUserProperty:d(r.removeContextProperty),clearUser:d(r.clearContext)});function p(f){return I({},f,{clientToken:"empty"})}function v(f){return e?(f.silentMultipleInit||y.error("DD_LOGS is already initialized."),!1):!0}}var Gi="logs";function Vi(t){var e=Xs(t.cookieOptions,Gi,function(n){return ji(t,n)});return{findTrackedSession:function(n){var r=e.findActiveSession(n);return r&&r.trackingType==="1"?{id:r.id}:void 0}}}function Hi(t){var e=Tn(t)==="1",n=e?{}:void 0;return{findTrackedSession:function(){return n}}}function Tn(t){return Ze(t.sessionSampleRate)?"1":"0"}function ji(t,e){var n=zi(e)?e:Tn(t);return{trackingType:n,isTracked:n==="1"}}function zi(t){return t==="0"||t==="1"}var X,bt=(X={},X[E.debug]=0,X[E.info]=1,X[E.warn]=2,X[E.error]=3,X);function Ki(t){function e(n,r,s,i){var o=n.context;bn(n.status,lt.console,r)&&y(n.status,n.message,Ue(r.getContext(),o)),t.notify(0,{rawLogsEvent:{date:i||x(),message:n.message,status:n.status,origin:T.LOGGER},messageContext:o,savedCommonContext:s,logger:r})}return{handleLog:e}}function bn(t,e,n){var r=n.getHandler(),s=Array.isArray(r)?r:[r];return bt[t]>=bt[n.getLevel()]&&te(s,e)}function qi(t,e,n,r,s,i){var o=Bi.concat(["custom"]),c={};o.forEach(function(a){c[a]=fi(a,e.eventRateLimiterThreshold,i)}),n.subscribe(0,function(a){var u,l,p,v=a.rawLogsEvent,f=a.messageContext,g=f===void 0?void 0:f,S=a.savedCommonContext,_=S===void 0?void 0:S,K=a.logger,h=K===void 0?s:K,C=Dr(v.date),k=t.findTrackedSession(C);if(k){var $=_||r(),me=Ue({service:e.service,session_id:k.id,usr:Kt($.user)?void 0:$.user,view:$.view},$.context,Ce(C),v,h.getContext(),g);!bn(v.status,lt.http,h)||((u=e.beforeSend)===null||u===void 0?void 0:u.call(e,me))===!1||((l=me.error)===null||l===void 0?void 0:l.origin)!==T.AGENT&&((p=c[me.status])!==null&&p!==void 0?p:c.custom).isLimitReached()||n.notify(1,me)}})}var It=!1;function Ce(t){var e=window;if(_n()){var n=r(e.DD_RUM_SYNTHETICS);return!n&&!It&&(It=!0,Cs("Logs sent before RUM is injected by the synthetics worker",{testId:Mi(),resultId:Di()})),n}return r(e.DD_RUM);function r(s){if(s&&s.getInternalContext)return s.getInternalContext(t)}}var B,Xi=(B={},B[b.log]=E.info,B[b.debug]=E.debug,B[b.info]=E.info,B[b.warn]=E.warn,B[b.error]=E.error,B);function Yi(t,e){var n=Ti(t.forwardConsoleLogs).subscribe(function(r){e.notify(0,{rawLogsEvent:{date:x(),message:r.message,origin:T.CONSOLE,error:r.api===b.error?{origin:T.CONSOLE,stack:r.stack}:void 0,status:Xi[r.api]}})});return{stop:function(){n.unsubscribe()}}}var ne,Wi=(ne={},ne[D.cspViolation]=E.error,ne[D.intervention]=E.error,ne[D.deprecation]=E.warn,ne);function Zi(t,e){var n=Es(t.forwardReports).subscribe(function(r){var s=r.message,i=Wi[r.type],o;i===E.error?o={kind:r.subtype,origin:T.REPORT,stack:r.stack}:r.stack&&(s+=" Found in ".concat(ds(r.stack))),e.notify(0,{rawLogsEvent:{date:x(),message:s,origin:T.REPORT,error:o,status:i}})});return{stop:function(){n.unsubscribe()}}}function Ji(t,e){if(!t.forwardErrorsToLogs)return{stop:Pe};var n=di().subscribe(function(i){i.state==="complete"&&s("xhr",i)}),r=gi().subscribe(function(i){i.state==="resolve"&&s("fetch",i)});function s(i,o){!t.isIntakeUrl(o.url)&&(no(o)||ro(o))&&("xhr"in o?Qi(o.xhr,t,c):o.response?to(o.response,t,c):o.error&&eo(o.error,t,c));function c(a){e.notify(0,{rawLogsEvent:{message:"".concat(so(i)," error ").concat(o.method," ").concat(o.url),date:o.startClocks.timeStamp,error:{origin:T.NETWORK,stack:a||"Failed to load"},http:{method:o.method,status_code:o.status,url:o.url},status:E.error,origin:T.NETWORK}})}}return{stop:function(){n.unsubscribe(),r.unsubscribe()}}}function Qi(t,e,n){typeof t.response=="string"?n(ft(t.response,e)):n(t.response)}function eo(t,e,n){n(ft(j(U(t)),e))}function to(t,e,n){window.TextDecoder?t.body?io(t.clone().body,e.requestErrorResponseLengthLimit,function(r,s){n(r?"Unable to retrieve response: ".concat(r):s)}):n():t.clone().text().then(d(function(r){return n(ft(r,e))}),d(function(r){return n("Unable to retrieve response: ".concat(r))}))}function no(t){return t.status===0&&t.responseType!=="opaque"}function ro(t){return t.status>=500}function ft(t,e){return t.length>e.requestErrorResponseLengthLimit?"".concat(t.substring(0,e.requestErrorResponseLengthLimit),"..."):t}function so(t){return t==="xhr"?"XHR":"Fetch"}function io(t,e,n){Ai(t,function(r,s,i){if(r)n(r);else{var o=new TextDecoder().decode(s);i&&(o+="..."),n(void 0,o)}},{bytesLimit:e,collectStreamBody:!0})}function oo(t,e){if(!t.forwardErrorsToLogs)return{stop:Pe};var n=new R,r=vs(n).stop,s=n.subscribe(function(i){e.notify(0,{rawLogsEvent:{message:i.message,date:i.startClocks.timeStamp,error:{kind:i.type,origin:T.SOURCE,stack:i.stack},origin:T.SOURCE,status:E.error}})});return{stop:function(){r(),s.unsubscribe()}}}var ao=function(){function t(){this.callbacks={}}return t.prototype.notify=function(e,n){var r=this.callbacks[e];r&&r.forEach(function(s){return s(n)})},t.prototype.subscribe=function(e,n){var r=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),{unsubscribe:function(){r.callbacks[e]=r.callbacks[e].filter(function(s){return n!==s})}}},t}();function co(t,e,n,r){var s,i=yn(t,t.logsEndpointBuilder,n,r,(s=t.replica)===null||s===void 0?void 0:s.logsEndpointBuilder);e.subscribe(1,function(o){i.add(o)})}function uo(t){var e=ct();t.subscribe(1,function(n){e.send("log",n)})}function lo(t){return{get:function(e){var n=t.findTrackedSession(e);if(n)return{session_id:n.id}}}}function fo(t,e,n,r){var s=new ao;s.subscribe(1,function(p){return sn("logs",p)});var i=function(p){return s.notify(0,{rawLogsEvent:{message:p.message,date:p.startClocks.timeStamp,error:{origin:T.AGENT},origin:T.AGENT,status:E.error}})},o=_i(),c=ho(e,i,o);c.setContextProvider(function(){var p,v,f,g,S,_;return{application:{id:(p=Ce())===null||p===void 0?void 0:p.application_id},session:{id:(v=u.findTrackedSession())===null||v===void 0?void 0:v.id},view:{id:(g=(f=Ce())===null||f===void 0?void 0:f.view)===null||g===void 0?void 0:g.id},action:{id:(_=(S=Ce())===null||S===void 0?void 0:S.user_action)===null||_===void 0?void 0:_.id}}}),Ji(e,s),oo(e,s),Yi(e,s),Zi(e,s);var a=Ki(s).handleLog,u=Cr(e.cookieOptions)&&!Ne()&&!_n()?Vi(e):Hi(e);qi(u,e,s,n,r,i),Ne()?uo(s):co(e,s,i,o),As(ki(t));var l=lo(u);return{handleLog:a,getInternalContext:l.get}}function ho(t,e,n){var r,s=Os("browser-logs-sdk",t);if(Ne()){var i=ct();s.observable.subscribe(function(c){return i.send("internal_telemetry",c)})}else{var o=yn(t,t.rumEndpointBuilder,e,n,(r=t.replica)===null||r===void 0?void 0:r.rumEndpointBuilder);s.observable.subscribe(function(c){return o.add(c,Rs(t))})}return s}var In=Fi(fo);gs(rt(),"DD_LOGS",In);class On{constructor(e){O(this,"env");this.env=e}setup(e){e.reports.enabled&&In.init({clientToken:"pub94a0029259f79f29a5d881a06d1e9653",site:"datadoghq.com",forwardErrorsToLogs:!0,service:this.env.var("KUMA_PRODUCT_NAME"),sampleRate:100,env:"production"})}}class po extends Error{constructor({title:n=null,message:r,code:s=null,statusCode:i,causes:o=[]}){super(r);O(this,"title");O(this,"code");O(this,"causes");O(this,"statusCode");this.name="ApiError",this.title=n,this.code=s,this.statusCode=i,this.causes=o}toJSON(){return{name:this.name,title:this.title,message:this.message,code:this.code,statusCode:this.statusCode,causes:this.causes}}}async function vo(t,e={}){var u;const n=e,r=n.method??"GET";n.headers=n.headers instanceof Headers?n.headers:new Headers(n.headers),!n.headers.has("content-type")&&["POST","PUT","PATCH"].includes(r)&&n.headers.set("content-type","application/json");let s=t;"params"in e&&(r==="GET"?s+=`?${new URLSearchParams(e.params).toString()}`:(u=n.headers.get("content-type"))!=null&&u.startsWith("application/json")&&(n.body=JSON.stringify(e.params)));let i;try{i=await fetch(s,n)}catch(l){throw mo(l)}const o=i.headers.get("content-type"),a=(o!==null?o.startsWith("application/json"):!1)?await i.json():await i.text();if(i.ok)return{response:i,data:a};throw go(i,a)}function mo(t){const e=t instanceof Error?t.message:"An unknown network error occurred.";return new Error(e)}function go(t,e){let n=null,r="An error has occurred while trying to load this data.",s=null,i=[];return typeof e=="string"&&e.length>0?r=e:e&&(Object.prototype.hasOwnProperty.call(e,"title")&&(n=e.title),Object.prototype.hasOwnProperty.call(e,"details")&&(r=e.details),Object.prototype.hasOwnProperty.call(e,"code")&&(s=e.code),Object.prototype.hasOwnProperty.call(e,"causes")&&Array.isArray(e.causes)&&(i=e.causes)),t.status===403&&(r="You currently dont have access to this data."),new po({title:n,message:r,code:s,causes:i,statusCode:t.status})}const Ot=window.location.origin;class Eo{constructor(){O(this,"_baseUrl",Ot)}get baseUrl(){return this._baseUrl}set baseUrl(e){if(e.startsWith("http"))this._baseUrl=Rn(e);else{const n=yo(e);this._baseUrl=[Ot,n].filter(r=>r!=="").join("/")}}async get(e,n){const r=Rt(n);r.method="GET";const{data:s}=await this.raw(e,r);return s}async raw(e,n){const r=Rt(n),s=e.startsWith("http")?e:[this.baseUrl,e].join("/");return vo(s,r)}}function Rn(t){return t.replace(/\/+$/,"")}function So(t){return t.replace(/^\/+/,"")}function yo(t){return Rn(So(t))}function Rt(t){const e=t??{};if(e.params&&!Array.isArray(e.params)){const n=[];for(const[r,s]of Object.entries(e.params))if(s!==void 0)if(Array.isArray(s))for(const i of s)n.push([r,i]);else n.push([r,s]);e.params=n}return e}class Cn{constructor(e){O(this,"client");O(this,"env");this.client=new Eo,this.env=e}get baseUrl(){return this.client.baseUrl}setBaseUrl(e){this.client.baseUrl=e}getInfo(){return this.client.get("")}async getStatus(){try{const{response:e}=await this.client.raw("");return e.status===200?"OK":null}catch{return null}}async getLatestVersion(){return this.client.get(this.env.var("KUMA_VERSION_URL"))}getConfig(){return this.client.get("config")}getPolicyTypes(){return this.client.get("policies")}getGlobalInsights(){return this.client.get("global-insights")}getZones(e){return this.client.get("zones",{params:e})}getZone({name:e},n){return this.client.get(`zones/${e}`,{params:n})}getAllZoneOverviews(e){return this.client.get("zones+insights",{params:e})}getZoneOverview({name:e},n){return this.client.get(`zones+insights/${e}`,{params:n})}getZoneIngressData({zoneIngressName:e,dataPath:n},r){return this.client.get(`zoneingresses/${e}/${n}`,{params:r})}getAllZoneIngressOverviews(e){return this.client.get("zoneingresses+insights",{params:e})}getZoneIngressOverview({name:e},n){return this.client.get(`zoneingresses+insights/${e}`,{params:n})}getZoneEgressData({zoneEgressName:e,dataPath:n},r){return this.client.get(`zoneegresses/${e}/${n}`,{params:r})}getAllZoneEgressOverviews(e){return this.client.get("zoneegressoverviews",{params:e})}getZoneEgressOverview({name:e},n){return this.client.get(`zoneegressoverviews/${e}`,{params:n})}getAllMeshes(e){return this.client.get("meshes",{params:e})}getMesh({name:e},n){return this.client.get(`meshes/${e}`,{params:n})}getAllMeshInsights(e){return this.client.get("mesh-insights",{params:e})}getMeshInsights({name:e},n){return this.client.get(`mesh-insights/${e}`,{params:n})}getAllDataplanes(e){return this.client.get("dataplanes",{params:e})}getDataplaneFromMesh({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}`,{params:r})}getAllDataplaneOverviews(e){return this.client.get("dataplanes+insights",{params:e})}getAllDataplaneOverviewsFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/dataplanes+insights`,{params:n})}getDataplaneOverviewFromMesh({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes+insights/${n}`,{params:r})}getSidecarDataplanePolicies({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/policies`,{params:r})}getMeshGatewayDataplane({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/policies`,{params:r})}getDataplaneRules({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/rules`,{params:r})}getDataplaneData({mesh:e,dppName:n,dataPath:r},s){return this.client.get(`meshes/${e}/dataplanes/${n}/${r}`,{params:s})}getAllServiceInsights(e){return this.client.get("service-insights",{params:e})}getAllServiceInsightsFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/service-insights`,{params:n})}getServiceInsight({mesh:e,name:n},r){return this.client.get(`meshes/${e}/service-insights/${n}`,{params:r})}getAllExternalServices(e){return this.client.get("external-services",{params:e})}getAllExternalServicesFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/external-services`,{params:n})}getExternalService({mesh:e,name:n},r){return this.client.get(`meshes/${e}/external-services/${n}`,{params:r})}getPolicyConnections({mesh:e,policyType:n,policyName:r},s){return this.client.get(`meshes/${e}/${n}/${r}/dataplanes`,{params:s})}getAllPolicyEntities({path:e},n){return this.client.get(e,{params:n})}getAllPolicyEntitiesFromMesh({mesh:e,path:n},r){return this.client.get(`meshes/${e}/${n}`,{params:r})}getSinglePolicyEntity({mesh:e,path:n,name:r},s){return this.client.get(`meshes/${e}/${n}/${r}`,{params:s})}}function F(t,e=0){const n=_o(t);return n!==void 0?parseInt(n):e}function _o(t){const e=Array.isArray(t)?t:[t];return e[e.length-1]??void 0}const An=t=>[{path:"/404",name:"not-found",alias:"/:pathMatch(.*)*",meta:{title:"Item not found"},component:()=>m(()=>import("./AppNotFoundView-a4a43ebc.js"),[],import.meta.url)},{path:"/",name:"home",meta:{title:"Overview"},component:()=>m(()=>import("./MainOverviewView-76b8f762.js"),["./DoughnutChart-e178dd9d.css","./index-b9adc2de.css","./MeshResources-b0bd4417.css"],import.meta.url)},{path:"/diagnostics",name:"diagnostics",meta:{title:"Diagnostics"},component:()=>m(()=>import("./DiagnosticsView-ce017ce2.js"),["./CodeBlock-7d9027b4.css"],import.meta.url)},{path:"/zones",name:"zones",meta:{title:"Zones"},props:e=>({selectedZoneName:e.query.zone,offset:F(e.query.offset)}),component:()=>m(()=>import("./ZonesView-9d137243.js"),["./AccordionItem-2e8063db.css","./CodeBlock-7d9027b4.css","./ErrorBlock-180e9f40.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./LabelList-82c1e9de.css","./SubscriptionHeader-da67a0ee.css","./TabsWidget-4d82abdb.css"],import.meta.url)},{path:"/zone-ingresses",name:"zoneingresses",meta:{title:"Zone ingresses"},props:e=>({selectedZoneIngressName:e.query.zoneIngress,offset:F(e.query.offset)}),component:()=>m(()=>import("./ZoneIngresses-c622d691.js"),["./AccordionItem-2e8063db.css","./ErrorBlock-180e9f40.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./EnvoyData-55ab94cb.css","./LabelList-82c1e9de.css","./SubscriptionHeader-da67a0ee.css","./TabsWidget-4d82abdb.css"],import.meta.url)},{path:"/zoneegresses",name:"zoneegresses",meta:{title:"Zone egresses"},props:e=>({selectedZoneEgressName:e.query.zoneEgress,offset:F(e.query.offset)}),component:()=>m(()=>import("./ZoneEgresses-04743e63.js"),["./AccordionItem-2e8063db.css","./ErrorBlock-180e9f40.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./EnvoyData-55ab94cb.css","./LabelList-82c1e9de.css","./SubscriptionHeader-da67a0ee.css","./TabsWidget-4d82abdb.css"],import.meta.url)},{path:"/mesh/:mesh",children:[{path:"",name:"mesh-detail-view",meta:{title:"Mesh overview"},component:()=>m(()=>import("./MeshOverviewView-6b7c5858.js"),["./ContentWrapper-fe2d0f8d.css","./DoughnutChart-e178dd9d.css","./MeshResources-b0bd4417.css","./ErrorBlock-180e9f40.css","./LabelList-82c1e9de.css","./CodeBlock-7d9027b4.css","./MeshOverviewView-d74d8263.css"],import.meta.url)},{path:"gateways",children:[{path:"",name:"gateway-list-view",meta:{title:"Gateways"},props:e=>({selectedDppName:e.query.gateway,gatewayType:e.query.gatewayType==="all"?"true":e.query.gatewayType,offset:F(e.query.offset),isGatewayView:!0}),component:()=>m(()=>import("./DataPlaneListView-c3ad401b.js"),["./ContentWrapper-fe2d0f8d.css","./ErrorBlock-180e9f40.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./DataPlaneList-d74cf059.css","./DataPlaneListView-c9bf2e34.css"],import.meta.url)},{path:":dataPlane",name:"gateway-detail-view",meta:{title:"Gateway",parent:"gateway-list-view",breadcrumbTitleParam:"dataPlane"},component:()=>m(()=>import("./DataPlaneDetailView-87bfa650.js"),["./AccordionItem-2e8063db.css","./CodeBlock-7d9027b4.css","./TagList-27d87a7b.css","./ErrorBlock-180e9f40.css","./EnvoyData-55ab94cb.css","./LabelList-82c1e9de.css","./StatusBadge-43351938.css","./TabsWidget-4d82abdb.css","./SubscriptionHeader-da67a0ee.css","./DataPlaneDetailView-230a138b.css"],import.meta.url)}]},{path:"data-planes",children:[{path:"",name:"data-plane-list-view",meta:{title:"Data plane proxies"},props:e=>({selectedDppName:e.query.dpp,offset:F(e.query.offset)}),component:()=>m(()=>import("./DataPlaneListView-c3ad401b.js"),["./ContentWrapper-fe2d0f8d.css","./ErrorBlock-180e9f40.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./DataPlaneList-d74cf059.css","./DataPlaneListView-c9bf2e34.css"],import.meta.url)},{path:":dataPlane",name:"data-plane-detail-view",meta:{title:"Data plane proxy",parent:"data-plane-list-view",breadcrumbTitleParam:"dataPlane"},component:()=>m(()=>import("./DataPlaneDetailView-87bfa650.js"),["./AccordionItem-2e8063db.css","./CodeBlock-7d9027b4.css","./TagList-27d87a7b.css","./ErrorBlock-180e9f40.css","./EnvoyData-55ab94cb.css","./LabelList-82c1e9de.css","./StatusBadge-43351938.css","./TabsWidget-4d82abdb.css","./SubscriptionHeader-da67a0ee.css","./DataPlaneDetailView-230a138b.css"],import.meta.url)}]},{path:"services",children:[{path:"",name:"service-list-view",meta:{title:"Services"},props:e=>({selectedServiceName:e.query.service,offset:F(e.query.offset)}),component:()=>m(()=>import("./ServiceListView-871abc31.js"),["./ContentWrapper-fe2d0f8d.css","./ErrorBlock-180e9f40.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./ServiceSummary-af890f41.css"],import.meta.url)},{path:":service",name:"service-detail-view",meta:{title:"Internal service",parent:"service-list-view",breadcrumbTitleParam:"service"},props:e=>({selectedDppName:e.query.dpp}),component:()=>m(()=>import("./ServiceDetailView-7adc71d6.js"),["./ErrorBlock-180e9f40.css","./ContentWrapper-fe2d0f8d.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./DataPlaneList-d74cf059.css","./ServiceSummary-af890f41.css"],import.meta.url)}]},{path:"policies",name:"policies",meta:{title:"Policies"},redirect:e=>{let n=t.state.policyTypes.find(r=>t.state.sidebar.insights.mesh.policies[r.name]!==0);return n===void 0&&(n=t.state.policyTypes[0]),{...e,params:{...e.params,policyPath:n.path},name:"policy"}}},{path:"policies/:policyPath",name:"policy",meta:{parent:"policies"},component:()=>m(()=>import("./PolicyView-2f481689.js"),["./ErrorBlock-180e9f40.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./LabelList-82c1e9de.css","./TabsWidget-4d82abdb.css","./CodeBlock-7d9027b4.css","./PolicyView-143a82ea.css"],import.meta.url),props:e=>{const n=t.state.policyTypesByPath[e.params.policyPath];return e.meta.title=n.name,{policyPath:e.params.policyPath,selectedPolicyName:e.query.policy,offset:F(e.query.offset)}}}]},{path:"/onboarding",redirect:{name:"onboarding-welcome"},component:()=>m(()=>import("./ShellEmpty-4863ee06.js"),["./ShellEmpty-6642bce4.css"],import.meta.url),children:[{path:"welcome",name:"onboarding-welcome",meta:{title:"Welcome to Kuma!",onboardingProcess:!0},component:()=>m(()=>import("./WelcomeView-22a8967a.js"),["./OnboardingNavigation-8e0e24c9.css","./DoughnutChart-e178dd9d.css","./index-b9adc2de.css","./WelcomeView-37f76905.css"],import.meta.url)},{path:"deployment-types",name:"onboarding-deployment-types",meta:{title:"Deployment Types",onboardingProcess:!0},component:()=>m(()=>import("./DeploymentTypes-a6216803.js"),["./OnboardingNavigation-8e0e24c9.css","./OnboardingPage-b97c066f.css","./DoughnutChart-e178dd9d.css","./index-b9adc2de.css","./DeploymentTypes-a1e8f6b0.css"],import.meta.url)},{path:"configuration-types",name:"onboarding-configuration-types",meta:{title:"Configuration Types",onboardingProcess:!0},component:()=>m(()=>import("./ConfigurationTypes-78dc9474.js"),["./OnboardingNavigation-8e0e24c9.css","./OnboardingPage-b97c066f.css","./DoughnutChart-e178dd9d.css","./index-b9adc2de.css","./ConfigurationTypes-bc631726.css"],import.meta.url)},{path:"multi-zone",name:"onboarding-multi-zone",meta:{title:"Multizone",onboardingProcess:!0},component:()=>m(()=>import("./MultiZoneView-fb316253.js"),["./LoadingBox-c2da9e95.css","./OnboardingNavigation-8e0e24c9.css","./OnboardingPage-b97c066f.css"],import.meta.url)},{path:"create-mesh",name:"onboarding-create-mesh",meta:{title:"Create the Mesh",onboardingProcess:!0},component:()=>m(()=>import("./CreateMesh-ada582a0.js"),["./OnboardingNavigation-8e0e24c9.css","./OnboardingPage-b97c066f.css"],import.meta.url)},{path:"add-services",name:"onboarding-add-services",meta:{title:"Add new services",onboardingProcess:!0},component:()=>m(()=>import("./AddNewServices-f112abc2.js"),["./OnboardingNavigation-8e0e24c9.css","./OnboardingPage-b97c066f.css","./AddNewServices-1b605ca2.css"],import.meta.url)},{path:"add-services-code",name:"onboarding-add-services-code",meta:{title:"Add new services",onboardingProcess:!0},component:()=>m(()=>import("./AddNewServicesCode-d54877db.js"),["./CodeBlock-7d9027b4.css","./LoadingBox-c2da9e95.css","./OnboardingNavigation-8e0e24c9.css","./OnboardingPage-b97c066f.css"],import.meta.url)},{path:"dataplanes-overview",name:"onboarding-dataplanes-overview",meta:{title:"Data plane overview",onboardingProcess:!0},component:()=>m(()=>import("./DataplanesOverview-8d3c6572.js"),["./LoadingBox-c2da9e95.css","./StatusBadge-43351938.css","./OnboardingNavigation-8e0e24c9.css","./OnboardingPage-b97c066f.css","./DataplanesOverview-0c89c176.css"],import.meta.url)},{path:"completed",name:"onboarding-completed",meta:{title:"Completed",onboardingProcess:!0},component:()=>m(()=>import("./CompletedView-bf12a18e.js"),["./OnboardingNavigation-8e0e24c9.css","./OnboardingPage-b97c066f.css"],import.meta.url)}]},{path:"/wizard",name:"wizard",children:[{path:"mesh",name:"create-mesh",meta:{title:"Create a new mesh",wizardProcess:!0},component:()=>m(()=>import("./MeshWizard-ea4ba006.js"),["./CodeBlock-7d9027b4.css","./StepSkeleton-4161d6eb.css","./ErrorBlock-180e9f40.css","./TabsWidget-4d82abdb.css","./MeshWizard-bd986a8d.css"],import.meta.url)},{path:"kubernetes-dataplane",name:"kubernetes-dataplane",meta:{title:"Create a new data plane proxy on Kubernetes",wizardProcess:!0},component:()=>m(()=>import("./DataplaneKubernetes-67c8e744.js"),["./CodeBlock-7d9027b4.css","./StepSkeleton-4161d6eb.css","./EnvironmentSwitcher-8d17c23e.css","./DataplaneKubernetes-bad15b66.css"],import.meta.url)},{path:"universal-dataplane",name:"universal-dataplane",meta:{title:"Create a new data plane proxy on Universal",wizardProcess:!0},component:()=>m(()=>import("./DataplaneUniversal-41347109.js"),["./CodeBlock-7d9027b4.css","./StepSkeleton-4161d6eb.css","./EnvironmentSwitcher-8d17c23e.css","./DataplaneUniversal-451f0c43.css"],import.meta.url)}]}];function To(t,e){const n=t?[{name:"Zones",categoryTier:"primary"},{name:"Zone CPs",routeName:"zones",insightsFieldAccessor:"global.Zone"},{name:"Zone Ingresses",routeName:"zoneingresses",insightsFieldAccessor:"global.ZoneIngress"},{name:"Zone Egresses",routeName:"zoneegresses",insightsFieldAccessor:"global.ZoneEgress"}]:[],r=e?[{name:"Mesh",categoryTier:"primary"},{name:"Mesh selector",isMeshSelector:!0},{name:"Overview",routeName:"mesh-detail-view",usesMeshParam:!0},{name:"Services",routeName:"service-list-view",insightsFieldAccessor:"mesh.services.total",usesMeshParam:!0},{name:"Gateways",routeName:"gateway-list-view",usesMeshParam:!0,insightsFieldAccessor:"mesh.dataplanes.gateway"},{name:"Data Plane Proxies",routeName:"data-plane-list-view",usesMeshParam:!0,insightsFieldAccessor:"mesh.dataplanes.standard"},{name:"Policies",routeName:"policies",usesMeshParam:!0,insightsFieldAccessor:"mesh.policies.total"}]:[];return[{name:"Home",routeName:"home",shouldOffsetFromFollowingItems:!0},...n,...r]}const bo=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var wn=bo;const Io="2.0.0",Oo=256,Ro=Number.MAX_SAFE_INTEGER||9007199254740991,Co=16;var Ln={SEMVER_SPEC_VERSION:Io,MAX_LENGTH:Oo,MAX_SAFE_INTEGER:Ro,MAX_SAFE_COMPONENT_LENGTH:Co},Me={},Ao={get exports(){return Me},set exports(t){Me=t}};(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n}=Ln,r=wn;e=t.exports={};const s=e.re=[],i=e.src=[],o=e.t={};let c=0;const a=(u,l,p)=>{const v=c++;r(u,v,l),o[u]=v,i[v]=l,s[v]=new RegExp(l,p?"g":void 0)};a("NUMERICIDENTIFIER","0|[1-9]\\d*"),a("NUMERICIDENTIFIERLOOSE","[0-9]+"),a("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),a("MAINVERSION",`(${i[o.NUMERICIDENTIFIER]})\\.(${i[o.NUMERICIDENTIFIER]})\\.(${i[o.NUMERICIDENTIFIER]})`),a("MAINVERSIONLOOSE",`(${i[o.NUMERICIDENTIFIERLOOSE]})\\.(${i[o.NUMERICIDENTIFIERLOOSE]})\\.(${i[o.NUMERICIDENTIFIERLOOSE]})`),a("PRERELEASEIDENTIFIER",`(?:${i[o.NUMERICIDENTIFIER]}|${i[o.NONNUMERICIDENTIFIER]})`),a("PRERELEASEIDENTIFIERLOOSE",`(?:${i[o.NUMERICIDENTIFIERLOOSE]}|${i[o.NONNUMERICIDENTIFIER]})`),a("PRERELEASE",`(?:-(${i[o.PRERELEASEIDENTIFIER]}(?:\\.${i[o.PRERELEASEIDENTIFIER]})*))`),a("PRERELEASELOOSE",`(?:-?(${i[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[o.PRERELEASEIDENTIFIERLOOSE]})*))`),a("BUILDIDENTIFIER","[0-9A-Za-z-]+"),a("BUILD",`(?:\\+(${i[o.BUILDIDENTIFIER]}(?:\\.${i[o.BUILDIDENTIFIER]})*))`),a("FULLPLAIN",`v?${i[o.MAINVERSION]}${i[o.PRERELEASE]}?${i[o.BUILD]}?`),a("FULL",`^${i[o.FULLPLAIN]}$`),a("LOOSEPLAIN",`[v=\\s]*${i[o.MAINVERSIONLOOSE]}${i[o.PRERELEASELOOSE]}?${i[o.BUILD]}?`),a("LOOSE",`^${i[o.LOOSEPLAIN]}$`),a("GTLT","((?:<|>)?=?)"),a("XRANGEIDENTIFIERLOOSE",`${i[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),a("XRANGEIDENTIFIER",`${i[o.NUMERICIDENTIFIER]}|x|X|\\*`),a("XRANGEPLAIN",`[v=\\s]*(${i[o.XRANGEIDENTIFIER]})(?:\\.(${i[o.XRANGEIDENTIFIER]})(?:\\.(${i[o.XRANGEIDENTIFIER]})(?:${i[o.PRERELEASE]})?${i[o.BUILD]}?)?)?`),a("XRANGEPLAINLOOSE",`[v=\\s]*(${i[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[o.XRANGEIDENTIFIERLOOSE]})(?:${i[o.PRERELEASELOOSE]})?${i[o.BUILD]}?)?)?`),a("XRANGE",`^${i[o.GTLT]}\\s*${i[o.XRANGEPLAIN]}$`),a("XRANGELOOSE",`^${i[o.GTLT]}\\s*${i[o.XRANGEPLAINLOOSE]}$`),a("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),a("COERCERTL",i[o.COERCE],!0),a("LONETILDE","(?:~>?)"),a("TILDETRIM",`(\\s*)${i[o.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",a("TILDE",`^${i[o.LONETILDE]}${i[o.XRANGEPLAIN]}$`),a("TILDELOOSE",`^${i[o.LONETILDE]}${i[o.XRANGEPLAINLOOSE]}$`),a("LONECARET","(?:\\^)"),a("CARETTRIM",`(\\s*)${i[o.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",a("CARET",`^${i[o.LONECARET]}${i[o.XRANGEPLAIN]}$`),a("CARETLOOSE",`^${i[o.LONECARET]}${i[o.XRANGEPLAINLOOSE]}$`),a("COMPARATORLOOSE",`^${i[o.GTLT]}\\s*(${i[o.LOOSEPLAIN]})$|^$`),a("COMPARATOR",`^${i[o.GTLT]}\\s*(${i[o.FULLPLAIN]})$|^$`),a("COMPARATORTRIM",`(\\s*)${i[o.GTLT]}\\s*(${i[o.LOOSEPLAIN]}|${i[o.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",a("HYPHENRANGE",`^\\s*(${i[o.XRANGEPLAIN]})\\s+-\\s+(${i[o.XRANGEPLAIN]})\\s*$`),a("HYPHENRANGELOOSE",`^\\s*(${i[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[o.XRANGEPLAINLOOSE]})\\s*$`),a("STAR","(<|>)?=?\\s*\\*"),a("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),a("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ao,Me);const wo=["includePrerelease","loose","rtl"],Lo=t=>t?typeof t!="object"?{loose:!0}:wo.filter(e=>t[e]).reduce((e,n)=>(e[n]=!0,e),{}):{};var No=Lo;const Ct=/^[0-9]+$/,Nn=(t,e)=>{const n=Ct.test(t),r=Ct.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},Mo=(t,e)=>Nn(e,t);var Do={compareIdentifiers:Nn,rcompareIdentifiers:Mo};const _e=wn,{MAX_LENGTH:At,MAX_SAFE_INTEGER:Te}=Ln,{re:wt,t:Lt}=Me,Po=No,{compareIdentifiers:Y}=Do;let A=class{constructor(e,n){if(n=Po(n),e instanceof A){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>At)throw new TypeError(`version is longer than ${At} characters`);_e("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?wt[Lt.LOOSE]:wt[Lt.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Te||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Te||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Te||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<Te)return i}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(_e("SemVer.compare",this.version,this.options,e),!(e instanceof A)){if(typeof e=="string"&&e===this.version)return 0;e=new A(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof A||(e=new A(e,this.options)),Y(this.major,e.major)||Y(this.minor,e.minor)||Y(this.patch,e.patch)}comparePre(e){if(e instanceof A||(e=new A(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],s=e.prerelease[n];if(_e("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return Y(r,s)}while(++n)}compareBuild(e){e instanceof A||(e=new A(e,this.options));let n=0;do{const r=this.build[n],s=e.build[n];if(_e("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return Y(r,s)}while(++n)}inc(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(Y(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};var xo=A;const Nt=xo,Uo=(t,e,n)=>new Nt(t,n).compare(new Nt(e,n));var qe=Uo;class ko{constructor(e){O(this,"storageAdapter");this.storageAdapter=e}get(e){let n;try{n=this.storageAdapter.getItem(e)}catch{return null}if(n===null||!(n.startsWith("[")||n.startsWith("{")))return n;try{return JSON.parse(n)}catch{return n}}set(e,n){try{const r=typeof n=="string"?n:JSON.stringify(n);this.storageAdapter.setItem(e,r)}catch{}}has(e){try{return this.storageAdapter.getItem(e)!==null}catch{return!1}}remove(e){try{this.storageAdapter.removeItem(e)}catch{}}}const P=new ko(window.localStorage);function Mn(t,e,n=void 0){if(typeof t!="object"||Array.isArray(t))return n;const r=e.indexOf(".");if(r===-1)return t[e]===void 0?n:t[e];const s=e.substring(0,r),i=e.substring(r+1);return Mn(t[s],i,n)}const $o=new Intl.DateTimeFormat("en-US",{dateStyle:"long"}),Bo=new Intl.DateTimeFormat("en-US",{dateStyle:"long",timeStyle:"medium"});function Fo(t){const e=new Date(Date.parse(t)),n=Math.floor((Date.now()-e.getTime())/1e3);return n<=1?"just now":n<20?`${n} seconds ago`:n<40?"half a minute ago":n<60?"less than a minute ago":n<=90?"one minute ago":n<=3540?`${Math.round(n/60)} minutes ago`:n<=5400?"1 hour ago":n<=86400?`${Math.round(n/3600)} hours ago`:n<=129600?"1 day ago":n<604800?`${Math.round(n/86400)} days ago`:n<=777600?"1 week ago":$o.format(e)}function Sa(t){const e=new Date(Date.parse(t));return Bo.format(e)}function ya(t,e){const n=t&&typeof t=="object"&&t.constructor===Array?Object.assign({},...t):t;return e.reduce((r,s)=>({...r,[s]:n[s]}),{})}function _a(t){const{creationTime:e,modificationTime:n,...r}=t;return r}function Ta(t){const e=t.replace(/[^a-zA-Z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();return t?e:""}async function be(t){try{let e=null,n=0,r=[];for(;;){const s={size:Xe,offset:n},{total:i,items:o,next:c}=await t(s);if(Array.isArray(o)&&(r=r.concat(o)),e===null&&(e=i),i!==e)throw new Error('Mismatch between "total" values between requests');if(!c)break;n+=Xe}return{total:e,items:r}}catch(e){throw new Error(`Resource fetching failed: ${e}`)}}function ba(t){var n;const e=((n=t==null?void 0:t.zoneInsight)==null?void 0:n.subscriptions.length)??0;if(e&&t.zoneInsight.subscriptions[e-1].config){const r=JSON.parse(t.zoneInsight.subscriptions[e-1].config);return Mn(r,"dpServer.auth.type",ht)}return ht}const Dn=(t={},e={})=>{const n=t.online||0,r=e.online||0,s=t.partiallyDegraded||0,i=e.partiallyDegraded||0,o=t.total||0,c=e.total||0;return{online:n+r,partiallyDegraded:s+i,total:o+c}},dt=()=>({CircuitBreaker:{total:0},FaultInjection:{total:0},HealthCheck:{total:0},MeshAccessLog:{total:0},MeshGateway:{total:0},MeshGatewayRoute:{total:0},MeshTrace:{total:0},MeshTrafficPermission:{total:0},ProxyTemplate:{total:0},RateLimit:{total:0},Retry:{total:0},Timeout:{total:0},TrafficLog:{total:0},TrafficPermission:{total:0},TrafficRoute:{total:0},TrafficTrace:{total:0},VirtualOutbound:{total:0}}),Go=(t=dt(),e={})=>Object.entries(e).reduce((n,[r,s])=>{const i=n[r]?n[r].total:0;return{...n,[r]:{total:i+s.total}}},t),Mt=(t={},e={})=>Object.entries(e).reduce((n,[r,s])=>({...n,[r]:Dn(n[r],s)}),t),Vo=(t={},e={})=>({kumaDp:Mt(t.kumaDp,e.kumaDp),envoy:Mt(t.envoy,e.envoy)});function Pn(){return{meshesTotal:0,dataplanes:{online:0,partiallyDegraded:0,total:0},policies:dt(),dpVersions:{kumaDp:{},envoy:{}}}}function Ho(t={}){return xn([t])}function xn(t=[]){return t.reduce((e,n)=>({meshesTotal:t.length,dataplanes:Dn(e.dataplanes,n.dataplanes),policies:Go(e.policies,n.policies),dpVersions:Vo(e.dpVersions,n.dpVersions)}),{meshesTotal:0,dataplanes:{online:0,partiallyDegraded:0,total:0},policies:dt(),dpVersions:{kumaDp:{},envoy:{}}})}function Ia(t){let e=[];t.networking.inbound&&(e=t.networking.inbound.filter(r=>"tags"in r).flatMap(r=>Object.entries(r.tags)).map(([r,s])=>`${r}=${s}`)),t.networking.gateway&&(e=Object.entries(t.networking.gateway.tags).map(([r,s])=>`${r}=${s}`));const n=Array.from(new Set(e));return n.sort((r,s)=>r.localeCompare(s)),n.map(r=>r.split("=")).map(([r,s])=>({label:r,value:s}))}function Un(t={subscriptions:[]}){return(t.subscriptions??[]).some(n=>{var r;return((r=n.connectTime)==null?void 0:r.length)&&!n.disconnectTime})?"online":"offline"}function Oa(t,e={subscriptions:[]}){const n=t.networking.inbound??[],r=n.filter(i=>i.health&&!i.health.ready).map(i=>`Inbound on port ${i.port} is not ready (kuma.io/service: ${i.tags["kuma.io/service"]})`);let s;switch(!0){case n.length===0:s="online";break;case r.length===n.length:s="offline";break;case r.length>0:s="partially_degraded";break;default:s=Un(e)}return{status:s,reason:r}}function Ra(t){if(t===void 0||t.subscriptions.length===0)return null;const e={},n=t.subscriptions[t.subscriptions.length-1];return n.version===void 0?null:(n.version.envoy&&(e.envoy=n.version.envoy.version),n.version.kumaDp&&(e.kumaDp=n.version.kumaDp.version),n.version.dependencies&&Object.entries(n.version.dependencies).forEach(([r,s])=>{e[r]=s}),e)}function Ca(t){if(t.dataplaneInsight===void 0||t.dataplaneInsight.mTLS===void 0)return null;const{mTLS:e}=t.dataplaneInsight,n=new Date(e.certificateExpirationTime),r=new Date(n.getTime()+n.getTimezoneOffset()*6e4);return{certificateExpirationTime:{label:"Expiration Time",value:`${r.toLocaleDateString("en-US")} ${r.getHours()}:${r.getMinutes()}:${r.getSeconds()}`},lastCertificateRegeneration:{label:"Last Generated",value:Fo(e.lastCertificateRegeneration)},certificateRegenerations:{label:"Regenerations",value:e.certificateRegenerations}}}function Aa(t){var r,s;return((r=t.kumaDp)==null?void 0:r.kumaCpCompatible)??!0?((s=t.envoy)==null?void 0:s.kumaDpCompatible)??!0?{kind:jo}:{kind:Ko,payload:{envoy:t.envoy.version,kumaDp:t.kumaDp.version}}:{kind:zo,payload:{kumaDp:t.kumaDp.version}}}const jo="COMPATIBLE",wa="INCOMPATIBLE_ZONE_CP_AND_KUMA_DP_VERSIONS",La="INCOMPATIBLE_ZONE_AND_GLOBAL_CPS_VERSIONS",zo="INCOMPATIBLE_UNSUPPORTED_KUMA_DP",Ko="INCOMPATIBLE_UNSUPPORTED_ENVOY",Na="INCOMPATIBLE_WRONG_FORMAT",qo={status:null,tagline:null,version:null,kumaDocsVersion:"latest",clientConfig:null},Xo={SET_CONFIG_DATA:(t,e)=>t.clientConfig=e,SET_STATUS:(t,e)=>t.status=e,SET_TAGLINE:(t,e)=>t.tagline=e,SET_VERSION:(t,e)=>t.version=e,SET_KUMA_DOCS_VERSION:(t,e)=>t.kumaDocsVersion=e},Yo={getStatus:t=>t.status,getConfig:t=>t.clientConfig,getEnvironment:t=>{var e;return(e=t.clientConfig)==null?void 0:e.environment},getMode:t=>{var e;return(e=t.clientConfig)==null?void 0:e.mode},getTagline:t=>t.tagline,getVersion:t=>t.version,getKumaDocsVersion:t=>t.kumaDocsVersion,getConfigurationType:t=>{var e,n;return(n=(e=t.clientConfig)==null?void 0:e.store)==null?void 0:n.type},getMulticlusterStatus:(t,e)=>({}).VITE_FAKE_MULTIZONE==="true"?(console.warn("%c You are currently faking Multi-Zone mode.","background: black; color: white; display: block; padding: 0.25rem;"),!0):e.getMode==="global"},Wo=t=>({bootstrapConfig({dispatch:e}){const n=e("getInfo"),r=e("getConfig");return Promise.all([n,r])},getConfig({commit:e}){return t.getConfig().then(n=>{e("SET_CONFIG_DATA",n)})},getStatus({commit:e}){return t.getStatus().then(n=>{e("SET_STATUS",n)})},getInfo({commit:e}){return t.getInfo().then(n=>{e("SET_TAGLINE",n.tagline),e("SET_VERSION",n.version);let r;const s=n.basedOnKuma??n.version,i=s.indexOf("-preview.");if(i!==-1){const o=s.substring(0,i);r=o==="0.0.0"?"dev":o.replace(/\.\d+$/,".x")}else r=s.replace(/\.\d+$/,".x");e("SET_KUMA_DOCS_VERSION",r)}).catch(n=>{console.error(n)})}}),Zo=t=>({namespaced:!0,state:()=>qo,getters:Yo,mutations:Xo,actions:Wo(t)}),Jo={isOpen:!1},Qo={OPEN_MODAL:t=>t.isOpen=!0,CLOSE_MODAL:t=>t.isOpen=!1},ea={meshNotificationItemMap(t,e,n){var i;return(((i=n.meshes)==null?void 0:i.items)||[]).reduce((o,c)=>(o[c.name]={hasLogging:Boolean(c.logging),hasMtls:Boolean(c.mtls),hasMetrics:Boolean(c.metrics),hasTracing:Boolean(c.tracing)},o),{})},meshNotificationItemMapWithAction(t,e){const n=e.meshNotificationItemMap;return Object.entries(n).reduce((r,[s,i])=>(Object.values(i).some(c=>!c)&&(r[s]=i),r),{})},singleMeshNotificationItems(t,e,n,r){if(n.selectedMesh===null)return[];const s=e.meshNotificationItemMap[n.selectedMesh],i=Object.entries(r.getMeshInsight.policies).filter(([c,a])=>["MeshAccessLog","MeshTrace"].includes(c)).some(([c,a])=>a.total>0),o=[{name:"Observability, Metrics & Service Map",component:"MetricsNotification",isCompleted:s.hasMetrics},{name:"Logging",component:"LoggingNotification",isCompleted:s.hasLogging||i},{name:"Zero-trust security",component:"MtlsNotification",isCompleted:s.hasMtls},{name:"Tracing",component:"TracingNotification",isCompleted:s.hasTracing}];return o.sort((c,a)=>+c.isCompleted-+a.isCompleted),o},amountOfActions(t,e){return Object.keys(e.meshNotificationItemMapWithAction).length}},ta={openModal({commit:t}){t("OPEN_MODAL")},closeModal({commit:t}){t("CLOSE_MODAL")}},na={namespaced:!0,state:()=>Jo,getters:ea,mutations:Qo,actions:ta},ra={isCompleted:P.get("onboardingIsCompleted")==="true",step:P.get("onboardingStep")||"onboarding-welcome",mode:"demo"},sa={SET_STEP:(t,e)=>t.step=e,SET_IS_COMPLETED:(t,e)=>t.isCompleted=e,UPDATE_MODE:(t,e)=>t.mode=e},ia={completeOnboarding({commit:t,dispatch:e}){e("fetchDataplaneTotalCount",null,{root:!0}),e("sidebar/getInsights",null,{root:!0}),t("SET_IS_COMPLETED",!0),P.set("onboardingIsCompleted","true"),P.remove("onboardingStep")},changeStep({commit:t},e){t("SET_STEP",e),P.set("onboardingStep",e)},changeMode({commit:t},e){t("UPDATE_MODE",e)}},oa={namespaced:!0,state:()=>ra,mutations:sa,actions:ia};function Dt(t){const e=t.items.reduce((n,{dataplanes:r,dataplanesByType:s,policies:i,services:o})=>{var c,a;n.services.internal+=o.internal||0,n.services.external+=o.external||0,n.services.total+=o.total||0,n.dataplanes.total+=r.total||0,n.dataplanes.standard+=((c=s.standard)==null?void 0:c.total)||0,n.dataplanes.gateway+=((a=s.gateway)==null?void 0:a.total)||0;for(const[u,l]of Object.entries(i))n.policies[u]||(n.policies[u]=0),n.policies[u]+=l.total||0;return n},{services:{total:0,internal:0,external:0},dataplanes:{total:0,standard:0,gateway:0},policies:{}});return e.policies.total=Object.values(e.policies).reduce((n,r)=>n+r,0),e}function aa(t){return Object.entries(t.resources).reduce((e,[n,r])=>(e[n]||(e[n]=0),e[n]+=r.total||0,e),{})}const ca={insights:{global:{},mesh:{services:{total:0,internal:0,external:0},dataplanes:{total:0,standard:0,gateway:0},policies:{}}}},ua={SET_GLOBAL_INSIGHTS:(t,e)=>t.insights.global=e,SET_MESH_INSIGHTS:(t,e)=>t.insights.mesh=e},la=t=>({getInsights({dispatch:e}){return Promise.all([e("getGlobalInsights"),e("getMeshInsights")])},async getMeshInsights({commit:e,rootState:n}){if(n.selectedMesh===null)return;let r;try{const s=await t.getMeshInsights({name:n.selectedMesh});r=Dt({items:[s]})}catch{r=Dt({items:[]})}e("SET_MESH_INSIGHTS",r)},async getGlobalInsights({commit:e}){const n=await t.getGlobalInsights(),r=aa(n);e("SET_GLOBAL_INSIGHTS",r)}}),fa=t=>({namespaced:!0,state:()=>ca,mutations:ua,actions:la(t)}),Pt="Online",xt="Offline",da="Partially degraded",ha={menu:null,globalLoading:!0,pageTitle:"",meshes:{total:0,items:[],next:null},selectedMesh:"default",totalDataplaneCount:0,version:"",itemQueryNamespace:"item",totalClusters:0,serviceSummary:{total:0,internal:{total:0,online:0,offline:0,partiallyDegraded:0},external:{total:0}},overviewCharts:{dataplanes:{data:[]},meshes:{data:[]},services:{data:[]},policies:{data:[]},zones:{data:[]},zonesCPVersions:{data:[]},kumaDPVersions:{data:[]},envoyVersions:{data:[]}},meshInsight:Pn(),meshInsightsFetching:!1,serviceInsightsFetching:!1,externalServicesFetching:!1,zonesInsightsFetching:!1,policyTypes:[],policyTypesByPath:{},policyTypesByName:{}},kn=t=>({modules:{sidebar:fa(t),config:Zo(t),notifications:na,onboarding:oa},state:()=>ha,getters:{globalLoading:e=>e.globalLoading,getMeshList:e=>e.meshes,getItemQueryNamespace:e=>e.itemQueryNamespace,getMeshInsight:e=>e.meshInsight,getMeshInsightsFetching:e=>e.meshInsightsFetching,getServiceInsightsFetching:e=>e.serviceInsightsFetching,getExternalServicesFetching:e=>e.externalServicesFetching,getResourceFetching:({meshInsightsFetching:e,serviceInsightsFetching:n,externalServicesFetching:r})=>e||n||r,getServiceResourcesFetching:({serviceInsightsFetching:e,externalServicesFetching:n})=>e||n,getZonesInsightsFetching:({zonesInsightsFetching:e})=>e,getChart:e=>(n,{title:r,subtitle:s=void 0,showTotal:i=!1,isStatusChart:o=!1})=>({title:r,subtitle:s,showTotal:i,isStatusChart:o,dataPoints:e.overviewCharts[n].data}),shouldSuggestOnboarding:e=>{const n=e.meshes.items.length===1&&e.meshes.items[0].name==="default";return e.totalDataplaneCount===0&&n}},mutations:{SET_GLOBAL_LOADING:(e,n)=>e.globalLoading=n,SET_PAGE_TITLE:(e,n)=>e.pageTitle=n,SET_MESHES:(e,n)=>e.meshes=n,SET_SELECTED_MESH:(e,n)=>e.selectedMesh=n,SET_TOTAL_DATAPLANE_COUNT:(e,n)=>e.totalDataplaneCount=n,SET_TOTAL_CLUSTER_COUNT:(e,n)=>e.totalClusters=n,SET_INTERNAL_SERVICE_SUMMARY:(e,{items:n=[]})=>{const r={online:0,partially_degraded:0,offline:0,not_available:0},{online:s,offline:i,partially_degraded:o}=n.reduce((a,{status:u="offline"})=>({...a,[u]:a[u]+1}),r),c=s+i+o;e.serviceSummary.internal={...e.serviceSummary.internal,total:c,online:s,partiallyDegraded:o,offline:i},e.serviceSummary.total=e.serviceSummary.external.total+c},SET_EXTERNAL_SERVICE_SUMMARY:(e,{total:n=0})=>{e.serviceSummary.external.total=n,e.serviceSummary.total=e.serviceSummary.internal.total+n},SET_MESH_INSIGHT:(e,n)=>e.meshInsight=Ho(n),SET_MESH_INSIGHT_FROM_ALL_MESHES:(e,n)=>e.meshInsight=xn(n.items),SET_ZONES_INSIGHTS_FETCHING:(e,n)=>e.zonesInsightsFetching=n,SET_MESH_INSIGHTS_FETCHING:(e,n)=>e.meshInsightsFetching=n,SET_SERVICE_INSIGHTS_FETCHING:(e,n)=>e.serviceInsightsFetching=n,SET_EXTERNAL_SERVICES_FETCHING:(e,n)=>e.externalServicesFetching=n,SET_OVERVIEW_CHART_DATA:(e,{chartName:n,data:r})=>{e.overviewCharts[n].data=r},SET_POLICY_TYPES:(e,n)=>{n.sort((r,s)=>r.name.localeCompare(s.name)),e.policyTypes=n},SET_POLICY_TYPES_BY_PATH:(e,n)=>e.policyTypesByPath=n,SET_POLICY_TYPES_BY_NAME:(e,n)=>e.policyTypesByName=n},actions:{async bootstrap({commit:e,dispatch:n,getters:r,state:s}){if(e("SET_GLOBAL_LOADING",!0),await n("config/getStatus"),r["config/getStatus"]==="OK")if(await Promise.all([n("fetchMeshList"),n("fetchDataplaneTotalCount"),n("config/bootstrapConfig")]),s.meshes.items.length>0){const i=P.get("selectedMesh");let o;if(i!==null){const c=s.meshes.items.find(a=>a.name===i);c!==void 0&&(o=c)}o===void 0&&(o=s.meshes.items[0]),await n("updateSelectedMesh",o.name),await n("sidebar/getInsights")}else await n("updateSelectedMesh",null);e("SET_GLOBAL_LOADING",!1)},updatePageTitle({commit:e},n){e("SET_PAGE_TITLE",n)},async fetchMeshList({commit:e,state:n}){const r={size:Xe};try{const{total:s,items:i,next:o}=await t.getAllMeshes(r),c={items:i??[],total:s,next:o};c.items.sort((a,u)=>a.name==="default"?-1:u.name==="default"?1:a.name.localeCompare(u.name)),e("SET_MESHES",c)}catch(s){console.error(s)}},updateSelectedMesh({commit:e},n){n!==null?P.set("selectedMesh",n):P.remove("selectedMesh"),e("SET_SELECTED_MESH",n)},async fetchTotalClusterCount({commit:e}){const n=await t.getZones();e("SET_TOTAL_CLUSTER_COUNT",n.total)},async fetchDataplaneTotalCount({commit:e}){try{const n=await t.getAllDataplanes({size:1});e("SET_TOTAL_DATAPLANE_COUNT",n.total)}catch(n){console.error(n)}},async fetchMeshInsights({commit:e,dispatch:n},r){e("SET_MESH_INSIGHTS_FETCHING",!0);try{if(r===void 0){const s=await be(t.getAllMeshInsights.bind(t)),i=[];s.items.length>0&&i.push({title:"Mesh",data:s.items.length}),e("SET_OVERVIEW_CHART_DATA",{chartName:"meshes",data:i}),e("SET_MESH_INSIGHT_FROM_ALL_MESHES",s)}else e("SET_MESH_INSIGHT",await t.getMeshInsights({name:r}))}catch{e("SET_OVERVIEW_CHART_DATA",{chartName:"meshes",data:[]}),e("SET_MESH_INSIGHT",Pn())}finally{n("setChartsFromMeshInsights")}e("SET_MESH_INSIGHTS_FETCHING",!1)},async fetchServiceInsights({commit:e},n){e("SET_SERVICE_INSIGHTS_FETCHING",!0);try{const r=n===void 0?t.getAllServiceInsights.bind(t):t.getAllServiceInsightsFromMesh.bind(t,{mesh:n});e("SET_INTERNAL_SERVICE_SUMMARY",await be(r))}catch{e("SET_INTERNAL_SERVICE_SUMMARY")}e("SET_SERVICE_INSIGHTS_FETCHING",!1)},async fetchExternalServices({commit:e},n){e("SET_EXTERNAL_SERVICES_FETCHING",!0);try{const r=n===void 0?t.getAllExternalServices.bind(t):t.getAllExternalServicesFromMesh.bind(t,{mesh:n});e("SET_EXTERNAL_SERVICE_SUMMARY",await be(r))}catch{e("SET_EXTERNAL_SERVICE_SUMMARY")}e("SET_EXTERNAL_SERVICES_FETCHING",!1)},async fetchServices({dispatch:e},n){const r=e("fetchExternalServices",n),s=e("fetchServiceInsights",n);await Promise.all([s,r]),await e("setOverviewServicesChartData")},async fetchZonesInsights({commit:e,dispatch:n,getters:r},s=!1){e("SET_ZONES_INSIGHTS_FETCHING",!0);try{if(s){const i=await be(t.getAllZoneOverviews.bind(t));n("setOverviewZonesChartData",i),n("setOverviewZonesCPVersionsChartData",i)}else{const i=[{title:"Zone",data:1,route:{name:"zones"}}],o=[{title:r["config/getVersion"],data:1,route:{name:"zones"}}];e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:i}),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:o})}}catch{e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:[]}),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:[]})}e("SET_ZONES_INSIGHTS_FETCHING",!1)},async fetchPolicyTypes({commit:e}){const{policies:n}=await t.getPolicyTypes(),r=n.reduce((i,o)=>Object.assign(i,{[o.path]:o}),{}),s=n.reduce((i,o)=>Object.assign(i,{[o.name]:o}),{});e("SET_POLICY_TYPES",n),e("SET_POLICY_TYPES_BY_PATH",r),e("SET_POLICY_TYPES_BY_NAME",s)},setChartsFromMeshInsights({dispatch:e}){e("setOverviewDataplanesChartData"),e("setOverviewKumaDPVersionsChartData"),e("setOverviewEnvoyVersionsChartData")},setOverviewZonesChartData({commit:e},{items:n=[]}){const r=n.length;let s=0;n.forEach(o=>{Un(o.zoneInsight)==="online"&&s++});const i=[];r&&(i.push({title:Pt,data:s,route:{name:"zones"}}),s!==r&&i.push({title:xt,data:r-s,route:{name:"zones"}})),e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:i})},setOverviewServicesChartData({state:e,commit:n}){const{internal:r,external:s}=e.serviceSummary,i=[];r.total&&e.selectedMesh!==null&&i.push({title:"Internal",data:r.total,route:{name:"service-list-view",params:{mesh:e.selectedMesh}}}),s.total&&e.selectedMesh!==null&&i.push({title:"External",data:s.total,route:{name:"service-list-view",params:{mesh:e.selectedMesh}}}),n("SET_OVERVIEW_CHART_DATA",{chartName:"services",data:i})},setOverviewDataplanesChartData({state:e,commit:n}){const r=e.meshInsight.dataplanes.total,s=[];if(r>0){const i=e.meshInsight.dataplanes.online??0;s.push({title:Pt,data:i});const o=e.meshInsight.dataplanes.partiallyDegraded??0;o>0&&s.push({title:da,data:o});const c=r-o-i;c>0&&s.push({title:xt,data:c})}n("SET_OVERVIEW_CHART_DATA",{chartName:"dataplanes",data:s})},setOverviewZonesCPVersionsChartData({commit:e},{items:n}){const r=n.reduce((s,i)=>{if(i.zoneInsight.subscriptions.length===0)return s;const o=i.zoneInsight.subscriptions.pop(),c=s.find(a=>{var u,l;return a.title===((l=(u=o.version)==null?void 0:u.kumaCp)==null?void 0:l.version)});return c?c.data++:s.push({title:o.version.kumaCp.version,data:1,route:{name:"zones"}}),s},[]);r.sort((s,i)=>s.title==="unknown"?1:i.title==="unknown"?-1:qe(s.title,i.title)),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:r})},setOverviewEnvoyVersionsChartData({state:e,commit:n}){const{envoy:r}=e.meshInsight.dpVersions,s=Object.entries(r).map(([i,o])=>({title:i,data:o.total}));s.sort((i,o)=>i.title==="unknown"?1:o.title==="unknown"?-1:qe(i.title,o.title)),n("SET_OVERVIEW_CHART_DATA",{chartName:"envoyVersions",data:s})},setOverviewKumaDPVersionsChartData({state:e,commit:n}){const{kumaDp:r}=e.meshInsight.dpVersions,s=Object.entries(r).map(([i,o])=>({title:i,data:o.total}));s.sort((i,o)=>i.title==="unknown"?1:o.title==="unknown"?-1:qe(i.title,o.title)),n("SET_OVERVIEW_CHART_DATA",{chartName:"kumaDPVersions",data:s})}}}),z={EnvVars:vt({KUMA_PRODUCT_NAME:"Kuma",KUMA_FEEDBACK_URL:"https://github.com/kumahq/kuma/issues/new/choose",KUMA_CHAT_URL:"https://kuma-mesh.slack.com",KUMA_INSTALL_URL:"https://kuma.io/install/latest/",KUMA_VERSION_URL:"https://kuma.io/latest_version/",KUMA_DOCS_URL:"https://kuma.io/docs"},{description:"EnvVars"}),Env:M(Vt,{description:"Env"}),env:M(()=>t=>Gt(z.Env).var(t),{description:"env"}),api:M(Cn,{description:"api"}),storeKey:vt(Symbol("store"),{description:"storeKey"}),storeConfig:M(kn,{description:"storeConfig"}),store:M(Ut,{description:"store"}),nav:M(()=>(t,e)=>To(t,e),{description:"nav"}),routes:M(An,{description:"routes"}),logger:M(On,{description:"logger"})};Q(Vt,z.EnvVars);Q(Cn,z.Env);Q(kn,z.api);Q(Ut,z.storeConfig);Q(An,z.store);Q(On,z.Env);export{po as A,P as C,La as I,z as T,m as _,Gt as a,ga as b,qe as c,In as d,Un as e,be as f,Mn as g,ya as h,ba as i,Fo as j,wa as k,zo as l,Ko as m,_a as n,Ia as o,Oa as p,Ra as q,Sa as r,M as s,Aa as t,jo as u,Na as v,Ca as w,Ta as x};
