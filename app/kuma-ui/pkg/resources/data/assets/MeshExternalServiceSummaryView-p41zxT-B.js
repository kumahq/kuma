import{_ as T}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-P2M8Yc4m.js";import{d as B,r,o as n,m as c,w as s,b as l,k as i,e as o,U as p,T as A,t as d,c as u,F as v,G as y,p as _}from"./index-BLmmRP-W.js";import"./CodeBlock-D2JhkXuS.js";const M={class:"stack"},K={class:"stack-with-borders"},N={class:"mt-4"},X=B({__name:"MeshExternalServiceSummaryView",props:{items:{}},setup(x){const C=x;return($,z)=>{const k=r("RouteTitle"),b=r("XAction"),w=r("KTruncate"),h=r("KBadge"),E=r("DataSource"),R=r("AppView"),S=r("DataCollection"),V=r("RouteView");return n(),c(V,{name:"mesh-external-service-summary-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1}},{default:s(({route:a,t:f})=>[l(S,{items:C.items,predicate:t=>t.id===a.params.service},{item:s(({item:t})=>[l(R,null,{title:s(()=>[i("h2",null,[l(b,{to:{name:"mesh-external-service-detail-view",params:{mesh:a.params.mesh,service:a.params.service}}},{default:s(()=>[l(k,{title:f("services.routes.item.title",{name:t.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:s(()=>[o(),i("div",M,[i("div",K,[t.status.addresses.length>0?(n(),c(p,{key:0,layout:"horizontal"},{title:s(()=>[o(`
                  Addresses
                `)]),body:s(()=>[t.status.addresses.length===1?(n(),c(A,{key:0,text:t.status.addresses[0].hostname},{default:s(()=>[o(d(t.status.addresses[0].hostname),1)]),_:2},1032,["text"])):(n(),c(w,{key:1},{default:s(()=>[(n(!0),u(v,null,y(t.status.addresses,e=>(n(),u("span",{key:e.hostname},d(e.hostname),1))),128))]),_:2},1024))]),_:2},1024)):_("",!0),o(),t.spec.match?(n(),c(p,{key:1,layout:"horizontal"},{title:s(()=>[o(`
                  Port
                `)]),body:s(()=>[(n(!0),u(v,null,y([t.spec.match],e=>(n(),c(h,{key:e.port,appearance:"info"},{default:s(()=>[o(d(e.port)+"/"+d(e.protocol),1)]),_:2},1024))),128))]),_:2},1024)):_("",!0),o(),l(p,{layout:"horizontal"},{title:s(()=>[o(`
                  TLS
                `)]),body:s(()=>[l(h,{appearance:"neutral"},{default:s(()=>{var e;return[o(d((e=t.spec.tls)!=null&&e.enabled?"Enabled":"Disabled"),1)]}),_:2},1024)]),_:2},1024)]),o(),i("div",null,[i("h3",null,d(f("services.routes.item.config")),1),o(),i("div",N,[l(T,{resource:t.config,"is-searchable":"",query:a.params.codeSearch,"is-filter-mode":a.params.codeFilter,"is-reg-exp-mode":a.params.codeRegExp,onQueryChange:e=>a.update({codeSearch:e}),onFilterModeChange:e=>a.update({codeFilter:e}),onRegExpModeChange:e=>a.update({codeRegExp:e})},{default:s(({copy:e,copying:D})=>[D?(n(),c(E,{key:0,src:`/meshes/${a.params.mesh}/mesh-service/${a.params.service}/as/kubernetes?no-store`,onChange:m=>{e(g=>g(m))},onError:m=>{e((g,F)=>F(m))}},null,8,["src","onChange","onError"])):_("",!0)]),_:2},1032,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])])])])]),_:2},1024)]),_:2},1032,["items","predicate"])]),_:1})}}});export{X as default};
