import{d as x,L as y,R as C,a7 as h,t as V,o as i,j as $,h as a,w as t,i as e,a6 as A,aG as D,l as m,D as v,a4 as N,g as u,m as w,k as O,r as B,p as R,E as Z,s as T,A as E,ae as M,a8 as j,C as I,n as L,_ as S}from"./index-2c980e5c.js";import{_ as q}from"./DeleteResourceModal.vue_vue_type_script_setup_true_lang-49b5a93e.js";import{N as G}from"./NavTabs-1ef0f500.js";const K=x({__name:"ZoneActionMenu",props:{zoneOverview:{type:Object,required:!0},kpopAttributes:{type:Object,default:()=>({placement:"bottomEnd"})}},setup(z){const o=z,{t:s}=y(),k=C(),b=h(),l=V(!1);function n(){l.value=!l.value}async function d(){await k.deleteZone({name:o.zoneOverview.name})}function r(){b.push({name:"zone-cp-list-view"})}return(f,p)=>(i(),$("div",null,[a(e(N),{"button-appearance":"creation","kpop-attributes":o.kpopAttributes,label:e(s)("zones.action_menu.toggle_button"),"show-caret":"",width:"280"},{items:t(()=>[a(e(A),{"is-dangerous":"","data-testid":"delete-button",onClick:D(n,["prevent"])},{default:t(()=>[m(v(e(s)("zones.action_menu.delete_button")),1)]),_:1},8,["onClick"])]),_:1},8,["kpop-attributes","label"]),m(),l.value?(i(),u(q,{key:0,"confirmation-text":o.zoneOverview.name,"delete-function":d,"is-visible":"","action-button-text":e(s)("common.delete_modal.proceed_button"),title:e(s)("common.delete_modal.title",{type:"Zone"}),"data-testid":"delete-zone-modal",onCancel:n,onDelete:r},{"body-content":t(()=>[w("p",null,v(e(s)("common.delete_modal.text1",{type:"Zone",name:o.zoneOverview.name})),1),m(),w("p",null,v(e(s)("common.delete_modal.text2")),1)]),_:1},8,["confirmation-text","action-button-text","title"])):O("",!0)]))}}),J=x({__name:"ZoneDetailTabsView",setup(z){var l;const{t:o}=y(),b=(((l=h().getRoutes().find(n=>n.name==="zone-cp-detail-tabs-view"))==null?void 0:l.children)??[]).map(n=>{var c,_;const d=typeof n.name>"u"?(c=n.children)==null?void 0:c[0]:n,r=d.name,f=((_=d.meta)==null?void 0:_.module)??"";return{title:o(`zone-cps.routes.item.navigation.${r}`),routeName:r,module:f}});return(n,d)=>{const r=B("RouterView");return i(),u(S,{name:"zone-cp-detail-tabs-view","data-testid":"zone-cp-detail-tabs-view"},{default:t(({can:f,route:p})=>[a(R,{src:`/zone-cps/${p.params.zone}`},{default:t(({data:c,error:_})=>[_!==void 0?(i(),u(Z,{key:0,error:_},null,8,["error"])):c===void 0?(i(),u(T,{key:1})):(i(),u(E,{key:2,breadcrumbs:[{to:{name:"zone-cp-list-view"},text:e(o)("zone-cps.routes.item.breadcrumbs")}]},M({title:t(()=>[w("h1",null,[a(j,{text:p.params.zone},{default:t(()=>[a(I,{title:e(o)("zone-cps.routes.item.title",{name:p.params.zone}),render:!0},null,8,["title"])]),_:2},1032,["text"])])]),default:t(()=>[m(),m(),a(G,{class:"route-zone-detail-view-tabs",tabs:e(b)},null,8,["tabs"]),m(),a(r,null,{default:t(g=>[(i(),u(L(g.Component),{data:c},null,8,["data"]))]),_:2},1024)]),_:2},[f("create zones")?{name:"actions",fn:t(()=>[a(K,{"zone-overview":c},null,8,["zone-overview"])]),key:"0"}:void 0]),1032,["breadcrumbs"]))]),_:2},1032,["src"])]),_:1})}}});export{J as default};
