import{d as F,x as J,r as n,o as a,q as b,w as o,b as t,p as L,au as S,c as _,s as g,e as s,m as v,Z as G,M as X,N as C,t as z,T as H,I as K,_ as Q}from"./index-CvmQ8qmc.js";const W={key:0},Y=["onSubmit"],ee=["disabled"],oe={key:0},te={key:0},ne=F({__name:"ZoneIngressDetailTabsView",setup(se){const r=J({eds:!1,xds:!0,clusters:!0,stats:!0,proxy:!0}),A=V=>async e=>{const m=document.createElement("a");m.download=e.name,m.href=e.url,setTimeout(()=>{window.URL.revokeObjectURL(m.href)},6e4),await Promise.resolve(),m.click(),await Promise.resolve(),V()};return(V,e)=>{const m=n("RouteTitle"),N=n("XCopyButton"),x=n("XAction"),k=n("XI18n"),T=n("XCheckbox"),U=n("XAlert"),D=n("DataLoader"),h=n("XLayout"),E=n("XModal"),B=n("XDisclosure"),M=n("XTeleportTemplate"),O=n("XTabs"),Z=n("RouterView"),$=n("AppView"),j=n("DataSource"),P=n("RouteView");return a(),b(P,{name:"zone-ingress-detail-tabs-view",params:{zone:"",proxy:""}},{default:o(({route:u,t:l,uri:R})=>[t(j,{src:R(L(S),"/zone-ingress-overviews/:name",{name:u.params.proxy})},{default:o(({data:d,error:q})=>[t($,{docs:l("zone-ingresses.href.docs"),breadcrumbs:[{to:{name:"zone-cp-list-view"},text:l("zone-cps.routes.item.breadcrumbs")},{to:{name:"zone-cp-detail-view",params:{zone:u.params.zone}},text:u.params.zone},{to:{name:"zone-ingress-list-view",params:{zone:u.params.zone}},text:l("zone-ingresses.routes.item.breadcrumbs")}]},{title:o(()=>[d?(a(),_("h1",W,[t(N,{text:d.name},{default:o(()=>[t(m,{title:l("zone-ingresses.routes.item.title",{name:d.name})},null,8,["title"])]),_:2},1032,["text"])])):g("",!0)]),actions:o(()=>[t(B,null,{default:o(({expanded:w,toggle:i})=>[t(x,{appearance:"primary",onClick:i},{default:o(()=>e[1]||(e[1]=[s(`
              Download Bundle
            `)])),_:2},1032,["onClick"]),e[6]||(e[6]=s()),w?(a(),b(M,{key:0,to:{name:"modal-layer"}},{default:o(()=>[t(B,null,{default:o(({expanded:y,toggle:I})=>[v("form",{onSubmit:G(I,["prevent"])},[t(E,{title:l("zone-ingresses.routes.item.download.title"),onCancel:i},{"footer-actions":o(()=>[t(h,{type:"separated"},{default:o(()=>[(a(!0),_(X,null,C([A(i)],p=>(a(),b(D,{key:typeof p,variant:"spinner",src:y?R(L(S),"/zone-ingresses/:name/as/tarball/:spec",{name:u.params.proxy,spec:JSON.stringify(r.value)},{cacheControl:"no-cache"}):"",onChange:p,onError:I},{error:o(()=>[t(U,{appearance:"warning","show-icon":""},{default:o(()=>[t(k,{t:"zone-ingresses.routes.item.download.error"})]),_:1})]),_:2},1032,["src","onChange","onError"]))),128)),e[4]||(e[4]=s()),t(x,{appearance:"primary",type:"submit",disabled:y||Object.values(r.value).every(p=>!p)},{default:o(()=>[s(z(l("zone-ingresses.routes.item.download.action")),1)]),_:2},1032,["disabled"])]),_:2},1024)]),default:o(()=>[v("fieldset",{disabled:y},[t(k,{path:"zone-ingresses.routes.item.download.description"}),e[3]||(e[3]=s()),v("ul",null,[(a(!0),_(X,null,C(r.value,(p,c)=>(a(),_(X,{key:typeof p},[c!=="eds"?(a(),_("li",oe,[t(T,{modelValue:r.value[c],"onUpdate:modelValue":f=>r.value[c]=f,onChange:f=>{c==="xds"&&!f&&(r.value.eds=!1)}},{default:o(()=>[s(z(l(`zone-ingresses.routes.item.download.options.${c}`)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),e[2]||(e[2]=s()),c==="xds"?(a(),_("ul",te,[v("li",null,[t(T,{modelValue:r.value.eds,"onUpdate:modelValue":e[0]||(e[0]=f=>r.value.eds=f),disabled:!r.value.xds},{default:o(()=>[s(z(l("zone-ingresses.routes.item.download.options.eds")),1)]),_:2},1032,["modelValue","disabled"])])])):g("",!0)])):g("",!0)],64))),128))])],8,ee),e[5]||(e[5]=s())]),_:2},1032,["title","onCancel"])],40,Y)]),_:2},1024)]),_:2},1024)):g("",!0)]),_:2},1024)]),default:o(()=>[e[8]||(e[8]=s()),e[9]||(e[9]=s()),t(D,{data:[d],errors:[q]},{default:o(()=>{var w;return[t(O,{selected:(w=u.child())==null?void 0:w.name,"data-testid":"zone-ingress-tabs"},H({_:2},[C(u.children,({name:i})=>({name:`${i}-tab`,fn:o(()=>[t(x,{to:{name:i}},{default:o(()=>[s(z(l(`zone-ingresses.routes.item.navigation.${i}`)),1)]),_:2},1032,["to"])])}))]),1032,["selected"]),e[7]||(e[7]=s()),t(Z,null,{default:o(i=>[(a(),b(K(i.Component),{networking:d==null?void 0:d.zoneIngress.networking,data:d},null,8,["networking","data"]))]),_:2},1024)]}),_:2},1032,["data","errors"])]),_:2},1032,["docs","breadcrumbs"])]),_:2},1032,["src"])]),_:1})}}}),re=Q(ne,[["__scopeId","data-v-ca4e8783"]]);export{re as default};
