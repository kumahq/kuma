import{d as D,r,p as u,o as m,w as l,b as p,e as o,l as s,c as g,t as i,N,L as k,M as T,q as f,m as y,Y as v,a1 as q}from"./index-8QMKyk4n.js";const A={key:0},Q={key:1},P={key:2},Z=D({__name:"MeshExternalServiceSummaryView",props:{items:{}},setup(_){const w=_;return(K,e)=>{const b=r("RouteTitle"),x=r("XAction"),M=r("XSelect"),C=r("XLayout"),R=r("KumaPort"),S=r("XBadge"),E=r("XTable"),h=r("XCodeBlock"),X=r("DataLoader"),V=r("AppView"),B=r("DataCollection"),F=r("RouteView");return m(),u(F,{name:"mesh-external-service-summary-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,format:String}},{default:l(({route:t,t:c,can:L,uri:z})=>[p(B,{items:w.items,predicate:n=>n.id===t.params.service},{item:l(({item:n})=>[p(V,null,{title:l(()=>[s("h2",null,[p(x,{to:{name:"mesh-external-service-detail-view",params:{mesh:t.params.mesh,service:t.params.service}}},{default:l(()=>[p(b,{title:c("services.routes.item.title",{name:n.name})},null,8,["title"])]),_:2},1032,["to"])])]),default:l(()=>[e[13]||(e[13]=o()),p(C,{type:"stack"},{default:l(()=>[s("header",null,[p(C,{type:"separated",size:"max"},{default:l(()=>[s("h3",null,i(c("services.routes.item.config")),1),e[0]||(e[0]=o()),(m(),g(N,null,k([["structured","universal","k8s"]],d=>s("div",{key:typeof d},[p(M,{label:c("services.routes.item.format"),selected:t.params.format,onChange:a=>{t.update({format:a})},onVnodeBeforeMount:a=>a?.props?.selected&&d.includes(a.props.selected)&&a.props.selected!==t.params.format&&t.update({format:a.props.selected})},T({_:2},[k(d,a=>({name:`${a}-option`,fn:l(()=>[o(i(c(`services.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024)]),e[12]||(e[12]=o()),t.params.format==="structured"?(m(),u(E,{key:0,"data-testid":"structured-view",variant:"kv"},{default:l(()=>[n.namespace.length>0?(m(),g("tr",A,[e[1]||(e[1]=s("th",{scope:"row"},`
                    Namespace
                  `,-1)),e[2]||(e[2]=o()),s("td",null,i(n.namespace),1)])):f("",!0),e[9]||(e[9]=o()),L("use zones")&&n.zone?(m(),g("tr",Q,[e[3]||(e[3]=s("th",{scope:"row"},`
                    Zone
                  `,-1)),e[4]||(e[4]=o()),s("td",null,[p(x,{to:{name:"zone-cp-detail-view",params:{zone:n.zone}}},{default:l(()=>[o(i(n.zone),1)]),_:2},1032,["to"])])])):f("",!0),e[10]||(e[10]=o()),n.spec.match?(m(),g("tr",P,[e[5]||(e[5]=s("th",{scope:"row"},`
                    Port
                  `,-1)),e[6]||(e[6]=o()),s("td",null,[p(R,{port:n.spec.match},null,8,["port"])])])):f("",!0),e[11]||(e[11]=o()),s("tr",null,[e[7]||(e[7]=s("th",{scope:"row"},`
                    TLS
                  `,-1)),e[8]||(e[8]=o()),s("td",null,[p(S,{appearance:"neutral"},{default:l(()=>[o(i(n.spec.tls?.enabled?"Enabled":"Disabled"),1)]),_:2},1024)])])]),_:2},1024)):t.params.format==="universal"?(m(),u(h,{key:1,"data-testid":"codeblock-yaml-universal",language:"yaml",code:y(v).stringify(n.config),"show-k8s-copy-button":!1,"is-searchable":"",query:t.params.codeSearch,"is-filter-mode":t.params.codeFilter,"is-reg-exp-mode":t.params.codeRegExp,onQueryChange:d=>t.update({codeSearch:d}),onFilterModeChange:d=>t.update({codeFilter:d}),onRegExpModeChange:d=>t.update({codeRegExp:d})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(m(),u(X,{key:2,src:z(y(q),"/meshes/:mesh/mesh-external-service/:name/as/kubernetes",{mesh:t.params.mesh,name:t.params.service})},{default:l(({data:d})=>[p(h,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:y(v).stringify(d),"show-k8s-copy-button":!1,"is-searchable":"",query:t.params.codeSearch,"is-filter-mode":t.params.codeFilter,"is-reg-exp-mode":t.params.codeRegExp,onQueryChange:a=>t.update({codeSearch:a}),onFilterModeChange:a=>t.update({codeFilter:a}),onRegExpModeChange:a=>t.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2},1024)]),_:2},1024)]),_:2},1032,["items","predicate"])]),_:1})}}});export{Z as default};
