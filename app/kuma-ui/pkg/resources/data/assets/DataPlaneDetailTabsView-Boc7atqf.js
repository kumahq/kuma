import{d as z,v as F,r as o,p as x,o as i,w as e,b as t,M as k,e as n,L as B,t as _,y as J,q as V,l as f,I as G,c as b,N as S,m as H,$ as K,_ as Q}from"./index-DIsQPtUy.js";const W=["onSubmit"],Y=["disabled"],Z={key:0},ee={key:0},ae=z({__name:"DataPlaneDetailTabsView",props:{data:{},mesh:{}},setup(y){const d=y,s=F({eds:!1,xds:!0,clusters:!0,stats:!0,proxy:!0,policies:!0});return(te,a)=>{const A=o("RouteTitle"),L=o("XCopyButton"),N=o("XBadge"),C=o("XLayout"),w=o("XAction"),h=o("XI18n"),D=o("XCheckbox"),R=o("XAlert"),$=o("DataLoader"),I=o("XDownload"),M=o("XModal"),g=o("XDisclosure"),E=o("XTeleportTemplate"),U=o("XTabs"),O=o("RouterView"),P=o("AppView"),j=o("RouteView");return i(),x(j,{name:"data-plane-detail-tabs-view",params:{mesh:"",proxy:""}},{default:e(({route:r,t:l,uri:q})=>[t(P,{breadcrumbs:[{to:{name:"mesh-detail-view",params:{mesh:r.params.mesh}},text:r.params.mesh},{to:{name:"data-plane-list-view",params:{mesh:r.params.mesh}},text:l("data-planes.routes.item.breadcrumbs")}]},k({actions:e(()=>[t(g,null,{default:e(({expanded:p,toggle:v})=>[t(w,{appearance:"primary",onClick:v},{default:e(()=>[...a[2]||(a[2]=[n(`
            Download bundle
          `,-1)])]),_:1},8,["onClick"]),a[7]||(a[7]=n()),p?(i(),x(E,{key:0,to:{name:"modal-layer"}},{default:e(()=>[t(g,null,{default:e(({expanded:X,toggle:T})=>[f("form",{onSubmit:G(T,["prevent"])},[t(M,{title:l("data-planes.routes.item.download.title"),onCancel:v},{"footer-actions":e(()=>[t(C,{type:"separated"},{default:e(()=>[t(I,{onStart:v},{default:e(({download:m})=>[t($,{variant:"spinner",src:X?q(H(K),"/meshes/:mesh/dataplanes/:name/as/tarball/:spec",{mesh:r.params.mesh,name:r.params.proxy,spec:JSON.stringify(s.value)},{cacheControl:"no-cache"}):"",onChange:m,onError:T},{error:e(()=>[t(R,{appearance:"warning","show-icon":""},{default:e(()=>[t(h,{t:"data-planes.routes.item.download.error"})]),_:1})]),_:1},8,["src","onChange","onError"])]),_:2},1032,["onStart"]),a[5]||(a[5]=n()),t(w,{appearance:"primary",type:"submit",disabled:X||Object.values(s.value).every(m=>!m)},{default:e(()=>[n(_(l("data-planes.routes.item.download.action")),1)]),_:2},1032,["disabled"])]),_:2},1024)]),default:e(()=>[f("fieldset",{disabled:X},[t(h,{path:"data-planes.routes.item.download.description"}),a[4]||(a[4]=n()),f("ul",null,[(i(!0),b(S,null,B(s.value,(m,u)=>(i(),b(S,{key:typeof m},[u!=="eds"?(i(),b("li",Z,[t(D,{modelValue:s.value[u],"onUpdate:modelValue":c=>s.value[u]=c,onChange:c=>{u==="xds"&&!c&&(s.value.eds=!1)}},{default:e(()=>[n(_(l(`data-planes.routes.item.download.options.${u}`)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),a[3]||(a[3]=n()),u==="xds"?(i(),b("ul",ee,[f("li",null,[t(D,{modelValue:s.value.eds,"onUpdate:modelValue":a[0]||(a[0]=c=>s.value.eds=c),disabled:!s.value.xds},{default:e(()=>[n(_(l("data-planes.routes.item.download.options.eds")),1)]),_:2},1032,["modelValue","disabled"])])])):V("",!0)])):V("",!0)],64))),128))])],8,Y),a[6]||(a[6]=n())]),_:2},1032,["title","onCancel"])],40,W)]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2},1024)]),default:e(()=>[a[8]||(a[8]=n()),a[9]||(a[9]=n()),t(U,{selected:r.child()?.name},k({_:2},[B(r.children,({name:p})=>({name:`${p}-tab`,fn:e(()=>[t(w,{to:{name:p}},{default:e(()=>[n(_(l(`data-planes.routes.item.navigation.${p}`)),1)]),_:2},1032,["to"])])}))]),1032,["selected"]),a[10]||(a[10]=n()),t(O,null,{default:e(({Component:p})=>[(i(),x(J(p),{data:d.data,networking:d.data.dataplane.networking,mesh:d.mesh,subscriptions:d.data.dataplaneInsight.subscriptions},null,8,["data","networking","mesh","subscriptions"]))]),_:1})]),_:2},[y.data?{name:"title",fn:e(()=>[t(C,{size:"small"},{default:e(()=>[f("h1",null,[t(L,{text:d.data.name},{default:e(()=>[t(A,{title:l("data-planes.routes.item.title",{name:d.data.name})},null,8,["title"])]),_:2},1032,["text"])]),a[1]||(a[1]=n()),t(N,{appearance:l(`common.status.appearance.${d.data.status}`,void 0,{defaultMessage:"neutral"})},{default:e(()=>[n(_(l(`http.api.value.${d.data.status}`)),1)]),_:2},1032,["appearance"])]),_:2},1024)]),key:"0"}:void 0]),1032,["breadcrumbs"])]),_:1})}}}),ne=Q(ae,[["__scopeId","data-v-7edf6895"]]);export{ne as default};
