import{d as L,r as p,o as l,m as c,w as t,b as a,a4 as $,e,t as o,k as r,c as u,L as g,M as k,n as A,Z as d,S,l as f,a3 as I,N as O,p as m,a2 as w,q as U}from"./index-SX45m_MK.js";import{p as E}from"./kong-icons.es339-Bs2B7cBq.js";import{T as z}from"./TagList-ZHqaN_PL.js";const Z={class:"stack"},X={class:"stack-with-borders"},q={class:"status-with-reason"},F={key:0},G={class:"mt-4"},M={class:"stack-with-borders"},j={class:"mt-4 stack"},H={class:"mt-2 stack-with-borders"},J=L({__name:"DataPlaneSummaryView",props:{items:{}},setup(T){const b=T;return(Q,W)=>{const x=p("RouteTitle"),C=p("RouterLink"),D=p("KTooltip"),y=p("DataCollection"),P=p("XAction"),v=p("KBadge"),V=p("AppView"),R=p("RouteView");return l(),c(R,{name:"data-plane-summary-view",params:{dataPlane:""}},{default:t(({t:s,route:B,can:N})=>[a(y,{items:b.items,predicate:h=>h.id===B.params.dataPlane,find:!0},{empty:t(()=>[a($,null,{title:t(()=>[e(o(s("common.collection.summary.empty_title",{type:"Data Plane Proxy"})),1)]),default:t(()=>[e(),r("p",null,o(s("common.collection.summary.empty_message",{type:"Data Plane Proxy"})),1)]),_:2},1024)]),default:t(({items:h})=>[(l(!0),u(g,null,k([h[0]],n=>(l(),c(V,{key:n.id},{title:t(()=>[r("h2",{class:A(`type-${n.dataplaneType}`)},[a(C,{to:{name:"data-plane-detail-view",params:{dataPlane:n.id}}},{default:t(()=>[a(x,{title:s("data-planes.routes.item.title",{name:n.name})},null,8,["title"])]),_:2},1032,["to"])],2)]),default:t(()=>[e(),r("div",Z,[r("div",X,[a(d,{layout:"horizontal"},{title:t(()=>[e(o(s("http.api.property.status")),1)]),body:t(()=>[r("div",q,[a(S,{status:n.status},null,8,["status"]),e(),n.dataplaneType==="standard"?(l(),c(y,{key:0,items:n.dataplane.networking.inbounds,predicate:_=>!_.health.ready,empty:!1},{default:t(({items:_})=>[a(D,{class:"reason-tooltip"},{content:t(()=>[r("ul",null,[(l(!0),u(g,null,k(_,i=>(l(),u("li",{key:`${i.service}:${i.port}`},o(s("data-planes.routes.item.unhealthy_inbound",{service:i.service,port:i.port})),1))),128))])]),default:t(()=>[a(f(E),{color:f(I),size:f(O)},null,8,["color","size"]),e()]),_:2},1024)]),_:2},1032,["items","predicate"])):m("",!0)])]),_:2},1024),e(),a(d,{layout:"horizontal"},{title:t(()=>[e(`
                    Type
                  `)]),body:t(()=>[e(o(s(`data-planes.type.${n.dataplaneType}`)),1)]),_:2},1024),e(),n.namespace.length>0?(l(),c(d,{key:0,layout:"horizontal"},{title:t(()=>[e(o(s("data-planes.routes.item.namespace")),1)]),body:t(()=>[e(o(n.namespace),1)]),_:2},1024)):m("",!0),e(),N("use zones")&&n.zone?(l(),c(d,{key:1,layout:"horizontal"},{title:t(()=>[e(`
                    Zone
                  `)]),body:t(()=>[a(P,{to:{name:"zone-cp-detail-view",params:{zone:n.zone}}},{default:t(()=>[e(o(n.zone),1)]),_:2},1032,["to"])]),_:2},1024)):m("",!0),e(),a(d,{layout:"horizontal"},{title:t(()=>[e(o(s("data-planes.routes.item.last_updated")),1)]),body:t(()=>[e(o(s("common.formats.datetime",{value:Date.parse(n.modificationTime)})),1)]),_:2},1024)]),e(),n.dataplane.networking.gateway?(l(),u("div",F,[r("h3",null,o(s("data-planes.routes.item.gateway")),1),e(),r("div",G,[r("div",M,[a(d,{layout:"horizontal"},{title:t(()=>[e(o(s("http.api.property.tags")),1)]),body:t(()=>[a(z,{alignment:"right",tags:n.dataplane.networking.gateway.tags},null,8,["tags"])]),_:2},1024),e(),a(d,{layout:"horizontal"},{title:t(()=>[e(o(s("http.api.property.address")),1)]),body:t(()=>[a(w,{text:`${n.dataplane.networking.address}`},null,8,["text"])]),_:2},1024)])])])):m("",!0),e(),n.dataplaneType==="standard"?(l(),c(y,{key:1,items:n.dataplane.networking.inbounds},{default:t(({items:_})=>[r("div",null,[r("h3",null,o(s("data-planes.routes.item.inbounds")),1),e(),r("div",j,[(l(!0),u(g,null,k(_,(i,K)=>(l(),u("div",{key:K,class:"inbound"},[r("h4",null,[a(w,{text:i.tags["kuma.io/service"]},{default:t(()=>[e(o(s("data-planes.routes.item.inbound_name",{service:i.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])]),e(),r("div",H,[a(d,{layout:"horizontal"},{title:t(()=>[e(o(s("http.api.property.status")),1)]),body:t(()=>[i.health.ready?(l(),c(v,{key:0,appearance:"success"},{default:t(()=>[e(o(s("data-planes.routes.item.health.ready")),1)]),_:2},1024)):(l(),c(v,{key:1,appearance:"danger"},{default:t(()=>[e(o(s("data-planes.routes.item.health.not_ready")),1)]),_:2},1024))]),_:2},1024),e(),a(d,{layout:"horizontal"},{title:t(()=>[e(o(s("http.api.property.tags")),1)]),body:t(()=>[a(z,{alignment:"right",tags:i.tags},null,8,["tags"])]),_:2},1024),e(),a(d,{layout:"horizontal"},{title:t(()=>[e(o(s("http.api.property.address")),1)]),body:t(()=>[a(w,{text:i.addressPort},null,8,["text"])]),_:2},1024)])]))),128))])])]),_:2},1032,["items"])):m("",!0)])]),_:2},1024))),128))]),_:2},1032,["items","predicate"])]),_:1})}}}),at=U(J,[["__scopeId","data-v-4e4dde61"]]);export{at as default};
