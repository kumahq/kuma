import{d as x,l as V,u as C,a as m,o as l,b as u,w as c,e as d,p as a,f as o,q as i,t as p,c as _,Z as S,s as f,F as b,y as E,z as F,V as B,_ as P}from"./index-19354c6c.js";import{_ as T}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-ac8206e3.js";import{_ as I}from"./ResourceCodeBlock.vue_vue_type_style_index_0_lang-1c6a19ef.js";import"./CodeBlock.vue_vue_type_style_index_0_lang-a4faa3a1.js";import"./CopyButton-2ee425f1.js";import"./index-fce48c05.js";import"./toYaml-4e00099e.js";const A=r=>(E("data-v-774f7b5c"),r=r(),F(),r),M={class:"summary-title-wrapper"},N=A(()=>a("img",{"aria-hidden":"true",src:B},null,-1)),q={class:"summary-title"},K={key:1,class:"stack"},D={key:0},L={class:"mt-4 stack"},Q={key:0},$={class:"mt-4"},z=x({__name:"PolicySummaryView",props:{name:{},policy:{default:void 0},policyType:{}},setup(r){const{t:n}=V(),h=C(),e=r;return(Z,j)=>{const g=m("RouteTitle"),v=m("RouterLink"),R=m("KBadge"),k=m("AppView"),w=m("RouteView");return l(),u(w,{name:"policy-summary-view",params:{mesh:"",policyPath:"",policy:"",codeSearch:"",codeFilter:!1,codeRegExp:!1}},{default:c(({route:s})=>[d(k,null,{title:c(()=>[a("div",M,[N,o(),a("h2",q,[d(v,{to:{name:"policy-detail-view",params:{policy:e.name}}},{default:c(()=>[d(g,{title:i(n)("policies.routes.item.title",{name:e.name})},null,8,["title"])]),_:1},8,["to"])])])]),default:c(()=>{var y;return[o(),e.policy===void 0?(l(),u(T,{key:0},{message:c(()=>[a("p",null,p(i(n)("common.collection.summary.empty_message",{type:e.policyType.name})),1)]),default:c(()=>[o(p(i(n)("common.collection.summary.empty_title",{type:e.policyType.name}))+" ",1)]),_:1})):(l(),_("div",K,[(y=e.policy.spec)!=null&&y.targetRef?(l(),_("div",D,[a("h3",null,p(i(n)("policies.routes.item.overview")),1),o(),a("div",L,[d(S,null,{title:c(()=>[o(p(i(n)("http.api.property.targetRef")),1)]),body:c(()=>{var t;return[(t=e.policy.spec)!=null&&t.targetRef?(l(),u(R,{key:0,appearance:"neutral"},{default:c(()=>[o(p(e.policy.spec.targetRef.kind),1),e.policy.spec.targetRef.name?(l(),_("span",Q,[o(":"),a("b",null,p(e.policy.spec.targetRef.name),1)])):f("",!0)]),_:1})):(l(),_(b,{key:1},[o(p(i(n)("common.detail.none")),1)],64))]}),_:1})])])):f("",!0),o(),a("div",null,[a("h3",null,p(i(n)("policies.routes.item.config")),1),o(),a("div",$,[d(I,{id:"code-block-policy",resource:e.policy.config,"resource-fetcher":t=>i(h).getSinglePolicyEntity({name:s.params.policy,mesh:s.params.mesh,path:s.params.policyPath},t),"is-searchable":"",query:s.params.codeSearch,"is-filter-mode":s.params.codeFilter==="true","is-reg-exp-mode":s.params.codeRegExp==="true",onQueryChange:t=>s.update({codeSearch:t}),onFilterModeChange:t=>s.update({codeFilter:t}),onRegExpModeChange:t=>s.update({codeRegExp:t})},null,8,["resource","resource-fetcher","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])])])]))]}),_:2},1024)]),_:1})}}});const Y=P(z,[["__scopeId","data-v-774f7b5c"]]);export{Y as default};
