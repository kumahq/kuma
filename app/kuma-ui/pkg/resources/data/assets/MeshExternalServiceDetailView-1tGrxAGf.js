import{d as K,r as l,p as m,o as p,w as e,b as t,e as n,q as f,O as g,t as c,m as v,af as P,K as Y,c as w,N as M,L as b,l as E,M as j,Y as R,_ as I}from"./index-e9EOlcJX.js";const O=K({__name:"MeshExternalServiceDetailView",props:{data:{}},setup(B){const d=B;return(u,r)=>{const y=l("XBadge"),k=l("XAction"),S=l("KumaPort"),V=l("XAboutCard"),F=l("XCopyButton"),h=l("XLayout"),D=l("DataCollection"),x=l("DataLoader"),z=l("XCard"),A=l("XSelect"),X=l("XCodeBlock"),L=l("AppView"),N=l("RouteView");return p(),m(N,{name:"mesh-external-service-detail-view",params:{mesh:"",service:"",codeSearch:"",codeFilter:!1,codeRegExp:!1,environment:String}},{default:e(({route:o,can:q,t:i,uri:T,me:C})=>[t(L,null,{default:e(()=>[t(h,{type:"stack"},{default:e(()=>[t(V,{title:i("services.mesh-external-service.about.title"),created:d.data.creationTime,modified:d.data.modificationTime},{default:e(()=>[d.data.namespace.length>0?(p(),m(g,{key:0,layout:"horizontal"},{title:e(()=>[n(c(i("http.api.property.namespace")),1)]),body:e(()=>[t(y,{appearance:"decorative"},{default:e(()=>[n(c(d.data.namespace),1)]),_:1})]),_:2,__:[0]},1024)):f("",!0),r[4]||(r[4]=n()),q("use zones")&&d.data.zone?(p(),m(g,{key:1,layout:"horizontal"},{title:e(()=>[n(c(i("http.api.property.zone")),1)]),body:e(()=>[t(y,{appearance:"decorative"},{default:e(()=>[t(k,{to:{name:"zone-cp-detail-view",params:{zone:d.data.zone}}},{default:e(()=>[n(c(d.data.zone),1)]),_:1},8,["to"])]),_:1})]),_:2,__:[1]},1024)):f("",!0),r[5]||(r[5]=n()),u.data.spec.match?(p(),m(g,{key:2,layout:"horizontal",class:"port"},{title:e(()=>[n(c(i("http.api.property.port")),1)]),body:e(()=>[t(S,{port:u.data.spec.match},null,8,["port"])]),_:2,__:[2]},1024)):f("",!0),r[6]||(r[6]=n()),u.data.spec.match?(p(),m(g,{key:3,layout:"horizontal",class:"tls"},{title:e(()=>[n(c(i("http.api.property.tls")),1)]),body:e(()=>{var s;return[t(y,{appearance:(s=u.data.spec.tls)!=null&&s.enabled?"success":"neutral"},{default:e(()=>{var a;return[n(c((a=u.data.spec.tls)!=null&&a.enabled?"Enabled":"Disabled"),1)]}),_:1},8,["appearance"])]}),_:2,__:[3]},1024)):f("",!0)]),_:2,__:[4,5,6]},1032,["title","created","modified"]),r[10]||(r[10]=n()),t(z,null,{title:e(()=>[n(c(i("services.detail.hostnames.title")),1)]),default:e(()=>[r[8]||(r[8]=n()),t(x,{src:T(v(P),"/meshes/:mesh/:serviceType/:serviceName/_hostnames",{mesh:o.params.mesh,serviceType:"meshexternalservices",serviceName:o.params.service}),variant:"list"},{default:e(({data:s})=>[t(D,{type:"hostnames",items:s.items},{default:e(()=>[t(Y,{type:"hostnames-collection","data-testid":"hostnames-collection",items:s.items,headers:[{...C.get("headers.hostname"),label:i("services.detail.hostnames.hostname"),key:"hostname"},{...C.get("headers.zones"),label:i("services.detail.hostnames.zone"),key:"zones"}],onResize:C.set},{hostname:e(({row:a})=>[E("b",null,[t(F,{text:a.hostname},null,8,["text"])])]),zones:e(({row:a})=>[t(h,{type:"separated"},{default:e(()=>[(p(!0),w(M,null,b(a.zones,(_,Q)=>(p(),m(y,{key:Q,appearance:"decorative"},{default:e(()=>[t(k,{to:{name:"zone-cp-detail-view",params:{zone:_.name}}},{default:e(()=>[n(c(_.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1024)]),_:2,__:[7]},1032,["items","headers","onResize"])]),_:2},1032,["items"])]),_:2},1032,["src"])]),_:2,__:[8]},1024),r[11]||(r[11]=n()),t(z,null,{default:e(()=>[t(h,null,{default:e(()=>[t(h,{type:"separated",justify:"end"},{default:e(()=>[(p(),w(M,null,b([["universal","k8s"]],s=>E("div",{key:typeof s},[t(A,{label:i("services.routes.item.format"),selected:o.params.environment,onChange:a=>{o.update({environment:a})},onVnodeBeforeMount:a=>{var _;return((_=a==null?void 0:a.props)==null?void 0:_.selected)&&s.includes(a.props.selected)&&a.props.selected!==o.params.environment&&o.update({environment:a.props.selected})}},j({_:2},[b(s,a=>({name:`${a}-option`,fn:e(()=>[n(c(i(`services.routes.item.formats.${a}`)),1)])}))]),1032,["label","selected","onChange","onVnodeBeforeMount"])])),64))]),_:2},1024),r[9]||(r[9]=n()),o.params.environment==="universal"?(p(),m(X,{key:0,"data-testid":"codeblock-yaml-universal",language:"yaml",code:v(R).stringify(d.data.config),"show-k8s-copy-button":!1,"is-searchable":"",query:o.params.codeSearch,"is-filter-mode":o.params.codeFilter,"is-reg-exp-mode":o.params.codeRegExp,onQueryChange:s=>o.update({codeSearch:s}),onFilterModeChange:s=>o.update({codeFilter:s}),onRegExpModeChange:s=>o.update({codeRegExp:s})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])):(p(),m(x,{key:1,src:`/meshes/${d.data.mesh}/mesh-external-service/${d.data.id}/as/kubernetes`},{default:e(({data:s})=>[t(X,{"data-testid":"codeblock-yaml-k8s",language:"yaml",code:v(R).stringify(s),"show-k8s-copy-button":!1,"is-searchable":"",query:o.params.codeSearch,"is-filter-mode":o.params.codeFilter,"is-reg-exp-mode":o.params.codeRegExp,onQueryChange:a=>o.update({codeSearch:a}),onFilterModeChange:a=>o.update({codeFilter:a}),onRegExpModeChange:a=>o.update({codeRegExp:a})},null,8,["code","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1032,["src"]))]),_:2,__:[9]},1024)]),_:2},1024)]),_:2,__:[10,11]},1024)]),_:2},1024)]),_:1})}}}),H=I(O,[["__scopeId","data-v-110ce8c2"]]);export{H as default};
