import{d as X,r as l,o as i,p as m,w as e,b as d,Q as f,e as t,t as o,S as x,q as k,c as y,J as g,l as B,A as S,K as D,F as R}from"./index-gI7YoWPY.js";import{S as T}from"./SummaryView-nxWwoAqU.js";const N={key:0},E=X({__name:"ZoneIngressDetailView",props:{data:{}},setup(w){const a=w;return(L,r)=>{const b=l("XBadge"),h=l("XCopyButton"),z=l("XAboutCard"),v=l("XAction"),I=l("RouterView"),A=l("XLayout"),C=l("AppView"),V=l("RouteView");return i(),m(V,{name:"zone-ingress-detail-view",params:{subscription:"",zoneIngress:""}},{default:e(({t:n,me:u,route:_})=>[d(C,null,{default:e(()=>[d(A,{type:"stack"},{default:e(()=>[d(z,{title:n("zone-ingresses.routes.item.about.title"),created:a.data.creationTime,modified:a.data.modificationTime},{default:e(()=>[d(f,{layout:"horizontal"},{title:e(()=>[t(o(n("http.api.property.status")),1)]),body:e(()=>[d(x,{status:a.data.state},null,8,["status"])]),_:2},1024),r[4]||(r[4]=t()),a.data.namespace.length>0?(i(),m(f,{key:0,layout:"horizontal"},{title:e(()=>[t(o(n("http.api.property.namespace")),1)]),body:e(()=>[d(b,{appearance:"decorative"},{default:e(()=>[t(o(a.data.namespace),1)]),_:1})]),_:2},1024)):k("",!0),r[5]||(r[5]=t()),d(f,{layout:"horizontal"},{title:e(()=>[t(o(n("http.api.property.address")),1)]),body:e(()=>[a.data.zoneIngress.socketAddress.length>0?(i(),m(h,{key:0,variant:"badge",format:"default",text:a.data.zoneIngress.socketAddress},null,8,["text"])):(i(),y(g,{key:1},[t(o(n("common.detail.none")),1)],64))]),_:2},1024),r[6]||(r[6]=t()),d(f,{layout:"horizontal"},{title:e(()=>[t(o(n("http.api.property.advertisedAddress")),1)]),body:e(()=>[a.data.zoneIngress.advertisedSocketAddress.length>0?(i(),m(b,{key:0,appearance:"decorative"},{default:e(()=>[d(h,{text:a.data.zoneIngress.advertisedSocketAddress},null,8,["text"])]),_:1})):(i(),y(g,{key:1},[t(o(n("common.detail.none")),1)],64))]),_:2},1024)]),_:2},1032,["title","created","modified"]),r[13]||(r[13]=t()),a.data.zoneIngressInsight.subscriptions.length>0?(i(),y("div",N,[B("h2",null,o(n("zone-ingresses.routes.item.subscriptions.title")),1),r[11]||(r[11]=t()),d(S,{headers:[{...u.get("headers.instanceId"),label:n("http.api.property.instanceId"),key:"instanceId"},{...u.get("headers.version"),label:n("http.api.property.version"),key:"version"},{...u.get("headers.connected"),label:n("http.api.property.connected"),key:"connected"},{...u.get("headers.disconnected"),label:n("http.api.property.disconnected"),key:"disconnected"},{...u.get("headers.responses"),label:n("http.api.property.responses"),key:"responses"}],"is-selected-row":s=>s.id===_.params.subscription,items:a.data.zoneIngressInsight.subscriptions.map((s,c,p)=>p[p.length-(c+1)]),onResize:u.set},{instanceId:e(({row:s})=>[d(v,{"data-action":"",to:{name:"zone-ingress-subscription-summary-view",params:{subscription:s.id}}},{default:e(()=>[t(o(s.controlPlaneInstanceId),1)]),_:2},1032,["to"])]),version:e(({row:s})=>{var c,p;return[t(o(((p=(c=s.version)==null?void 0:c.kumaDp)==null?void 0:p.version)??"-"),1)]}),connected:e(({row:s})=>[t(o(n("common.formats.datetime",{value:Date.parse(s.connectTime??"")})),1)]),disconnected:e(({row:s})=>[s.disconnectTime?(i(),y(g,{key:0},[t(o(n("common.formats.datetime",{value:Date.parse(s.disconnectTime)})),1)],64)):k("",!0)]),responses:e(({row:s})=>{var c;return[(i(!0),y(g,null,D([((c=s.status)==null?void 0:c.total)??{}],p=>(i(),y(g,null,[t(o(p.responsesSent)+"/"+o(p.responsesAcknowledged),1)],64))),256))]}),_:2},1032,["headers","is-selected-row","items","onResize"]),r[12]||(r[12]=t()),d(I,null,{default:e(({Component:s})=>[_.child()?(i(),m(T,{key:0,width:"670px",onClose:function(){_.replace({name:"zone-ingress-detail-view",params:{zoneIngress:_.params.zoneIngress}})}},{default:e(()=>[(i(),m(R(s),{data:a.data.zoneIngressInsight.subscriptions},null,8,["data"]))]),_:2},1032,["onClose"])):k("",!0)]),_:2},1024)])):k("",!0)]),_:2},1024)]),_:2},1024)]),_:1})}}});export{E as default};
