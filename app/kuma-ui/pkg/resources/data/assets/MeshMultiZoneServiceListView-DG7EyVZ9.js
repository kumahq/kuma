import{d as M,r as n,p as c,o as i,w as s,b as a,e as m,l as f,I as P,m as q,ac as K,q as T,K as $,t as _,c as g,N as w,L as y,y as G,_ as I}from"./index-BQCKYSWR.js";import{S as Z}from"./SummaryView-BpytFwlw.js";const E=M({__name:"MeshMultiZoneServiceListView",setup(F){return(j,r)=>{const z=n("RouteTitle"),C=n("XSearch"),d=n("XAction"),b=n("XCopyButton"),X=n("KumaPort"),u=n("XLayout"),V=n("XBadge"),k=n("XActionGroup"),L=n("RouterView"),S=n("DataCollection"),A=n("DataLoader"),B=n("XCard"),R=n("AppView"),x=n("RouteView");return i(),c(x,{name:"mesh-multi-zone-service-list-view",params:{page:1,size:Number,mesh:"",service:"",s:""}},{default:s(({can:N,route:e,t:h,uri:D,me:p})=>[a(z,{render:!1,title:h("services.routes.mesh-multi-zone-service-list-view.title")},null,8,["title"]),r[6]||(r[6]=m()),a(R,{docs:h("services.mesh-multi-zone-service.href.docs")},{default:s(()=>[a(B,null,{default:s(()=>[a(u,null,{default:s(()=>[f("search",null,[f("form",{onSubmit:r[0]||(r[0]=P(()=>{},["prevent"]))},[a(C,{class:"search-field",keys:["name","namespace",...N("use zones")?["zone"]:[],"label"],value:e.params.s,onChange:o=>e.update({s:o})},null,8,["keys","value","onChange"])],32)]),r[5]||(r[5]=m()),a(A,{src:D(q(K),"/meshes/:mesh/mesh-multi-zone-services",{mesh:e.params.mesh},{page:e.params.page,size:e.params.size,search:e.params.s})},{loadable:s(({data:o})=>[a(S,{type:"services",items:(o==null?void 0:o.items)??[void 0],page:e.params.page,"page-size":e.params.size,total:o==null?void 0:o.total,onChange:e.update},{default:s(()=>[a($,{headers:[{...p.get("headers.name"),label:"Name",key:"name"},{...p.get("headers.ports"),label:"Ports",key:"ports"},{...p.get("headers.labels"),label:"Selector",key:"labels"},{...p.get("headers.actions"),label:"Actions",key:"actions",hideLabel:!0}],items:o==null?void 0:o.items,"is-selected-row":t=>t.name===e.params.service,onResize:p.set},{name:s(({row:t})=>[a(b,{text:t.name},{default:s(()=>[a(d,{"data-action":"",to:{name:"mesh-multi-zone-service-summary-view",params:{mesh:t.mesh,service:t.id},query:{page:e.params.page,size:e.params.size,s:e.params.s}}},{default:s(()=>[m(_(t.name),1)]),_:2},1032,["to"])]),_:2},1032,["text"])]),ports:s(({row:t})=>[a(u,{type:"separated",truncate:""},{default:s(()=>[(i(!0),g(w,null,y(t.spec.ports,l=>(i(),c(X,{key:l.port,port:{...l,targetPort:void 0}},null,8,["port"]))),128))]),_:2},1024)]),labels:s(({row:t})=>[a(u,{type:"separated",truncate:""},{default:s(()=>[(i(!0),g(w,null,y(t.spec.selector.meshService.matchLabels,(l,v)=>(i(),c(V,{key:`${v}:${l}`,appearance:"info"},{default:s(()=>[m(_(v)+":"+_(l),1)]),_:2},1024))),128))]),_:2},1024)]),actions:s(({row:t})=>[a(k,null,{default:s(()=>[a(d,{to:{name:"mesh-multi-zone-service-detail-view",params:{mesh:t.mesh,service:t.id}}},{default:s(()=>[m(_(h("common.collection.actions.view")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2,__:[1,2,3]},1032,["headers","items","is-selected-row","onResize"]),r[4]||(r[4]=m()),o!=null&&o.items&&e.params.service?(i(),c(L,{key:0},{default:s(t=>[a(Z,{onClose:l=>e.replace({name:"mesh-multi-zone-service-list-view",params:{mesh:e.params.mesh},query:{page:e.params.page,size:e.params.size,s:e.params.s}})},{default:s(()=>[(i(),c(G(t.Component),{items:o==null?void 0:o.items},null,8,["items"]))]),_:2},1032,["onClose"])]),_:2},1024)):T("",!0)]),_:2,__:[4]},1032,["items","page","page-size","total","onChange"])]),_:2},1032,["src"])]),_:2,__:[5]},1024)]),_:2},1024)]),_:2},1032,["docs"])]),_:1,__:[6]})}}}),O=I(E,[["__scopeId","data-v-1a1f17de"]]);export{O as default};
