import{d as $,r as p,o as i,p as u,w as e,b as n,l as m,t as s,e as a,c as C,J as T,K as E,n as A,Q as y,S as M,m as R,ag as q,q as g,Y as I}from"./index-Ch1waQC_.js";import{T as Q}from"./TagList-Cw8tefL6.js";import{_ as K}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-Dlw2oWau.js";const O={class:"stack-with-borders"},U={class:"stack-with-borders"},G=$({__name:"DataPlaneSummaryView",props:{items:{},routeName:{}},setup(b){const w=b;return(J,t)=>{const S=p("XEmptyState"),X=p("RouteTitle"),h=p("XAction"),v=p("XIcon"),x=p("DataCollection"),f=p("XLayout"),D=p("XCopyButton"),P=p("DataSource"),V=p("AppView"),B=p("RouteView");return i(),u(B,{name:w.routeName,params:{mesh:"",dataPlane:"",codeSearch:"",codeFilter:!1,codeRegExp:!1}},{default:e(({route:d,t:l,uri:N,can:F})=>[n(x,{items:w.items,predicate:_=>_.id===d.params.dataPlane},{empty:e(()=>[n(S,null,{title:e(()=>[m("h2",null,s(l("common.collection.summary.empty_title",{type:"Data Plane Proxy"})),1)]),default:e(()=>[t[0]||(t[0]=a()),m("p",null,s(l("common.collection.summary.empty_message",{type:"Data Plane Proxy"})),1)]),_:2},1024)]),default:e(({items:_})=>[(i(!0),C(T,null,E([_[0]],o=>(i(),u(V,{key:o.id},{title:e(()=>[m("h2",{class:A(`type-${o.dataplaneType}`)},[n(h,{to:{name:"data-plane-detail-view",params:{dataPlane:o.id}}},{default:e(()=>[n(X,{title:l("data-planes.routes.item.title",{name:o.name})},null,8,["title"])]),_:2},1032,["to"])],2)]),default:e(()=>[t[19]||(t[19]=a()),n(f,{type:"stack"},{default:e(()=>[m("div",O,[n(y,{layout:"horizontal"},{title:e(()=>[a(s(l("http.api.property.status")),1)]),body:e(()=>[n(f,{type:"separated"},{default:e(()=>[n(M,{status:o.status},null,8,["status"]),t[1]||(t[1]=a()),o.dataplaneType==="standard"?(i(),u(x,{key:0,items:o.dataplane.networking.inbounds,predicate:r=>r.state!=="Ready",empty:!1},{default:e(({items:r})=>[n(v,{name:"info",color:R(q)},{default:e(()=>[m("ul",null,[(i(!0),C(T,null,E(r,c=>(i(),C("li",{key:`${c.service}:${c.port}`},s(l("data-planes.routes.item.unhealthy_inbound",{service:c.service,port:c.port})),1))),128))])]),_:2},1032,["color"])]),_:2},1032,["items","predicate"])):g("",!0)]),_:2},1024)]),_:2},1024),t[9]||(t[9]=a()),n(y,{layout:"horizontal"},{title:e(()=>t[3]||(t[3]=[a(`
                    Type
                  `)])),body:e(()=>[a(s(l(`data-planes.type.${o.dataplaneType}`)),1)]),_:2},1024),t[10]||(t[10]=a()),o.namespace.length>0?(i(),u(y,{key:0,layout:"horizontal"},{title:e(()=>[a(s(l("data-planes.routes.item.namespace")),1)]),body:e(()=>[a(s(o.namespace),1)]),_:2},1024)):g("",!0),t[11]||(t[11]=a()),F("use zones")&&o.zone?(i(),u(y,{key:1,layout:"horizontal"},{title:e(()=>t[6]||(t[6]=[a(`
                    Zone
                  `)])),body:e(()=>[n(h,{to:{name:"zone-cp-detail-view",params:{zone:o.zone}}},{default:e(()=>[a(s(o.zone),1)]),_:2},1032,["to"])]),_:2},1024)):g("",!0),t[12]||(t[12]=a()),n(y,{layout:"horizontal"},{title:e(()=>[a(s(l("http.api.property.modificationTime")),1)]),body:e(()=>[a(s(l("common.formats.datetime",{value:Date.parse(o.modificationTime)})),1)]),_:2},1024)]),t[17]||(t[17]=a()),o.dataplane.networking.gateway?(i(),u(f,{key:0,type:"stack"},{default:e(()=>[m("h3",null,s(l("data-planes.routes.item.gateway")),1),t[16]||(t[16]=a()),m("div",U,[n(y,{layout:"horizontal"},{title:e(()=>[a(s(l("http.api.property.tags")),1)]),body:e(()=>[n(Q,{alignment:"right",tags:o.dataplane.networking.gateway.tags},null,8,["tags"])]),_:2},1024),t[15]||(t[15]=a()),n(y,{layout:"horizontal"},{title:e(()=>[a(s(l("http.api.property.address")),1)]),body:e(()=>[n(D,{text:`${o.dataplane.networking.address}`},null,8,["text"])]),_:2},1024)])]),_:2},1024)):g("",!0)]),_:2},1024),t[20]||(t[20]=a()),n(f,{type:"stack"},{default:e(()=>[m("h3",null,s(l("data-planes.routes.item.config")),1),t[18]||(t[18]=a()),n(K,{resource:o.config,language:"yaml","is-searchable":"",query:d.params.codeSearch,"is-filter-mode":d.params.codeFilter,"is-reg-exp-mode":d.params.codeRegExp,onQueryChange:r=>d.update({codeSearch:r}),onFilterModeChange:r=>d.update({codeFilter:r}),onRegExpModeChange:r=>d.update({codeRegExp:r})},{default:e(({copy:r,copying:c})=>[c?(i(),u(P,{key:0,src:N(R(I),"/meshes/:mesh/dataplanes/:name/as/kubernetes",{mesh:d.params.mesh,name:d.params.dataPlane},{cacheControl:"no-store"}),onChange:k=>{r(z=>z(k))},onError:k=>{r((z,L)=>L(k))}},null,8,["src","onChange","onError"])):g("",!0)]),_:2},1032,["resource","query","is-filter-mode","is-reg-exp-mode","onQueryChange","onFilterModeChange","onRegExpModeChange"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1032,["items","predicate"])]),_:1},8,["name"])}}});export{G as default};
