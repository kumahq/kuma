import{d as g,o as r,e as h,h as a,w as e,i as y,g as s,t as p,b as i,a as c,f as S,k as x,F as b}from"./index-6c44d272.js";import{o as $,g as f,D as _,T as k,S as I,R as w,A as B,i as D,h as T,E as V,_ as C}from"./RouteView.vue_vue_type_script_setup_true_lang-9ff59c45.js";import{_ as E}from"./ResourceCodeBlock.vue_vue_type_script_setup_true_lang-4b154e1a.js";import{T as A}from"./TagList-e06d9a17.js";import{_ as N}from"./RouteTitle.vue_vue_type_script_setup_true_lang-ce3600d0.js";import"./WarningIcon.vue_vue_type_script_setup_true_lang-7307ec83.js";import"./CodeBlock.vue_vue_type_style_index_0_lang-e7cdd52c.js";import"./toYaml-4e00099e.js";const P={class:"stack"},F={class:"columns",style:{"--columns":"3"}},R=g({__name:"ExternalServiceDetails",props:{serviceInsight:{},externalService:{}},setup(u){const t=u,n=$(),{t:d}=f();async function v(o){const{mesh:l,name:m}=t.externalService;return await n.getExternalService({mesh:l,name:m},o)}return(o,l)=>(r(),h("div",P,[a(i(x),null,{body:e(()=>[y("div",F,[a(_,null,{title:e(()=>[s(p(i(d)("http.api.property.name")),1)]),body:e(()=>[a(k,{text:t.serviceInsight.name},null,8,["text"])]),_:1}),s(),a(_,null,{title:e(()=>[s(p(i(d)("http.api.property.address")),1)]),body:e(()=>[s(p(t.externalService.networking.address),1)]),_:1}),s(),t.externalService.tags!==null?(r(),c(_,{key:0},{title:e(()=>[s(p(i(d)("http.api.property.tags")),1)]),body:e(()=>[a(A,{tags:t.externalService.tags},null,8,["tags"])]),_:1})):S("",!0)])]),_:1}),s(),a(E,{id:"code-block-service",resource:t.externalService,"resource-fetcher":v,"is-searchable":""},null,8,["resource"])]))}}),K={class:"stack"},L={class:"columns",style:{"--columns":"3"}},W=g({__name:"ServiceInsightDetails",props:{serviceInsight:{}},setup(u){const t=u,{t:n}=f();return(d,v)=>(r(),h("div",K,[a(i(x),null,{body:e(()=>{var o,l;return[y("div",L,[a(_,null,{title:e(()=>[s(p(i(n)("http.api.property.status")),1)]),body:e(()=>[a(I,{status:t.serviceInsight.status??"not_available"},null,8,["status"])]),_:1}),s(),a(_,null,{title:e(()=>[s(p(i(n)("http.api.property.address")),1)]),body:e(()=>[t.serviceInsight.addressPort?(r(),c(k,{key:0,text:t.serviceInsight.addressPort},null,8,["text"])):(r(),h(b,{key:1},[s(p(i(n)("common.detail.none")),1)],64))]),_:1}),s(),a(w,{online:((o=t.serviceInsight.dataplanes)==null?void 0:o.online)??0,total:((l=t.serviceInsight.dataplanes)==null?void 0:l.total)??0},{title:e(()=>[s(p(i(n)("http.api.property.dataPlaneProxies")),1)]),_:1},8,["online","total"])])]}),_:1})]))}}),Q=g({__name:"ServiceDetailView",props:{data:{}},setup(u){const t=u,{t:n}=f();return(d,v)=>(r(),c(C,{name:"service-detail-view","data-testid":"service-detail-view"},{default:e(({route:o})=>[a(B,null,{title:e(()=>[y("h2",null,[a(N,{title:i(n)("services.routes.item.navigation.service-detail-view"),render:!0},null,8,["title"])])]),default:e(()=>[s(),t.data.serviceType==="external"?(r(),c(D,{key:0,src:`/meshes/${o.params.mesh}/external-services/${o.params.service}`},{default:e(({data:l,error:m})=>[l===void 0?(r(),c(T,{key:0})):m?(r(),c(V,{key:1,error:m},null,8,["error"])):(r(),c(R,{key:2,"service-insight":d.data,"external-service":l},null,8,["service-insight","external-service"]))]),_:2},1032,["src"])):(r(),c(W,{key:1,"service-insight":d.data},null,8,["service-insight"]))]),_:2},1024)]),_:1}))}});export{Q as default};
