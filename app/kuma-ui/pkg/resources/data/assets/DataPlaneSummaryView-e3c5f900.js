import{d as b,l as x,a as u,o as r,c as p,p as i,e as o,w as e,f as t,t as l,q as a,b as m,a2 as T,s as g,a1 as c,F as k,I as P,_ as I,C as V,y as z,z as C,a5 as R}from"./index-b97eeae1.js";import{_ as B}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-e1bd4f0f.js";import{a as $,K}from"./index-fce48c05.js";import{S as N}from"./StatusBadge-32ce4183.js";import{T as O}from"./TagList-2c88e736.js";import{T as f}from"./TextWithCopyButton-6c31a1a4.js";import"./CopyButton-338cbf10.js";const L={class:"stack"},U={class:"stack-with-borders"},A={class:"status-with-reason"},E={key:0},F={class:"mt-4"},j={class:"stack-with-borders"},q={key:1},G={class:"mt-4"},W={class:"stack"},Z={class:"mt-2 stack-with-borders"},H=b({__name:"DataPlaneSummary",props:{dataplaneOverview:{}},setup(_){const{t:s,formatIsoDate:y}=x(),n=_;return(S,D)=>{const h=u("KTooltip"),v=u("KBadge");return r(),p("div",L,[i("div",U,[o(c,{layout:"horizontal"},{title:e(()=>[t(l(a(s)("http.api.property.status")),1)]),body:e(()=>[i("div",A,[o(N,{status:n.dataplaneOverview.status},null,8,["status"]),t(),n.dataplaneOverview.unhealthyInbounds.length>0?(r(),m(h,{key:0,label:n.dataplaneOverview.unhealthyInbounds.map(d=>a(s)("data-planes.routes.item.unhealthy_inbound",d)).join(", "),class:"reason-tooltip","position-fixed":""},{default:e(()=>[o(a(T),{color:a($),size:a(K),"hide-title":""},null,8,["color","size"])]),_:1},8,["label"])):g("",!0)])]),_:1}),t(),o(c,{layout:"horizontal"},{title:e(()=>[t(l(a(s)("data-planes.routes.item.last_updated")),1)]),body:e(()=>[n.dataplaneOverview.lastUpdateTime?(r(),p(k,{key:0},[t(l(a(y)(n.dataplaneOverview.lastUpdateTime)),1)],64)):(r(),p(k,{key:1},[t(l(a(s)("common.detail.none")),1)],64))]),_:1})]),t(),n.dataplaneOverview.dataplane.networking.gateway?(r(),p("div",E,[i("h3",null,l(a(s)("data-planes.routes.item.gateway")),1),t(),i("div",F,[i("div",j,[o(c,{layout:"horizontal"},{title:e(()=>[t(l(a(s)("http.api.property.tags")),1)]),body:e(()=>[o(O,{alignment:"right",tags:n.dataplaneOverview.dataplane.networking.gateway.tags},null,8,["tags"])]),_:1}),t(),o(c,{layout:"horizontal"},{title:e(()=>[t(l(a(s)("http.api.property.address")),1)]),body:e(()=>[o(f,{text:`${n.dataplaneOverview.dataplane.networking.address}`},null,8,["text"])]),_:1})])])])):g("",!0),t(),n.dataplaneOverview.dataplane.networking.inbound?(r(),p("div",q,[i("h3",null,l(a(s)("data-planes.routes.item.inbounds")),1),t(),i("div",G,[i("div",W,[(r(!0),p(k,null,P(n.dataplaneOverview.dataplane.networking.inbound,(d,w)=>(r(),p("div",{key:w,class:"inbound"},[i("h4",null,[o(f,{text:d.tags["kuma.io/service"]},{default:e(()=>[t(l(a(s)("data-planes.routes.item.inbound_name",{service:d.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])]),t(),i("div",Z,[o(c,{layout:"horizontal"},{title:e(()=>[t(l(a(s)("http.api.property.status")),1)]),body:e(()=>[!d.health||d.health.ready?(r(),m(v,{key:0,appearance:"success"},{default:e(()=>[t(l(a(s)("data-planes.routes.item.health.ready")),1)]),_:1})):(r(),m(v,{key:1,appearance:"danger"},{default:e(()=>[t(l(a(s)("data-planes.routes.item.health.not_ready")),1)]),_:1}))]),_:2},1024),t(),o(c,{layout:"horizontal"},{title:e(()=>[t(l(a(s)("http.api.property.tags")),1)]),body:e(()=>[o(O,{alignment:"right",tags:d.tags},null,8,["tags"])]),_:2},1024),t(),o(c,{layout:"horizontal"},{title:e(()=>[t(l(a(s)("http.api.property.address")),1)]),body:e(()=>[o(f,{text:`${d.address??n.dataplaneOverview.dataplane.networking.advertisedAddress??n.dataplaneOverview.dataplane.networking.address}:${d.port}`},null,8,["text"])]),_:2},1024)])]))),128))])])])):g("",!0)])}}});const J=I(H,[["__scopeId","data-v-4e656bb3"]]),M=_=>(z("data-v-21ad478f"),_=_(),C(),_),Q={class:"summary-title-wrapper"},X=M(()=>i("img",{"aria-hidden":"true",src:R},null,-1)),Y={class:"summary-title"},tt={key:1,class:"stack"},et=b({__name:"DataPlaneSummaryView",props:{name:{},dataplaneOverview:{default:void 0}},setup(_){const{t:s}=x(),y=V(),n=_;return(S,D)=>{const h=u("RouteTitle"),v=u("RouterLink"),d=u("AppView"),w=u("RouteView");return r(),m(w,{name:a(y).name},{default:e(()=>[o(d,null,{title:e(()=>[i("div",Q,[X,t(),i("h2",Y,[o(v,{to:{name:"data-plane-detail-view",params:{dataPlane:n.name}}},{default:e(()=>[o(h,{title:a(s)("data-planes.routes.item.title",{name:n.name})},null,8,["title"])]),_:1},8,["to"])])])]),default:e(()=>[t(),n.dataplaneOverview===void 0?(r(),m(B,{key:0},{message:e(()=>[i("p",null,l(a(s)("common.collection.summary.empty_message",{type:"Data Plane Proxy"})),1)]),default:e(()=>[t(l(a(s)("common.collection.summary.empty_title",{type:"Data Plane Proxy"}))+" ",1)]),_:1})):(r(),p("div",tt,[o(J,{class:"mt-4","dataplane-overview":n.dataplaneOverview},null,8,["dataplane-overview"])]))]),_:1})]),_:1},8,["name"])}}});const dt=I(et,[["__scopeId","data-v-21ad478f"]]);export{dt as default};
