import{d as K,v as Q,r as o,p as x,o as m,w as e,b as t,m as B,V as S,M as A,e as n,L,t as c,y as W,q as V,l as f,I as Y,c as b,N,_ as Z}from"./index-Byvp9pSj.js";const ee=["onSubmit"],te=["disabled"],ae={key:0},oe={key:0},ne=K({__name:"DataPlaneDetailTabsView",props:{mesh:{}},setup(R){const M=R,l=Q({eds:!1,xds:!0,clusters:!0,stats:!0,proxy:!0,policies:!0});return(se,a)=>{const $=o("RouteTitle"),I=o("XCopyButton"),E=o("XBadge"),y=o("XLayout"),v=o("XAction"),h=o("XI18n"),C=o("XCheckbox"),U=o("XAlert"),D=o("DataLoader"),O=o("XDownload"),P=o("XModal"),g=o("XDisclosure"),j=o("XTeleportTemplate"),q=o("XTabs"),z=o("RouterView"),F=o("AppView"),J=o("DataSource"),G=o("RouteView");return m(),x(G,{name:"data-plane-detail-tabs-view",params:{mesh:"",proxy:""}},{default:e(({route:r,t:d,uri:T})=>[t(J,{src:T(B(S),"/meshes/:mesh/dataplane-overviews/:name",{mesh:r.params.mesh,name:r.params.proxy})},{default:e(({data:s,error:H})=>[t(F,{breadcrumbs:[{to:{name:"mesh-detail-view",params:{mesh:r.params.mesh}},text:r.params.mesh},{to:{name:"data-plane-list-view",params:{mesh:r.params.mesh}},text:d("data-planes.routes.item.breadcrumbs")}]},A({actions:e(()=>[t(g,null,{default:e(({expanded:w,toggle:p})=>[t(v,{appearance:"primary",onClick:p},{default:e(()=>a[2]||(a[2]=[n(`
              Download Bundle
            `)])),_:2,__:[2]},1032,["onClick"]),a[7]||(a[7]=n()),w?(m(),x(j,{key:0,to:{name:"modal-layer"}},{default:e(()=>[t(g,null,{default:e(({expanded:X,toggle:k})=>[f("form",{onSubmit:Y(k,["prevent"])},[t(P,{title:d("data-planes.routes.item.download.title"),onCancel:p},{"footer-actions":e(()=>[t(y,{type:"separated"},{default:e(()=>[t(O,{onStart:p},{default:e(({download:u})=>[t(D,{variant:"spinner",src:X?T(B(S),"/meshes/:mesh/dataplanes/:name/as/tarball/:spec",{mesh:r.params.mesh,name:r.params.proxy,spec:JSON.stringify(l.value)},{cacheControl:"no-cache"}):"",onChange:u,onError:k},{error:e(()=>[t(U,{appearance:"warning","show-icon":""},{default:e(()=>[t(h,{t:"data-planes.routes.item.download.error"})]),_:1})]),_:2},1032,["src","onChange","onError"])]),_:2},1032,["onStart"]),a[5]||(a[5]=n()),t(v,{appearance:"primary",type:"submit",disabled:X||Object.values(l.value).every(u=>!u)},{default:e(()=>[n(c(d("data-planes.routes.item.download.action")),1)]),_:2},1032,["disabled"])]),_:2,__:[5]},1024)]),default:e(()=>[f("fieldset",{disabled:X},[t(h,{path:"data-planes.routes.item.download.description"}),a[4]||(a[4]=n()),f("ul",null,[(m(!0),b(N,null,L(l.value,(u,i)=>(m(),b(N,{key:typeof u},[i!=="eds"?(m(),b("li",ae,[t(C,{modelValue:l.value[i],"onUpdate:modelValue":_=>l.value[i]=_,onChange:_=>{i==="xds"&&!_&&(l.value.eds=!1)}},{default:e(()=>[n(c(d(`data-planes.routes.item.download.options.${i}`)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),a[3]||(a[3]=n()),i==="xds"?(m(),b("ul",oe,[f("li",null,[t(C,{modelValue:l.value.eds,"onUpdate:modelValue":a[0]||(a[0]=_=>l.value.eds=_),disabled:!l.value.xds},{default:e(()=>[n(c(d("data-planes.routes.item.download.options.eds")),1)]),_:2},1032,["modelValue","disabled"])])])):V("",!0)])):V("",!0)],64))),128))])],8,te),a[6]||(a[6]=n())]),_:2,__:[6]},1032,["title","onCancel"])],40,ee)]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2,__:[7]},1024)]),default:e(()=>[a[9]||(a[9]=n()),a[10]||(a[10]=n()),t(D,{data:[s],errors:[H]},{default:e(()=>{var w;return[t(q,{selected:(w=r.child())==null?void 0:w.name},A({_:2},[L(r.children,({name:p})=>({name:`${p}-tab`,fn:e(()=>[t(v,{to:{name:p}},{default:e(()=>[n(c(d(`data-planes.routes.item.navigation.${p}`)),1)]),_:2},1032,["to"])])}))]),1032,["selected"]),a[8]||(a[8]=n()),t(z,null,{default:e(({Component:p})=>[(m(),x(W(p),{data:s,networking:s==null?void 0:s.dataplane.networking,mesh:M.mesh},null,8,["data","networking","mesh"]))]),_:2},1024)]}),_:2,__:[8]},1032,["data","errors"])]),_:2},[s?{name:"title",fn:e(()=>[t(y,{size:"small"},{default:e(()=>[f("h1",null,[t(I,{text:s.name},{default:e(()=>[t($,{title:d("data-planes.routes.item.title",{name:s.name})},null,8,["title"])]),_:2},1032,["text"])]),a[1]||(a[1]=n()),t(E,{appearance:d(`common.status.appearance.${s.status}`,void 0,{defaultMessage:"neutral"})},{default:e(()=>[n(c(d(`http.api.value.${s.status}`)),1)]),_:2},1032,["appearance"])]),_:2,__:[1]},1024)]),key:"0"}:void 0]),1032,["breadcrumbs"])]),_:2},1032,["src"])]),_:1})}}}),re=Z(ne,[["__scopeId","data-v-c9ed33a8"]]);export{re as default};
