import{d as _,o,a as n,w as t,h as l,i as f,b as p,g as c,k as w,$ as h,t as b}from"./index-8422fc56.js";import{e as v,g as z,A as $,E as k,_ as q,d as S}from"./RouteView.vue_vue_type_script_setup_true_lang-90043e39.js";import{_ as V}from"./RouteTitle.vue_vue_type_script_setup_true_lang-2207a44e.js";import{D as x,K as B}from"./KFilterBar-a7462acc.js";import"./WarningIcon.vue_vue_type_script_setup_true_lang-0fd32299.js";import"./dataplane-30467516.js";const C=_({__name:"GatewayListView",props:{page:{},size:{},search:{},query:{},mesh:{},gatewayType:{}},setup(u){const a=u,{t:g}=v();return(y,T)=>(o(),n(q,{name:"gateways-list-view"},{default:t(({route:i,can:m})=>[l(z,{src:`/meshes/${i.params.mesh}/gateways/of/${a.gatewayType}?page=${a.page}&size=${y.size}&search=${a.search}`},{default:t(({data:s,error:r})=>[l($,null,{title:t(()=>[f("h2",null,[l(V,{title:p(g)("gateways.routes.items.title"),render:!0},null,8,["title"])])]),default:t(()=>[c(),l(p(w),null,{body:t(()=>[r!==void 0?(o(),n(k,{key:0,error:r},null,8,["error"])):(o(),n(x,{key:1,"data-testid":"gateway-collection",class:"gateway-collection","page-number":a.page,"page-size":a.size,total:s==null?void 0:s.total,items:s==null?void 0:s.items,error:r,gateways:!0,onChange:({page:e,size:d})=>{i.update({page:String(e),size:String(d)})}},{toolbar:t(()=>[l(B,{class:"data-plane-proxy-filter",placeholder:"tag: 'kuma.io/protocol: http'",query:a.query,fields:{name:{description:"filter by name or parts of a name"},service:{description:"filter by “kuma.io/service” value"},tag:{description:"filter by tags (e.g. “tag: version:2”)"},...m("use zones")?{zone:{description:"filter by “kuma.io/zone” value"}}:{}},onFieldsChange:e=>i.update({query:e.query,s:e.query.length>0?JSON.stringify(e.fields):""})},null,8,["placeholder","query","fields","onFieldsChange"]),c(),l(p(h),{label:"Type","overlay-label":!0,items:[{label:"All",value:"all"},{label:"Builtin",value:"builtin"},{label:"Delegated",value:"delegated"}].map(e=>({...e,selected:e.value===a.gatewayType})),appearance:"select",onSelected:e=>i.update({gatewayType:String(e.value)})},{"item-template":t(({item:e})=>[c(b(e.label),1)]),_:2},1032,["items","onSelected"])]),_:2},1032,["page-number","page-size","total","items","error","onChange"]))]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])]),_:1}))}});const E=S(C,[["__scopeId","data-v-a6ddecf9"]]);export{E as default};
