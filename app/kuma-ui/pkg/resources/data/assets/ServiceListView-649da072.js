import{d as y,r as f,o as c,a as g,w as e,h as t,s as b,b as a,g as i,j as w,t as l,e as m,F as p,$ as k,E as h,x as S,H as x}from"./index-8710b786.js";import{_ as z,A as V}from"./DataSource.vue_vue_type_script_setup_true_lang-381f2a24.js";import{g as $,A,_ as C,f as L}from"./RouteView.vue_vue_type_script_setup_true_lang-e980261b.js";import{_ as B}from"./RouteTitle.vue_vue_type_script_setup_true_lang-56277c05.js";import{S as T}from"./StatusBadge-69d099bc.js";const N=y({__name:"ServiceListView",props:{page:{},size:{},mesh:{}},setup(_){const n=_,{t:r}=$();return(E,P)=>{const u=f("RouterLink");return c(),g(C,{name:"services-list-view"},{default:e(({route:d})=>[t(z,{src:`/${n.mesh}/services?page=${n.page}&size=${n.size}`},{default:e(({data:o,error:v})=>[t(A,null,{title:e(()=>[b("h2",null,[t(B,{title:a(r)("services.routes.items.title"),render:!0},null,8,["title"])])]),default:e(()=>[i(),t(a(w),null,{body:e(()=>[t(V,{class:"service-collection","data-testid":"service-collection","empty-state-title":a(r)("common.emptyState.title"),"empty-state-message":a(r)("common.emptyState.message",{type:"Services"}),headers:[{label:"Name",key:"name"},{label:"Type",key:"serviceType"},{label:"Address",key:"addressPort"},{label:"DP proxies (online / total)",key:"online"},{label:"Status",key:"status"},{label:"Actions",key:"actions",hideLabel:!0}],"page-number":n.page,"page-size":n.size,total:o==null?void 0:o.total,items:o==null?void 0:o.items,error:v,onChange:d.update},{name:e(({row:s})=>[t(u,{to:{name:"service-detail-view",params:{service:s.name}}},{default:e(()=>[i(l(s.name),1)]),_:2},1032,["to"])]),serviceType:e(({rowValue:s})=>[i(l(s||"—"),1)]),addressPort:e(({rowValue:s})=>[i(l(s||"—"),1)]),online:e(({row:s})=>[s.dataplanes?(c(),m(p,{key:0},[i(l(s.dataplanes.online||0)+" / "+l(s.dataplanes.total||0),1)],64)):(c(),m(p,{key:1},[i(`
                  —
                `)],64))]),status:e(({row:s})=>[t(T,{status:s.status||"not_available"},null,8,["status"])]),actions:e(({row:s})=>[t(a(k),{class:"actions-dropdown","kpop-attributes":{placement:"bottomEnd",popoverClasses:"mt-5 more-actions-popover"},width:"150"},{default:e(()=>[t(a(h),{class:"non-visual-button",appearance:"secondary",size:"small"},{icon:e(()=>[t(a(S),{color:"var(--black-400)",icon:"more",size:"16"})]),_:1})]),items:e(()=>[t(a(x),{item:{to:{name:"service-detail-view",params:{service:s.name}},label:a(r)("common.collection.actions.view")}},null,8,["item"])]),_:2},1024)]),_:2},1032,["empty-state-title","empty-state-message","headers","page-number","page-size","total","items","error","onChange"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["src"])]),_:1})}}});const H=L(N,[["__scopeId","data-v-f45d153d"]]);export{H as default};
