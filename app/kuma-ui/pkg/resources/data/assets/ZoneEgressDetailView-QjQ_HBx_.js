import{d as X,r as l,o as i,p as m,w as e,b as d,Q as w,e as s,t as n,S as B,q as _,c as y,J as f,l as I,A as x,K as D,F as R}from"./index-gI7YoWPY.js";import{S}from"./SummaryView-nxWwoAqU.js";const T={key:0},q=X({__name:"ZoneEgressDetailView",props:{data:{}},setup(b){const a=b;return(N,r)=>{const h=l("XBadge"),k=l("XCopyButton"),z=l("XAboutCard"),v=l("XAction"),C=l("RouterView"),V=l("XLayout"),A=l("AppView"),E=l("RouteView");return i(),m(E,{name:"zone-egress-detail-view",params:{subscription:"",zoneEgress:""}},{default:e(({t:o,route:g,me:u})=>[d(A,null,{default:e(()=>[d(V,{type:"stack"},{default:e(()=>[d(z,{title:o("zone-egresses.routes.item.about.title"),created:a.data.creationTime,modified:a.data.modificationTime},{default:e(()=>[d(w,{layout:"horizontal"},{title:e(()=>[s(n(o("http.api.property.status")),1)]),body:e(()=>[d(B,{status:a.data.state},null,8,["status"])]),_:2},1024),r[3]||(r[3]=s()),a.data.namespace.length>0?(i(),m(w,{key:0,layout:"horizontal"},{title:e(()=>[s(n(o("http.api.property.namespace")),1)]),body:e(()=>[d(h,{appearance:"decorative"},{default:e(()=>[s(n(a.data.namespace),1)]),_:1})]),_:2},1024)):_("",!0),r[4]||(r[4]=s()),d(w,{layout:"horizontal"},{title:e(()=>[s(n(o("http.api.property.address")),1)]),body:e(()=>[a.data.zoneEgress.socketAddress.length>0?(i(),m(k,{key:0,variant:"badge",format:"default",text:a.data.zoneEgress.socketAddress},null,8,["text"])):(i(),y(f,{key:1},[s(n(o("common.detail.none")),1)],64))]),_:2},1024)]),_:2},1032,["title","created","modified"]),r[11]||(r[11]=s()),a.data.zoneEgressInsight.subscriptions.length>0?(i(),y("div",T,[I("h2",null,n(o("zone-egresses.routes.item.subscriptions.title")),1),r[9]||(r[9]=s()),d(x,{headers:[{...u.get("headers.instanceId"),label:o("http.api.property.instanceId"),key:"instanceId"},{...u.get("headers.version"),label:o("http.api.property.version"),key:"version"},{...u.get("headers.connected"),label:o("http.api.property.connected"),key:"connected"},{...u.get("headers.disconnected"),label:o("http.api.property.disconnected"),key:"disconnected"},{...u.get("headers.responses"),label:o("http.api.property.responses"),key:"responses"}],"is-selected-row":t=>t.id===g.params.subscription,items:a.data.zoneEgressInsight.subscriptions.map((t,c,p)=>p[p.length-(c+1)]),onResize:u.set},{instanceId:e(({row:t})=>[d(v,{"data-action":"",to:{name:"zone-egress-subscription-summary-view",params:{subscription:t.id}}},{default:e(()=>[s(n(t.controlPlaneInstanceId),1)]),_:2},1032,["to"])]),version:e(({row:t})=>{var c,p;return[s(n(((p=(c=t.version)==null?void 0:c.kumaDp)==null?void 0:p.version)??"-"),1)]}),connected:e(({row:t})=>[s(n(o("common.formats.datetime",{value:Date.parse(t.connectTime??"")})),1)]),disconnected:e(({row:t})=>[t.disconnectTime?(i(),y(f,{key:0},[s(n(o("common.formats.datetime",{value:Date.parse(t.disconnectTime)})),1)],64)):_("",!0)]),responses:e(({row:t})=>{var c;return[(i(!0),y(f,null,D([((c=t.status)==null?void 0:c.total)??{}],p=>(i(),y(f,null,[s(n(p.responsesSent)+"/"+n(p.responsesAcknowledged),1)],64))),256))]}),_:2},1032,["headers","is-selected-row","items","onResize"]),r[10]||(r[10]=s()),d(C,null,{default:e(({Component:t})=>[g.child()?(i(),m(S,{key:0,width:"670px",onClose:function(){g.replace({name:"zone-egress-detail-view",params:{zoneEgress:g.params.zoneEgress}})}},{default:e(()=>[(i(),m(R(t),{data:a.data.zoneEgressInsight.subscriptions},null,8,["data"]))]),_:2},1032,["onClose"])):_("",!0)]),_:2},1024)])):_("",!0)]),_:2},1024)]),_:2},1024)]),_:1})}}});export{q as default};
