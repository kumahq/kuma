var Hs=Object.defineProperty;var zs=(t,e,n)=>e in t?Hs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var z=(t,e,n)=>(zs(t,typeof e!="symbol"?e+"":e,n),n);import{v as ce,x as Ks,u as Ue,c as j,y as cn,z as qs,d as vr,A as Er,B as Pt,r as Ws,q as un,C as Xs,D as Ys}from"./runtime-dom.esm-bundler-062436f2.js";var Mt=new WeakMap,yr=new Map,Zs=new Map,ue;(function(t){t[t.Constant=0]="Constant",t[t.Instance=1]="Instance",t[t.Factory=2]="Factory"})(ue||(ue={}));var ee;(function(t){t[t.Container=0]="Container",t[t.Resolution=1]="Resolution",t[t.Singleton=2]="Singleton",t[t.Transient=3]="Transient"})(ee||(ee={}));var Qs=class{constructor(t){this.impl=t,this.type=ue.Constant}},Js=class{constructor(t){this.impl=t,this.type=ue.Factory}},eo=t=>t.type===ue.Factory,yt=class{constructor(t){this.impl=t,this.type=ue.Instance}},to=class extends yt{constructor(){super(...arguments),this.scope=ee.Container,this.cache=new WeakMap}},no=class extends yt{constructor(){super(...arguments),this.scope=ee.Resolution}},ro=class extends yt{constructor(t){super(t),this.impl=t,this.scope=ee.Singleton}},so=class extends yt{constructor(){super(...arguments),this.scope=ee.Transient}},oo=t=>t.type===ue.Instance,io=t=>t.scope===ee.Container,ao=t=>t.scope===ee.Resolution,co=t=>t.scope===ee.Singleton,uo=t=>Symbol(t),_r=t=>{const e=Symbol(t);return{__t:null,__d:t,__s:e,__o:!1,optional:{__t:null,__d:t,__s:e,__o:!0}}},xe=class{constructor(){this.parent=null,this.map=new Map}set(t,e,n=xe.notag){const r=this.map.get(e.__s);r?r.set(n,t):this.map.set(e.__s,new Map().set(n,t))}find(t,e,n){const r=this.map.get(t.__s);if(r!==void 0){if(n){const s=r.get(n);if(s)return s}if(e)for(let s=0,o=e.length;s<o;s+=1){const i=r.get(e[s]);if(i)return i}return r.get(xe.notag)}}resolve(t,e,n,r){const s=this.find(t,n,r);return s===void 0?this.parent?this.parent.resolve(t,e,n,r):null:s instanceof xe?(e.vaults.push(s),s.resolve(t,e,n,r)):s}get(t,e,n,r){const s=this.resolve(t,e,n,r);if(s)return s;for(let o=0,i=e.vaults,c=i.length;o<c;o+=1){const a=i[o].resolve(t,e,n,r);if(a)return a}return null}from(t){const e=new xe;return e.parent=this.parent,this.map.forEach((n,r)=>{e.map.set(r,t(n))}),e}clone(){return this.from(t=>new Map(t))}},Sr=xe;Sr.notag=uo("NO_TAG");var lo=class{constructor(t,e,n,r){this.vault=t,this.tokens=e,this.getVault=n,this.condition=r}from(t){const{tokens:e}=this;for(let n=0,r=e.length;n<r;n+=1)this.vault.set(this.getVault(t),e[n],this.condition)}},fo=class{constructor(t,e,n,r){this.vault=t,this.impl=e,this.token=n,this.condition=r}inContainerScope(){this.set(to)}inResolutionScope(){this.set(no)}inSingletonScope(){this.set(ro)}inTransientScope(){this.set(so)}set(t){this.vault.set(new t(this.impl),this.token,this.condition)}},ho=class{constructor(t,e,n){this.vault=t,this.token=e,this.condition=n}toConstant(t){this.vault.set(new Qs(t),this.token,this.condition)}toFactory(t,e){this.vault.set(new Js({creator:t,initializer:e}),this.token,this.condition)}toInstance(t){return new fo(this.vault,t,this.token,this.condition)}},qt=class{constructor(t,e){this.vault=t,this.condition=e}static vault(t){return t.vault}bind(t){return new ho(this.vault,t,this.condition)}use(...t){return new lo(this.vault,t,qt.vault,this.condition)}},po=class extends qt{when(t){return new qt(this.vault,t)}},mo=class extends po{constructor(){super(new Sr)}},br=class{constructor(t=new Map,e=[]){this.instances=t,this.vaults=e}split(){return new br(this.instances,this.vaults.slice())}},at=class extends mo{constructor(){super(),this.snapshot=null}extend(t){return this.vault.parent=t===null?null:t.vault,this}clone(){const t=new at;return t.vault=this.vault.clone(),t}get(t,e){return this.resolveToken(t,e)}resolveTokens(t,e,n,r){return t.map(s=>this.resolveToken(s,n,r,e.split()))}resolveToken(t,e,n,r=new br){const s=this.vault.get(t,r,e,n);if(s)return this.resolveBinding(s,r);if(!t.__o)throw new Error(`No matching bindings found for '${t.__d}' token.`)}resolveBinding(t,e){return oo(t)?co(t)?this.resolveCache(t,e,()=>t.cache,n=>{t.cache=n}):io(t)?this.resolveCache(t,e,()=>t.cache.get(this.vault),n=>{t.cache.set(this.vault,n)}):ao(t)?this.resolveCache(t,e,()=>e.instances.get(t),n=>{e.instances.set(t,n)}):this.createInstance(t.impl,e):eo(t)?(...n)=>{const r=this.createInstance(t.impl.creator,e);return r instanceof Promise?r.then(s=>at.resolveInitialization(s,n,t.impl.initializer)):at.resolveInitialization(r,n,t.impl.initializer)}:t.impl}resolveCache(t,e,n,r){const s=n();if(s!==void 0)return s;const o=this.createInstance(t.impl,e);return r(o),o}createInstance(t,e){const n=this.getParameters(t,e),r=Mt.get(t);if(r!==void 0)return r?t(...n):new t(...n);try{const s=t(...n);return Mt.set(t,!0),s}catch{const o=new t(...n);return Mt.set(t,!1),o}}getParameters(t,e){const n=yr.get(t);if(n)return this.resolveTokens(n,e,Zs.get(t),t);if(t.length===0)return[];throw new Error(`Missing required 'injected' registration of '${t.name}'`)}static resolveInitialization(t,e,n){const r=n==null?void 0:n(t,...e);return r instanceof Promise?r.then(()=>t):t}},go=()=>new at,fe=(t,...e)=>(yr.set(t,e),t);const ln=go(),Tr=t=>ln.get(t),lf=(...t)=>t.map(e=>()=>Tr(e)),Z=(t,e)=>{const n=_r(e.description);return ln.bind(n).toInstance(t).inSingletonScope(),n},Ln=(t,e)=>{const n=_r(e.description);return ln.bind(n).toConstant(t),n},vo={baseGuiPath:"",apiUrl:"/",version:"1.7.0"};class Ir{constructor(e){z(this,"env");let n=e;const r=(c,a="")=>this.var(c,(n==null?void 0:n[c])??a),s=this.getConfig(),o=Eo(r("KUMA_VERSION",s.version)),i=encodeURIComponent(r("KUMA_PRODUCT_NAME"));n={...n,KUMA_UTM_QUERY_PARAMS:`utm_source=${i}&utm_medium=${i}`},this.env={...n,KUMA_INSTALL_URL:`${r("KUMA_INSTALL_URL")}?${r("KUMA_UTM_QUERY_PARAMS")}`,KUMA_DOCS_URL:`${r("KUMA_DOCS_URL")}/${o.patch==="0.0.0"?"dev":o.patch.replace(/\.\d+$/,".x")}`,KUMA_VERSION:o.pre,KUMA_API_URL:r("KUMA_API_URL")||s.apiUrl,KUMA_BASE_PATH:r("KUMA_BASE_PATH")||s.baseGuiPath}}var(e,n=""){var r;return((r=this.env)==null?void 0:r[e])??n}getConfig(){const e=document.querySelector("#kuma-config");if(e instanceof HTMLScriptElement)try{return JSON.parse(e.innerText.trim())}catch{}return vo}}function Eo(t){const[e,n,...r]=t.split("."),[s,o]=r.join(".").split("-");return{major:e,minor:`${e}.${n}`,patch:`${e}.${n}.${s}`,pre:`${e}.${n}.${s}${o!==void 0?`-${o}`:""}`}}var U={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},N=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.prototype.hasOwnProperty.call(U,t)||(t=U.log),N[t].apply(N,e)};N.debug=console.debug.bind(console);N.log=console.log.bind(console);N.info=console.info.bind(console);N.warn=console.warn.bind(console);N.error=console.error.bind(console);var yo=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},ft,Or=!1;function _o(t){ft=t}function So(t){Or=t}function bo(t,e,n){var r=n.value;n.value=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var i=ft?T(r):r;return i.apply(this,s)}}function T(t){return function(){return le(t,this,arguments)}}function le(t,e,n){try{return t.apply(e,n)}catch(r){if(Wt(U.error,r),ft)try{ft(r)}catch(s){Wt(U.error,s)}}}function Wt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Or&&N.apply(void 0,yo([t,"[MONITOR]"],e,!1))}var We=1e3,de=60*We,To=60*de,He=1024,Rr=1024*He;function Io(t,e,n){var r=n&&n.leading!==void 0?n.leading:!0,s=n&&n.trailing!==void 0?n.trailing:!0,o=!1,i,c;return{throttled:function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(o){i=a;return}r?t.apply(void 0,a):i=a,o=!0,c=setTimeout(function(){s&&i&&t.apply(void 0,i),o=!1,i=void 0},e)},cancel:function(){clearTimeout(c),o=!1,i=void 0}}}function G(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach(function(r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}),t}function Oo(t){return G({},t)}function Ce(t){return t?(parseInt(t,10)^Math.random()*16>>parseInt(t,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,Ce)}function Xt(t){return t!==0&&Math.random()*100<=t}function _t(){}function Xe(t,e,n){if(typeof t!="object"||t===null)return JSON.stringify(t);var r=et(Object.prototype),s=et(Array.prototype),o=et(Object.getPrototypeOf(t)),i=et(t);try{return JSON.stringify(t,e,n)}catch{return"<error: unable to serialize object>"}finally{r(),s(),o(),i()}}function et(t){var e=t,n=e.toJSON;return n?(delete e.toJSON,function(){e.toJSON=n}):_t}function we(t,e){return t.indexOf(e)!==-1}function Cr(t){if(Array.from)return Array.from(t);var e=[];if(t instanceof Set)t.forEach(function(r){return e.push(r)});else for(var n=0;n<t.length;n++)e.push(t[n]);return e}function Ro(t,e){for(var n=0;n<t.length;n+=1){var r=t[n];if(e(r,n))return r}}function Dt(t){return Co(t)&&t>=0&&t<=100}function Co(t){return typeof t=="number"}function ze(t){return Object.keys(t).map(function(e){return t[e]})}function wo(t){return Object.keys(t).map(function(e){return[e,t[e]]})}function wr(t){return Object.keys(t).length===0}function Ar(t,e){return t.slice(0,e.length)===e}function Ao(t,e){return t.slice(-e.length)===e}function fn(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var t=_dd_temp_;return delete Object.prototype._dd_temp_,typeof t!="object"&&(typeof self=="object"?t=self:typeof window=="object"?t=window:t={}),t}function Lo(){return No(window.location)}function No(t){if(t.origin)return t.origin;var e=t.host.replace(/(:80|:443)$/,"");return"".concat(t.protocol,"//").concat(e)}function Po(t,e){var n=new RegExp("(?:^|;)\\s*".concat(e,"\\s*=\\s*([^;]+)")),r=n.exec(t);return r?r[1]:void 0}function Mo(t,e,n){n===void 0&&(n="");var r=t.charCodeAt(e-1),s=r>=55296&&r<=56319,o=s?e+1:e;return t.length<=o?t:"".concat(t.slice(0,o)).concat(n)}function Lr(t){return t===null?"null":Array.isArray(t)?"array":typeof t}function Do(){if(typeof WeakSet<"u"){var t=new WeakSet;return{hasAlreadyBeenSeen:function(n){var r=t.has(n);return r||t.add(n),r}}}var e=[];return{hasAlreadyBeenSeen:function(n){var r=e.indexOf(n)>=0;return r||e.push(n),r}}}function dt(t,e,n){if(n===void 0&&(n=Do()),e===void 0)return t;if(typeof e!="object"||e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){var r=e.flags||[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.sticky?"y":"",e.unicode?"u":""].join("");return new RegExp(e.source,r)}if(!n.hasAlreadyBeenSeen(e)){if(Array.isArray(e)){for(var s=Array.isArray(t)?t:[],o=0;o<e.length;++o)s[o]=dt(s[o],e[o],n);return s}var i=Lr(t)==="object"?t:{};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(i[c]=dt(i[c],e[c],n));return i}}function be(t){return dt(void 0,t)}function St(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n,r=0,s=t;r<s.length;r++){var o=s[r];o!=null&&(n=dt(n,o))}return n}function xo(t){var e=new Set;return t.forEach(function(n){return e.add(n)}),Cr(e)}var ko=/[^\u0000-\u007F]/;function Yt(t){return ko.test(t)?window.TextEncoder!==void 0?new TextEncoder().encode(t).length:new Blob([t]).size:t.length}function Uo(t){try{return t.clone()}catch{return}}var Nn=We;function Ye(t,e,n,r){var s=new Date;s.setTime(s.getTime()+n);var o="expires=".concat(s.toUTCString()),i=r&&r.crossSite?"none":"strict",c=r&&r.domain?";domain=".concat(r.domain):"",a=r&&r.secure?";secure":"";document.cookie="".concat(t,"=").concat(e,";").concat(o,";path=/;samesite=").concat(i).concat(c).concat(a)}function Y(t){return Po(document.cookie,t)}function Nr(t,e){Ye(t,"",0,e)}function $o(t){if(document.cookie===void 0||document.cookie===null)return!1;try{var e="dd_cookie_test_".concat(Ce()),n="test";Ye(e,n,de,t);var r=Y(e)===n;return Nr(e,t),r}catch(s){return N.error(s),!1}}var xt;function Bo(){if(xt===void 0){for(var t="dd_site_test_".concat(Ce()),e="test",n=window.location.hostname.split("."),r=n.pop();n.length&&!Y(t);)r="".concat(n.pop(),".").concat(r),Ye(t,e,We,{domain:r});Nr(t,{domain:r}),xt=r}return xt}function Pr(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,n)}catch(s){N.error(e,s)}}}var ct;function Go(t){Array.isArray(t)&&(ct||(ct=new Set(t)),t.filter(function(e){return typeof e=="string"}).forEach(function(e){we(e,"-")&&N.warn("please use snake case for '".concat(e,"'")),ct.add(e)}))}function Fo(){return ct||new Set}function $e(){return new Date().getTime()}function se(){return $e()}function Ke(){return performance.now()}function Ze(){return{relative:Ke(),timeStamp:se()}}function Vo(){return{relative:0,timeStamp:Mr()}}function jo(t,e){return e-t}function Ho(t){return t-Mr()}var kt;function Mr(){return kt===void 0&&(kt=performance.timing.navigationStart),kt}function ht(t){return zo(t,Lo()).href}function zo(t,e){if(Ko())return e!==void 0?new URL(t,e):new URL(t);if(e===void 0&&!/:/.test(t))throw new Error("Invalid URL: '".concat(t,"'"));var n=document,r=n.createElement("a");if(e!==void 0){n=document.implementation.createHTMLDocument("");var s=n.createElement("base");s.href=e,n.head.appendChild(s),n.body.appendChild(r)}return r.href=t,r}var me;function Ko(){if(me!==void 0)return me;try{var t=new URL("http://test/path");return me=t.href==="http://test/path",me}catch{me=!1}return me}var qo="datad0g.com",Be="datadoghq.com",Wo="ap1.datadoghq.com",Xo="ddog-gov.com",Yo={logs:"logs",rum:"rum",sessionReplay:"session-replay"},Zo={logs:"logs",rum:"rum",sessionReplay:"replay"};function Ge(t,e,n){var r=Qo(t,e);return{build:function(s,o){var i=ei(t,e,n,s,o);return r(i)},urlPrefix:r(""),endpointType:e}}function Qo(t,e){var n="/api/v2/".concat(Zo[e]),r=t.proxy,s=t.proxyUrl;if(r){var o=ht(r);return function(a){return"".concat(o,"?ddforward=").concat(encodeURIComponent("".concat(n,"?").concat(a)))}}var i=Jo(t,e);if(r===void 0&&s){var c=ht(s);return function(a){return"".concat(c,"?ddforward=").concat(encodeURIComponent("https://".concat(i).concat(n,"?").concat(a)))}}return function(a){return"https://".concat(i).concat(n,"?").concat(a)}}function Jo(t,e){var n=t.site,r=n===void 0?Be:n,s=t.internalAnalyticsSubdomain;if(s&&r===Be)return"".concat(s,".").concat(Be);var o=r.split("."),i=o.pop(),c=r!==Wo?"".concat(Yo[e],"."):"";return"".concat(c,"browser-intake-").concat(o.join("-"),".").concat(i)}function ei(t,e,n,r,s){var o=t.clientToken,i=t.internalAnalyticsSubdomain,c=["sdk_version:".concat("4.34.0"),"api:".concat(r)].concat(n);s&&c.push("retry_count:".concat(s.count),"retry_after:".concat(s.lastFailureStatus));var a=["ddsource=browser","ddtags=".concat(encodeURIComponent(c.join(","))),"dd-api-key=".concat(o),"dd-evp-origin-version=".concat(encodeURIComponent("4.34.0")),"dd-evp-origin=browser","dd-request-id=".concat(Ce())];return e==="rum"&&a.push("batch_time=".concat(se())),i&&a.reverse(),a.join("&")}var ti=200;function ni(t){var e=t.env,n=t.service,r=t.version,s=t.datacenter,o=[];return e&&o.push(tt("env",e)),n&&o.push(tt("service",n)),r&&o.push(tt("version",r)),s&&o.push(tt("datacenter",s)),o}var ri=/[^a-z0-9_:./-]/;function tt(t,e){var n=ti-t.length-1;(e.length>n||ri.test(e))&&N.warn("".concat(t," value doesn't meet tag requirements and will be sanitized"));var r=e.replace(/,/g,"_");return"".concat(t,":").concat(r)}function si(t){var e=ni(t),n=oi(t,e),r=ze(n).map(function(o){return o.urlPrefix}),s=ii(t,r,e);return G({isIntakeUrl:function(o){return r.some(function(i){return o.indexOf(i)===0})},replica:s,site:t.site||Be},n)}function oi(t,e){return{logsEndpointBuilder:Ge(t,"logs",e),rumEndpointBuilder:Ge(t,"rum",e),sessionReplayEndpointBuilder:Ge(t,"sessionReplay",e)}}function ii(t,e,n){if(t.replica){var r=G({},t,{site:Be,clientToken:t.replica.clientToken}),s={logsEndpointBuilder:Ge(r,"logs",n),rumEndpointBuilder:Ge(r,"rum",n)};return e.push.apply(e,ze(s).map(function(o){return o.urlPrefix})),G({applicationId:t.replica.applicationId},s)}}function ai(t){var e,n,r;if(!t||!t.clientToken){N.error("Client Token is not configured, we will not send any data.");return}var s=(e=t.sessionSampleRate)!==null&&e!==void 0?e:t.sampleRate;if(s!==void 0&&!Dt(s)){N.error("Session Sample Rate should be a number between 0 and 100");return}if(t.telemetrySampleRate!==void 0&&!Dt(t.telemetrySampleRate)){N.error("Telemetry Sample Rate should be a number between 0 and 100");return}if(t.telemetryConfigurationSampleRate!==void 0&&!Dt(t.telemetryConfigurationSampleRate)){N.error("Telemetry Configuration Sample Rate should be a number between 0 and 100");return}return Go(t.enableExperimentalFeatures),G({beforeSend:t.beforeSend&&Pr(t.beforeSend,"beforeSend threw an error:"),cookieOptions:ci(t),sessionSampleRate:s??100,telemetrySampleRate:(n=t.telemetrySampleRate)!==null&&n!==void 0?n:20,telemetryConfigurationSampleRate:(r=t.telemetryConfigurationSampleRate)!==null&&r!==void 0?r:5,service:t.service,silentMultipleInit:!!t.silentMultipleInit,batchBytesLimit:16*He,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*We,batchMessagesLimit:50,messageBytesLimit:256*He},si(t))}function ci(t){var e={};return e.secure=ui(t),e.crossSite=!!t.useCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(e.domain=Bo()),e}function ui(t){return!!t.useSecureSessionCookie||!!t.useCrossSiteSessionCookie}function li(t){var e,n,r=(e=t.proxy)!==null&&e!==void 0?e:t.proxyUrl;return{session_sample_rate:(n=t.sessionSampleRate)!==null&&n!==void 0?n:t.sampleRate,telemetry_sample_rate:t.telemetrySampleRate,telemetry_configuration_sample_rate:t.telemetryConfigurationSampleRate,use_before_send:!!t.beforeSend,use_cross_site_session_cookie:t.useCrossSiteSessionCookie,use_secure_session_cookie:t.useSecureSessionCookie,use_proxy:r!==void 0?!!r:void 0,silent_multiple_init:t.silentMultipleInit,track_session_across_subdomains:t.trackSessionAcrossSubdomains,track_resources:t.trackResources,track_long_task:t.trackLongTasks}}var Qe="?";function oe(t){var e=[],n=Ut(t,"stack"),r=String(t);return n&&Ar(n,r)&&(n=n.slice(r.length)),n&&n.split(`
`).forEach(function(s){var o=hi(s)||mi(s)||vi(s)||_i(s);o&&(!o.func&&o.line&&(o.func=Qe),e.push(o))}),{message:Ut(t,"message"),name:Ut(t,"name"),stack:e}}var Dr="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",Ie="(?::(\\d+))",fi=new RegExp("^\\s*at (.*?) ?\\(".concat(Dr).concat(Ie,"?").concat(Ie,"?\\)?\\s*$"),"i"),di=new RegExp("\\((\\S*)".concat(Ie).concat(Ie,"\\)"));function hi(t){var e=fi.exec(t);if(e){var n=e[2]&&e[2].indexOf("native")===0,r=e[2]&&e[2].indexOf("eval")===0,s=di.exec(e[2]);return r&&s&&(e[2]=s[1],e[3]=s[2],e[4]=s[3]),{args:n?[e[2]]:[],column:e[4]?+e[4]:void 0,func:e[1]||Qe,line:e[3]?+e[3]:void 0,url:n?void 0:e[2]}}}var pi=new RegExp("^\\s*at ?".concat(Dr).concat(Ie,"?").concat(Ie,"??\\s*$"),"i");function mi(t){var e=pi.exec(t);if(e)return{args:[],column:e[3]?+e[3]:void 0,func:Qe,line:e[2]?+e[2]:void 0,url:e[1]}}var gi=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function vi(t){var e=gi.exec(t);if(e)return{args:[],column:e[4]?+e[4]:void 0,func:e[1]||Qe,line:+e[3],url:e[2]}}var Ei=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,yi=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function _i(t){var e=Ei.exec(t);if(e){var n=e[3]&&e[3].indexOf(" > eval")>-1,r=yi.exec(e[3]);return n&&r&&(e[3]=r[1],e[4]=r[2],e[5]=void 0),{args:e[2]?e[2].split(","):[],column:e[5]?+e[5]:void 0,func:e[1]||Qe,line:e[4]?+e[4]:void 0,url:e[3]}}}function Ut(t,e){if(!(typeof t!="object"||!t||!(e in t))){var n=t[e];return typeof n=="string"?n:void 0}}function xr(t,e,n){var r=t[e],s=n(r),o=function(){if(typeof s=="function")return s.apply(this,arguments)};return t[e]=o,{stop:function(){t[e]===o?t[e]=r:s=r}}}function Te(t,e,n){var r=n.before,s=n.after;return xr(t,e,function(o){return function(){var i=arguments,c;return r&&le(r,this,i),typeof o=="function"&&(c=o.apply(this,i)),s&&le(s,this,i),c}})}var Si=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function bi(t){var e=Ti(t).stop,n=Ii(t).stop;return{stop:function(){e(),n()}}}function Ti(t){return Te(window,"onerror",{before:function(e,n,r,s,o){var i;if(o)i=oe(o),t(i,o);else{var c={url:n,column:s,line:r},a,l=e;if({}.toString.call(e)==="[object String]"){var u=Si.exec(l);u&&(a=u[1],l=u[2])}i={name:a,message:typeof l=="string"?l:void 0,stack:[c]},t(i,e)}}})}function Ii(t){return Te(window,"onunhandledrejection",{before:function(e){var n=e.reason||"Empty reason",r=oe(n);t(r,n)}})}var x={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function Oi(t){var e=t.stackTrace,n=t.originalError,r=t.handlingStack,s=t.startClocks,o=t.nonErrorPrefix,i=t.source,c=t.handling;return!e||e.message===void 0&&!(n instanceof Error)?{startClocks:s,source:i,handling:c,originalError:n,message:"".concat(o," ").concat(Xe(n)),stack:"No stack, consider using an instance of Error",handlingStack:r,type:e&&e.name}:{startClocks:s,source:i,handling:c,originalError:n,message:e.message||"Empty message",stack:he(e),handlingStack:r,type:e.name,causes:wi(n,i)}}function he(t){var e=kr(t);return t.stack.forEach(function(n){var r=n.func==="?"?"<anonymous>":n.func,s=n.args&&n.args.length>0?"(".concat(n.args.join(", "),")"):"",o=n.line?":".concat(n.line):"",i=n.line&&n.column?":".concat(n.column):"";e+=`
  at `.concat(r).concat(s," @ ").concat(n.url).concat(o).concat(i)}),e}function Ri(t){var e;return(e=/@ (.+)/.exec(t))===null||e===void 0?void 0:e[1]}function kr(t){return"".concat(t.name||"Error",": ").concat(t.message)}function Ci(){var t=2,e=new Error,n;if(!e.stack)try{throw e}catch{}return le(function(){var r=oe(e);r.stack=r.stack.slice(t),n=he(r)}),n}function wi(t,e){for(var n=t,r=[];(n==null?void 0:n.cause)instanceof Error&&r.length<10;){var s=oe(n.cause);r.push({message:n.cause.message,source:e,type:s==null?void 0:s.name,stack:s&&he(s)}),n=n.cause}return r.length?r:void 0}function Ai(t){return bi(function(e,n){t.notify(Oi({stackTrace:e,originalError:n,startClocks:Ze(),nonErrorPrefix:"Uncaught",source:x.SOURCE,handling:"unhandled"}))})}function Li(t){var e=G({version:"4.34.0",onReady:function(n){n()}},t);return Object.defineProperty(e,"_setDebug",{get:function(){return So},enumerable:!1}),e}function Ni(t,e,n){var r=t[e];t[e]=n,r&&r.q&&r.q.forEach(function(s){return Pr(s,"onReady callback threw an error:")()})}var H=function(){function t(e){this.onFirstSubscribe=e,this.observers=[]}return t.prototype.subscribe=function(e){var n=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){n.observers=n.observers.filter(function(r){return e!==r}),!n.observers.length&&n.onLastUnsubscribe&&n.onLastUnsubscribe()}}},t.prototype.notify=function(e){this.observers.forEach(function(n){return n(e)})},t}();function Ur(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new H(function(){var r=t.map(function(s){return s.subscribe(function(o){return n.notify(o)})});return function(){return r.forEach(function(s){return s.unsubscribe()})}});return n}function Pn(t,e){var n=window,r;return n.Zone&&typeof n.Zone.__symbol__=="function"&&(r=t[n.Zone.__symbol__(e)]),r||(r=t[e]),r}function pt(t,e,n,r){return $r(t,[e],n,r)}function $r(t,e,n,r){var s=r===void 0?{}:r,o=s.once,i=s.capture,c=s.passive,a=T(o?function(d){f(),n(d)}:n),l=c?{capture:i,passive:c}:i,u=Pn(t,"addEventListener");e.forEach(function(d){return u.call(t,d,a,l)});function f(){var d=Pn(t,"removeEventListener");e.forEach(function(h){return d.call(t,h,a,l)})}return{stop:f}}var re={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Pi(t){var e=[];we(t,re.cspViolation)&&e.push(Di());var n=t.filter(function(r){return r!==re.cspViolation});return n.length&&e.push(Mi(n)),Ur.apply(void 0,e)}function Mi(t){var e=new H(function(){if(window.ReportingObserver){var n=T(function(s){return s.forEach(function(o){e.notify(xi(o))})}),r=new window.ReportingObserver(n,{types:t,buffered:!0});return r.observe(),function(){r.disconnect()}}});return e}function Di(){var t=new H(function(){var e=T(function(r){t.notify(ki(r))}),n=pt(document,"securitypolicyviolation",e).stop;return n});return t}function xi(t){var e=t.type,n=t.body;return{type:e,subtype:n.id,message:"".concat(e,": ").concat(n.message),stack:Br(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)}}function ki(t){var e=re.cspViolation,n="'".concat(t.blockedURI,"' blocked by '").concat(t.effectiveDirective,"' directive");return{type:re.cspViolation,subtype:t.effectiveDirective,message:"".concat(e,": ").concat(n),stack:Br(t.effectiveDirective,t.originalPolicy?"".concat(n,' of the policy "').concat(Mo(t.originalPolicy,100,"..."),'"'):"no policy",t.sourceFile,t.lineNumber,t.columnNumber)}}function Br(t,e,n,r,s){return n&&he({name:t,message:e,stack:[{func:"?",url:n,line:r,column:s}]})}function Gr(t,e){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:t,payload:e})}var dn={log:"log",configuration:"configuration"},Ui=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],$i=[Xo],X={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1},Zt;function Bi(t,e){var n,r=new H;X.telemetryEnabled=!we($i,e.site)&&Xt(e.telemetrySampleRate),X.telemetryConfigurationEnabled=X.telemetryEnabled&&Xt(e.telemetryConfigurationSampleRate),Zt=function(o){if(X.telemetryEnabled){var i=s(t,o);r.notify(i),Gr("telemetry",i)}},_o(Fr),G(X,{maxEventsPerPage:e.maxTelemetryEventsPerPage,sentEventCount:0});function s(o,i){return St({type:"telemetry",date:se(),service:o,version:"4.34.0",source:"browser",_dd:{format_version:2},telemetry:i,experimental_features:Cr(Fo())},n!==void 0?n():{})}return{setContextProvider:function(o){n=o},observable:r,enabled:X.telemetryEnabled}}function Gi(t){return t.site===qo}function Fi(t,e){Wt(U.debug,t,e),hn(G({type:dn.log,message:t,status:"debug"},e))}function Fr(t){hn(G({type:dn.log,status:"error"},ji(t)))}function Vi(t){X.telemetryConfigurationEnabled&&hn({type:dn.configuration,configuration:t})}function hn(t){Zt&&X.sentEventCount<X.maxEventsPerPage&&(X.sentEventCount+=1,Zt(t))}function ji(t){if(t instanceof Error){var e=oe(t);return{error:{kind:e.name,stack:he(Hi(e))},message:e.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(Xe(t))}}function Hi(t){return t.stack=t.stack.filter(function(e){return!e.url||Ui.some(function(n){return Ar(e.url,n)})}),t}var nt=1/0,zi=de,Ki=function(){function t(e){var n=this;this.expireDelay=e,this.entries=[],this.clearOldContextsInterval=setInterval(function(){return n.clearOldContexts()},zi)}return t.prototype.add=function(e,n){var r=this,s={context:e,startTime:n,endTime:nt,remove:function(){var o=r.entries.indexOf(s);o>=0&&r.entries.splice(o,1)},close:function(o){s.endTime=o}};return this.entries.unshift(s),s},t.prototype.find=function(e){e===void 0&&(e=nt);for(var n=0,r=this.entries;n<r.length;n++){var s=r[n];if(s.startTime<=e){if(e<=s.endTime)return s.context;break}}},t.prototype.closeActive=function(e){var n=this.entries[0];n&&n.endTime===nt&&n.close(e)},t.prototype.findAll=function(e){return e===void 0&&(e=nt),this.entries.filter(function(n){return n.startTime<=e&&e<=n.endTime}).map(function(n){return n.context})},t.prototype.reset=function(){this.entries=[]},t.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},t.prototype.clearOldContexts=function(){for(var e=Ke()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},t}();function qi(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}var Vr=4*To,jr=15*de,Hr=/^([a-z]+)=([a-z0-9-]+)$/,pn="&",bt="_dd_s",Wi=10,Xi=100,zr=[],ut;function Fe(t,e){var n;if(e===void 0&&(e=0),ut||(ut=t),t!==ut){zr.push(t);return}if(e>=Xi){Mn();return}var r,s=ke();if($t()){if(s.lock){rt(t,e);return}if(r=Ce(),s.lock=r,Qt(s,t.options),s=ke(),s.lock!==r){rt(t,e);return}}var o=t.process(s);if($t()&&(s=ke(),s.lock!==r)){rt(t,e);return}if(o&&Kr(o,t.options),$t()&&!(o&&qr(o))){if(s=ke(),s.lock!==r){rt(t,e);return}delete s.lock,Qt(s,t.options),o=s}(n=t.after)===null||n===void 0||n.call(t,o||s),Mn()}function $t(){return qi()}function rt(t,e){setTimeout(T(function(){Fe(t,e+1)}),Wi)}function Mn(){ut=void 0;var t=zr.shift();t&&Fe(t)}function Kr(t,e){if(qr(t)){Qi(e);return}t.expire=String($e()+jr),Qt(t,e)}function Qt(t,e){Ye(bt,Yi(t),jr,e)}function Yi(t){return wo(t).map(function(e){var n=e[0],r=e[1];return"".concat(n,"=").concat(r)}).join(pn)}function ke(){var t=Y(bt),e={};return Zi(t)&&t.split(pn).forEach(function(n){var r=Hr.exec(n);if(r!==null){var s=r[1],o=r[2];e[s]=o}}),e}function Zi(t){return t!==void 0&&(t.indexOf(pn)!==-1||Hr.test(t))}function qr(t){return wr(t)}function Qi(t){Ye(bt,"",0,t)}var Ji="_dd",ea="_dd_r",ta="_dd_l",na="rum",ra="logs";function sa(t){var e=Y(bt),n=Y(Ji),r=Y(ea),s=Y(ta);if(!e){var o={};n&&(o.id=n),s&&/^[01]$/.test(s)&&(o[ra]=s),r&&/^[012]$/.test(r)&&(o[na]=r),Kr(o,t)}}function oa(t,e,n){var r=new H,s=new H,o=setInterval(T(l),Nn),i=S();function c(){var m;Fe({options:t,process:function(A){var P=u(A);return m=f(P),P},after:function(A){m&&!d()&&_(A),i=A}})}function a(){Fe({options:t,process:function(m){return d()?u(m):void 0}})}function l(){Fe({options:t,process:function(m){return b(m)?void 0:{}},after:u})}function u(m){return b(m)||(m={}),d()&&(h(m)?v():i=m),m}function f(m){var A=n(m[e]),P=A.trackingType,k=A.isTracked;return m[e]=P,k&&!m.id&&(m.id=Ce(),m.created=String($e())),k}function d(){return i[e]!==void 0}function h(m){return i.id!==m.id||i[e]!==m[e]}function v(){i={},s.notify()}function _(m){i=m,r.notify()}function S(){var m=ke();return b(m)?m:{}}function b(m){return(m.created===void 0||$e()-Number(m.created)<Vr)&&(m.expire===void 0||$e()<Number(m.expire))}return{expandOrRenewSession:Io(T(c),Nn).throttled,expandSession:a,getSession:function(){return i},renewObservable:r,expireObservable:s,stop:function(){clearInterval(o)}}}var ia=de,aa=Vr;function ca(t,e,n){sa(t);var r=oa(t,e,n),s=new Ki(aa);r.renewObservable.subscribe(function(){s.add(o(),Ke())}),r.expireObservable.subscribe(function(){s.closeActive(Ke())}),r.expandOrRenewSession(),s.add(o(),Vo().relative),ua(function(){return r.expandOrRenewSession()}),la(function(){return r.expandSession()});function o(){return{id:r.getSession().id,trackingType:r.getSession()[e]}}return{findActiveSession:function(i){return s.find(i)},renewObservable:r.renewObservable,expireObservable:r.expireObservable}}function ua(t){$r(window,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0}).stop}function la(t){var e=T(function(){document.visibilityState==="visible"&&t()});pt(document,"visibilitychange",e).stop,setInterval(e,ia)}var fa=80*He,da=32,Wr=3*Rr,ha=de,Xr=We;function Yr(t,e,n,r,s){e.transportStatus===0&&e.queuedPayloads.size()===0&&e.bandwidthMonitor.canHandle(t)?Qr(t,e,n,{onSuccess:function(){return Jr(0,e,n,r,s)},onFailure:function(){e.queuedPayloads.enqueue(t),Zr(e,n,r,s)}}):e.queuedPayloads.enqueue(t)}function Zr(t,e,n,r){t.transportStatus===2&&setTimeout(T(function(){var s=t.queuedPayloads.first();Qr(s,t,e,{onSuccess:function(){t.queuedPayloads.dequeue(),t.currentBackoffTime=Xr,Jr(1,t,e,n,r)},onFailure:function(){t.currentBackoffTime=Math.min(ha,t.currentBackoffTime*2),Zr(t,e,n,r)}})}),t.currentBackoffTime)}function Qr(t,e,n,r){var s=r.onSuccess,o=r.onFailure;e.bandwidthMonitor.add(t),n(t,function(i){e.bandwidthMonitor.remove(t),pa(i)?(e.transportStatus=e.bandwidthMonitor.ongoingRequestCount>0?1:2,t.retry={count:t.retry?t.retry.count+1:1,lastFailureStatus:i.status},o()):(e.transportStatus=0,s())})}function Jr(t,e,n,r,s){t===0&&e.queuedPayloads.isFull()&&!e.queueFullReported&&(s({message:"Reached max ".concat(r," events size queued for upload: ").concat(Wr/Rr,"MiB"),source:x.AGENT,startClocks:Ze()}),e.queueFullReported=!0);var o=e.queuedPayloads;for(e.queuedPayloads=es();o.size()>0;)Yr(o.dequeue(),e,n,r,s)}function pa(t){return t.type!=="opaque"&&(t.status===0&&!navigator.onLine||t.status===408||t.status===429||t.status>=500)}function ma(){return{transportStatus:0,currentBackoffTime:Xr,bandwidthMonitor:ga(),queuedPayloads:es(),queueFullReported:!1}}function es(){var t=[];return{bytesCount:0,enqueue:function(e){this.isFull()||(t.push(e),this.bytesCount+=e.bytesCount)},first:function(){return t[0]},dequeue:function(){var e=t.shift();return e&&(this.bytesCount-=e.bytesCount),e},size:function(){return t.length},isFull:function(){return this.bytesCount>=Wr}}}function ga(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(t){return this.ongoingRequestCount===0||this.ongoingByteCount+t.bytesCount<=fa&&this.ongoingRequestCount<da},add:function(t){this.ongoingRequestCount+=1,this.ongoingByteCount+=t.bytesCount},remove:function(t){this.ongoingRequestCount-=1,this.ongoingByteCount-=t.bytesCount}}}function va(t,e,n){var r=ma(),s=function(o,i){return _a(t,e,o,i)};return{send:function(o){Yr(o,r,s,t.endpointType,n)},sendOnExit:function(o){Ea(t,e,o)}}}function Ea(t,e,n){var r=n.data,s=n.bytesCount,o=!!navigator.sendBeacon&&s<e;if(o)try{var i=t.build("beacon"),c=navigator.sendBeacon(i,r);if(c)return}catch(l){ya(l)}var a=t.build("xhr");Jt(a,r)}var Dn=!1;function ya(t){Dn||(Dn=!0,Fr(t))}function _a(t,e,n,r){var s=n.data,o=n.bytesCount,i=n.retry,c=Sa()&&o<e;if(c){var a=t.build("fetch",i);fetch(a,{method:"POST",body:s,keepalive:!0,mode:"cors"}).then(T(function(u){return r==null?void 0:r({status:u.status,type:u.type})}),T(function(){var u=t.build("xhr",i);Jt(u,s,r)}))}else{var l=t.build("xhr",i);Jt(l,s,r)}}function Sa(){try{return window.Request&&"keepalive"in new Request("http://a")}catch{return!1}}function Jt(t,e,n){var r=new XMLHttpRequest,s=T(function(){r.removeEventListener("loadend",s),n==null||n({status:r.status})});r.open("POST",t,!0),r.addEventListener("loadend",s),r.send(e)}var ba=function(){function t(e,n,r,s,o,i){var c=this;this.request=e,this.batchMessagesLimit=n,this.batchBytesLimit=r,this.messageBytesLimit=s,this.flushTimeout=o,this.pageExitObservable=i,this.flushObservable=new H,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,i.subscribe(function(){return c.flush(c.request.sendOnExit)}),this.flushPeriodically()}return t.prototype.add=function(e){this.addOrUpdate(e)},t.prototype.upsert=function(e,n){this.addOrUpdate(e,n)},t.prototype.flush=function(e){if(e===void 0&&(e=this.request.send),this.bufferMessagesCount!==0){var n=this.pushOnlyBuffer.concat(ze(this.upsertBuffer)),r=this.bufferBytesCount;this.flushObservable.notify({bufferBytesCount:this.bufferBytesCount,bufferMessagesCount:this.bufferMessagesCount}),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,e({data:n.join(`
`),bytesCount:r})}},t.prototype.addOrUpdate=function(e,n){var r=this.process(e),s=r.processedMessage,o=r.messageBytesCount;if(o>=this.messageBytesLimit){N.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB."));return}this.hasMessageFor(n)&&this.remove(n),this.willReachedBytesLimitWith(o)&&this.flush(),this.push(s,o,n),this.isFull()&&this.flush()},t.prototype.process=function(e){var n=Xe(e),r=Yt(n);return{processedMessage:n,messageBytesCount:r}},t.prototype.push=function(e,n,r){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),r!==void 0?this.upsertBuffer[r]=e:this.pushOnlyBuffer.push(e),this.bufferBytesCount+=n,this.bufferMessagesCount+=1},t.prototype.remove=function(e){var n=this.upsertBuffer[e];delete this.upsertBuffer[e];var r=Yt(n);this.bufferBytesCount-=r,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},t.prototype.hasMessageFor=function(e){return e!==void 0&&this.upsertBuffer[e]!==void 0},t.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesCount+e+1>=this.batchBytesLimit},t.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},t.prototype.flushPeriodically=function(){var e=this;setTimeout(T(function(){e.flush(),e.flushPeriodically()}),this.flushTimeout)},t}();function mn(){var t=Ta();if(t)return{getAllowedWebViewHosts:function(){return JSON.parse(t.getAllowedWebViewHosts())},send:function(e,n){t.send(JSON.stringify({eventType:e,event:n}))}}}function mt(t){var e;t===void 0&&(t=(e=fn().location)===null||e===void 0?void 0:e.hostname);var n=mn();return!!n&&n.getAllowedWebViewHosts().some(function(r){return t===r||Ao(t,".".concat(r))})}function Ta(){return fn().DatadogEventBridge}function ts(t,e,n,r,s){var o=c(e),i;s&&(i=c(s));function c(a){return new ba(va(a,t.batchBytesLimit,n),t.batchMessagesLimit,t.batchBytesLimit,t.messageBytesLimit,t.flushTimeout,r)}return{add:function(a,l){l===void 0&&(l=!0),o.add(a),i&&l&&i.add(a)}}}function Ia(t,e,n){var r=0,s=!1;return{isLimitReached:function(){if(r===0&&setTimeout(function(){r=0},de),r+=1,r<=e||s)return s=!1,!1;if(r===e+1){s=!0;try{n({message:"Reached max number of ".concat(t,"s by minute: ").concat(e),source:x.AGENT,startClocks:Ze()})}finally{s=!1}}return!0}}}var Bt,gn=new WeakMap;function Oa(){return Bt||(Bt=Ra()),Bt}function Ra(){var t=new H(function(){var e=Te(XMLHttpRequest.prototype,"open",{before:Ca}).stop,n=Te(XMLHttpRequest.prototype,"send",{before:function(){wa.call(this,t)}}).stop,r=Te(XMLHttpRequest.prototype,"abort",{before:Aa}).stop;return function(){e(),n(),r()}});return t}function Ca(t,e){gn.set(this,{state:"open",method:t,url:ht(String(e))})}function wa(t){var e=this,n=gn.get(this);if(n){var r=n;r.state="start",r.startTime=Ke(),r.startClocks=Ze(),r.isAborted=!1,r.xhr=this;var s=!1,o=Te(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&i()}}).stop,i=T(function(){if(e.removeEventListener("loadend",i),o(),!s){s=!0;var c=n;c.state="complete",c.duration=jo(r.startClocks.timeStamp,se()),c.status=e.status,t.notify(Oo(c))}});this.addEventListener("loadend",i),t.notify(r)}}function Aa(){var t=gn.get(this);t&&(t.isAborted=!0)}var Gt;function La(){return Gt||(Gt=Na()),Gt}function Na(){var t=new H(function(){if(window.fetch){var e=xr(window,"fetch",function(n){return function(r,s){var o,i=le(Pa,null,[t,r,s]);return i?(o=n.call(this,i.input,i.init),le(Ma,null,[t,o,i])):o=n.call(this,r,s),o}}).stop;return e}});return t}function Pa(t,e,n){var r=n&&n.method||typeof e=="object"&&e.method||"GET",s=ht(typeof e=="object"&&e.url||e),o=Ze(),i={state:"start",init:n,input:e,method:r,startClocks:o,url:s};return t.notify(i),i}function Ma(t,e,n){var r=function(s){var o=n;o.state="resolve","stack"in s||s instanceof Error?(o.status=0,o.isAborted=s instanceof DOMException&&s.code===DOMException.ABORT_ERR,o.error=s):"status"in s&&(o.response=s,o.responseType=s.type,o.status=s.status,o.isAborted=!1),t.notify(o)};e.then(T(r),T(r))}function Da(){var t=new H(function(){var e=pt(document,"visibilitychange",function(){document.visibilityState==="hidden"&&t.notify({reason:"visibility_hidden"})},{capture:!0}).stop,n=pt(window,"beforeunload",function(){t.notify({reason:"before_unload"})}).stop;return function(){e(),n()}});return t}var Ft={};function xa(t){var e=t.map(function(n){return Ft[n]||(Ft[n]=ka(n)),Ft[n]});return Ur.apply(void 0,e)}function ka(t){var e=new H(function(){var n=console[t];return console[t]=function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];n.apply(console,r);var o=Ci();le(function(){e.notify(Ua(r,t,o))})},function(){console[t]=n}});return e}function Ua(t,e,n){var r=t.map(function(i){return $a(i)}).join(" "),s;if(e===U.error){var o=Ro(t,function(i){return i instanceof Error});s=o?he(oe(o)):void 0,r="console error: ".concat(r)}return{api:e,message:r,stack:s,handlingStack:n}}function $a(t){return typeof t=="string"?t:t instanceof Error?kr(oe(t)):Xe(t,void 0,2)}var Ba=500,Ga=function(){function t(){this.buffer=[]}return t.prototype.add=function(e){var n=this.buffer.push(e);n>Ba&&this.buffer.splice(0,1)},t.prototype.drain=function(){this.buffer.forEach(function(e){return e()}),this.buffer.length=0},t}();function en(t){t===void 0&&(t=Yt);var e={},n;return{getBytesCount:function(){return n===void 0&&(n=t(Xe(e))),n},get:function(){return e},add:function(r,s){e[r]=s,n=void 0},remove:function(r){delete e[r],n=void 0},set:function(r){e=r,n=void 0},getContext:function(){return be(e)},setContext:function(r){e=be(r),n=void 0},setContextProperty:function(r,s){e[r]=be(s),n=void 0},removeContextProperty:function(r){delete e[r],n=void 0},clearContext:function(){e={},n=void 0}}}function Fa(t,e,n){var r=t.getReader(),s=[],o=0;i();function i(){r.read().then(T(function(a){if(a.done){c();return}n.collectStreamBody&&s.push(a.value),o+=a.value.length,o>n.bytesLimit?c():i()}),T(function(a){return e(a)}))}function c(){r.cancel().catch(_t);var a,l;if(n.collectStreamBody){var u;if(s.length===1)u=s[0];else{u=new Uint8Array(o);var f=0;s.forEach(function(d){u.set(d,f),f+=d.length})}a=u.slice(0,n.bytesLimit),l=u.length>n.bytesLimit}e(void 0,a,l)}}var Va="datadog-synthetics-public-id",ja="datadog-synthetics-result-id",Ha="datadog-synthetics-injects-rum";function ns(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||Y(Ha))}function za(){var t=window._DATADOG_SYNTHETICS_PUBLIC_ID||Y(Va);return typeof t=="string"?t:void 0}function Ka(){var t=window._DATADOG_SYNTHETICS_RESULT_ID||Y(ja);return typeof t=="string"?t:void 0}function xn(t){var e=G({},t),n=["id","name","email"];return n.forEach(function(r){r in e&&(e[r]=String(e[r]))}),e}function qa(t){var e=Lr(t)==="object";return e||N.error("Unsupported user:",t),e}var Wa=32*He;function Xa(t){var e=ai(t),n=kn(t.forwardConsoleLogs,ze(U),"Forward Console Logs"),r=kn(t.forwardReports,ze(re),"Forward Reports");if(!(!e||!n||!r))return t.forwardErrorsToLogs&&!we(n,U.error)&&n.push(U.error),G({forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:n,forwardReports:r,requestErrorResponseLengthLimit:Wa},e)}function kn(t,e,n){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(function(r){return we(e,r)}))){N.error("".concat(n,' should be "all" or an array with allowed values "').concat(e.join('", "'),'"'));return}return t==="all"?e:xo(t)}function Ya(t){var e=li(t);return G({forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports},e)}var Za=globalThis&&globalThis.__decorate||function(t,e,n,r){var s=arguments.length,o=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},L={debug:"debug",error:"error",info:"info",warn:"warn"},vn={console:"console",http:"http",silent:"silent"},Qa=Object.keys(L),Un=function(){function t(e,n,r,s,o){r===void 0&&(r=vn.http),s===void 0&&(s=L.debug),o===void 0&&(o={}),this.handleLogStrategy=e,this.handlerType=r,this.level=s,this.contextManager=en(),this.contextManager.set(G({},o,n?{logger:{name:n}}:void 0))}return t.prototype.log=function(e,n,r){r===void 0&&(r=L.info),this.handleLogStrategy({message:e,context:be(n),status:r},this)},t.prototype.debug=function(e,n){this.log(e,n,L.debug)},t.prototype.info=function(e,n){this.log(e,n,L.info)},t.prototype.warn=function(e,n){this.log(e,n,L.warn)},t.prototype.error=function(e,n){var r={error:{origin:x.LOGGER}};this.log(e,St(r,n),L.error)},t.prototype.setContext=function(e){this.contextManager.set(e)},t.prototype.getContext=function(){return this.contextManager.get()},t.prototype.addContext=function(e,n){this.contextManager.add(e,n)},t.prototype.removeContext=function(e){this.contextManager.remove(e)},t.prototype.setHandler=function(e){this.handlerType=e},t.prototype.getHandler=function(){return this.handlerType},t.prototype.setLevel=function(e){this.level=e},t.prototype.getLevel=function(){return this.level},Za([bo],t.prototype,"log",null),t}();function Ja(t){var e=!1,n=en(),r=en(),s={},o=function(){},i=new Ga,c=function(h,v,_,S){_===void 0&&(_=be(u())),S===void 0&&(S=se()),i.add(function(){return c(h,v,_,S)})},a=function(){},l=new Un(function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];return c.apply(void 0,h)});function u(){return{view:{referrer:document.referrer,url:window.location.href},context:n.getContext(),user:r.getContext()}}return Li({logger:l,init:T(function(h){var v;if(a=function(){return be(h)},mt()&&(h=f(h)),!!d(h)){var _=Xa(h);_&&(v=t(h,_,u,l),c=v.handleLog,o=v.getInternalContext,i.drain(),e=!0)}}),getLoggerGlobalContext:T(n.get),getGlobalContext:T(n.getContext),setLoggerGlobalContext:T(n.set),setGlobalContext:T(n.setContext),addLoggerGlobalContext:T(n.add),setGlobalContextProperty:T(n.setContextProperty),removeLoggerGlobalContext:T(n.remove),removeGlobalContextProperty:T(n.removeContextProperty),clearGlobalContext:T(n.clearContext),createLogger:T(function(h,v){return v===void 0&&(v={}),s[h]=new Un(function(){for(var _=[],S=0;S<arguments.length;S++)_[S]=arguments[S];return c.apply(void 0,_)},h,v.handler,v.level,v.context),s[h]}),getLogger:T(function(h){return s[h]}),getInitConfiguration:T(function(){return a()}),getInternalContext:T(function(h){return o(h)}),setUser:T(function(h){qa(h)&&r.setContext(xn(h))}),getUser:T(r.getContext),setUserProperty:T(function(h,v){var _,S=xn((_={},_[h]=v,_))[h];r.setContextProperty(h,S)}),removeUserProperty:T(r.removeContextProperty),clearUser:T(r.clearContext)});function f(h){return G({},h,{clientToken:"empty"})}function d(h){return e?(h.silentMultipleInit||N.error("DD_LOGS is already initialized."),!1):!0}}var ec="logs";function tc(t){var e=ca(t.cookieOptions,ec,function(n){return rc(t,n)});return{findTrackedSession:function(n){var r=e.findActiveSession(n);return r&&r.trackingType==="1"?{id:r.id}:void 0}}}function nc(t){var e=rs(t)==="1",n=e?{}:void 0;return{findTrackedSession:function(){return n}}}function rs(t){return Xt(t.sessionSampleRate)?"1":"0"}function rc(t,e){var n=sc(e)?e:rs(t);return{trackingType:n,isTracked:n==="1"}}function sc(t){return t==="0"||t==="1"}var ge,$n=(ge={},ge[L.debug]=0,ge[L.info]=1,ge[L.warn]=2,ge[L.error]=3,ge);function oc(t){function e(n,r,s,o){var i=n.context;ss(n.status,vn.console,r)&&N(n.status,n.message,St(r.getContext(),i)),t.notify(0,{rawLogsEvent:{date:o||se(),message:n.message,status:n.status,origin:x.LOGGER},messageContext:i,savedCommonContext:s,logger:r})}return{handleLog:e}}function ss(t,e,n){var r=n.getHandler(),s=Array.isArray(r)?r:[r];return $n[t]>=$n[n.getLevel()]&&we(s,e)}function ic(t,e,n,r,s,o){var i=Qa.concat(["custom"]),c={};i.forEach(function(a){c[a]=Ia(a,e.eventRateLimiterThreshold,o)}),n.subscribe(0,function(a){var l,u,f,d=a.rawLogsEvent,h=a.messageContext,v=h===void 0?void 0:h,_=a.savedCommonContext,S=_===void 0?void 0:_,b=a.logger,m=b===void 0?s:b,A=Ho(d.date),P=t.findTrackedSession(A);if(P){var k=S||r(),$=St({service:e.service,session_id:P.id,usr:wr(k.user)?void 0:k.user,view:k.view},k.context,lt(A),d,m.getContext(),v);!ss(d.status,vn.http,m)||((l=e.beforeSend)===null||l===void 0?void 0:l.call(e,$))===!1||((u=$.error)===null||u===void 0?void 0:u.origin)!==x.AGENT&&((f=c[$.status])!==null&&f!==void 0?f:c.custom).isLimitReached()||n.notify(1,$)}})}var Bn=!1;function lt(t){var e=window;if(ns()){var n=r(e.DD_RUM_SYNTHETICS);return!n&&!Bn&&(Bn=!0,Fi("Logs sent before RUM is injected by the synthetics worker",{testId:za(),resultId:Ka()})),n}return r(e.DD_RUM);function r(s){if(s&&s.getInternalContext)return s.getInternalContext(t)}}var ie,ac=(ie={},ie[U.log]=L.info,ie[U.debug]=L.debug,ie[U.info]=L.info,ie[U.warn]=L.warn,ie[U.error]=L.error,ie);function cc(t,e){var n=xa(t.forwardConsoleLogs).subscribe(function(r){e.notify(0,{rawLogsEvent:{date:se(),message:r.message,origin:x.CONSOLE,error:r.api===U.error?{origin:x.CONSOLE,stack:r.stack}:void 0,status:ac[r.api]}})});return{stop:function(){n.unsubscribe()}}}var Me,uc=(Me={},Me[re.cspViolation]=L.error,Me[re.intervention]=L.error,Me[re.deprecation]=L.warn,Me);function lc(t,e){var n=Pi(t.forwardReports).subscribe(function(r){var s=r.message,o=uc[r.type],i;o===L.error?i={kind:r.subtype,origin:x.REPORT,stack:r.stack}:r.stack&&(s+=" Found in ".concat(Ri(r.stack))),e.notify(0,{rawLogsEvent:{date:se(),message:s,origin:x.REPORT,error:i,status:o}})});return{stop:function(){n.unsubscribe()}}}function fc(t,e){if(!t.forwardErrorsToLogs)return{stop:_t};var n=Oa().subscribe(function(o){o.state==="complete"&&s("xhr",o)}),r=La().subscribe(function(o){o.state==="resolve"&&s("fetch",o)});function s(o,i){!t.isIntakeUrl(i.url)&&(mc(i)||gc(i))&&("xhr"in i?dc(i.xhr,t,c):i.response?pc(i.response,t,c):i.error&&hc(i.error,t,c));function c(a){e.notify(0,{rawLogsEvent:{message:"".concat(vc(o)," error ").concat(i.method," ").concat(i.url),date:i.startClocks.timeStamp,error:{origin:x.NETWORK,stack:a||"Failed to load"},http:{method:i.method,status_code:i.status,url:i.url},status:L.error,origin:x.NETWORK}})}}return{stop:function(){n.unsubscribe(),r.unsubscribe()}}}function dc(t,e,n){typeof t.response=="string"?n(En(t.response,e)):n(t.response)}function hc(t,e,n){n(En(he(oe(t)),e))}function pc(t,e,n){var r=Uo(t);!r||!r.body?n():window.TextDecoder?Ec(r.body,e.requestErrorResponseLengthLimit,function(s,o){n(s?"Unable to retrieve response: ".concat(s):o)}):r.text().then(T(function(s){return n(En(s,e))}),T(function(s){return n("Unable to retrieve response: ".concat(s))}))}function mc(t){return t.status===0&&t.responseType!=="opaque"}function gc(t){return t.status>=500}function En(t,e){return t.length>e.requestErrorResponseLengthLimit?"".concat(t.substring(0,e.requestErrorResponseLengthLimit),"..."):t}function vc(t){return t==="xhr"?"XHR":"Fetch"}function Ec(t,e,n){Fa(t,function(r,s,o){if(r)n(r);else{var i=new TextDecoder().decode(s);o&&(i+="..."),n(void 0,i)}},{bytesLimit:e,collectStreamBody:!0})}function yc(t,e){if(!t.forwardErrorsToLogs)return{stop:_t};var n=new H,r=Ai(n).stop,s=n.subscribe(function(o){e.notify(0,{rawLogsEvent:{message:o.message,date:o.startClocks.timeStamp,error:{kind:o.type,origin:x.SOURCE,stack:o.stack},origin:x.SOURCE,status:L.error}})});return{stop:function(){r(),s.unsubscribe()}}}var _c=function(){function t(){this.callbacks={}}return t.prototype.notify=function(e,n){var r=this.callbacks[e];r&&r.forEach(function(s){return s(n)})},t.prototype.subscribe=function(e,n){var r=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),{unsubscribe:function(){r.callbacks[e]=r.callbacks[e].filter(function(s){return n!==s})}}},t}();function Sc(t,e,n,r){var s,o=ts(t,t.logsEndpointBuilder,n,r,(s=t.replica)===null||s===void 0?void 0:s.logsEndpointBuilder);e.subscribe(1,function(i){o.add(i)})}function bc(t){var e=mn();t.subscribe(1,function(n){e.send("log",n)})}function Tc(t){return{get:function(e){var n=t.findTrackedSession(e);if(n)return{session_id:n.id}}}}function Ic(t,e,n,r){var s=new _c;s.subscribe(1,function(f){return Gr("logs",f)});var o=function(f){return s.notify(0,{rawLogsEvent:{message:f.message,date:f.startClocks.timeStamp,error:{origin:x.AGENT},origin:x.AGENT,status:L.error}})},i=Da(),c=Oc(e,o,i);c.setContextProvider(function(){var f,d,h,v,_,S;return{application:{id:(f=lt())===null||f===void 0?void 0:f.application_id},session:{id:(d=l.findTrackedSession())===null||d===void 0?void 0:d.id},view:{id:(v=(h=lt())===null||h===void 0?void 0:h.view)===null||v===void 0?void 0:v.id},action:{id:(S=(_=lt())===null||_===void 0?void 0:_.user_action)===null||S===void 0?void 0:S.id}}}),fc(e,s),yc(e,s),cc(e,s),lc(e,s);var a=oc(s).handleLog,l=$o(e.cookieOptions)&&!mt()&&!ns()?tc(e):nc(e);ic(l,e,s,n,r,o),mt()?bc(s):Sc(e,s,o,i),Vi(Ya(t));var u=Tc(l);return{handleLog:a,getInternalContext:u.get}}function Oc(t,e,n){var r,s=Bi("browser-logs-sdk",t);if(mt()){var o=mn();s.observable.subscribe(function(c){return o.send("internal_telemetry",c)})}else{var i=ts(t,t.rumEndpointBuilder,e,n,(r=t.replica)===null||r===void 0?void 0:r.rumEndpointBuilder);s.observable.subscribe(function(c){return i.add(c,Gi(t))})}return s}var os=Ja(Ic);Ni(fn(),"DD_LOGS",os);class is{constructor(e){z(this,"env");this.env=e}setup(e){e.reports.enabled&&os.init({clientToken:"pub94a0029259f79f29a5d881a06d1e9653",site:"datadoghq.com",forwardErrorsToLogs:!0,service:this.env.var("KUMA_PRODUCT_NAME"),sampleRate:100,env:"production"})}}class Rc extends Error{constructor({title:n=null,message:r,code:s=null,statusCode:o,causes:i=[]}){super(r);z(this,"title");z(this,"code");z(this,"causes");z(this,"statusCode");this.name="ApiError",this.title=n,this.code=s,this.statusCode=o,this.causes=i}toJSON(){return{name:this.name,title:this.title,message:this.message,code:this.code,statusCode:this.statusCode,causes:this.causes}}}async function Cc(t,e={}){var l;const n=e,r=n.method??"GET";n.headers=n.headers instanceof Headers?n.headers:new Headers(n.headers),!n.headers.has("content-type")&&["POST","PUT","PATCH"].includes(r)&&n.headers.set("content-type","application/json");let s=t;"params"in e&&(r==="GET"?s+=`?${new URLSearchParams(e.params).toString()}`:(l=n.headers.get("content-type"))!=null&&l.startsWith("application/json")&&(n.body=JSON.stringify(e.params)));let o;try{o=await fetch(s,n)}catch(u){throw wc(u)}const i=o.headers.get("content-type"),a=(i!==null?i.startsWith("application/json"):!1)?await o.json():await o.text();if(o.ok)return{response:o,data:a};throw Ac(o,a)}function wc(t){const e=t instanceof Error?t.message:"An unknown network error occurred.";return new Error(e)}function Ac(t,e){let n=null,r="An error has occurred while trying to load this data.",s=null,o=[];return typeof e=="string"&&e.length>0?r=e:e&&(Object.prototype.hasOwnProperty.call(e,"title")&&(n=e.title),Object.prototype.hasOwnProperty.call(e,"details")&&(r=e.details),Object.prototype.hasOwnProperty.call(e,"code")&&(s=e.code),Object.prototype.hasOwnProperty.call(e,"causes")&&Array.isArray(e.causes)&&(o=e.causes)),t.status===403&&(r="You currently don’t have access to this data."),new Rc({title:n,message:r,code:s,causes:o,statusCode:t.status})}const Gn=window.location.origin;class Lc{constructor(){z(this,"_baseUrl",Gn)}get baseUrl(){return this._baseUrl}set baseUrl(e){if(e.startsWith("http"))this._baseUrl=as(e);else{const n=Pc(e);this._baseUrl=[Gn,n].filter(r=>r!=="").join("/")}}async get(e,n){const r=Fn(n);r.method="GET";const{data:s}=await this.raw(e,r);return s}async raw(e,n){const r=Fn(n),s=e.startsWith("http")?e:[this.baseUrl,e].join("/");return Cc(s,r)}}function as(t){return t.replace(/\/+$/,"")}function Nc(t){return t.replace(/^\/+/,"")}function Pc(t){return as(Nc(t))}function Fn(t){const e=t??{};if(e.params&&!Array.isArray(e.params)){const n=[];for(const[r,s]of Object.entries(e.params))if(s!==void 0)if(Array.isArray(s))for(const o of s)n.push([r,o]);else n.push([r,s]);e.params=n}return e}class cs{constructor(e){z(this,"client");z(this,"env");this.client=new Lc,this.env=e}get baseUrl(){return this.client.baseUrl}setBaseUrl(e){this.client.baseUrl=e}getInfo(){return this.client.get("")}async getStatus(){try{const{response:e}=await this.client.raw("");return e.status===200?"OK":null}catch{return null}}async getLatestVersion(){return this.client.get(this.env.var("KUMA_VERSION_URL"))}getConfig(){return this.client.get("config")}getPolicyTypes(){return this.client.get("policies")}getGlobalInsights(){return this.client.get("global-insights")}getZones(e){return this.client.get("zones",{params:e})}getZone({name:e},n){return this.client.get(`zones/${e}`,{params:n})}getAllZoneOverviews(e){return this.client.get("zones+insights",{params:e})}getZoneOverview({name:e},n){return this.client.get(`zones+insights/${e}`,{params:n})}getZoneIngressData({zoneIngressName:e,dataPath:n},r){return this.client.get(`zoneingresses/${e}/${n}`,{params:r})}getAllZoneIngressOverviews(e){return this.client.get("zoneingresses+insights",{params:e})}getZoneIngressOverview({name:e},n){return this.client.get(`zoneingresses+insights/${e}`,{params:n})}getZoneEgressData({zoneEgressName:e,dataPath:n},r){return this.client.get(`zoneegresses/${e}/${n}`,{params:r})}getAllZoneEgressOverviews(e){return this.client.get("zoneegressoverviews",{params:e})}getZoneEgressOverview({name:e},n){return this.client.get(`zoneegressoverviews/${e}`,{params:n})}getAllMeshes(e){return this.client.get("meshes",{params:e})}getMesh({name:e},n){return this.client.get(`meshes/${e}`,{params:n})}getAllMeshInsights(e){return this.client.get("mesh-insights",{params:e})}getMeshInsights({name:e},n){return this.client.get(`mesh-insights/${e}`,{params:n})}getAllDataplanes(e){return this.client.get("dataplanes",{params:e})}getDataplaneFromMesh({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}`,{params:r})}getAllDataplaneOverviews(e){return this.client.get("dataplanes+insights",{params:e})}getAllDataplaneOverviewsFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/dataplanes+insights`,{params:n})}getDataplaneOverviewFromMesh({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes+insights/${n}`,{params:r})}getSidecarDataplanePolicies({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/policies`,{params:r})}getMeshGatewayDataplane({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/policies`,{params:r})}getDataplaneRules({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/rules`,{params:r})}getDataplaneData({mesh:e,dppName:n,dataPath:r},s){return this.client.get(`meshes/${e}/dataplanes/${n}/${r}`,{params:s})}getAllServiceInsights(e){return this.client.get("service-insights",{params:e})}getAllServiceInsightsFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/service-insights`,{params:n})}getServiceInsight({mesh:e,name:n},r){return this.client.get(`meshes/${e}/service-insights/${n}`,{params:r})}getAllExternalServices(e){return this.client.get("external-services",{params:e})}getAllExternalServicesFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/external-services`,{params:n})}getExternalService({mesh:e,name:n},r){return this.client.get(`meshes/${e}/external-services/${n}`,{params:r})}async getExternalServiceByServiceInsightName(e,n){const{items:r}=await this.getAllExternalServicesFromMesh({mesh:e});return Array.isArray(r)?r.find(o=>o.tags["kuma.io/service"]===n)??null:null}getPolicyConnections({mesh:e,policyType:n,policyName:r},s){return this.client.get(`meshes/${e}/${n}/${r}/dataplanes`,{params:s})}getAllPolicyEntities({path:e},n){return this.client.get(e,{params:n})}getAllPolicyEntitiesFromMesh({mesh:e,path:n},r){return this.client.get(`meshes/${e}/${n}`,{params:r})}getSinglePolicyEntity({mesh:e,path:n,name:r},s){return this.client.get(`meshes/${e}/${n}/${r}`,{params:s})}}const Mc="modulepreload",Dc=function(t,e){return t.startsWith(".")?new URL(t,e).href:t},Vn={},C=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Dc(o,r),o in Vn)return;Vn[o]=!0;const i=o.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===o&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const l=document.createElement("link");if(l.rel=i?"stylesheet":Mc,i||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),i)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};function ae(t,e=0){const n=xc(t);return n!==void 0?parseInt(n):e}function xc(t){const e=Array.isArray(t)?t:[t];return e[e.length-1]??void 0}const us=t=>[{path:"/404",name:"not-found",alias:"/:pathMatch(.*)*",meta:{title:"Item not found"},component:()=>C(()=>import("./AppNotFoundView-46e12c29.js"),[],import.meta.url)},{path:"/",name:"home",meta:{title:"Overview"},component:()=>C(()=>import("./MainOverviewView-899c2826.js"),["./DoughnutChart-5c0285e5.css","./index-b38e1466.css","./MeshResources-b0bd4417.css"],import.meta.url)},{path:"/diagnostics",name:"diagnostics",meta:{title:"Diagnostics"},component:()=>C(()=>import("./DiagnosticsView-96e6fa51.js"),["./CodeBlock-7d9027b4.css"],import.meta.url)},{path:"/zones",name:"zones",meta:{title:"Zones"},props:e=>({selectedZoneName:e.query.zone,offset:ae(e.query.offset)}),component:()=>C(()=>import("./ZonesView-21659831.js"),["./AccordionItem-2e8063db.css","./CodeBlock-7d9027b4.css","./ErrorBlock-7208ca81.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./LabelList-82c1e9de.css","./SubscriptionHeader-da67a0ee.css","./TabsWidget-4d82abdb.css"],import.meta.url)},{path:"/zone-ingresses",name:"zoneingresses",meta:{title:"Zone ingresses"},props:e=>({selectedZoneIngressName:e.query.zoneIngress,offset:ae(e.query.offset)}),component:()=>C(()=>import("./ZoneIngresses-25bf63c6.js"),["./AccordionItem-2e8063db.css","./ErrorBlock-7208ca81.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./EnvoyData-c6435ad2.css","./LabelList-82c1e9de.css","./SubscriptionHeader-da67a0ee.css","./TabsWidget-4d82abdb.css"],import.meta.url)},{path:"/zoneegresses",name:"zoneegresses",meta:{title:"Zone egresses"},props:e=>({selectedZoneEgressName:e.query.zoneEgress,offset:ae(e.query.offset)}),component:()=>C(()=>import("./ZoneEgresses-8fad3afb.js"),["./AccordionItem-2e8063db.css","./ErrorBlock-7208ca81.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./EnvoyData-c6435ad2.css","./LabelList-82c1e9de.css","./SubscriptionHeader-da67a0ee.css","./TabsWidget-4d82abdb.css"],import.meta.url)},{path:"/mesh/:mesh",children:[{path:"",name:"mesh-detail-view",meta:{title:"Mesh overview"},component:()=>C(()=>import("./MeshOverviewView-2d8d8fae.js"),["./ContentWrapper-fe2d0f8d.css","./DoughnutChart-5c0285e5.css","./MeshResources-b0bd4417.css","./ErrorBlock-7208ca81.css","./LabelList-82c1e9de.css","./CodeBlock-7d9027b4.css","./MeshOverviewView-119f640a.css"],import.meta.url)},{path:"gateways",children:[{path:"",name:"gateway-list-view",meta:{title:"Gateways"},props:e=>({selectedDppName:e.query.gateway,gatewayType:e.query.gatewayType==="all"?"true":e.query.gatewayType,offset:ae(e.query.offset),isGatewayView:!0}),component:()=>C(()=>import("./DataPlaneListView-d418b51d.js"),["./ContentWrapper-fe2d0f8d.css","./ErrorBlock-7208ca81.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./DataPlaneList-6939e0a9.css","./DataPlaneListView-c9bf2e34.css"],import.meta.url)},{path:":dataPlane",name:"gateway-detail-view",meta:{title:"Gateway",parent:"gateway-list-view",breadcrumbTitleParam:"dataPlane"},component:()=>C(()=>import("./DataPlaneDetailView-c96eaf22.js"),["./AccordionItem-2e8063db.css","./CodeBlock-7d9027b4.css","./TagList-27d87a7b.css","./ErrorBlock-7208ca81.css","./EnvoyData-c6435ad2.css","./LabelList-82c1e9de.css","./StatusBadge-43351938.css","./TabsWidget-4d82abdb.css","./SubscriptionHeader-da67a0ee.css","./DataPlaneDetailView-139b30e1.css"],import.meta.url)}]},{path:"data-planes",children:[{path:"",name:"data-plane-list-view",meta:{title:"Data plane proxies"},props:e=>({selectedDppName:e.query.dpp,offset:ae(e.query.offset)}),component:()=>C(()=>import("./DataPlaneListView-d418b51d.js"),["./ContentWrapper-fe2d0f8d.css","./ErrorBlock-7208ca81.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./DataPlaneList-6939e0a9.css","./DataPlaneListView-c9bf2e34.css"],import.meta.url)},{path:":dataPlane",name:"data-plane-detail-view",meta:{title:"Data plane proxy",parent:"data-plane-list-view",breadcrumbTitleParam:"dataPlane"},component:()=>C(()=>import("./DataPlaneDetailView-c96eaf22.js"),["./AccordionItem-2e8063db.css","./CodeBlock-7d9027b4.css","./TagList-27d87a7b.css","./ErrorBlock-7208ca81.css","./EnvoyData-c6435ad2.css","./LabelList-82c1e9de.css","./StatusBadge-43351938.css","./TabsWidget-4d82abdb.css","./SubscriptionHeader-da67a0ee.css","./DataPlaneDetailView-139b30e1.css"],import.meta.url)}]},{path:"services",children:[{path:"",name:"service-list-view",meta:{title:"Services"},props:e=>({selectedServiceName:e.query.service,offset:ae(e.query.offset)}),component:()=>C(()=>import("./ServiceListView-85e0643b.js"),["./ContentWrapper-fe2d0f8d.css","./ErrorBlock-7208ca81.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./ServiceSummary-af890f41.css"],import.meta.url)},{path:":service",name:"service-detail-view",meta:{title:"Internal service",parent:"service-list-view",breadcrumbTitleParam:"service"},props:e=>({selectedDppName:e.query.dpp}),component:()=>C(()=>import("./ServiceDetailView-6cd935ca.js"),["./ErrorBlock-7208ca81.css","./ContentWrapper-fe2d0f8d.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./CodeBlock-7d9027b4.css","./DataPlaneList-6939e0a9.css","./ServiceSummary-af890f41.css"],import.meta.url)}]},{path:"policies",name:"policies",meta:{title:"Policies"},redirect:e=>{let n=t.state.policyTypes.find(r=>t.state.sidebar.insights.mesh.policies[r.name]!==0);return n===void 0&&(n=t.state.policyTypes[0]),{...e,params:{...e.params,policyPath:n.path},name:"policy"}}},{path:"policies/:policyPath",name:"policy",meta:{parent:"policies"},component:()=>C(()=>import("./PolicyView-7761fa80.js"),["./ErrorBlock-7208ca81.css","./StatusBadge-43351938.css","./TagList-27d87a7b.css","./DataOverview-cc37ba93.css","./LabelList-82c1e9de.css","./TabsWidget-4d82abdb.css","./CodeBlock-7d9027b4.css","./PolicyView-ffd43774.css"],import.meta.url),props:e=>{const n=t.state.policyTypesByPath[e.params.policyPath];return e.meta.title=n.name,{policyPath:e.params.policyPath,selectedPolicyName:e.query.policy,offset:ae(e.query.offset)}}}]},{path:"/onboarding",redirect:{name:"onboarding-welcome"},component:()=>C(()=>import("./OnboardingView-ae3cb6c4.js"),[],import.meta.url),children:[{path:"welcome",name:"onboarding-welcome",meta:{title:"Welcome to Kuma!",onboardingProcess:!0},component:()=>C(()=>import("./WelcomeView-cf930391.js"),["./OnboardingPage-4df0909e.css","./WelcomeView-0af22aa8.css"],import.meta.url)},{path:"deployment-types",name:"onboarding-deployment-types",meta:{title:"Deployment Types",onboardingProcess:!0},component:()=>C(()=>import("./DeploymentTypes-69c3406f.js"),["./DoughnutChart-5c0285e5.css","./index-b38e1466.css","./OnboardingPage-4df0909e.css","./DeploymentTypes-84708a2d.css"],import.meta.url)},{path:"configuration-types",name:"onboarding-configuration-types",meta:{title:"Configuration Types",onboardingProcess:!0},component:()=>C(()=>import("./ConfigurationTypes-f522ac15.js"),["./DoughnutChart-5c0285e5.css","./index-b38e1466.css","./OnboardingPage-4df0909e.css","./ConfigurationTypes-202b6e99.css"],import.meta.url)},{path:"multi-zone",name:"onboarding-multi-zone",meta:{title:"Multizone",onboardingProcess:!0},component:()=>C(()=>import("./MultiZoneView-9e410cc0.js"),["./LoadingBox-0bc10551.css","./OnboardingPage-4df0909e.css","./MultiZoneView-be28a607.css"],import.meta.url)},{path:"create-mesh",name:"onboarding-create-mesh",meta:{title:"Create the Mesh",onboardingProcess:!0},component:()=>C(()=>import("./CreateMesh-8ae3747b.js"),["./OnboardingPage-4df0909e.css","./CreateMesh-926a017c.css"],import.meta.url)},{path:"add-services",name:"onboarding-add-services",meta:{title:"Add new services",onboardingProcess:!0},component:()=>C(()=>import("./AddNewServices-bea30393.js"),["./OnboardingPage-4df0909e.css","./AddNewServices-1dac8f35.css"],import.meta.url)},{path:"add-services-code",name:"onboarding-add-services-code",meta:{title:"Add new services",onboardingProcess:!0},component:()=>C(()=>import("./AddNewServicesCode-a8cd5f97.js"),["./CodeBlock-7d9027b4.css","./LoadingBox-0bc10551.css","./OnboardingPage-4df0909e.css","./AddNewServicesCode-d0cdb169.css"],import.meta.url)},{path:"dataplanes-overview",name:"onboarding-dataplanes-overview",meta:{title:"Data plane overview",onboardingProcess:!0},component:()=>C(()=>import("./DataplanesOverview-73a6acb6.js"),["./LoadingBox-0bc10551.css","./StatusBadge-43351938.css","./OnboardingPage-4df0909e.css","./DataplanesOverview-35348a18.css"],import.meta.url)},{path:"completed",name:"onboarding-completed",meta:{title:"Completed",onboardingProcess:!0},component:()=>C(()=>import("./CompletedView-b5ddd6c3.js"),["./OnboardingPage-4df0909e.css","./CompletedView-4a363d2a.css"],import.meta.url)}]},{path:"/wizard",name:"wizard",children:[{path:"mesh",name:"create-mesh",meta:{title:"Create a new mesh",wizardProcess:!0},component:()=>C(()=>import("./MeshWizard-2c5b1746.js"),["./CodeBlock-7d9027b4.css","./StepSkeleton-4161d6eb.css","./ErrorBlock-7208ca81.css","./TabsWidget-4d82abdb.css","./MeshWizard-f485a12d.css"],import.meta.url)},{path:"kubernetes-dataplane",name:"kubernetes-dataplane",meta:{title:"Create a new data plane proxy on Kubernetes",wizardProcess:!0},component:()=>C(()=>import("./DataplaneKubernetes-263c03c1.js"),["./CodeBlock-7d9027b4.css","./StepSkeleton-4161d6eb.css","./EnvironmentSwitcher-8d17c23e.css","./DataplaneKubernetes-7b1a1c22.css"],import.meta.url)},{path:"universal-dataplane",name:"universal-dataplane",meta:{title:"Create a new data plane proxy on Universal",wizardProcess:!0},component:()=>C(()=>import("./DataplaneUniversal-4b2fcfff.js"),["./CodeBlock-7d9027b4.css","./StepSkeleton-4161d6eb.css","./EnvironmentSwitcher-8d17c23e.css","./DataplaneUniversal-a43ec730.css"],import.meta.url)}]}];function kc(t,e){const n=t?[{name:"Zones",categoryTier:"primary"},{name:"Zone CPs",routeName:"zones",insightsFieldAccessor:"global.Zone"},{name:"Zone Ingresses",routeName:"zoneingresses",insightsFieldAccessor:"global.ZoneIngress"},{name:"Zone Egresses",routeName:"zoneegresses",insightsFieldAccessor:"global.ZoneEgress"}]:[],r=e?[{name:"Mesh",categoryTier:"primary"},{name:"Mesh selector",isMeshSelector:!0},{name:"Overview",routeName:"mesh-detail-view",usesMeshParam:!0},{name:"Services",routeName:"service-list-view",insightsFieldAccessor:"mesh.services.total",usesMeshParam:!0},{name:"Gateways",routeName:"gateway-list-view",usesMeshParam:!0,insightsFieldAccessor:"mesh.dataplanes.gateway"},{name:"Data Plane Proxies",routeName:"data-plane-list-view",usesMeshParam:!0,insightsFieldAccessor:"mesh.dataplanes.standard"},{name:"Policies",routeName:"policies",usesMeshParam:!0,insightsFieldAccessor:"mesh.policies.total"}]:[];return[{name:"Home",routeName:"home",shouldOffsetFromFollowingItems:!0},...n,...r]}const Uc=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var ls=Uc;const $c="2.0.0",Bc=256,Gc=Number.MAX_SAFE_INTEGER||9007199254740991,Fc=16;var fs={SEMVER_SPEC_VERSION:$c,MAX_LENGTH:Bc,MAX_SAFE_INTEGER:Gc,MAX_SAFE_COMPONENT_LENGTH:Fc},gt={},Vc={get exports(){return gt},set exports(t){gt=t}};(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n}=fs,r=ls;e=t.exports={};const s=e.re=[],o=e.src=[],i=e.t={};let c=0;const a=(l,u,f)=>{const d=c++;r(l,d,u),i[l]=d,o[d]=u,s[d]=new RegExp(u,f?"g":void 0)};a("NUMERICIDENTIFIER","0|[1-9]\\d*"),a("NUMERICIDENTIFIERLOOSE","[0-9]+"),a("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),a("MAINVERSION",`(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})`),a("MAINVERSIONLOOSE",`(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})`),a("PRERELEASEIDENTIFIER",`(?:${o[i.NUMERICIDENTIFIER]}|${o[i.NONNUMERICIDENTIFIER]})`),a("PRERELEASEIDENTIFIERLOOSE",`(?:${o[i.NUMERICIDENTIFIERLOOSE]}|${o[i.NONNUMERICIDENTIFIER]})`),a("PRERELEASE",`(?:-(${o[i.PRERELEASEIDENTIFIER]}(?:\\.${o[i.PRERELEASEIDENTIFIER]})*))`),a("PRERELEASELOOSE",`(?:-?(${o[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[i.PRERELEASEIDENTIFIERLOOSE]})*))`),a("BUILDIDENTIFIER","[0-9A-Za-z-]+"),a("BUILD",`(?:\\+(${o[i.BUILDIDENTIFIER]}(?:\\.${o[i.BUILDIDENTIFIER]})*))`),a("FULLPLAIN",`v?${o[i.MAINVERSION]}${o[i.PRERELEASE]}?${o[i.BUILD]}?`),a("FULL",`^${o[i.FULLPLAIN]}$`),a("LOOSEPLAIN",`[v=\\s]*${o[i.MAINVERSIONLOOSE]}${o[i.PRERELEASELOOSE]}?${o[i.BUILD]}?`),a("LOOSE",`^${o[i.LOOSEPLAIN]}$`),a("GTLT","((?:<|>)?=?)"),a("XRANGEIDENTIFIERLOOSE",`${o[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),a("XRANGEIDENTIFIER",`${o[i.NUMERICIDENTIFIER]}|x|X|\\*`),a("XRANGEPLAIN",`[v=\\s]*(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:${o[i.PRERELEASE]})?${o[i.BUILD]}?)?)?`),a("XRANGEPLAINLOOSE",`[v=\\s]*(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:${o[i.PRERELEASELOOSE]})?${o[i.BUILD]}?)?)?`),a("XRANGE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAIN]}$`),a("XRANGELOOSE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAINLOOSE]}$`),a("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),a("COERCERTL",o[i.COERCE],!0),a("LONETILDE","(?:~>?)"),a("TILDETRIM",`(\\s*)${o[i.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",a("TILDE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAIN]}$`),a("TILDELOOSE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAINLOOSE]}$`),a("LONECARET","(?:\\^)"),a("CARETTRIM",`(\\s*)${o[i.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",a("CARET",`^${o[i.LONECARET]}${o[i.XRANGEPLAIN]}$`),a("CARETLOOSE",`^${o[i.LONECARET]}${o[i.XRANGEPLAINLOOSE]}$`),a("COMPARATORLOOSE",`^${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]})$|^$`),a("COMPARATOR",`^${o[i.GTLT]}\\s*(${o[i.FULLPLAIN]})$|^$`),a("COMPARATORTRIM",`(\\s*)${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]}|${o[i.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",a("HYPHENRANGE",`^\\s*(${o[i.XRANGEPLAIN]})\\s+-\\s+(${o[i.XRANGEPLAIN]})\\s*$`),a("HYPHENRANGELOOSE",`^\\s*(${o[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[i.XRANGEPLAINLOOSE]})\\s*$`),a("STAR","(<|>)?=?\\s*\\*"),a("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),a("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Vc,gt);const jc=["includePrerelease","loose","rtl"],Hc=t=>t?typeof t!="object"?{loose:!0}:jc.filter(e=>t[e]).reduce((e,n)=>(e[n]=!0,e),{}):{};var zc=Hc;const jn=/^[0-9]+$/,ds=(t,e)=>{const n=jn.test(t),r=jn.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},Kc=(t,e)=>ds(e,t);var qc={compareIdentifiers:ds,rcompareIdentifiers:Kc};const st=ls,{MAX_LENGTH:Hn,MAX_SAFE_INTEGER:ot}=fs,{re:zn,t:Kn}=gt,Wc=zc,{compareIdentifiers:ve}=qc;let Xc=class W{constructor(e,n){if(n=Wc(n),e instanceof W){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Hn)throw new TypeError(`version is longer than ${Hn} characters`);st("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?zn[Kn.LOOSE]:zn[Kn.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>ot||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ot||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ot||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const o=+s;if(o>=0&&o<ot)return o}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(st("SemVer.compare",this.version,this.options,e),!(e instanceof W)){if(typeof e=="string"&&e===this.version)return 0;e=new W(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof W||(e=new W(e,this.options)),ve(this.major,e.major)||ve(this.minor,e.minor)||ve(this.patch,e.patch)}comparePre(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],s=e.prerelease[n];if(st("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return ve(r,s)}while(++n)}compareBuild(e){e instanceof W||(e=new W(e,this.options));let n=0;do{const r=this.build[n],s=e.build[n];if(st("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return ve(r,s)}while(++n)}inc(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(ve(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};var Yc=Xc;const qn=Yc,Zc=(t,e,n)=>new qn(t,n).compare(new qn(e,n));var Vt=Zc;class Qc{constructor(e){z(this,"storageAdapter");this.storageAdapter=e}get(e){let n;try{n=this.storageAdapter.getItem(e)}catch{return null}if(n===null||!(n.startsWith("[")||n.startsWith("{")))return n;try{return JSON.parse(n)}catch{return n}}set(e,n){try{const r=typeof n=="string"?n:JSON.stringify(n);this.storageAdapter.setItem(e,r)}catch{}}has(e){try{return this.storageAdapter.getItem(e)!==null}catch{return!1}}remove(e){try{this.storageAdapter.removeItem(e)}catch{}}}const J=new Qc(window.localStorage),ff="Kuma",df=12,tn=500,Wn="Disabled",hf="kuma.io/zone";function hs(t,e,n=void 0){if(typeof t!="object"||Array.isArray(t))return n;const r=e.indexOf(".");if(r===-1)return t[e]===void 0?n:t[e];const s=e.substring(0,r),o=e.substring(r+1);return hs(t[s],o,n)}const Jc=new Intl.DateTimeFormat("en-US",{dateStyle:"long"}),eu=new Intl.DateTimeFormat("en-US",{dateStyle:"long",timeStyle:"medium"});function tu(t){const e=new Date(Date.parse(t)),n=Math.floor((Date.now()-e.getTime())/1e3);return n<=1?"just now":n<20?`${n} seconds ago`:n<40?"half a minute ago":n<60?"less than a minute ago":n<=90?"one minute ago":n<=3540?`${Math.round(n/60)} minutes ago`:n<=5400?"1 hour ago":n<=86400?`${Math.round(n/3600)} hours ago`:n<=129600?"1 day ago":n<604800?`${Math.round(n/86400)} days ago`:n<=777600?"1 week ago":Jc.format(e)}function pf(t){const e=new Date(Date.parse(t));return eu.format(e)}function mf(t,e){const n=t&&typeof t=="object"&&t.constructor===Array?Object.assign({},...t):t;return e.reduce((r,s)=>({...r,[s]:n[s]}),{})}function gf(t){const{creationTime:e,modificationTime:n,...r}=t;return r}function vf(t){const e=t.replace(/[^a-zA-Z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();return t?e:""}async function it(t){try{let e=null,n=0,r=[];for(;;){const s={size:tn,offset:n},{total:o,items:i,next:c}=await t(s);if(Array.isArray(i)&&(r=r.concat(i)),e===null&&(e=o),o!==e)throw new Error('Mismatch between "total" values between requests');if(!c)break;n+=tn}return{total:e,items:r}}catch(e){throw new Error(`Resource fetching failed: ${e}`)}}function Ef(t){var n;const e=((n=t.zoneInsight)==null?void 0:n.subscriptions)??[];if(e.length>0){const r=e[e.length-1];if(r.config){const s=JSON.parse(r.config);return hs(s,"dpServer.auth.type",Wn)}}return Wn}const ps=(t={},e={})=>{const n=t.online||0,r=e.online||0,s=t.partiallyDegraded||0,o=e.partiallyDegraded||0,i=t.total||0,c=e.total||0;return{online:n+r,partiallyDegraded:s+o,total:i+c}},nu=(t,e={})=>Object.entries(e).reduce((n,[r,s])=>{const o=n[r]?n[r].total:0;return{...n,[r]:{total:o+s.total}}},t),Xn=(t={},e={})=>Object.entries(e).reduce((n,[r,s])=>({...n,[r]:ps(n[r],s)}),t),ru=(t={},e={})=>({kumaDp:Xn(t.kumaDp,e.kumaDp),envoy:Xn(t.envoy,e.envoy)});function ms(){return{meshesTotal:0,dataplanes:{online:0,partiallyDegraded:0,total:0},policies:{},dpVersions:{kumaDp:{},envoy:{}}}}function su(t={}){return gs([t])}function gs(t=[]){return t.reduce((e,n)=>({meshesTotal:t.length,dataplanes:ps(e.dataplanes,n.dataplanes),policies:nu(e.policies,n.policies),dpVersions:ru(e.dpVersions,n.dpVersions)}),{meshesTotal:0,dataplanes:{online:0,partiallyDegraded:0,total:0},policies:{},dpVersions:{kumaDp:{},envoy:{}}})}function yf(t){let e=[];t.networking.inbound&&(e=t.networking.inbound.filter(r=>"tags"in r).flatMap(r=>Object.entries(r.tags)).map(([r,s])=>`${r}=${s}`)),t.networking.gateway&&(e=Object.entries(t.networking.gateway.tags).map(([r,s])=>`${r}=${s}`));const n=Array.from(new Set(e));return n.sort((r,s)=>r.localeCompare(s)),n.map(r=>r.split("=")).map(([r,s])=>({label:r,value:s}))}function vs(t={subscriptions:[]}){return(t.subscriptions??[]).some(n=>{var r;return((r=n.connectTime)==null?void 0:r.length)&&!n.disconnectTime})?"online":"offline"}function _f(t,e={subscriptions:[]}){const n=t.networking.inbound??[],r=n.filter(o=>o.health&&!o.health.ready).map(o=>`Inbound on port ${o.port} is not ready (kuma.io/service: ${o.tags["kuma.io/service"]})`);let s;switch(!0){case n.length===0:s="online";break;case r.length===n.length:s="offline";break;case r.length>0:s="partially_degraded";break;default:s=vs(e)}return{status:s,reason:r}}function Sf(t){if(t===void 0||t.subscriptions.length===0)return null;const e={},n=t.subscriptions[t.subscriptions.length-1];return n.version===void 0?null:(n.version.envoy&&(e.envoy=n.version.envoy.version),n.version.kumaDp&&(e.kumaDp=n.version.kumaDp.version),n.version.dependencies&&Object.entries(n.version.dependencies).forEach(([r,s])=>{e[r]=s}),e)}function bf(t){if(t.dataplaneInsight===void 0||t.dataplaneInsight.mTLS===void 0)return null;const{mTLS:e}=t.dataplaneInsight,n=new Date(e.certificateExpirationTime),r=new Date(n.getTime()+n.getTimezoneOffset()*6e4);return{certificateExpirationTime:{label:"Expiration Time",value:`${r.toLocaleDateString("en-US")} ${r.getHours()}:${r.getMinutes()}:${r.getSeconds()}`},lastCertificateRegeneration:{label:"Last Generated",value:tu(e.lastCertificateRegeneration)},certificateRegenerations:{label:"Regenerations",value:e.certificateRegenerations}}}function Tf(t){var r,s;return((r=t.kumaDp)==null?void 0:r.kumaCpCompatible)??!0?((s=t.envoy)==null?void 0:s.kumaDpCompatible)??!0?{kind:ou}:{kind:au,payload:{envoy:t.envoy.version,kumaDp:t.kumaDp.version}}:{kind:iu,payload:{kumaDp:t.kumaDp.version}}}const ou="COMPATIBLE",If="INCOMPATIBLE_ZONE_CP_AND_KUMA_DP_VERSIONS",Of="INCOMPATIBLE_ZONE_AND_GLOBAL_CPS_VERSIONS",iu="INCOMPATIBLE_UNSUPPORTED_KUMA_DP",au="INCOMPATIBLE_UNSUPPORTED_ENVOY",Rf="INCOMPATIBLE_WRONG_FORMAT",cu={status:null,tagline:null,version:null,kumaDocsVersion:"latest",clientConfig:null},uu={SET_CONFIG_DATA:(t,e)=>t.clientConfig=e,SET_STATUS:(t,e)=>t.status=e,SET_TAGLINE:(t,e)=>t.tagline=e,SET_VERSION:(t,e)=>t.version=e,SET_KUMA_DOCS_VERSION:(t,e)=>t.kumaDocsVersion=e},lu={getStatus:t=>t.status,getConfig:t=>t.clientConfig,getEnvironment:t=>{var e;return(e=t.clientConfig)==null?void 0:e.environment},getMode:t=>{var e;return(e=t.clientConfig)==null?void 0:e.mode},getTagline:t=>t.tagline,getVersion:t=>t.version,getKumaDocsVersion:t=>t.kumaDocsVersion,getConfigurationType:t=>{var e,n;return(n=(e=t.clientConfig)==null?void 0:e.store)==null?void 0:n.type},getMulticlusterStatus:(t,e)=>({}).VITE_FAKE_MULTIZONE==="true"?(console.warn("%c ✨You are currently faking Multi-Zone mode.","background: black; color: white; display: block; padding: 0.25rem;"),!0):e.getMode==="global"},fu=t=>({bootstrapConfig({dispatch:e}){const n=e("getInfo"),r=e("getConfig");return Promise.all([n,r])},getConfig({commit:e}){return t.getConfig().then(n=>{e("SET_CONFIG_DATA",n)})},getStatus({commit:e}){return t.getStatus().then(n=>{e("SET_STATUS",n)})},getInfo({commit:e}){return t.getInfo().then(n=>{e("SET_TAGLINE",n.tagline),e("SET_VERSION",n.version);let r;const s=n.basedOnKuma??n.version,o=s.indexOf("-preview.");if(o!==-1){const i=s.substring(0,o);r=i==="0.0.0"?"dev":i.replace(/\.\d+$/,".x")}else r=s.replace(/\.\d+$/,".x");e("SET_KUMA_DOCS_VERSION",r)}).catch(n=>{console.error(n)})}}),du=t=>({namespaced:!0,state:()=>cu,getters:lu,mutations:uu,actions:fu(t)}),hu={isOpen:!1},pu={OPEN_MODAL:t=>t.isOpen=!0,CLOSE_MODAL:t=>t.isOpen=!1},mu={meshNotificationItemMap(t,e,n){var o;return(((o=n.meshes)==null?void 0:o.items)||[]).reduce((i,c)=>(i[c.name]={hasLogging:Boolean(c.logging),hasMtls:Boolean(c.mtls),hasMetrics:Boolean(c.metrics),hasTracing:Boolean(c.tracing)},i),{})},meshNotificationItemMapWithAction(t,e){const n=e.meshNotificationItemMap;return Object.entries(n).reduce((r,[s,o])=>(Object.values(o).some(c=>!c)&&(r[s]=o),r),{})},singleMeshNotificationItems(t,e,n,r){if(n.selectedMesh===null)return[];const s=e.meshNotificationItemMap[n.selectedMesh],o=Object.entries(r.getMeshInsight.policies).filter(([c,a])=>["MeshAccessLog","MeshTrace"].includes(c)).some(([c,a])=>a.total>0),i=[{name:"Observability, Metrics & Service Map",component:"MetricsNotification",isCompleted:s.hasMetrics},{name:"Logging",component:"LoggingNotification",isCompleted:s.hasLogging||o},{name:"Zero-trust security",component:"MtlsNotification",isCompleted:s.hasMtls},{name:"Tracing",component:"TracingNotification",isCompleted:s.hasTracing}];return i.sort((c,a)=>+c.isCompleted-+a.isCompleted),i},amountOfActions(t,e){return Object.keys(e.meshNotificationItemMapWithAction).length}},gu={openModal({commit:t}){t("OPEN_MODAL")},closeModal({commit:t}){t("CLOSE_MODAL")}},vu={namespaced:!0,state:()=>hu,getters:mu,mutations:pu,actions:gu},Eu={isCompleted:J.get("onboardingIsCompleted")==="true",step:J.get("onboardingStep")||"onboarding-welcome",mode:"demo"},yu={SET_STEP:(t,e)=>t.step=e,SET_IS_COMPLETED:(t,e)=>t.isCompleted=e,UPDATE_MODE:(t,e)=>t.mode=e},_u={completeOnboarding({commit:t,dispatch:e}){e("fetchDataplaneTotalCount",null,{root:!0}),e("sidebar/getInsights",null,{root:!0}),t("SET_IS_COMPLETED",!0),J.set("onboardingIsCompleted","true"),J.remove("onboardingStep")},changeStep({commit:t},e){t("SET_STEP",e),J.set("onboardingStep",e)},changeMode({commit:t},e){t("UPDATE_MODE",e)}},Su={namespaced:!0,state:()=>Eu,mutations:yu,actions:_u};function Yn(t){const e=t.items.reduce((n,{dataplanes:r,dataplanesByType:s,policies:o,services:i})=>{var c,a;n.services.internal+=i.internal||0,n.services.external+=i.external||0,n.services.total+=i.total||0,n.dataplanes.total+=r.total||0,n.dataplanes.standard+=((c=s.standard)==null?void 0:c.total)||0,n.dataplanes.gateway+=((a=s.gateway)==null?void 0:a.total)||0;for(const[l,u]of Object.entries(o))n.policies[l]||(n.policies[l]=0),n.policies[l]+=u.total||0;return n},{services:{total:0,internal:0,external:0},dataplanes:{total:0,standard:0,gateway:0},policies:{}});return e.policies.total=Object.values(e.policies).reduce((n,r)=>n+r,0),e}function bu(t){return Object.entries(t.resources).reduce((e,[n,r])=>(e[n]||(e[n]=0),e[n]+=r.total||0,e),{})}const Tu={insights:{global:{},mesh:{services:{total:0,internal:0,external:0},dataplanes:{total:0,standard:0,gateway:0},policies:{}}}},Iu={SET_GLOBAL_INSIGHTS:(t,e)=>t.insights.global=e,SET_MESH_INSIGHTS:(t,e)=>t.insights.mesh=e},Ou=t=>({getInsights({dispatch:e}){return Promise.all([e("getGlobalInsights"),e("getMeshInsights")])},async getMeshInsights({commit:e,rootState:n}){if(n.selectedMesh===null)return;let r;try{const s=await t.getMeshInsights({name:n.selectedMesh});r=Yn({items:[s]})}catch{r=Yn({items:[]})}e("SET_MESH_INSIGHTS",r)},async getGlobalInsights({commit:e}){const n=await t.getGlobalInsights(),r=bu(n);e("SET_GLOBAL_INSIGHTS",r)}}),Ru=t=>({namespaced:!0,state:()=>Tu,mutations:Iu,actions:Ou(t)}),Zn="Online",Qn="Offline",Cu="Partially degraded",wu={menu:null,globalLoading:!0,pageTitle:"",meshes:{total:0,items:[],next:null},selectedMesh:"default",totalDataplaneCount:0,version:"",itemQueryNamespace:"item",totalClusters:0,serviceSummary:{total:0,internal:{total:0,online:0,offline:0,partiallyDegraded:0},external:{total:0}},overviewCharts:{dataplanes:{data:[]},meshes:{data:[]},services:{data:[]},policies:{data:[]},zones:{data:[]},zonesCPVersions:{data:[]},kumaDPVersions:{data:[]},envoyVersions:{data:[]}},meshInsight:ms(),meshInsightsFetching:!1,serviceInsightsFetching:!1,externalServicesFetching:!1,zonesInsightsFetching:!1,policyTypes:[],policyTypesByPath:{},policyTypesByName:{}},Es=t=>({modules:{sidebar:Ru(t),config:du(t),notifications:vu,onboarding:Su},state:()=>wu,getters:{globalLoading:e=>e.globalLoading,getMeshList:e=>e.meshes,getItemQueryNamespace:e=>e.itemQueryNamespace,getMeshInsight:e=>e.meshInsight,getMeshInsightsFetching:e=>e.meshInsightsFetching,getServiceInsightsFetching:e=>e.serviceInsightsFetching,getExternalServicesFetching:e=>e.externalServicesFetching,getResourceFetching:({meshInsightsFetching:e,serviceInsightsFetching:n,externalServicesFetching:r})=>e||n||r,getServiceResourcesFetching:({serviceInsightsFetching:e,externalServicesFetching:n})=>e||n,getZonesInsightsFetching:({zonesInsightsFetching:e})=>e,getChart:e=>(n,{title:r,subtitle:s=void 0,showTotal:o=!1,isStatusChart:i=!1})=>({title:r,subtitle:s,showTotal:o,isStatusChart:i,dataPoints:e.overviewCharts[n].data}),shouldSuggestOnboarding:e=>{const n=e.meshes.items.length===1&&e.meshes.items[0].name==="default";return e.totalDataplaneCount===0&&n}},mutations:{SET_GLOBAL_LOADING:(e,n)=>e.globalLoading=n,SET_PAGE_TITLE:(e,n)=>e.pageTitle=n,SET_MESHES:(e,n)=>e.meshes=n,SET_SELECTED_MESH:(e,n)=>e.selectedMesh=n,SET_TOTAL_DATAPLANE_COUNT:(e,n)=>e.totalDataplaneCount=n,SET_TOTAL_CLUSTER_COUNT:(e,n)=>e.totalClusters=n,SET_INTERNAL_SERVICE_SUMMARY:(e,{items:n=[]})=>{const r={online:0,partially_degraded:0,offline:0,not_available:0},{online:s,offline:o,partially_degraded:i}=n.reduce((a,{status:l="offline"})=>({...a,[l]:a[l]+1}),r),c=s+o+i;e.serviceSummary.internal={...e.serviceSummary.internal,total:c,online:s,partiallyDegraded:i,offline:o},e.serviceSummary.total=e.serviceSummary.external.total+c},SET_EXTERNAL_SERVICE_SUMMARY:(e,{total:n=0})=>{e.serviceSummary.external.total=n,e.serviceSummary.total=e.serviceSummary.internal.total+n},SET_MESH_INSIGHT:(e,n)=>e.meshInsight=su(n),SET_MESH_INSIGHT_FROM_ALL_MESHES:(e,n)=>e.meshInsight=gs(n.items),SET_ZONES_INSIGHTS_FETCHING:(e,n)=>e.zonesInsightsFetching=n,SET_MESH_INSIGHTS_FETCHING:(e,n)=>e.meshInsightsFetching=n,SET_SERVICE_INSIGHTS_FETCHING:(e,n)=>e.serviceInsightsFetching=n,SET_EXTERNAL_SERVICES_FETCHING:(e,n)=>e.externalServicesFetching=n,SET_OVERVIEW_CHART_DATA:(e,{chartName:n,data:r})=>{e.overviewCharts[n].data=r},SET_POLICY_TYPES:(e,n)=>{n.sort((r,s)=>r.name.localeCompare(s.name)),e.policyTypes=n},SET_POLICY_TYPES_BY_PATH:(e,n)=>e.policyTypesByPath=n,SET_POLICY_TYPES_BY_NAME:(e,n)=>e.policyTypesByName=n},actions:{async bootstrap({commit:e,dispatch:n,getters:r,state:s}){if(e("SET_GLOBAL_LOADING",!0),await n("config/getStatus"),r["config/getStatus"]==="OK")if(await Promise.all([n("fetchMeshList"),n("fetchDataplaneTotalCount"),n("config/bootstrapConfig")]),s.meshes.items.length>0){const o=J.get("selectedMesh");let i;if(o!==null){const c=s.meshes.items.find(a=>a.name===o);c!==void 0&&(i=c)}i===void 0&&(i=s.meshes.items[0]),await n("updateSelectedMesh",i.name),await n("sidebar/getInsights")}else await n("updateSelectedMesh",null);e("SET_GLOBAL_LOADING",!1)},updatePageTitle({commit:e},n){e("SET_PAGE_TITLE",n)},async fetchMeshList({commit:e,state:n}){const r={size:tn};try{const{total:s,items:o,next:i}=await t.getAllMeshes(r),c={items:o??[],total:s,next:i};c.items.sort((a,l)=>a.name==="default"?-1:l.name==="default"?1:a.name.localeCompare(l.name)),e("SET_MESHES",c)}catch(s){console.error(s)}},updateSelectedMesh({commit:e},n){n!==null?J.set("selectedMesh",n):J.remove("selectedMesh"),e("SET_SELECTED_MESH",n)},async fetchTotalClusterCount({commit:e}){const n=await t.getZones();e("SET_TOTAL_CLUSTER_COUNT",n.total)},async fetchDataplaneTotalCount({commit:e}){try{const n=await t.getAllDataplanes({size:1});e("SET_TOTAL_DATAPLANE_COUNT",n.total)}catch(n){console.error(n)}},async fetchMeshInsights({commit:e,dispatch:n},r){e("SET_MESH_INSIGHTS_FETCHING",!0);try{if(r===void 0){const s=await it(t.getAllMeshInsights.bind(t)),o=[];s.items.length>0&&o.push({title:"Mesh",data:s.items.length}),e("SET_OVERVIEW_CHART_DATA",{chartName:"meshes",data:o}),e("SET_MESH_INSIGHT_FROM_ALL_MESHES",s)}else e("SET_MESH_INSIGHT",await t.getMeshInsights({name:r}))}catch{e("SET_OVERVIEW_CHART_DATA",{chartName:"meshes",data:[]}),e("SET_MESH_INSIGHT",ms())}finally{n("setChartsFromMeshInsights")}e("SET_MESH_INSIGHTS_FETCHING",!1)},async fetchServiceInsights({commit:e},n){e("SET_SERVICE_INSIGHTS_FETCHING",!0);try{const r=n===void 0?t.getAllServiceInsights.bind(t):t.getAllServiceInsightsFromMesh.bind(t,{mesh:n});e("SET_INTERNAL_SERVICE_SUMMARY",await it(r))}catch{e("SET_INTERNAL_SERVICE_SUMMARY")}e("SET_SERVICE_INSIGHTS_FETCHING",!1)},async fetchExternalServices({commit:e},n){e("SET_EXTERNAL_SERVICES_FETCHING",!0);try{const r=n===void 0?t.getAllExternalServices.bind(t):t.getAllExternalServicesFromMesh.bind(t,{mesh:n});e("SET_EXTERNAL_SERVICE_SUMMARY",await it(r))}catch{e("SET_EXTERNAL_SERVICE_SUMMARY")}e("SET_EXTERNAL_SERVICES_FETCHING",!1)},async fetchServices({dispatch:e},n){const r=e("fetchExternalServices",n),s=e("fetchServiceInsights",n);await Promise.all([s,r]),await e("setOverviewServicesChartData")},async fetchZonesInsights({commit:e,dispatch:n,getters:r},s=!1){e("SET_ZONES_INSIGHTS_FETCHING",!0);try{if(s){const o=await it(t.getAllZoneOverviews.bind(t));n("setOverviewZonesChartData",o),n("setOverviewZonesCPVersionsChartData",o)}else{const o=[{title:"Zone",data:1,route:{name:"zones"}}],i=[{title:r["config/getVersion"],data:1,route:{name:"zones"}}];e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:o}),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:i})}}catch{e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:[]}),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:[]})}e("SET_ZONES_INSIGHTS_FETCHING",!1)},async fetchPolicyTypes({commit:e}){const{policies:n}=await t.getPolicyTypes(),r=n.reduce((o,i)=>Object.assign(o,{[i.path]:i}),{}),s=n.reduce((o,i)=>Object.assign(o,{[i.name]:i}),{});e("SET_POLICY_TYPES",n),e("SET_POLICY_TYPES_BY_PATH",r),e("SET_POLICY_TYPES_BY_NAME",s)},setChartsFromMeshInsights({dispatch:e}){e("setOverviewDataplanesChartData"),e("setOverviewKumaDPVersionsChartData"),e("setOverviewEnvoyVersionsChartData")},setOverviewZonesChartData({commit:e},{items:n=[]}){const r=n.length;let s=0;n.forEach(i=>{vs(i.zoneInsight)==="online"&&s++});const o=[];r&&(o.push({title:Zn,data:s,route:{name:"zones"}}),s!==r&&o.push({title:Qn,data:r-s,route:{name:"zones"}})),e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:o})},setOverviewServicesChartData({state:e,commit:n}){const{internal:r,external:s}=e.serviceSummary,o=[];r.total&&e.selectedMesh!==null&&o.push({title:"Internal",data:r.total,route:{name:"service-list-view",params:{mesh:e.selectedMesh}}}),s.total&&e.selectedMesh!==null&&o.push({title:"External",data:s.total,route:{name:"service-list-view",params:{mesh:e.selectedMesh}}}),n("SET_OVERVIEW_CHART_DATA",{chartName:"services",data:o})},setOverviewDataplanesChartData({state:e,commit:n}){const r=e.meshInsight.dataplanes.total,s=[];if(r>0){const o=e.meshInsight.dataplanes.online??0;s.push({title:Zn,data:o});const i=e.meshInsight.dataplanes.partiallyDegraded??0;i>0&&s.push({title:Cu,data:i});const c=r-i-o;c>0&&s.push({title:Qn,data:c})}n("SET_OVERVIEW_CHART_DATA",{chartName:"dataplanes",data:s})},setOverviewZonesCPVersionsChartData({commit:e},{items:n}){const r=n.reduce((s,o)=>{var l;const i=((l=o.zoneInsight)==null?void 0:l.subscriptions)??[];if(i.length===0)return s;const c=i.pop(),a=s.find(u=>{var f,d;return u.title===((d=(f=c.version)==null?void 0:f.kumaCp)==null?void 0:d.version)});return a?a.data++:s.push({title:c.version.kumaCp.version,data:1,route:{name:"zones"}}),s},[]);r.sort((s,o)=>s.title==="unknown"?1:o.title==="unknown"?-1:Vt(s.title,o.title)),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:r})},setOverviewEnvoyVersionsChartData({state:e,commit:n}){const{envoy:r}=e.meshInsight.dpVersions,s=Object.entries(r).map(([o,i])=>({title:o,data:i.total}));s.sort((o,i)=>o.title==="unknown"?1:i.title==="unknown"?-1:Vt(o.title,i.title)),n("SET_OVERVIEW_CHART_DATA",{chartName:"envoyVersions",data:s})},setOverviewKumaDPVersionsChartData({state:e,commit:n}){const{kumaDp:r}=e.meshInsight.dpVersions,s=Object.entries(r).map(([o,i])=>({title:o,data:i.total}));s.sort((o,i)=>o.title==="unknown"?1:i.title==="unknown"?-1:Vt(o.title,i.title)),n("SET_OVERVIEW_CHART_DATA",{chartName:"kumaDPVersions",data:s})}}});function Au(){return ys().__VUE_DEVTOOLS_GLOBAL_HOOK__}function ys(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Lu=typeof Proxy=="function",Nu="devtools-plugin:setup",Pu="plugin:settings:set";let Ee,nn;function Mu(){var t;return Ee!==void 0||(typeof window<"u"&&window.performance?(Ee=!0,nn=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(Ee=!0,nn=global.perf_hooks.performance):Ee=!1),Ee}function Du(){return Mu()?nn.now():Date.now()}class xu{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const i in e.settings){const c=e.settings[i];r[i]=c.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},r);try{const i=localStorage.getItem(s),c=JSON.parse(i);Object.assign(o,c)}catch{}this.fallbacks={getSettings(){return o},setSettings(i){try{localStorage.setItem(s,JSON.stringify(i))}catch{}o=i},now(){return Du()}},n&&n.on(Pu,(i,c)=>{i===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(i,c)=>this.target?this.target.on[c]:(...a)=>{this.onQueue.push({method:c,args:a})}}),this.proxiedTarget=new Proxy({},{get:(i,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...a)=>(this.targetQueue.push({method:c,args:a,resolve:()=>{}}),this.fallbacks[c](...a)):(...a)=>new Promise(l=>{this.targetQueue.push({method:c,args:a,resolve:l})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function ku(t,e){const n=t,r=ys(),s=Au(),o=Lu&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))s.emit(Nu,t,e);else{const i=o?new xu(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:i}),i&&e(i.proxiedTarget)}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Se=typeof window<"u";function Uu(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const R=Object.assign;function jt(t,e){const n={};for(const r in e){const s=e[r];n[r]=K(s)?s.map(t):t(s)}return n}const Ve=()=>{},K=Array.isArray,$u=/\/$/,Bu=t=>t.replace($u,"");function Ht(t,e,n="/"){let r,s={},o="",i="";const c=e.indexOf("#");let a=e.indexOf("?");return c<a&&c>=0&&(a=-1),a>-1&&(r=e.slice(0,a),o=e.slice(a+1,c>-1?c:e.length),s=t(o)),c>-1&&(r=r||e.slice(0,c),i=e.slice(c,e.length)),r=ju(r??e,n),{fullPath:r+(o&&"?")+o+i,path:r,query:s,hash:i}}function Gu(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Jn(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Fu(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Oe(e.matched[r],n.matched[s])&&_s(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Oe(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function _s(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Vu(t[n],e[n]))return!1;return!0}function Vu(t,e){return K(t)?er(t,e):K(e)?er(e,t):t===e}function er(t,e){return K(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function ju(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let s=n.length-1,o,i;for(o=0;o<r.length;o++)if(i=r[o],i!==".")if(i==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var qe;(function(t){t.pop="pop",t.push="push"})(qe||(qe={}));var je;(function(t){t.back="back",t.forward="forward",t.unknown=""})(je||(je={}));function Hu(t){if(!t)if(Se){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Bu(t)}const zu=/^[^#]+#/;function Ku(t,e){return t.replace(zu,"#")+e}function qu(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Tt=()=>({left:window.pageXOffset,top:window.pageYOffset});function Wu(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=qu(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function tr(t,e){return(history.state?history.state.position-e:-1)+t}const rn=new Map;function Xu(t,e){rn.set(t,e)}function Yu(t){const e=rn.get(t);return rn.delete(t),e}let Zu=()=>location.protocol+"//"+location.host;function Ss(t,e){const{pathname:n,search:r,hash:s}=e,o=t.indexOf("#");if(o>-1){let c=s.includes(t.slice(o))?t.slice(o).length:1,a=s.slice(c);return a[0]!=="/"&&(a="/"+a),Jn(a,"")}return Jn(n,t)+r+s}function Qu(t,e,n,r){let s=[],o=[],i=null;const c=({state:d})=>{const h=Ss(t,location),v=n.value,_=e.value;let S=0;if(d){if(n.value=h,e.value=d,i&&i===v){i=null;return}S=_?d.position-_.position:0}else r(h);s.forEach(b=>{b(n.value,v,{delta:S,type:qe.pop,direction:S?S>0?je.forward:je.back:je.unknown})})};function a(){i=n.value}function l(d){s.push(d);const h=()=>{const v=s.indexOf(d);v>-1&&s.splice(v,1)};return o.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(R({},d.state,{scroll:Tt()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",u),{pauseListeners:a,listen:l,destroy:f}}function nr(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Tt():null}}function Ju(t){const{history:e,location:n}=window,r={value:Ss(t,n)},s={value:e.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(a,l,u){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+a:Zu()+t+a;try{e[u?"replaceState":"pushState"](l,"",d),s.value=l}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function i(a,l){const u=R({},e.state,nr(s.value.back,a,s.value.forward,!0),l,{position:s.value.position});o(a,u,!0),r.value=a}function c(a,l){const u=R({},s.value,e.state,{forward:a,scroll:Tt()});o(u.current,u,!0);const f=R({},nr(r.value,a,null),{position:u.position+1},l);o(a,f,!1),r.value=a}return{location:r,state:s,push:c,replace:i}}function el(t){t=Hu(t);const e=Ju(t),n=Qu(t,e.state,e.location,e.replace);function r(o,i=!0){i||n.pauseListeners(),history.go(o)}const s=R({location:"",base:t,go:r,createHref:Ku.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function tl(t){return typeof t=="string"||t&&typeof t=="object"}function bs(t){return typeof t=="string"||typeof t=="symbol"}const te={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ts=Symbol("");var rr;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(rr||(rr={}));function Re(t,e){return R(new Error,{type:t,[Ts]:!0},e)}function Q(t,e){return t instanceof Error&&Ts in t&&(e==null||!!(t.type&e))}const sr="[^/]+?",nl={sensitive:!1,strict:!1,start:!0,end:!0},rl=/[.+*?^${}()[\]/\\]/g;function sl(t,e){const n=R({},nl,e),r=[];let s=n.start?"^":"";const o=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let f=0;f<l.length;f++){const d=l[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(rl,"\\$&"),h+=40;else if(d.type===1){const{value:v,repeatable:_,optional:S,regexp:b}=d;o.push({name:v,repeatable:_,optional:S});const m=b||sr;if(m!==sr){h+=10;try{new RegExp(`(${m})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${v}" (${m}): `+P.message)}}let A=_?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;f||(A=S&&l.length<2?`(?:/${A})`:"/"+A),S&&(A+="?"),s+=A,h+=20,S&&(h+=-8),_&&(h+=-20),m===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const i=new RegExp(s,n.sensitive?"":"i");function c(l){const u=l.match(i),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",v=o[d-1];f[v.name]=h&&v.repeatable?h.split("/"):h}return f}function a(l){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:v,repeatable:_,optional:S}=h,b=v in l?l[v]:"";if(K(b)&&!_)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const m=K(b)?b.join("/"):b;if(!m)if(S)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);u+=m}}return u||"/"}return{re:i,score:r,keys:o,parse:c,stringify:a}}function ol(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function il(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const o=ol(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(or(r))return 1;if(or(s))return-1}return s.length-r.length}function or(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const al={type:0,value:""},cl=/[a-zA-Z0-9_]/;function ul(t){if(!t)return[[]];if(t==="/")return[[al]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${l}": ${h}`)}let n=0,r=n;const s=[];let o;function i(){o&&s.push(o),o=[]}let c=0,a,l="",u="";function f(){l&&(n===0?o.push({type:0,value:l}):n===1||n===2||n===3?(o.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:l,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=a}for(;c<t.length;){if(a=t[c++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(l&&f(),i()):a===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:a==="("?n=2:cl.test(a)?d():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&c--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&c--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),i(),s}function ll(t,e,n){const r=sl(ul(t.path),n),s=R(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function fl(t,e){const n=[],r=new Map;e=cr({strict:!1,end:!0,sensitive:!1},e);function s(u){return r.get(u)}function o(u,f,d){const h=!d,v=dl(u);v.aliasOf=d&&d.record;const _=cr(e,u),S=[v];if("alias"in u){const A=typeof u.alias=="string"?[u.alias]:u.alias;for(const P of A)S.push(R({},v,{components:d?d.record.components:v.components,path:P,aliasOf:d?d.record:v}))}let b,m;for(const A of S){const{path:P}=A;if(f&&P[0]!=="/"){const k=f.record.path,$=k[k.length-1]==="/"?"":"/";A.path=f.record.path+(P&&$+P)}if(b=ll(A,f,_),d?d.alias.push(b):(m=m||b,m!==b&&m.alias.push(b),h&&u.name&&!ar(b)&&i(u.name)),v.children){const k=v.children;for(let $=0;$<k.length;$++)o(k[$],b,d&&d.children[$])}d=d||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&a(b)}return m?()=>{i(m)}:Ve}function i(u){if(bs(u)){const f=r.get(u);f&&(r.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&r.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function c(){return n}function a(u){let f=0;for(;f<n.length&&il(u,n[f])>=0&&(u.record.path!==n[f].record.path||!Is(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!ar(u)&&r.set(u.record.name,u)}function l(u,f){let d,h={},v,_;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw Re(1,{location:u});_=d.record.name,h=R(ir(f.params,d.keys.filter(m=>!m.optional).map(m=>m.name)),u.params&&ir(u.params,d.keys.map(m=>m.name))),v=d.stringify(h)}else if("path"in u)v=u.path,d=n.find(m=>m.re.test(v)),d&&(h=d.parse(v),_=d.record.name);else{if(d=f.name?r.get(f.name):n.find(m=>m.re.test(f.path)),!d)throw Re(1,{location:u,currentLocation:f});_=d.record.name,h=R({},f.params,u.params),v=d.stringify(h)}const S=[];let b=d;for(;b;)S.unshift(b.record),b=b.parent;return{name:_,path:v,params:h,matched:S,meta:pl(S)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:l,removeRoute:i,getRoutes:c,getRecordMatcher:s}}function ir(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function dl(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:hl(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function hl(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function ar(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function pl(t){return t.reduce((e,n)=>R(e,n.meta),{})}function cr(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Is(t,e){return e.children.some(n=>n===t||Is(t,n))}const Os=/#/g,ml=/&/g,gl=/\//g,vl=/=/g,El=/\?/g,Rs=/\+/g,yl=/%5B/g,_l=/%5D/g,Cs=/%5E/g,Sl=/%60/g,ws=/%7B/g,bl=/%7C/g,As=/%7D/g,Tl=/%20/g;function yn(t){return encodeURI(""+t).replace(bl,"|").replace(yl,"[").replace(_l,"]")}function Il(t){return yn(t).replace(ws,"{").replace(As,"}").replace(Cs,"^")}function sn(t){return yn(t).replace(Rs,"%2B").replace(Tl,"+").replace(Os,"%23").replace(ml,"%26").replace(Sl,"`").replace(ws,"{").replace(As,"}").replace(Cs,"^")}function Ol(t){return sn(t).replace(vl,"%3D")}function Rl(t){return yn(t).replace(Os,"%23").replace(El,"%3F")}function Cl(t){return t==null?"":Rl(t).replace(gl,"%2F")}function vt(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function wl(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(Rs," "),i=o.indexOf("="),c=vt(i<0?o:o.slice(0,i)),a=i<0?null:vt(o.slice(i+1));if(c in e){let l=e[c];K(l)||(l=e[c]=[l]),l.push(a)}else e[c]=a}return e}function ur(t){let e="";for(let n in t){const r=t[n];if(n=Ol(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(K(r)?r.map(o=>o&&sn(o)):[r&&sn(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function Al(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=K(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Ll=Symbol(""),lr=Symbol(""),It=Symbol(""),_n=Symbol(""),on=Symbol("");function De(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function ne(t,e,n,r,s){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((i,c)=>{const a=f=>{f===!1?c(Re(4,{from:n,to:e})):f instanceof Error?c(f):tl(f)?c(Re(2,{from:e,to:f})):(o&&r.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),i())},l=t.call(r&&r.instances[s],e,n,a);let u=Promise.resolve(l);t.length<3&&(u=u.then(a)),u.catch(f=>c(f))})}function zt(t,e,n,r){const s=[];for(const o of t)for(const i in o.components){let c=o.components[i];if(!(e!=="beforeRouteEnter"&&!o.instances[i]))if(Nl(c)){const l=(c.__vccOpts||c)[e];l&&s.push(ne(l,n,r,o,i))}else{let a=c();s.push(()=>a.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${o.path}"`));const u=Uu(l)?l.default:l;o.components[i]=u;const d=(u.__vccOpts||u)[e];return d&&ne(d,n,r,o,i)()}))}}return s}function Nl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function fr(t){const e=ce(It),n=ce(_n),r=j(()=>e.resolve(Ue(t.to))),s=j(()=>{const{matched:a}=r.value,{length:l}=a,u=a[l-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(Oe.bind(null,u));if(d>-1)return d;const h=dr(a[l-2]);return l>1&&dr(u)===h&&f[f.length-1].path!==h?f.findIndex(Oe.bind(null,a[l-2])):d}),o=j(()=>s.value>-1&&xl(n.params,r.value.params)),i=j(()=>s.value>-1&&s.value===n.matched.length-1&&_s(n.params,r.value.params));function c(a={}){return Dl(a)?e[Ue(t.replace)?"replace":"push"](Ue(t.to)).catch(Ve):Promise.resolve()}return{route:r,href:j(()=>r.value.href),isActive:o,isExactActive:i,navigate:c}}const Pl=vr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fr,setup(t,{slots:e}){const n=cn(fr(t)),{options:r}=ce(It),s=j(()=>({[hr(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[hr(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:Er("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),Ml=Pl;function Dl(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function xl(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!K(s)||s.length!==r.length||r.some((o,i)=>o!==s[i]))return!1}return!0}function dr(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const hr=(t,e,n)=>t??e??n,kl=vr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ce(on),s=j(()=>t.route||r.value),o=ce(lr,0),i=j(()=>{let l=Ue(o);const{matched:u}=s.value;let f;for(;(f=u[l])&&!f.components;)l++;return l}),c=j(()=>s.value.matched[i.value]);Pt(lr,j(()=>i.value+1)),Pt(Ll,c),Pt(on,s);const a=Ws();return un(()=>[a.value,c.value,t.name],([l,u,f],[d,h,v])=>{u&&(u.instances[f]=l,h&&h!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),l&&u&&(!h||!Oe(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(_=>_(l))},{flush:"post"}),()=>{const l=s.value,u=t.name,f=c.value,d=f&&f.components[u];if(!d)return pr(n.default,{Component:d,route:l});const h=f.props[u],v=h?h===!0?l.params:typeof h=="function"?h(l):h:null,S=Er(d,R({},v,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[u]=null)},ref:a}));return pr(n.default,{Component:S,route:l})||S}}});function pr(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Ul=kl;function $l(t){const e=fl(t.routes,t),n=t.parseQuery||wl,r=t.stringifyQuery||ur,s=t.history,o=De(),i=De(),c=De(),a=Ks(te);let l=te;Se&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=jt.bind(null,p=>""+p),f=jt.bind(null,Cl),d=jt.bind(null,vt);function h(p,E){let g,y;return bs(p)?(g=e.getRecordMatcher(p),y=E):y=p,e.addRoute(y,g)}function v(p){const E=e.getRecordMatcher(p);E&&e.removeRoute(E)}function _(){return e.getRoutes().map(p=>p.record)}function S(p){return!!e.getRecordMatcher(p)}function b(p,E){if(E=R({},E||a.value),typeof p=="string"){const I=Ht(n,p,E.path),D=e.resolve({path:I.path},E),Pe=s.createHref(I.fullPath);return R(I,D,{params:d(D.params),hash:vt(I.hash),redirectedFrom:void 0,href:Pe})}let g;if("path"in p)g=R({},p,{path:Ht(n,p.path,E.path).path});else{const I=R({},p.params);for(const D in I)I[D]==null&&delete I[D];g=R({},p,{params:f(p.params)}),E.params=f(E.params)}const y=e.resolve(g,E),w=p.hash||"";y.params=u(d(y.params));const M=Gu(r,R({},p,{hash:Il(w),path:y.path})),O=s.createHref(M);return R({fullPath:M,hash:w,query:r===ur?Al(p.query):p.query||{}},y,{redirectedFrom:void 0,href:O})}function m(p){return typeof p=="string"?Ht(n,p,a.value.path):R({},p)}function A(p,E){if(l!==p)return Re(8,{from:E,to:p})}function P(p){return Le(p)}function k(p){return P(R(m(p),{replace:!0}))}function $(p){const E=p.matched[p.matched.length-1];if(E&&E.redirect){const{redirect:g}=E;let y=typeof g=="function"?g(p):g;return typeof y=="string"&&(y=y.includes("?")||y.includes("#")?y=m(y):{path:y},y.params={}),R({query:p.query,hash:p.hash,params:"path"in y?{}:p.params},y)}}function Le(p,E){const g=l=b(p),y=a.value,w=p.state,M=p.force,O=p.replace===!0,I=$(g);if(I)return Le(R(m(I),{state:typeof I=="object"?R({},w,I.state):w,force:M,replace:O}),E||g);const D=g;D.redirectedFrom=E;let Pe;return!M&&Fu(r,y,g)&&(Pe=Re(16,{to:D,from:y}),wn(y,y,!0,!1)),(Pe?Promise.resolve(Pe):In(D,y)).catch(B=>Q(B)?Q(B,2)?B:wt(B):Ct(B,D,y)).then(B=>{if(B){if(Q(B,2))return Le(R({replace:O},m(B.to),{state:typeof B.to=="object"?R({},w,B.to.state):w,force:M}),E||D)}else B=Rn(D,y,!0,O,w);return On(D,y,B),B})}function Fs(p,E){const g=A(p,E);return g?Promise.reject(g):Promise.resolve()}function In(p,E){let g;const[y,w,M]=Bl(p,E);g=zt(y.reverse(),"beforeRouteLeave",p,E);for(const I of y)I.leaveGuards.forEach(D=>{g.push(ne(D,p,E))});const O=Fs.bind(null,p,E);return g.push(O),ye(g).then(()=>{g=[];for(const I of o.list())g.push(ne(I,p,E));return g.push(O),ye(g)}).then(()=>{g=zt(w,"beforeRouteUpdate",p,E);for(const I of w)I.updateGuards.forEach(D=>{g.push(ne(D,p,E))});return g.push(O),ye(g)}).then(()=>{g=[];for(const I of p.matched)if(I.beforeEnter&&!E.matched.includes(I))if(K(I.beforeEnter))for(const D of I.beforeEnter)g.push(ne(D,p,E));else g.push(ne(I.beforeEnter,p,E));return g.push(O),ye(g)}).then(()=>(p.matched.forEach(I=>I.enterCallbacks={}),g=zt(M,"beforeRouteEnter",p,E),g.push(O),ye(g))).then(()=>{g=[];for(const I of i.list())g.push(ne(I,p,E));return g.push(O),ye(g)}).catch(I=>Q(I,8)?I:Promise.reject(I))}function On(p,E,g){for(const y of c.list())y(p,E,g)}function Rn(p,E,g,y,w){const M=A(p,E);if(M)return M;const O=E===te,I=Se?history.state:{};g&&(y||O?s.replace(p.fullPath,R({scroll:O&&I&&I.scroll},w)):s.push(p.fullPath,w)),a.value=p,wn(p,E,g,O),wt()}let Ne;function Vs(){Ne||(Ne=s.listen((p,E,g)=>{if(!An.listening)return;const y=b(p),w=$(y);if(w){Le(R(w,{replace:!0}),y).catch(Ve);return}l=y;const M=a.value;Se&&Xu(tr(M.fullPath,g.delta),Tt()),In(y,M).catch(O=>Q(O,12)?O:Q(O,2)?(Le(O.to,y).then(I=>{Q(I,20)&&!g.delta&&g.type===qe.pop&&s.go(-1,!1)}).catch(Ve),Promise.reject()):(g.delta&&s.go(-g.delta,!1),Ct(O,y,M))).then(O=>{O=O||Rn(y,M,!1),O&&(g.delta&&!Q(O,8)?s.go(-g.delta,!1):g.type===qe.pop&&Q(O,20)&&s.go(-1,!1)),On(y,M,O)}).catch(Ve)}))}let Rt=De(),Cn=De(),Je;function Ct(p,E,g){wt(p);const y=Cn.list();return y.length?y.forEach(w=>w(p,E,g)):console.error(p),Promise.reject(p)}function js(){return Je&&a.value!==te?Promise.resolve():new Promise((p,E)=>{Rt.add([p,E])})}function wt(p){return Je||(Je=!p,Vs(),Rt.list().forEach(([E,g])=>p?g(p):E()),Rt.reset()),p}function wn(p,E,g,y){const{scrollBehavior:w}=t;if(!Se||!w)return Promise.resolve();const M=!g&&Yu(tr(p.fullPath,0))||(y||!g)&&history.state&&history.state.scroll||null;return qs().then(()=>w(p,E,M)).then(O=>O&&Wu(O)).catch(O=>Ct(O,p,E))}const At=p=>s.go(p);let Lt;const Nt=new Set,An={currentRoute:a,listening:!0,addRoute:h,removeRoute:v,hasRoute:S,getRoutes:_,resolve:b,options:t,push:P,replace:k,go:At,back:()=>At(-1),forward:()=>At(1),beforeEach:o.add,beforeResolve:i.add,afterEach:c.add,onError:Cn.add,isReady:js,install(p){const E=this;p.component("RouterLink",Ml),p.component("RouterView",Ul),p.config.globalProperties.$router=E,Object.defineProperty(p.config.globalProperties,"$route",{enumerable:!0,get:()=>Ue(a)}),Se&&!Lt&&a.value===te&&(Lt=!0,P(s.location).catch(w=>{}));const g={};for(const w in te)g[w]=j(()=>a.value[w]);p.provide(It,E),p.provide(_n,cn(g)),p.provide(on,a);const y=p.unmount;Nt.add(p),p.unmount=function(){Nt.delete(p),Nt.size<1&&(l=te,Ne&&Ne(),Ne=null,a.value=te,Lt=!1,Je=!1),y()}}};return An}function ye(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function Bl(t,e){const n=[],r=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const c=e.matched[i];c&&(t.matched.find(l=>Oe(l,c))?r.push(c):n.push(c));const a=t.matched[i];a&&(e.matched.find(l=>Oe(l,a))||s.push(a))}return[n,r,s]}function Cf(){return ce(It)}function wf(){return ce(_n)}function Gl(t,e,n="/"){const r=$l({history:el(n),routes:t});return r.beforeEach(Fl()),r.beforeEach(Vl(e)),r.beforeEach(jl(e)),r}const Fl=()=>(t,e,n)=>{t.fullPath.startsWith("/#/")?n(t.fullPath.substring(2)):n()},Vl=t=>(e,n,r)=>{e.params.mesh&&e.params.mesh!==t.state.selectedMesh&&t.dispatch("updateSelectedMesh",e.params.mesh),r()},jl=t=>(e,n,r)=>{const s=t.state.onboarding.isCompleted,o=e.meta.onboardingProcess,i=t.getters.shouldSuggestOnboarding;s&&o&&!i?r({name:"home"}):!s&&!o&&i?r({name:J.get("onboardingStep")??"onboarding-welcome"}):r()};function Ls(t,e,n,r,s,o){return document.title=`${t("KUMA_PRODUCT_NAME")} Manager`,r.setBaseUrl(t("KUMA_API_URL")),(async()=>{const i=await r.getConfig();n.setup(i)})(),async i=>{const c=Xs(i);c.use(s,o),await Promise.all([s.dispatch("bootstrap"),s.dispatch("fetchPolicyTypes")]);const a=await Gl(e,s,t("KUMA_BASE_PATH"));return c.use(a),c.mount("#app"),c}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Hl="store";function Ae(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function zl(t){return t!==null&&typeof t=="object"}function Kl(t){return t&&typeof t.then=="function"}function ql(t,e){return function(){return t(e)}}function Ns(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function Ps(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Ot(t,n,[],t._modules.root,!0),Sn(t,n,e)}function Sn(t,e,n){var r=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,i={},c={},a=Ys(!0);a.run(function(){Ae(o,function(l,u){i[u]=ql(l,t),c[u]=j(function(){return i[u]()}),Object.defineProperty(t.getters,u,{get:function(){return c[u].value},enumerable:!0})})}),t._state=cn({data:e}),t._scope=a,t.strict&&Ql(t),r&&n&&t._withCommit(function(){r.data=null}),s&&s.stop()}function Ot(t,e,n,r,s){var o=!n.length,i=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[i],t._modulesNamespaceMap[i]=r),!o&&!s){var c=bn(e,n.slice(0,-1)),a=n[n.length-1];t._withCommit(function(){c[a]=r.state})}var l=r.context=Wl(t,i,n);r.forEachMutation(function(u,f){var d=i+f;Xl(t,d,u,l)}),r.forEachAction(function(u,f){var d=u.root?f:i+f,h=u.handler||u;Yl(t,d,h,l)}),r.forEachGetter(function(u,f){var d=i+f;Zl(t,d,u,l)}),r.forEachChild(function(u,f){Ot(t,e,n.concat(f),u,s)})}function Wl(t,e,n){var r=e==="",s={dispatch:r?t.dispatch:function(o,i,c){var a=Et(o,i,c),l=a.payload,u=a.options,f=a.type;return(!u||!u.root)&&(f=e+f),t.dispatch(f,l)},commit:r?t.commit:function(o,i,c){var a=Et(o,i,c),l=a.payload,u=a.options,f=a.type;(!u||!u.root)&&(f=e+f),t.commit(f,l,u)}};return Object.defineProperties(s,{getters:{get:r?function(){return t.getters}:function(){return Ms(t,e)}},state:{get:function(){return bn(t.state,n)}}}),s}function Ms(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,r)===e){var o=s.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function Xl(t,e,n,r){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(i){n.call(t,r.state,i)})}function Yl(t,e,n,r){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(i){var c=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},i);return Kl(c)||(c=Promise.resolve(c)),t._devtoolHook?c.catch(function(a){throw t._devtoolHook.emit("vuex:error",a),a}):c})}function Zl(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function Ql(t){un(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function bn(t,e){return e.reduce(function(n,r){return n[r]},t)}function Et(t,e,n){return zl(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var Jl="vuex bindings",mr="vuex:mutations",Kt="vuex:actions",_e="vuex",ef=0;function tf(t,e){ku({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Jl]},function(n){n.addTimelineLayer({id:mr,label:"Vuex Mutations",color:gr}),n.addTimelineLayer({id:Kt,label:"Vuex Actions",color:gr}),n.addInspector({id:_e,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===_e)if(r.filter){var s=[];Us(s,e._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[ks(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===_e){var s=r.nodeId;Ms(e,s),r.state=sf(af(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===_e){var s=r.nodeId,o=r.path;s!=="root"&&(o=s.split("/").filter(Boolean).concat(o)),e._withCommit(function(){r.set(e._state.data,o,r.state.value)})}}),e.subscribe(function(r,s){var o={};r.payload&&(o.payload=r.payload),o.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(_e),n.sendInspectorState(_e),n.addTimelineEvent({layerId:mr,event:{time:Date.now(),title:r.type,data:o}})}),e.subscribeAction({before:function(r,s){var o={};r.payload&&(o.payload=r.payload),r._id=ef++,r._time=Date.now(),o.state=s,n.addTimelineEvent({layerId:Kt,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,s){var o={},i=Date.now()-r._time;o.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},r.payload&&(o.payload=r.payload),o.state=s,n.addTimelineEvent({layerId:Kt,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var gr=8702998,nf=6710886,rf=16777215,Ds={label:"namespaced",textColor:rf,backgroundColor:nf};function xs(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function ks(t,e){return{id:e||"root",label:xs(e),tags:t.namespaced?[Ds]:[],children:Object.keys(t._children).map(function(n){return ks(t._children[n],e+n+"/")})}}function Us(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[Ds]:[]}),Object.keys(e._children).forEach(function(s){Us(t,e._children[s],n,r+s+"/")})}function sf(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),s={state:Object.keys(t.state).map(function(i){return{key:i,editable:!0,value:t.state[i]}})};if(r.length){var o=of(e);s.getters=Object.keys(o).map(function(i){return{key:i.endsWith("/")?xs(i):i,editable:!1,value:an(function(){return o[i]})}})}return s}function of(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var s=e,o=r.pop();r.forEach(function(i){s[i]||(s[i]={_custom:{value:{},display:i,tooltip:"Module",abstract:!0}}),s=s[i]._custom.value}),s[o]=an(function(){return t[n]})}else e[n]=an(function(){return t[n]})}),e}function af(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,s,o){var i=r[s];if(!i)throw new Error('Missing module "'+s+'" for path "'+e+'".');return o===n.length-1?i:i._children},e==="root"?t:t.root._children)}function an(t){try{return t()}catch(e){return e}}var q=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},$s={namespaced:{configurable:!0}};$s.namespaced.get=function(){return!!this._rawModule.namespaced};q.prototype.addChild=function(e,n){this._children[e]=n};q.prototype.removeChild=function(e){delete this._children[e]};q.prototype.getChild=function(e){return this._children[e]};q.prototype.hasChild=function(e){return e in this._children};q.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};q.prototype.forEachChild=function(e){Ae(this._children,e)};q.prototype.forEachGetter=function(e){this._rawModule.getters&&Ae(this._rawModule.getters,e)};q.prototype.forEachAction=function(e){this._rawModule.actions&&Ae(this._rawModule.actions,e)};q.prototype.forEachMutation=function(e){this._rawModule.mutations&&Ae(this._rawModule.mutations,e)};Object.defineProperties(q.prototype,$s);var pe=function(e){this.register([],e,!1)};pe.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};pe.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};pe.prototype.update=function(e){Bs([],this.root,e)};pe.prototype.register=function(e,n,r){var s=this;r===void 0&&(r=!0);var o=new q(n,r);if(e.length===0)this.root=o;else{var i=this.get(e.slice(0,-1));i.addChild(e[e.length-1],o)}n.modules&&Ae(n.modules,function(c,a){s.register(e.concat(a),c,r)})};pe.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};pe.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function Bs(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;Bs(t.concat(r),e.getChild(r),n.modules[r])}}function Gs(t){return new F(t)}var F=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var s=e.strict;s===void 0&&(s=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new pe(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var i=this,c=this,a=c.dispatch,l=c.commit;this.dispatch=function(d,h){return a.call(i,d,h)},this.commit=function(d,h,v){return l.call(i,d,h,v)},this.strict=s;var u=this._modules.root.state;Ot(this,u,[],this._modules.root),Sn(this,u),r.forEach(function(f){return f(n)})},Tn={state:{configurable:!0}};F.prototype.install=function(e,n){e.provide(n||Hl,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&tf(e,this)};Tn.state.get=function(){return this._state.data};Tn.state.set=function(t){};F.prototype.commit=function(e,n,r){var s=this,o=Et(e,n,r),i=o.type,c=o.payload,a={type:i,payload:c},l=this._mutations[i];l&&(this._withCommit(function(){l.forEach(function(f){f(c)})}),this._subscribers.slice().forEach(function(u){return u(a,s.state)}))};F.prototype.dispatch=function(e,n){var r=this,s=Et(e,n),o=s.type,i=s.payload,c={type:o,payload:i},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(c,r.state)})}catch{}var l=a.length>1?Promise.all(a.map(function(u){return u(i)})):a[0](i);return new Promise(function(u,f){l.then(function(d){try{r._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(c,r.state)})}catch{}u(d)},function(d){try{r._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(c,r.state,d)})}catch{}f(d)})})}};F.prototype.subscribe=function(e,n){return Ns(e,this._subscribers,n)};F.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return Ns(r,this._actionSubscribers,n)};F.prototype.watch=function(e,n,r){var s=this;return un(function(){return e(s.state,s.getters)},n,Object.assign({},r))};F.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};F.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Ot(this,this.state,e,this._modules.get(e),r.preserveState),Sn(this,this.state)};F.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=bn(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),Ps(this)};F.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};F.prototype.hotUpdate=function(e){this._modules.update(e),Ps(this,!0)};F.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(F.prototype,Tn);const V={EnvVars:Ln({KUMA_PRODUCT_NAME:"Kuma",KUMA_FEEDBACK_URL:"https://github.com/kumahq/kuma/issues/new/choose",KUMA_CHAT_URL:"https://kuma-mesh.slack.com",KUMA_INSTALL_URL:"https://kuma.io/install/latest/",KUMA_VERSION_URL:"https://kuma.io/latest_version/",KUMA_DOCS_URL:"https://kuma.io/docs"},{description:"EnvVars"}),Env:Z(Ir,{description:"Env"}),env:Z(()=>t=>Tr(V.Env).var(t),{description:"env"}),api:Z(cs,{description:"api"}),storeKey:Ln(Symbol("store"),{description:"storeKey"}),storeConfig:Z(Es,{description:"storeConfig"}),store:Z(Gs,{description:"store"}),nav:Z(()=>(t,e)=>kc(t,e),{description:"nav"}),routes:Z(us,{description:"routes"}),logger:Z(is,{description:"logger"}),app:Z(Ls,{description:"app"})};fe(Ir,V.EnvVars);fe(cs,V.Env);fe(Es,V.api);fe(Gs,V.storeConfig);fe(us,V.store);fe(is,V.Env);fe(Ls,V.env,V.routes,V.logger,V.api,V.store,V.storeKey);export{Rc as A,vf as B,J as C,Of as I,hf as K,ff as P,V as T,C as _,Cf as a,hs as b,Vt as c,os as d,lf as e,it as f,Tr as g,vs as h,mf as i,Ef as j,df as k,tu as l,If as m,iu as n,au as o,gf as p,yf as q,pf as r,Z as s,_f as t,wf as u,Sf as v,Tf as w,ou as x,Rf as y,bf as z};
