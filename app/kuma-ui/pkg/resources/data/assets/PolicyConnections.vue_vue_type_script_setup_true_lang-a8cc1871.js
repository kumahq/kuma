import{d as C,r as t,c as k,v as x,k as N,x as q,o as u,e as D,w as y,i as o,h as c,a0 as T,a1 as B,j as f,q as L,g as P,t as S,b as V,F as b}from"./index-5b34b65e.js";import{_ as F}from"./LabelList.vue_vue_type_style_index_0_lang-11916613.js";import{u as A}from"./index-c89ad052.js";const E=o("h4",null,"Dataplanes",-1),K=C({__name:"PolicyConnections",props:{mesh:{type:String,required:!0},policyType:{type:String,required:!0},policyName:{type:String,required:!0}},setup(h){const n=h,v=A(),p=t(!1),l=t(!0),r=t(!1),m=t([]),i=t(""),_=k(()=>{const s=i.value.toLowerCase();return m.value.filter(({dataplane:e})=>e.name.toLowerCase().includes(s))});x(()=>n.policyName,function(){d()}),N(function(){d()});async function d(){r.value=!1,l.value=!0;try{const{items:s,total:e}=await v.getPolicyConnections({mesh:n.mesh,policyType:n.policyType,policyName:n.policyName});p.value=e>0,m.value=s??[]}catch{r.value=!0}finally{l.value=!1}}return(s,e)=>{const g=q("router-link");return u(),D(F,{"has-error":r.value,"is-loading":l.value,"is-empty":!p.value},{default:y(()=>[o("ul",null,[o("li",null,[E,c(),T(o("input",{id:"dataplane-search","onUpdate:modelValue":e[0]||(e[0]=a=>i.value=a),type:"text",class:"k-input mb-4",placeholder:"Filter by name",required:"","data-testid":"dataplane-search-input"},null,512),[[B,i.value]]),c(),(u(!0),f(b,null,L(V(_),(a,w)=>(u(),f("p",{key:w,class:"my-1","data-testid":"dataplane-name"},[P(g,{to:{name:"data-plane-detail-view",params:{mesh:a.dataplane.mesh,dataPlane:a.dataplane.name}}},{default:y(()=>[c(S(a.dataplane.name),1)]),_:2},1032,["to"])]))),128))])])]),_:1},8,["has-error","is-loading","is-empty"])}}});export{K as _};
