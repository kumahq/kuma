import{d as L,I as R}from"./kongponents.es-5adaddec.js";import{D as _,a as D}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-8ed542ca.js";import{d as w,c as B,o as t,j as o,h as s,g as k,w as i,e as m,t as c,f as u,b as l,G as S,F as b,q as v,i as I,p as C,m as P,X as T}from"./index-a24b4f04.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";const N=e=>(C("data-v-772e75f1"),e=e(),P(),e),$={key:0},q=N(()=>I("h5",{class:"overview-tertiary-title"},`
        General Information:
      `,-1)),G={key:1,class:"columns mt-4",style:{"--columns":"4"}},O={key:0},E={class:"overview-tertiary-title"},F=w({__name:"SubscriptionDetails",props:{details:{type:Object,required:!0},isDiscoverySubscription:{type:Boolean,default:!1}},setup(e){const r=e,y={responsesSent:"Responses sent",responsesAcknowledged:"Responses acknowledged",responsesRejected:"Responses rejected"},h=B(()=>{var g,f;let n;if(r.isDiscoverySubscription){const{lastUpdateTime:p,total:d,...a}=r.details.status;n=a}(g=r.details.status)!=null&&g.stat&&(n=(f=r.details.status)==null?void 0:f.stat);for(const p in n){const d=n[p];for(const a in d)a in y&&(d[y[a]]=d[a],delete d[a])}return n});function x(n){return n?parseInt(n,10).toLocaleString("en").toString():"0"}function j(n){return n==="--"?"error calculating":n}return(n,g)=>(t(),o("div",null,[e.details.globalInstanceId||e.details.controlPlaneInstanceId||e.details.connectTime||e.details.disconnectTime?(t(),o("div",$,[q,s(),k(D,null,{default:i(()=>[e.details.globalInstanceId?(t(),m(_,{key:0,term:"Global instance ID"},{default:i(()=>[s(c(e.details.globalInstanceId),1)]),_:1})):u("",!0),s(),e.details.controlPlaneInstanceId?(t(),m(_,{key:1,term:"CP instance ID"},{default:i(()=>[s(c(e.details.controlPlaneInstanceId),1)]),_:1})):u("",!0),s(),e.details.connectTime?(t(),m(_,{key:2,term:"Last connected"},{default:i(()=>[s(c(l(S)(e.details.connectTime)),1)]),_:1})):u("",!0),s(),e.details.disconnectTime?(t(),m(_,{key:3,term:"Last disconnected"},{default:i(()=>[s(c(l(S)(e.details.disconnectTime)),1)]),_:1})):u("",!0)]),_:1})])):u("",!0),s(),l(h)?(t(),o("div",G,[(t(!0),o(b,null,v(l(h),(f,p)=>(t(),o(b,{key:p},[Object.keys(f).length>0?(t(),o("div",O,[I("h6",E,c(p)+`:
          `,1),s(),k(D,null,{default:i(()=>[(t(!0),o(b,null,v(f,(d,a)=>(t(),m(_,{key:a,term:a},{default:i(()=>[s(c(j(x(d))),1)]),_:2},1032,["term"]))),128))]),_:2},1024)])):u("",!0)],64))),128))])):(t(),m(l(R),{key:2,appearance:"info",class:"mt-4"},{alertIcon:i(()=>[k(l(L),{icon:"portal"})]),alertMessage:i(()=>[s(`
        There are no subscription statistics for `),I("strong",null,c(e.details.id),1)]),_:1}))]))}});const K=V(F,[["__scopeId","data-v-772e75f1"]]),A={class:"text-lg font-medium"},H={class:"color-green-500"},M={key:0,class:"ml-4 color-red-600"},Q=w({__name:"SubscriptionHeader",props:{details:{type:Object,required:!0}},setup(e){const r=e;return(y,h)=>(t(),o("h4",A,[I("span",H,`
      Connect time: `+c(l(T)(r.details.connectTime)),1),s(),r.details.disconnectTime?(t(),o("span",M,`
      Disconnect time: `+c(l(T)(r.details.disconnectTime)),1)):u("",!0)]))}});export{K as S,Q as _};
