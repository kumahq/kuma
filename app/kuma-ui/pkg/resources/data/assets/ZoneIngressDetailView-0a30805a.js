import{d as D,c as f,r as $,o as t,a as r,w as e,q as A,g as p,h as s,t as k,e as _,s as b,b as w,F as h,u as B,j as y}from"./index-8cf34a8f.js";import{A as C,_ as E,S,a as T}from"./SubscriptionHeader.vue_vue_type_script_setup_true_lang-212f96bf.js";import{a as V,D as Z}from"./DefinitionListItem-f8e9e46f.js";import{E as z}from"./EnvoyData-91b14fc6.js";import{T as q}from"./TabsWidget-c7b6d81a.js";import{T as x}from"./TextWithCopyButton-8b59eb83.js";import{g as O,n as L,h as N,A as R,_ as j}from"./RouteView.vue_vue_type_script_setup_true_lang-f43ad4b4.js";import{_ as F}from"./RouteTitle.vue_vue_type_script_setup_true_lang-d51da5f6.js";import{_ as W}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-cac48ea5.js";import{E as H}from"./ErrorBlock-802b0a45.js";import"./kongponents.es-cb60a408.js";import"./CodeBlock.vue_vue_type_style_index_0_lang-63b02cba.js";import"./StatusInfo.vue_vue_type_script_setup_true_lang-a2e29931.js";const K={class:"entity-heading"},X=D({__name:"ZoneIngressDetails",props:{zoneIngressOverview:{type:Object,required:!0}},setup(I){const m=I,{t:g}=O(),d=[{hash:"#overview",title:"Overview"},{hash:"#insights",title:"Zone Ingress Insights"},{hash:"#xds-configuration",title:"XDS Configuration"},{hash:"#envoy-stats",title:"Stats"},{hash:"#envoy-clusters",title:"Clusters"}],l=f(()=>({name:"zone-ingress-detail-view",params:{zoneIngress:m.zoneIngressOverview.name}})),n=f(()=>{const{type:c,name:o}=m.zoneIngressOverview;return{type:c,name:o}}),u=f(()=>{var o;const c=((o=m.zoneIngressOverview.zoneIngressInsight)==null?void 0:o.subscriptions)??[];return Array.from(c).reverse()});return(c,o)=>{const v=$("router-link");return t(),r(q,{tabs:d},{tabHeader:e(()=>[A("h1",K,[p(`
        Zone Ingress:

        `),s(x,{text:n.value.name},{default:e(()=>[s(v,{to:l.value},{default:e(()=>[p(k(n.value.name),1)]),_:1},8,["to"])]),_:1},8,["text"])])]),overview:e(()=>[s(Z,null,{default:e(()=>[(t(!0),_(h,null,b(n.value,(a,i)=>(t(),r(V,{key:i,term:w(g)(`http.api.property.${i}`)},{default:e(()=>[i==="name"?(t(),r(x,{key:0,text:a},null,8,["text"])):(t(),_(h,{key:1},[p(k(a),1)],64))]),_:2},1032,["term"]))),128))]),_:1})]),insights:e(()=>[s(T,{"initially-open":0},{default:e(()=>[(t(!0),_(h,null,b(u.value,(a,i)=>(t(),r(C,{key:i},{"accordion-header":e(()=>[s(E,{details:a},null,8,["details"])]),"accordion-content":e(()=>[s(S,{details:a,"is-discovery-subscription":""},null,8,["details"])]),_:2},1024))),128))]),_:1})]),"xds-configuration":e(()=>[s(z,{"data-path":"xds","zone-ingress-name":n.value.name,"query-key":"envoy-data-zone-ingress"},null,8,["zone-ingress-name"])]),"envoy-stats":e(()=>[s(z,{"data-path":"stats","zone-ingress-name":n.value.name,"query-key":"envoy-data-zone-ingress"},null,8,["zone-ingress-name"])]),"envoy-clusters":e(()=>[s(z,{"data-path":"clusters","zone-ingress-name":n.value.name,"query-key":"envoy-data-zone-ingress"},null,8,["zone-ingress-name"])]),_:1})}}}),G={class:"zone-details"},J={key:3,class:"kcard-border","data-testid":"detail-view-details"},le=D({__name:"ZoneIngressDetailView",setup(I){const m=L(),g=B(),{t:d}=O(),l=y(null),n=y(!0),u=y(null);c();function c(){o()}async function o(){n.value=!0,u.value=null;const v=g.params.zoneIngress;try{l.value=await m.getZoneIngressOverview({name:v})}catch(a){l.value=null,a instanceof Error?u.value=a:console.error(a)}finally{n.value=!1}}return(v,a)=>(t(),r(j,null,{default:e(({route:i})=>[s(F,{title:w(d)("zone-ingresses.routes.item.title",{name:i.params.zoneIngress})},null,8,["title"]),p(),s(R,{breadcrumbs:[{to:{name:"zone-ingress-list-view"},text:w(d)("zone-ingresses.routes.item.breadcrumbs")}]},{default:e(()=>[A("div",G,[n.value?(t(),r(N,{key:0})):u.value!==null?(t(),r(H,{key:1,error:u.value},null,8,["error"])):l.value===null?(t(),r(W,{key:2})):(t(),_("div",J,[s(X,{"zone-ingress-overview":l.value},null,8,["zone-ingress-overview"])]))])]),_:1},8,["breadcrumbs"])]),_:1}))}});export{le as default};
