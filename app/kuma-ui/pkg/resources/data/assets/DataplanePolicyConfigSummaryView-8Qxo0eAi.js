import{d as z,r as a,p as m,o as t,w as o,b as s,m as f,F,c as n,N as r,L as y,e as p,q as O,l,ab as R,t as k,Y,_ as j}from"./index-Cu0UScaV.js";import{P as q}from"./PolicyTypeTag-BEl-s5Aa.js";const E={colspan:"2"},I=z({__name:"DataplanePolicyConfigSummaryView",props:{policies:{}},setup(L){const w=L;return(K,e)=>{const C=a("XLayout"),B=a("XAction"),D=a("XCodeBlock"),X=a("XTable"),v=a("AppView"),b=a("DataCollection"),x=a("DataLoader"),S=a("DataSource"),A=a("RouteView");return t(),m(A,{name:"data-plane-policy-config-summary-view",params:{inactive:Boolean,proxyType:"",connection:"",policy:""}},{default:o(({route:N,uri:P})=>[s(S,{src:P(f(F),"/policy-types",{})},{default:o(({data:g})=>[s(x,{data:[w.policies,g]},{default:o(()=>[s(b,{items:w.policies,predicate:d=>d.kind.toLocaleLowerCase()===N.params.policy},{default:o(({items:d})=>[(t(!0),n(r,null,y(d,({kind:c,conf:T,origins:V})=>(t(),m(v,{key:c},{title:o(()=>[s(C,{size:"small"},{default:o(()=>[l("h2",null,[s(q,{"policy-type":c},{default:o(()=>[p(k(c),1)]),_:2},1032,["policy-type"])])]),_:2},1024)]),default:o(()=>[e[5]||(e[5]=p()),(t(!0),n(r,null,y([Object.groupBy(g?.policyTypes??[],({name:i})=>i)],i=>(t(),n(r,{key:`${typeof i}`},[V.length>0?(t(),m(X,{key:0,variant:"kv"},{default:o(()=>[l("tr",null,[e[0]||(e[0]=l("th",{scope:"row"},`
                      Origin policies
                    `,-1)),e[1]||(e[1]=p()),l("td",null,[l("ul",null,[(t(!0),n(r,null,y(V,u=>(t(),n("li",{key:u.kri},[(t(!0),n(r,null,y([f(R).fromString(u.kri)],_=>(t(),n(r,{key:typeof _},[i[c]?(t(),m(B,{key:0,to:{name:"policy-detail-view",params:{mesh:_.mesh,policyPath:i[c][0].path,policy:_.name}}},{default:o(()=>[p(k(u.kri),1)]),_:2},1032,["to"])):(t(),n(r,{key:1},[p(k(u.kri),1)],64))],64))),128))]))),128))])])]),e[4]||(e[4]=p()),l("tr",null,[l("td",E,[s(C,{type:"stack",size:"small"},{default:o(()=>[e[2]||(e[2]=l("span",null,"Config",-1)),e[3]||(e[3]=p()),s(D,{code:f(Y).stringify(T),language:"yaml","show-copy-button":!1},null,8,["code"])]),_:2},1024)])])]),_:2},1024)):O("",!0)],64))),128))]),_:2},1024))),128))]),_:2},1032,["items","predicate"])]),_:2},1032,["data"])]),_:2},1032,["src"])]),_:1})}}}),G=j(I,[["__scopeId","data-v-7012077a"]]);export{G as default};
