import{d as I,l as T,N as O,a as u,o as r,c as _,e as n,w as t,f as e,t as o,q as a,p as i,b as y,a2 as V,s as k,a1 as c,F as B,B as R,_ as D,E as $,z as C,A as K,a4 as L}from"./index-81fc4a03.js";import{_ as N}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-10dee361.js";import{K as A}from"./index-9dd3e7d3.js";import{g as U}from"./index-7ae2b68e.js";import{S as z}from"./StatusBadge-7904616b.js";import{T as S}from"./TagList-f5dbfd62.js";import{T as x}from"./TextWithCopyButton-813c7852.js";import{a as E}from"./dataplane-dcd0858b.js";import"./CopyButton-9e69d8bc.js";const F={class:"stack"},W={class:"status-with-reason"},j={key:0},q={class:"mt-4"},Z={class:"stack"},G={key:1},H={class:"mt-4"},J={class:"inbound-list"},M={class:"mt-2 stack"},Q=I({__name:"DataPlaneSummary",props:{dataplaneOverview:{}},setup(d){const{t:s,formatIsoDate:g}=T(),l=d,h=O(()=>E(l.dataplaneOverview.dataplane,l.dataplaneOverview.dataplaneInsight)),b=O(()=>{var v;const m=U(((v=l.dataplaneOverview.dataplaneInsight)==null?void 0:v.subscriptions)??[]);return m!==void 0?g(m):s("common.detail.none")});return(m,v)=>{const f=u("KTooltip"),w=u("KBadge");return r(),_("div",F,[n(c,null,{title:t(()=>[e(o(a(s)("http.api.property.status")),1)]),body:t(()=>[i("div",W,[n(z,{status:h.value.status},null,8,["status"]),e(),h.value.reason.length>0?(r(),y(f,{key:0,label:h.value.reason.join(", "),class:"reason-tooltip","position-fixed":""},{default:t(()=>[n(a(V),{size:a(A),"hide-title":""},null,8,["size"])]),_:1},8,["label"])):k("",!0)])]),_:1}),e(),n(c,null,{title:t(()=>[e(o(a(s)("data-planes.routes.item.last_updated")),1)]),body:t(()=>[e(o(b.value),1)]),_:1}),e(),l.dataplaneOverview.dataplane.networking.gateway?(r(),_("div",j,[i("h3",null,o(a(s)("data-planes.routes.item.gateway")),1),e(),i("div",q,[i("div",Z,[n(c,null,{title:t(()=>[e(o(a(s)("http.api.property.address")),1)]),body:t(()=>[n(x,{text:`${l.dataplaneOverview.dataplane.networking.address}`},null,8,["text"])]),_:1}),e(),n(c,null,{title:t(()=>[e(o(a(s)("http.api.property.tags")),1)]),body:t(()=>[n(S,{tags:l.dataplaneOverview.dataplane.networking.gateway.tags},null,8,["tags"])]),_:1})])])])):k("",!0),e(),l.dataplaneOverview.dataplane.networking.inbound?(r(),_("div",G,[i("h3",null,o(a(s)("data-planes.routes.item.inbounds")),1),e(),i("div",H,[i("div",J,[(r(!0),_(B,null,R(l.dataplaneOverview.dataplane.networking.inbound,(p,P)=>(r(),_("div",{key:P,class:"inbound"},[i("h4",null,[n(x,{text:p.tags["kuma.io/service"]},{default:t(()=>[e(o(a(s)("data-planes.routes.item.inbound_name",{service:p.tags["kuma.io/service"]})),1)]),_:2},1032,["text"])]),e(),i("div",M,[n(c,null,{title:t(()=>[e(o(a(s)("http.api.property.status")),1)]),body:t(()=>[!p.health||p.health.ready?(r(),y(w,{key:0,appearance:"success"},{default:t(()=>[e(o(a(s)("data-planes.routes.item.health.ready")),1)]),_:1})):(r(),y(w,{key:1,appearance:"danger"},{default:t(()=>[e(o(a(s)("data-planes.routes.item.health.not_ready")),1)]),_:1}))]),_:2},1024),e(),n(c,null,{title:t(()=>[e(o(a(s)("http.api.property.address")),1)]),body:t(()=>[n(x,{text:`${p.address??l.dataplaneOverview.dataplane.networking.advertisedAddress??l.dataplaneOverview.dataplane.networking.address}:${p.port}`},null,8,["text"])]),_:2},1024),e(),n(c,null,{title:t(()=>[e(o(a(s)("http.api.property.tags")),1)]),body:t(()=>[n(S,{tags:p.tags},null,8,["tags"])]),_:2},1024)])]))),128))])])])):k("",!0)])}}});const X=D(Q,[["__scopeId","data-v-e09d1d6b"]]),Y=d=>(C("data-v-b50681c1"),d=d(),K(),d),ee={class:"summary-title-wrapper"},te=Y(()=>i("img",{"aria-hidden":"true",src:L},null,-1)),ae={class:"summary-title"},se={key:1,class:"stack"},ne=I({__name:"DataPlaneSummaryView",props:{name:{},dataplaneOverview:{default:void 0}},setup(d){const{t:s}=T(),g=$(),l=d;return(h,b)=>{const m=u("RouteTitle"),v=u("RouterLink"),f=u("AppView"),w=u("RouteView");return r(),y(w,{name:a(g).name},{default:t(()=>[n(f,null,{title:t(()=>[i("div",ee,[te,e(),i("h2",ae,[n(v,{to:{name:"data-plane-detail-view",params:{dataPlane:l.name}}},{default:t(()=>[n(m,{title:a(s)("data-planes.routes.item.title",{name:l.name})},null,8,["title"])]),_:1},8,["to"])])])]),default:t(()=>[e(),l.dataplaneOverview===void 0?(r(),y(N,{key:0},{message:t(()=>[i("p",null,o(a(s)("common.collection.summary.empty_message",{type:"Data Plane Proxy"})),1)]),default:t(()=>[e(o(a(s)("common.collection.summary.empty_title",{type:"Data Plane Proxy"}))+" ",1)]),_:1})):(r(),_("div",se,[i("div",null,[i("h3",null,o(a(s)("data-planes.routes.item.overview")),1),e(),n(X,{class:"mt-4","dataplane-overview":l.dataplaneOverview},null,8,["dataplane-overview"])])]))]),_:1})]),_:1},8,["name"])}}});const me=D(ne,[["__scopeId","data-v-b50681c1"]]);export{me as default};
