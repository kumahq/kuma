import{_ as Se,E as ha,q as ua,o as Tt,c as be,w as ce,A as zi,e as ae,t as Pe,b as Ee,k as Be,r as ee,$ as sr,i as or,f as gt,h as da,F as pa,a5 as D,a6 as et,a7 as Z,a8 as W,a9 as R,aa as O,ab as fa,ac as _,ad as ye,ae as lt,af as Ht,ag as Q,ah as G,ai as X,aj as b,ak as w,al as st,am as Te,an as dt,ao as pt,ap as Ce,aq as It,ar as ca,as as ge,at as Ut,au as ct,av as g,aw as lr,ax as tt,ay as U,az as ya,aA as St,aB as Ci,aC as xt,aD as hr,aE as va,aF as mt,aG as De,aH as Hi,aI as Vt,aJ as H,aK as Pt,aL as ui,aM as kt,aN as at,aO as Ue,aP as At,aQ as re,aR as Ot,aS as Di,aT as ne,aU as Y,aV as te,aW as ur,aX as ga,aY as ve,aZ as Rt,a_ as ma,a$ as xa,b0 as ba,b1 as j,b2 as Ct,b3 as Nt,b4 as dr,b5 as Pa,b6 as K,b7 as Ne,b8 as Ui,b9 as q,ba as Lt,bb as Ca,bc as nt,bd as ut,be as Da,bf as di,bg as fe,bh as Aa,bi as _a,bj as Gi,bk as vt,bl as J,bm as ze,bn as pi,bo as Ae,bp as pr,bq as Va,br as Sa,bs as We,bt as Ta,bu as Oa,bv as ka,bw as wa,bx as me,by as Ki,bz as Gt,bA as _e,bB as Zi,bC as qi,bD as se,bE as rt,bF as Fa,bG as Wt,bH as La,bI as F,bJ as L,bK as Oe,bL as ot,bM as ft,bN as Mt,bO as it,bP as si,bQ as _t,bR as fi,bS as oi,bT as Ai,bU as zt,bV as _i,bW as Ma,bX as Ia,bY as Vi,bZ as Ra,b_ as xe,b$ as $i,c0 as ci,c1 as Ji,c2 as yi,c3 as Bt,c4 as Qi,c5 as fr,c6 as ja,c7 as Xe,c8 as tr,c9 as Wa,ca as Xa,cb as Ya,cc as ie,cd as er,ce as Ea,cf as Ye,cg as Ba,ch as Na,ci as ir,cj as za,ck as li,cl as Ha,cm as Ua,cn as hi,co as Ga,cp as Ka,cq as Za,m as qa,cr as $a,n as Jt,a as Et,p as Ja,l as Qa}from"./index.dbfc69fe.js";const tn={name:"CardSkeleton",components:{KCard:ha,KButton:ua},props:{cardTitle:{type:String,required:!0},cardActionRoute:{type:[Object,String],required:!0},cardActionButtonText:{type:String,required:!0},externalLink:{type:Boolean,default:!1}}},en={key:0,class:"skeleton-card__action mt-4"},rn=["href"];function an(o,r,t,e,i,a){const n=ee("KButton"),s=ee("KCard");return Tt(),be(s,{title:t.cardTitle},{body:ce(()=>[zi(o.$slots,"cardContent",{class:"skeleton-card__content"},void 0,!0),t.cardActionButtonText&&t.cardActionRoute?(Tt(),ae("div",en,[zi(o.$slots,"cardAction",{},()=>[t.externalLink?(Tt(),ae("a",{key:0,href:t.cardActionRoute,target:"_blank",class:"external-link-btn"},Pe(t.cardActionButtonText),9,rn)):(Tt(),be(n,{key:1,to:t.cardActionRoute,appearance:"primary"},{default:ce(()=>[Ee(Pe(t.cardActionButtonText),1)]),_:1},8,["to"]))],!0)])):Be("",!0)]),_:3},8,["title"])}const nn=Se(tn,[["render",an],["__scopeId","data-v-33940144"]]);const sn={name:"ResourcesList",data:()=>({productName:sr}),computed:{...or({kumaDocsVersion:"config/getKumaDocsVersion"}),resourceLinks(){const o=this.kumaDocsVersion,r=o!==null?o:"latest",t="?utm_source=Kuma&utm_medium=Kuma-GUI";return o?[{link:`https://kuma.io/docs/${r}/${t}`,label:"Kuma Documentation"},{link:`https://kuma-mesh.slack.com/${t}`,label:"Kuma Community Chat"},{link:`https://github.com/kumahq/kuma${t}`,label:"Kuma GitHub Repository"}]:[]}}},on={class:"resource-list"},ln=["href"];function hn(o,r,t,e,i,a){const n=ee("KCard");return a.resourceLinks.length>0?(Tt(),be(n,{key:0,title:"Resources"},{body:ce(()=>[gt("p",null," Join the "+Pe(o.productName)+" community and ask questions: ",1),gt("ul",on,[(Tt(!0),ae(pa,null,da(a.resourceLinks,(s,l)=>(Tt(),ae("li",{key:l},[gt("a",{href:s.link,target:"_blank"},Pe(s.label),9,ln)]))),128))])]),_:1})):Be("",!0)}const un=Se(sn,[["render",hn],["__scopeId","data-v-536b9c85"]]);var cr=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="Grip";var e=new et;t.layout="absolute",t.padding(10,10,10,10),t.margin(3,3,3,3),t.background.fillOpacity=.3,t.background.cornerRadius(10,10,10,10);var i=new Z;i.element=t.paper.add("path");var a=W({x:-6,y:0});return a+=R({x:6,y:0}),a+=W({x:-8,y:-6}),a+=R({x:0,y:-12}),a+=R({x:8,y:-6}),a+=W({x:-8,y:6}),a+=R({x:0,y:12}),a+=R({x:8,y:6}),i.path=a,i.strokeWidth=2,i.fillOpacity=0,i.pixelPerfect=!0,i.padding(0,4,0,4),i.stroke=e.getFor("text"),i.strokeOpacity=.7,i.align="center",i.valign="middle",t.icon=i,t.label.dispose(),t.label=void 0,t.position="right",t.autoHideDelay=3e3,t.events.on("shown",function(n){t._autoHideTimeout&&t._autoHideTimeout.dispose(),t.autoHideDelay&&(t._autoHideTimeout=t.setTimeout(function(){t.hide()},t.autoHideDelay))}),t.events.on("down",function(n){t._autoHideTimeout&&t._autoHideTimeout.dispose()}),t.events.on("out",function(n){t.autoHideDelay&&(t._autoHideTimeout=t.setTimeout(function(){t.hide()},t.autoHideDelay))}),t.applyTheme(),t}return Object.defineProperty(r.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(t){if(this.setPropertyValue("position",t))switch(t){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=O(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=O(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=O(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=O(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=O(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(t){this.setPropertyValue("autoHideDelay",t)},enumerable:!0,configurable:!0}),r}(fa);_.registeredClasses.Grip=cr;var yr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="ChartDataItem",t.applyTheme(),t}return r}(ye),le=function(o){D(r,o);function r(){var t=o.call(this)||this;if(t._legend=new lt,t.constructor===r)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");t.className="Chart";var e=new Ht;t.titles=new Q(e),t._disposers.push(new G(t.titles)),t._disposers.push(e),t.width=O(100),t.height=O(100),t.layout="vertical";var i=t.createChild(X);i.shouldClone=!1,i.layout="vertical",i.width=O(100),i.height=O(100),t.chartAndLegendContainer=i;var a=i.createChild(X);return a.shouldClone=!1,a.width=O(100),a.height=O(100),t.chartContainer=a,t.showOnInit=!0,t._disposers.push(t._legend),t.titles.events.on("inserted",function(n){t.processTitle(n),t.updateReaderTitleReferences()},t,!1),t.titles.events.on("removed",function(n){t.updateReaderTitleReferences()},t,!1),t.role="region",t.defaultState.transitionDuration=1,t.applyTheme(),t}return r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},r.prototype.draw=function(){this.fixLayout(),o.prototype.draw.call(this)},r.prototype.fixLayout=function(){var t=this.legend;if(t){var e=this.chartAndLegendContainer,i=this.chartContainer;switch(i.x=void 0,i.y=void 0,t.position!="absolute"&&(t.x=void 0,t.y=void 0),t.position){case"left":e.layout="horizontal",t.toBack();break;case"right":e.layout="horizontal",t.toFront();break;case"top":e.layout="vertical",t.toBack();break;case"bottom":e.layout="vertical",t.toFront();break;case"absolute":t.isMeasured=!1;break}}},r.prototype.feedLegend=function(){},r.prototype.processTitle=function(t){var e=t.newValue;return e.parent=this,e.toBack(),e.shouldClone=!1,e.align="center",e.uidAttr(),e},r.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var t=[];w(this.titles.iterator(),function(e){t.push(e.uid)}),this.setSVGAttribute({"aria-labelledby":t.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(r.prototype,"legend",{get:function(){return this._legend.get()},set:function(t){this.setLegend(t)},enumerable:!0,configurable:!0}),r.prototype.setLegend=function(t){var e=this;this._legend.get()!==t&&(t?(t.parent=this.chartAndLegendContainer,this._legend.set(t,t.events.on("propertychanged",function(i){i.property=="position"&&e.fixLayout()},void 0,!1)),t.addDisposer(new st(function(){e.legend=void 0}))):this._legend.reset(),this.feedLegend())},r.prototype.dispose=function(){this.legend&&this.legend.dispose(),o.prototype.dispose.call(this)},r.prototype.processConfig=function(t){t&&b(t.legend)&&!b(t.legend.type)&&(t.legend.type="Legend"),o.prototype.processConfig.call(this,t)},r.prototype.copyFrom=function(t){this.titles.copyFrom(t.titles),this.chartContainer.copyFrom(t.chartContainer),t.legend&&(this.legend=t.legend.clone(),this.legend.removeChildren()),o.prototype.copyFrom.call(this,t)},Object.defineProperty(r.prototype,"dragGrip",{get:function(){var t=this;if(!this._dragGrip){var e=this.tooltipContainer.createChild(cr);e.align="right",e.valign="middle",e.hide(0),e.events.on("down",function(i){i.touch&&(t.interactionsEnabled=!1)}),e.events.on("up",function(i){t.interactionsEnabled=!0}),this.events.on("down",function(i){i.touch&&e.show()}),this._dragGrip=e}return this._dragGrip},set:function(t){this._dragGrip=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(t){this.parent.focusable=t},enumerable:!0,configurable:!0}),r}(Te);_.registeredClasses.Chart=le;dt.push({relevant:pt.widthXS,state:function(o,r){if(o instanceof le){var t=o.states.create(r);return o.pixelPaddingLeft>10&&(t.properties.paddingLeft=10),o.pixelPaddingRight>10&&(t.properties.paddingRight=10),t}return null}});dt.push({relevant:pt.heightXS,state:function(o,r){if(o instanceof le){var t=o.states.create(r);return o.pixelPaddingTop>10&&(t.properties.paddingTop=10),o.pixelPaddingBottom>10&&(t.properties.paddingBottom=10),t}return null}});dt.push({relevant:pt.widthXXS,state:function(o,r){if(o instanceof le){var t=o.states.create(r);return t.properties.paddingLeft=0,t.properties.paddingRight=0,t}return null}});dt.push({relevant:pt.heightXXS,state:function(o,r){if(o instanceof le){var t=o.states.create(r);return t.properties.paddingTop=0,t.properties.paddingBottom=0,t}return null}});var jt=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="Bullet",t.isMeasured=!1,t.tooltipX=0,t.tooltipY=0,t.layout="none",t.applyOnClones=!0,t.copyToLegendMarker=!0,t.applyTheme(),t}return Object.defineProperty(r.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(t){if(this.setPropertyValue("locationX",t)){var e=this.dataItem;e&&e.component&&e.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(t){if(this.setPropertyValue("locationY",t)){var e=this.dataItem;e&&e.component&&e.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(t){this.setPropertyValue("xField",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(t){this.setPropertyValue("yField",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(t){this.setPropertyValue("isDynamic",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(t){this.setPropertyValue("copyToLegendMarker",t)},enumerable:!0,configurable:!0}),r}(X);_.registeredClasses.Bullet=jt;dt.push({relevant:pt.isXS,state:function(o,r){if(o instanceof jt){var t=o.states.create(r);return t.properties.disabled=!0,t}return null}});var dn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.childrenCreated=!1,t.className="LegendDataItem",t.applyTheme(),t}return Object.defineProperty(r.prototype,"label",{get:function(){var t=this;if(!this._label){var e=this.component.labels.create();this._label=e,this.addSprite(e),this._disposers.push(e),e.parent=this.itemContainer,this._disposers.push(new st(function(){b(t.component)&&t.component.labels.removeValue(e)}))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){return this.properties.color},set:function(t){this.setProperty("color",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"valueLabel",{get:function(){var t=this;if(!this._valueLabel){var e=this.component.valueLabels.create();this._valueLabel=e,this.addSprite(e),this._disposers.push(e),e.parent=this.itemContainer,this._disposers.push(new st(function(){b(t.component)&&t.component.valueLabels.removeValue(e)}))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemContainer",{get:function(){var t=this;if(!this._itemContainer){var e=this.component,i=e.itemContainers.create();i.parent=e,this._itemContainer=i,this.addSprite(i),this._disposers.push(i),i.togglable&&i.events.on("toggled",function(s){e.toggleDataItem(s.target.dataItem)},void 0,!1),i.focusable&&(i.events.on("hit",function(s){e.focusedItem=void 0},void 0,!1),i.events.on("focus",function(s){e.focusedItem=s.target.dataItem},void 0,!1),i.events.on("blur",function(s){e.focusedItem=void 0},void 0,!1)),this._disposers.push(new st(function(){b(t.component)&&t.component.itemContainers.removeValue(i)})),this.dataContext.uidAttr&&(i.readerControls=this.dataContext.uidAttr(),i.readerLabelledBy=this.dataContext.uidAttr());var a=this.dataContext;if((a instanceof ye||a instanceof Z)&&!a.isDisposed()){var n=function(s){i.readerChecked=s.visible,i.events.disableType("toggled"),i.isActive=!s.visible,i.events.enableType("toggled")};a.addDisposer(new st(function(){t.component&&t.component.dataItems.remove(t)})),a instanceof Z?(i.addDisposer(a.events.on("visibilitychanged",n,void 0,!1)),i.addDisposer(a.events.on("hidden",function(s){i.readerChecked=!1,i.events.disableType("toggled"),i.isActive=!0,i.events.enableType("toggled")},void 0,!1)),i.addDisposer(a.events.on("shown",function(s){i.readerChecked=!0,i.events.disableType("toggled"),i.isActive=!1,i.events.enableType("toggled")},void 0,!1))):i.addDisposer(a.events.on("visibilitychanged",n,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"marker",{get:function(){var t=this;if(!this._marker){var e=this.component.markers.create();this._marker=e,e.parent=this.itemContainer,this.addSprite(e),this._disposers.push(e),this._disposers.push(new st(function(){b(t.component)&&t.component.markers.removeValue(e)}))}return this._marker},enumerable:!0,configurable:!0}),r}(ye),vr=function(){function o(){this.createMarker=!0}return o}(),Ge=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="Legend",t.layout="grid",t.setPropertyValue("useDefaultMarker",!1),t.setPropertyValue("scrollable",!1),t.setPropertyValue("contentAlign","center");var e=new X;e.applyOnClones=!0,e.padding(8,0,8,0),e.margin(0,10,0,10),e.layout="horizontal",e.clickable=!0,e.focusable=!0,e.role="switch",e.togglable=!0,e.cursorOverStyle=Ce.pointer,e.background.fillOpacity=0,t.itemContainers=new Q(e),t._disposers.push(new G(t.itemContainers)),t._disposers.push(t.itemContainers.template),t._disposers.push(It().body.events.on("keyup",function(d){if(ca.isKey(d.event,"enter")&&t.focusedItem){var u=t.focusedItem,p=u.itemContainer;p.togglable?t.toggleDataItem(u):p.clickable&&p.events.isEnabled("hit")&&(p.dispatchImmediately("hit",{event:d}),t.focusedItem=u)}},t));var i=new et,a=new X;a.width=23,a.height=23,a.interactionsEnabled=!1,a.applyOnClones=!0,a.setStateOnChildren=!0,a.background.fillOpacity=0,a.background.strokeOpacity=0,a.propertyFields.fill="fill",a.valign="middle";var n=i.getFor("disabledBackground");a.events.on("childadded",function(d){var u=d.newValue,p=u.states.create("active");p.properties.stroke=n,p.properties.fill=n}),t.markers=new Q(a),t._disposers.push(new G(t.markers)),t._disposers.push(t.markers.template);var s=a.createChild(ge);s.width=O(100),s.height=O(100),s.applyOnClones=!0,s.propertyFields.fill="fill",s.strokeOpacity=0;var l=new Ht;l.text="{name}",l.margin(0,5,0,5),l.valign="middle",l.applyOnClones=!0,l.states.create("active").properties.fill=i.getFor("disabledBackground"),t.labels=new Q(l),t._disposers.push(new G(t.labels)),t._disposers.push(t.labels.template),l.interactionsEnabled=!1,l.truncate=!0,l.fullWords=!1;var h=new Ht;return h.margin(0,5,0,0),h.valign="middle",h.width=50,h.align="right",h.textAlign="end",h.applyOnClones=!0,h.states.create("active").properties.fill=i.getFor("disabledBackground"),h.interactionsEnabled=!1,t.valueLabels=new Q(h),t._disposers.push(new G(t.valueLabels)),t._disposers.push(t.valueLabels.template),t.position="bottom",e.states.create("active"),e.setStateOnChildren=!0,t.role="group",t.events.on("layoutvalidated",t.handleScrollbar,t,!1),t.applyTheme(),t}return r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},r.prototype.createDataItem=function(){return new dn},r.prototype.validateDataElements=function(){this.scrollbar&&(this.scrollbar.start=0,this.scrollbar.end=1),o.prototype.validateDataElements.call(this)},r.prototype.validateDataElement=function(t){o.prototype.validateDataElement.call(this,t);var e=t.itemContainer,i=t.marker;Ut(t.label);var a=t.valueLabel;e.readerChecked=t.dataContext.visible,t.dataContext.legendDataItem=t;var n=t.label.maxWidth;t.label.width instanceof ct||(t.label.width=void 0),n>0&&(t.label.maxWidth=n),a.align=="right"&&(a.width=void 0);var s=t.dataContext.legendSettings,l=t.dataContext;l.createLegendMarker&&(!this.useDefaultMarker||!(l instanceof Z))?t.childrenCreated||(l.createLegendMarker(i),t.childrenCreated=!0):this.markers.template.propertyFields.fill=void 0,l.updateLegendValue&&l.updateLegendValue(),l.component&&l.component.updateLegendValue&&l.component.updateLegendValue(l),a.invalid&&a.validate(),a.text==""||a.text==null?a.__disabled=!0:a.__disabled=!1,s&&(s.itemValueText!=null||s.valueText!=null)&&(a.__disabled=!1);var h=t.dataContext.visible;h===void 0&&(h=!0),h=ya(h),t.dataContext.visible=h,e.events.disableType("toggled"),e.isActive=!h,e.isActive?e.setState("active",0):e.setState("default",0),e.events.enableType("toggled")},r.prototype.afterDraw=function(){var t=this,e=this.getPropertyValue("maxWidth"),i=0;this.labels.each(function(u){u.invalid&&(u.maxWidth=void 0,u.validate()),u.measuredWidth+u.pixelMarginLeft+u.pixelMarginRight>i&&(i=u.measuredWidth+u.pixelMarginLeft+u.pixelMarginRight)});var a=0;this.valueLabels.each(function(u){u.invalid&&u.validate(),u.measuredWidth+u.pixelMarginLeft+u.pixelMarginRight>a&&(a=u.measuredWidth+u.pixelMarginLeft+u.pixelMarginRight)});var n=0;this.markers.each(function(u){u.invalid&&u.validate(),u.measuredWidth+u.pixelMarginLeft+u.pixelMarginRight>n&&(n=u.measuredWidth+u.pixelMarginLeft+u.pixelMarginRight)});var s=this.itemContainers.template,l=s.pixelMarginRight+s.pixelMarginLeft,h,d=i+a+n;g(e)?(e=e-l,e>d&&(e=d),h=e-n-a):h=i,this.labels.each(function(u){(t.valueLabels.template.align=="right"||u.measuredWidth>h)&&(u.width instanceof ct||(u.width=Math.min(u.maxWidth,h-u.pixelMarginLeft-u.pixelMarginRight),u.maxWidth=u.width))}),this.valueLabels.template.align=="right"&&this.valueLabels.each(function(u){u.width=a-u.pixelMarginRight-u.pixelMarginLeft}),o.prototype.afterDraw.call(this)},r.prototype.handleScrollbar=function(){var t=this.scrollbar;this.scrollable&&t&&(t.height=this.measuredHeight,t.x=this.measuredWidth-t.pixelWidth-t.pixelMarginLeft,this.contentHeight>this.measuredHeight?(t.visible=!0,t.thumb.height=t.height*this.measuredHeight/this.contentHeight,this.paddingRight=t.pixelWidth+t.pixelMarginLeft+ +t.pixelMarginRight):t.visible=!1,t.handleThumbPosition(),this.updateMasks())},Object.defineProperty(r.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(t){this.setPropertyValue("position",t)&&(t=="left"||t=="right"?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",g(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=O(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(t){this.setPropertyValue("useDefaultMarker",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(t){if(this.setPropertyValue("scrollable",t,!0))if(t){var e=this.createChild(lr);this.scrollbar=e,e.isMeasured=!1,e.orientation="vertical",e.endGrip.__disabled=!0,e.startGrip.__disabled=!0,e.visible=!1,e.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(e.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),r.prototype.handleWheel=function(t){var e=t.shift.y,i=this.scrollbar;if(i){var a=e/1e3*this.measuredHeight/this.contentHeight,n=i.end-i.start;e>0?(i.start=tt(0,i.start-a),i.end=i.start+n):(i.end=U(1,i.end-a),i.start=i.end-n)}},r.prototype.updateMasks=function(){var t=this;this.scrollbar&&this.itemContainers.each(function(e){e.dy=-t.scrollbar.thumb.pixelY*t.contentHeight/t.measuredHeight,e.maskRectangle={x:0,y:-e.dy,width:t.measuredWidth,height:t.measuredHeight}})},r.prototype.toggleDataItem=function(t){var e=t.dataContext;!e.visible||e.isHiding||e instanceof Z&&e.isHidden?(t.color=t.colorOrig,e.appeared=!0,t.itemContainer.isActive=!1,e.hidden===!0&&(e.hidden=!1),e.show?e.show():e.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,t.label.readerTitle))):(t.itemContainer.isActive=!0,e.appeared=!0,e.hide?e.hide():e.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,t.label.readerTitle)),t.color=new et().getFor("disabledBackground"))},Object.defineProperty(r.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),r.prototype.handleDataItemPropertyChange=function(t,e){t.valueLabel.invalidate(),t.label.invalidate()},r}(Te);_.registeredClasses.Legend=Ge;dt.push({relevant:pt.widthXS,state:function(o,r){if(o instanceof Ge&&(o.position=="left"||o.position=="right")){var t=o.states.create(r);return t.properties.position="bottom",t}return null}});dt.push({relevant:pt.heightXS,state:function(o,r){if(o instanceof Ge&&(o.position=="top"||o.position=="bottom")){var t=o.states.create(r);return t.properties.position="right",t}return null}});dt.push({relevant:pt.isXS,state:function(o,r){if(o instanceof Ge){var t=o.states.create(r);return t.properties.disabled=!0,t}return null}});var Ke=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="SeriesDataItem",t.values.value={},t.values.value={},t.applyTheme(),t}return Object.defineProperty(r.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new St,this._disposers.push(new Ci(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),r.prototype.dispose=function(){this.bullets.clear(),o.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),r}(ye),Ze=function(o){D(r,o);function r(){var t=o.call(this)||this;if(t._ignoreMinMax=!1,t._showBullets=!0,t.legendSettings=new vr,t._tmin=new St,t._tmax=new St,t._smin=new St,t._smax=new St,t.dataItemsByAxis=new St,t.skipFocusThreshold=20,t._itemReaderTextChanged=!1,t.calculatePercent=!1,t.usePercentHack=!0,t.autoDispose=!0,t.simplifiedProcessing=!1,t.constructor===r)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");t.className="Series",t.isMeasured=!1,t.layout="none",t.shouldClone=!1,t.setPropertyValue("hidden",!1),t.axisRanges=new xt,t.axisRanges.events.on("inserted",t.processAxisRange,t,!1),t.minBulletDistance=0,t.mainContainer=t.createChild(X),t.mainContainer.shouldClone=!1,t.mainContainer.mask=t.createChild(Z),t._disposers.push(t.mainContainer);var e=t.mainContainer.createChild(X);return t._shouldBeReady.push(e),e.shouldClone=!1,e.layout="none",e.virtualParent=t,t._disposers.push(e),t.bulletsContainer=e,t.tooltip=new hr,t.tooltip.virtualParent=t,t._disposers.push(t.tooltip),t.hiddenState.transitionEasing=va,t.dataItem=t.createDataItem(),t._disposers.push(t.dataItem),t.dataItem.component=t,t.role="group",t.applyTheme(),t}return r.prototype.applyTheme=function(){o.prototype.applyTheme.call(this)},r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},r.prototype.createDataItem=function(){return new Ke},Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart=t},enumerable:!0,configurable:!0}),r.prototype.positionBullet=function(t){},r.prototype.processBullet=function(t){var e=this,i=t.newValue;i.isTemplate=!0,this.events.once("datavalidated",function(a){e.itemsFocusable()&&(i.focusable=!0)}),this.invalidate()},r.prototype.removeBullet=function(t){var e=t.oldValue;this.dataItems.each(function(i){var a=i.bullets.getKey(e.uid);a&&a.dispose()}),this.invalidate()},r.prototype.validateDataItems=function(){o.prototype.validateDataItems.call(this),this.processValues(!1)},r.prototype.getFirstValue=function(t,e){for(var i=e;i>=0;i--){var a=this.dataItems.getIndex(i),n=a.getActualWorkingValue(t);if(g(n))return n}return null},r.prototype.getAbsoluteFirstValue=function(t){for(var e=0;e<this.dataItems.length;e++){var i=this.dataItems.getIndex(e),a=i.values[t].value;if(g(a))return a}return null},r.prototype.rangeChangeUpdate=function(){o.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},r.prototype.processValues=function(t){var e=this;if(!this.simplifiedProcessing){var i=this.dataItems,a={},n={},s={},l={},h={},d={},u={},p={},f={},c={},y=tt(0,this.startIndex);y=U(y,this.dataItems.length);var v=U(this.endIndex,this.dataItems.length);if(g(y)||(y=0),g(v)||(v=this.dataItems.length),y>0){var m=i.getIndex(y-1);mt(m.values,function(P,k){var V=m.getActualWorkingValue(P);g(V)&&(p[P]=V)})}for(var x=function(P){var k=i.getIndex(P);mt(k.values,function(V,N){var I=k.getActualWorkingValue(V);if(g(I)){g(a[V])||(a[V]=0),a[V]++,g(n[V])||(n[V]=0),n[V]+=I,g(s[V])||(s[V]=0),s[V]+=Math.abs(I),g(d[V])||(d[V]=I),u[V]=I,g(l[V])?l[V]>I&&(l[V]=I):l[V]=I,g(h[V])?h[V]<I&&(h[V]=I):h[V]=I,g(f[V])||(f[V]=e.getFirstValue(V,y)),g(c[V])||(c[V]=e.getAbsoluteFirstValue(V)),k.setCalculatedValue(V,I-f[V],"change"),k.setCalculatedValue(V,(I-f[V])/f[V]*100,"changePercent"),k.setCalculatedValue(V,I-c[V],"startChange"),k.setCalculatedValue(V,(I-c[V])/c[V]*100,"startChangePercent");var M=p[V];g(M)||(M=I),k.setCalculatedValue(V,I-M,"previousChange"),k.setCalculatedValue(V,(I-M)/M*100,"previousChangePercent"),p[V]=I}})},C=y;C<v;C++)x(C);if(this.calculatePercent)for(var S=function(P){var k=i.getIndex(P);mt(k.values,function(V){var N=s[V],I=k.getActualWorkingValue(V);if(g(I))if(N>0){e.usePercentHack&&I==N&&(N=k.values[V].value);var M=I/N*100;k.setCalculatedValue(V,M,"percent")}else k.setCalculatedValue(V,0,"percent")})},C=y;C<v;C++)S(C);if(y>0){var A=i.getIndex(y-1);mt(A.values,function(P){var k=A.values[P].value;A.setCalculatedValue(P,k-d[P],"change"),A.setCalculatedValue(P,(k-d[P])/d[P]*100,"changePercent")})}var T=this.dataItem;mt(T.values,function(P){T.setCalculatedValue(P,n[P],"sum"),T.setCalculatedValue(P,s[P],"absoluteSum"),T.setCalculatedValue(P,n[P]/a[P],"average"),T.setCalculatedValue(P,d[P],"open"),T.setCalculatedValue(P,u[P],"close"),T.setCalculatedValue(P,l[P],"low"),T.setCalculatedValue(P,h[P],"high"),T.setCalculatedValue(P,a[P],"count")})}},r.prototype.validate=function(){De()&&this.filters.clear(),w(this.axisRanges.iterator(),function(a){a.validate()}),o.prototype.validate.call(this);var t=this.bulletsContainer;if(t.fill=this.fill,t.stroke=this.stroke,t.x=this.pixelX,t.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var e=0;e<this.startIndex;e++){var i=this.dataItems.getIndex(e);i&&i.bullets.each(function(a,n){n.__disabled=!0})}for(var e=this.dataItems.length-1;e>this.endIndex;e--){var i=this.dataItems.getIndex(e);i&&i.bullets.each(function(s,l){l.__disabled=!0})}}else this.bulletsContainer.children.each(function(a){a.__disabled=!0});this.updateTooltipBounds()},r.prototype.updateTooltipBounds=function(){if(this.topParent){var t=0,e=0,i=this.topParent.maxWidth,a=this.topParent.maxHeight,n={x:t,y:e,width:i,height:a};this.tooltip.setBounds(n)}},r.prototype.shouldCreateBullet=function(t,e){return!0},r.prototype.validateDataElement=function(t){var e=this;o.prototype.validateDataElement.call(this,t),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each(function(i){var a=t.bullets.getKey(i.uid);if(e.shouldCreateBullet(t,i)){if(!a){var n=i.propertyFields.disabled,s=t.dataContext;n&&s&&s[n]===!1?(i.applyOnClones=!1,i.disabled=!1,a=i.clone(),i.disabled=!0,i.applyOnClones=!0):a=i.clone(),a.shouldClone=!1,t.addSprite(a),(!e.visible||e.isHiding)&&a.hide(0)}var l=a.dataItem;if(l!=t){l&&l.bullets.setKey(i.uid,void 0);var h=e.itemReaderText;a instanceof jt&&(h||(h="{"+a.xField+"}: {"+a.yField+"}"),a.isDynamic&&(t.events.on("workingvaluechanged",a.deepInvalidate,a,!1),e.dataItem.events.on("workingvaluechanged",a.deepInvalidate,a,!1)),a.deepInvalidate()),a.focusable&&(a.events.on("focus",function(d){a.readerTitle=e.populateString(h,a.dataItem)},void 0,!1),a.events.on("blur",function(d){a.readerTitle=""},void 0,!1)),a.hoverable&&(a.events.on("over",function(d){a.readerTitle=e.populateString(h,a.dataItem)},void 0,!1),a.events.on("out",function(d){a.readerTitle=""},void 0,!1))}a.parent=e.bulletsContainer,t.bullets.setKey(i.uid,a),a.maxWidth=t.itemWidth,a.maxHeight=t.itemHeight,a.__disabled=!1,e.positionBullet(a)}else a&&(a.__disabled=!0)})):this.bulletsContainer.visible=!1},r.prototype.handleDataItemWorkingValueChange=function(t,e){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(r.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(t){this._ignoreMinMax=t,this.invalidateDataItems()},enumerable:!0,configurable:!0}),r.prototype.createMask=function(){},r.prototype.processAxisRange=function(t){this.rangesContainer||(this.rangesContainer=this.createChild(X),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var e=t.newValue;e&&(e.contents.parent=this.rangesContainer,e.isRange=!0,e.events.on("valuechanged",this.invalidateDataItems,this,!1))},r.prototype.getAxisField=function(t){},r.prototype.showTooltipAtPosition=function(t,e){},Object.defineProperty(r.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(t){this.setPropertyValue("minBulletDistance",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new Q(new jt),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new G(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),r.prototype.createLegendMarker=function(t){},Object.defineProperty(r.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(t){this.setPropertyValue("hiddenInLegend",t)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(t){this.setPropertyValue("name",t);var e=this.legendDataItem;e&&(e.component.invalidate(),e.component.invalidateRawData()),this.readerTitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemReaderText",{get:function(){var t=this._itemReaderText;return t||(this.tooltipText?t=Hi(this.tooltipText):this.tooltipHTML&&(t=Hi(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",t):t},set:function(t){this._itemReaderText=t,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),r.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(r.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(t){this._legendDataItem=t,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),r.prototype.updateLegendValue=function(t,e){if(this.legendDataItem){var i=this.legendSettings,a=this.legendDataItem,n=a.label,s=a.valueLabel;t&&!t.isDisposed()||e?(s&&(i.itemValueText&&(s.text=i.itemValueText),s.dataItem=t),n&&(i.itemLabelText&&(n.text=i.itemLabelText),n.dataItem=t)):(n&&((i.labelText||i.itemLabelText!=null)&&(n.text=i.labelText),n.dataItem=this.dataItem),s&&((i.valueText||i.itemValueText!=null)&&(s.text=i.valueText),s.dataItem=this.dataItem))}},r.prototype.copyFrom=function(t){this.bullets.copyFrom(t.bullets),this.bulletsContainer.copyFrom(t.bulletsContainer),this.calculatePercent=t.calculatePercent,this.usePercentHack=t.usePercentHack,this.simplifiedProcessing=t.simplifiedProcessing,o.prototype.copyFrom.call(this,t)},r.prototype.raiseCriticalError=function(t){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",t).message,this._chart.modal.closable=!1,this._chart.modal.open(),this._chart.disabled=!0),console.log(t)},r.prototype.applyFilters=function(){var t=this;o.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),w(this.filters.iterator(),function(e){t.bulletsContainer.filters.push(e.clone())})},Object.defineProperty(r.prototype,"heatRules",{get:function(){var t=this;return this._heatRules||(this._heatRules=new xt,this._heatRules.events.on("inserted",function(e){var i=e.newValue,a=i.target;if(a){var n=i.dataField;b(n)||(n="value");var s=t.dataItem,l=i.property,h=Vt(i.minValue),d=Vt(i.maxValue);!g(h)&&!g(d)&&t.dataItem.events.on("calculatedvaluechanged",function(u){u.property==n&&w(t.dataItems.iterator(),function(p){var f=!1;H(p.sprites,function(c){if(c.clonedFrom==a){var y=c;y[l]=y[l],f=!0}}),f||H(p.sprites,function(c){c instanceof X&&w(c.children.iterator(),function(y){if(y.className==a.className){var v=y;v[l]=v[l]}else y instanceof X&&y.deepInvalidate()})})})}),t.dataItems.template.events.on("workingvaluechanged",function(u){if(u.property==n){var p=u.target,f=!1;H(p.sprites,function(c){if(c.clonedFrom==a){var y=c;y[l]=y[l],f=!0}}),f||H(p.sprites,function(c){c instanceof X&&w(c.children.iterator(),function(y){if(y.className==a.className){var v=y;v[l]=v[l]}else y instanceof X&&y.deepInvalidate()})})}}),a.adapter.add(l,function(u,p,f){var c=Vt(i.minValue),y=Vt(i.maxValue),v=i.min,m=i.max;if(p instanceof Z){var x=p,C=x.propertyFields[f];if(C&&p.dataItem){var S=p.dataItem.dataContext;if(S&&b(S[C]))return u}}var A=p.dataItem;if(g(c)||(c=s.values[n].low),g(y)||(y=s.values[n].high),A){var T=A.values[n];if(T){var P=A.getActualWorkingValue(n);if(b(v)&&b(m)&&g(c)&&g(y)&&g(P)){var k=void 0;if(i.logarithmic?k=(Math.log(P)*Math.LOG10E-Math.log(c)*Math.LOG10E)/(Math.log(y)*Math.LOG10E-Math.log(c)*Math.LOG10E):k=(P-c)/(y-c),g(P)&&(!g(k)||Math.abs(k)==1/0)&&(k=.5),g(v))return v+(m-v)*k;if(v instanceof Pt)return new Pt(ui(v.rgb,m.rgb,k))}}}return u})}})),this._heatRules},enumerable:!0,configurable:!0}),r.prototype.processConfig=function(t){var e;if(t){if(b(t.bullets)&&kt(t.bullets))for(var i=0,a=t.bullets.length;i<a;i++){var n=t.bullets[i];b(n.type)||(n.type="Bullet")}b(t.heatRules)&&kt(t.heatRules)&&(e=t.heatRules,delete t.heatRules)}if(o.prototype.processConfig.call(this,t),e){for(var i=0,a=e.length;i<a;i++){var s=e[i],l=this;if(b(s.target)&&at(s.target))if(this.map.hasKey(s.target))l=this.map.getKey(s.target);else for(var h=s.target.split("."),d=0;d<h.length;d++)if(l instanceof xt){var u=l.getIndex(Vt(h[d]));u?l=u:l=l[h[d]]}else{var p=h[d].match(/^(.*)\[([0-9]+)\]/);p?l[p[1]]instanceof xt?l=l[p[1]].getIndex(Vt(p[2])):l=l[p[1]][Vt(p[2])]:l=l[h[d]]}s.target=l,b(s.min)&&(s.min=this.maybeColorOrPercent(s.min)),b(s.max)&&(s.max=this.maybeColorOrPercent(s.max))}o.prototype.processConfig.call(this,{heatRules:e})}},r.prototype.configOrder=function(t,e){return t==e?0:t=="heatRules"?1:e=="heatRules"?-1:o.prototype.configOrder.call(this,t,e)},r.prototype.setVisibility=function(t){o.prototype.setVisibility.call(this,t),this.bulletsContainer.visible=t},r}(Te);_.registeredClasses.Series=Ze;_.registeredClasses.SeriesDataItem=Ke;var gr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="SerialChartDataItem",t.applyTheme(),t}return r}(yr),Si=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="SerialChart",t.colors=new Ue,t._usesData=!1;var e=t.chartContainer.createChild(X);e.shouldClone=!1,e.width=O(100),e.height=O(100),e.isMeasured=!1,e.layout="none",e.zIndex=2,t.seriesContainer=e;var i=t.chartContainer.createChild(X);return i.shouldClone=!1,i.width=O(100),i.height=O(100),i.isMeasured=!1,i.zIndex=3,i.layout="none",t.bulletsContainer=i,t.applyTheme(),t}return r.prototype.dispose=function(){o.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(r.prototype,"series",{get:function(){return this._series||(this._series=new Q(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new G(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),r.prototype.handleSeriesRemoved=function(t){var e=t.oldValue;this.dataUsers.removeValue(e),this.dataUsers.each(function(h){h.invalidateDataItems()}),e.autoDispose?e.dispose():(e.parent=void 0,e.bulletsContainer.parent=void 0);var i=this.legend;if(i){for(var a=this.legend.dataItems,n=a.length-1;n>=0;n--){var s=a.getIndex(n);s&&s.dataContext==e&&i.dataItems.remove(s)}for(var n=i.data.length-1;n>=0;n--){var l=i.data[n];l&&l==e&&At(i.data,l)}}},r.prototype.handleSeriesAdded=function(t){var e=this,i=t.newValue;i.isDisposed()||(i.chart=this,i.parent=this.seriesContainer,i.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(i),i.addDisposer(new st(function(){e.dataUsers.removeValue(i)})),this.handleSeriesAdded2(i),this.handleLegendSeriesAdded(i))},r.prototype.handleLegendSeriesAdded=function(t){t.hiddenInLegend||this.legend&&this.legend.addData(t)},r.prototype.handleSeriesAdded2=function(t){var e=this;this.dataInvalid||this._disposers.push(_.events.once("exitframe",function(){(!t.data||t.data.length==0)&&(t.data=e.data,t.showOnInit&&(t.reinit(),t.setPropertyValue("showOnInit",!1),t.showOnInit=!0),t.isDisposed()||t.events.once("datavalidated",function(){t.data==e.data&&(t._data=[])}))}))},r.prototype.feedLegend=function(){var t=this.legend;if(t){var e=[];w(this.series.iterator(),function(i){i.hiddenInLegend||e.push(i)}),t.dataFields.name="name",t.data=e}},r.prototype.createSeries=function(){return new Ze},Object.defineProperty(r.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(t){this.setPropertyValue("colors",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(t){this.setPropertyValue("patterns",t,!0)},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.series.copyFrom(t.series)},r.prototype.appear=function(){o.prototype.appear.call(this),this.series.each(function(t){t.showOnInit&&t.inited&&t.appear()})},r}(le);_.registeredClasses.SerialChart=Si;var qe=function(o){D(r,o);function r(){var t=o.call(this)||this;t._axis=new lt,t.dataItems=new xt,t.className="AxisBreak",t.breakSize=.01,t.marginLeft=-5,t.marginRight=-5,t.marginTop=-5,t.marginBottom=-5;var e=new et,i=new re;i.fill=e.getFor("background"),i.stroke=Ot(),i.fillOpacity=.9,i.zIndex=0,t._fillShape=i;var a=new re;a.fill=Ot(),a.stroke=e.getFor("grid"),a.strokeOpacity=.3,a.zIndex=1,t._startLine=a;var n=new re;return n.fill=Ot(),n.stroke=Ot("#000000"),n.strokeOpacity=.3,n.zIndex=2,t._endLine=n,t._disposers.push(t._axis),t.applyTheme(),t}return r.prototype.dispose=function(){o.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(r.prototype,"startLine",{get:function(){return this._startLine},set:function(t){this._startLine&&this._startLine.dispose(),this._startLine=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endLine",{get:function(){return this._endLine},set:function(t){this._endLine&&this._endLine.dispose(),this._endLine=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fillShape",{get:function(){return this._fillShape},set:function(t){this._fillShape&&this._fillShape.dispose(),this._fillShape=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),r.prototype.addBreakSprite=function(t){t.parent=this,t.isMeasured=!1,this._disposers.push(t)},Object.defineProperty(r.prototype,"axis",{get:function(){return this._axis.get()},set:function(t){if(this._axis.get()!==t){this._axis.set(t,t.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),t.renderer.createBreakSprites(this);var e=t.axisBreaks.template;this.startLine.copyFrom(e.startLine),this.endLine.copyFrom(e.endLine),this.fillShape.copyFrom(e.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(t){this.setPropertyValue("breakSize",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startPoint",{get:function(){var t=this.axis.renderer;if(t)return t.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endPoint",{get:function(){var t=this.axis.renderer;if(t)return t.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),r.prototype.draw=function(){if(o.prototype.draw.call(this),this.axis){var t=this.axis.renderer;t.updateBreakElement(this)}},Object.defineProperty(r.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(t){this.setPropertyValue("startValue",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(t){this.setPropertyValue("endValue",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),r}(X);_.registeredClasses.AxisBreak=qe;var ke=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="AxisDataItem",t.applyTheme(),t}return Object.defineProperty(r.prototype,"grid",{get:function(){if(!this._grid){var t=this.component;if(t){var e=void 0,i;if(this.isRange){if(e=t.axisRanges.template.grid,e.disabled)return;i=e.clone()}else{if(e=t.renderer.grid.template,e.disabled)return;i=t.renderer.grid.create(),this._disposers.push(new st(function(){t.renderer.grid.removeValue(i)}))}this.grid=i,i.shouldClone=!1,this._disposers.push(i),i.axis=this.component}}return this._grid},set:function(t){this._grid&&this._grid!=t&&(At(this.sprites,this._grid),this._grid.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(At(t.dataItem.sprites,t),t.dataItem.grid=void 0),this.addSprite(t)),this._grid=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tick",{get:function(){if(!this._tick){var t=this.component;if(t){var e=void 0,i;if(this.isRange){if(e=t.axisRanges.template.tick,e.disabled)return;i=e.clone()}else{if(e=t.renderer.ticks.template,e.disabled)return;i=t.renderer.ticks.create(),this._disposers.push(new st(function(){t.renderer.ticks.removeValue(i)}))}this.tick=i,i.axis=this.component,i.shouldClone=!1,this._disposers.push(i)}}return this._tick},set:function(t){this._tick&&this._tick!=t&&(At(this.sprites,this._tick),this._tick.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(At(t.dataItem.sprites,t),t.dataItem.tick=void 0),this.addSprite(t)),this._tick=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){if(!this._label){var t=this.component;if(t){var e=void 0,i;if(this.isRange){if(e=t.axisRanges.template.label,e.disabled)return;i=e.clone()}else{if(e=t.renderer.labels.template,e.disabled)return;i=t.renderer.labels.create(),this._disposers.push(new st(function(){t.renderer.labels.removeValue(i)}))}this._disposers.push(i),this.label=i,i.shouldClone=!1,i.axis=this.component,i.virtualParent=t}}return this._label},set:function(t){this._label&&this._label!=t&&(At(this.sprites,this._label),this._label.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(At(t.dataItem.sprites,t),t.dataItem.label=void 0),this.addSprite(t)),this._label=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"axisFill",{get:function(){if(!this._axisFill){var t=this.component;if(t){var e=void 0,i;if(this.isRange){if(e=t.axisRanges.template.axisFill,!this.isTemplate&&e.disabled)return;i=e.clone()}else{if(e=t.renderer.axisFills.template,e.disabled)return;i=t.renderer.axisFills.create(),this._disposers.push(new st(function(){t.renderer.axisFills.removeValue(i)}))}this.axisFill=i,i.shouldClone=!1,this._disposers.push(i)}}return this._axisFill},set:function(t){this._axisFill&&this._axisFill!=t&&(At(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(At(t.dataItem.sprites,t),t.dataItem.axisFill=void 0),t.axis=this.component,this.addSprite(t)),this._axisFill=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this._label&&(this._label.text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"contents",{get:function(){if(!this._contents){var t=new X;this.addSprite(t),t.isMeasured=!1,this._contents=t;var e=this.component;if(e){var i=e.renderer.createFill(this.component);i.disabled=!1,i.axis=e,this.addSprite(i),this._mask=i,t.mask=i}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(t){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),t&&t.dataItems.push(this),this._axisBreak=t},enumerable:!0,configurable:!0}),r.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},r.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},r.prototype.hasProperty=function(t){return t=="component"?!0:o.prototype.hasProperty.call(this,t)},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.text=t.text,t.bullet&&(this.bullet=t.bullet.clone()),this.minPosition=t.minPosition,this.maxPosition=t.maxPosition},r.prototype.setVisibility=function(t,e){o.prototype.setVisibility.call(this,t,e),this._contents&&(this._contents.visible=t)},Object.defineProperty(r.prototype,"bullet",{get:function(){return this._bullet},set:function(t){this._bullet&&this._bullet!=t&&(At(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=t,t&&this.addSprite(t)},enumerable:!0,configurable:!0}),r}(ye),rr;(function(o){o[o.Start=0]="Start",o[o.Middle=.5]="Middle",o[o.End=1]="End"})(rr||(rr={}));var $e=function(o){D(r,o);function r(){var t=o.call(this)||this;if(t._gridCount=10,t._series=new xt,t.autoDispose=!0,t._axisItemCount=0,t.constructor===r)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");t.hideTooltipWhileZooming=!0,t.minWidth=1e-4,t.minHeight=1e-4,t.className="Axis",t.shouldClone=!1,t.setPropertyValue("cursorTooltipEnabled",!0),t.toggleZoomOutButton=!0,t.zoomable=!0;var e=new et;t.title=new Ht,t.title.shouldClone=!1,t._disposers.push(t.title),t.setPropertyValue("startLocation",0),t.setPropertyValue("endLocation",1),t._dataItemsIterator=new Di(t.dataItems,function(){return t.dataItems.create()}),t._dataItemsIterator.createNewItems=!0;var i=new hr;t._disposers.push(i),i.label.padding(5,10,5,10),i.background.pointerLength=5,i.fitPointerToBounds=!0,i.background.filters.clear(),i.virtualParent=t;var a=i.background;return a.cornerRadius=0,a.fill=e.getFor("alternativeBackground"),a.stroke=a.fill,a.strokeWidth=1,a.fillOpacity=1,i.label.fill=e.getFor("alternativeText"),t.tooltip=i,t.readerHidden=!0,t.events.on("rangechangestarted",function(){t.series.each(function(n){n.hideTooltipWhileZooming&&(n.tooltip.hide(),n.tooltip.preventShow=!0)}),t.hideTooltipWhileZooming&&(t.tooltip.hide(),t.tooltip.preventShow=!0)},void 0,!1),t.events.on("rangechangeended",function(){t.series.each(function(n){n.hideTooltipWhileZooming&&(n.tooltip.hide(),n.tooltip.preventShow=!1)}),t.hideTooltipWhileZooming&&(t.tooltip.hide(),t.tooltip.preventShow=!1)},void 0,!1),t.applyTheme(),t}return r.prototype.fillRule=function(t,e){g(e)||(e=t.index),e/2==Math.round(e/2)?(t.axisFill.__disabled=!0,t.axisFill.opacity=0):(t.axisFill.opacity=1,t.axisFill.__disabled=!1)},r.prototype.createDataItem=function(){return new ke},r.prototype.invalidateLayout=function(){o.prototype.invalidateLayout.call(this),w(this.series.iterator(),function(t){t.invalidateLayout()})},r.prototype.invalidateSeries=function(){w(this.series.iterator(),function(t){t.invalidate()})},r.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},r.prototype.updateGridCount=function(){if(this.renderer){var t=this.axisLength/this.renderer.minGridDistance;t!=this._gridCount&&(this._gridCount=t,this.clearCache())}},r.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),o.prototype.validateLayout.call(this),this.updateGridCount();var t=this.renderer;t&&(t.updateAxisLine(),t.updateTooltip(),t.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},r.prototype.initRenderer=function(){},r.prototype.appendDataItem=function(t){var e=this.renderer,i=t.tick;i&&(i.above?i.parent=e.bulletsContainer:i.parent=e.gridContainer),t.label&&(t.label.parent=e);var a=t.axisFill;a&&(a.above?a.parent=e.bulletsContainer:a.parent=e.gridContainer);var n=t.grid;n&&(n.above?n.parent=e.bulletsContainer:n.parent=e.gridContainer),t.bullet&&(t.bullet.parent=e.bulletsContainer)},r.prototype.validate=function(){o.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},r.prototype.validateAxisRanges=function(){var t=this;w(this.axisRanges.iterator(),function(e){t.appendDataItem(e),t.validateDataElement(e),e.grid&&e.grid.validate(),e.tick&&e.tick.validate(),e.axisFill&&e.axisFill.validate(),e.label&&e.label.validate()})},r.prototype.validateBreaks=function(){this._axisBreaks&&w(this._axisBreaks.iterator(),function(t){t.invalidate()})},r.prototype.processBreak=function(t){var e=t.newValue;e.parent=this.renderer.breakContainer,e.axis=this},r.prototype.registerSeries=function(t){var e=this;return this.series.moveValue(t),new ne([new st(function(){e.series.removeValue(t)}),this.events.on("lengthchanged",t.invalidate,t,!1),this.events.on("lengthchanged",t.createMask,t,!1),this.events.on("startchanged",t.invalidate,t,!1),this.events.on("endchanged",t.invalidate,t,!1)])},Object.defineProperty(r.prototype,"renderer",{get:function(){return this._renderer},set:function(t){if(t!=this._renderer){this._renderer=t,t.chart=this.chart,t.axis=this,t.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(t.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var e=this.renderer.labels.create();this._disposers.push(e),e.dataItem=this.dataItems.template.clone(),e.text="L",e.parent=this.renderer,e.shouldClone=!1,e.fillOpacity=0,e.opacity=0,e.strokeOpacity=0,e.interactionsEnabled=!1,e.validate(),this.ghostLabel=e,this.events.on("beforedatavalidated",function(){e.text="L"},void 0,!1)}},enumerable:!0,configurable:!0}),r.prototype.positionToAngle=function(t){return this.renderer.positionToAngle(t)},r.prototype.pointToPosition=function(t){return this.renderer.pointToPosition(t)},r.prototype.positionToCoordinate=function(t){return this.renderer.positionToCoordinate(t)},r.prototype.getAnyRangePath=function(t,e){return this.renderer.getPositionRangePath(t,e)},r.prototype.anyToPosition=function(t){return 0},r.prototype.anyToPoint=function(t){return{x:0,y:0,angle:0}},r.prototype.getPositionRangePath=function(t,e){return this.renderer?this.renderer.getPositionRangePath(t,e):""},Object.defineProperty(r.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(t){this.setPropertyValue("cursorTooltipEnabled",t)&&(t&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(t){this.setPropertyValue("toggleZoomOutButton",t)},enumerable:!0,configurable:!0}),r.prototype.hideTooltip=function(t){o.prototype.hideTooltip.call(this,t),this._tooltipPosition=void 0},r.prototype.showTooltipAtPosition=function(t,e){var i=this._tooltip;if(!i||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(e||(t=this.toAxisPosition(t)),!g(t)||t<this.start||t>this.end){i.hide(0),this._tooltipPosition=void 0;return}var a=this.renderer;i.parent||(i.parent=this.tooltipContainer);var n=a.tooltipLocation,s=this.getCellStartPosition(t),l=this.getCellEndPosition(t);if(this.tooltipPosition=="fixed"&&(t=s+(l-s)*n),t=Y(t,this.start,this.end),this._tooltipPosition!=t){this._tooltipPosition=t;var h=a.tooltipLocation2,d=a.positionToPoint(s,h),u=a.positionToPoint(l,h);this.currentItemStartPoint=d,this.currentItemEndPoint=u,a.fullWidthTooltip&&(i.width=u.x-d.x,i.height=u.y-d.y);var p=a.positionToPoint(t,h),f=te(p,this.renderer.line);i.text=this.getTooltipText(t),i.text&&(i.delayedPointTo(f),i.show())}(!this.cursorTooltipEnabled||this.tooltip.disabled)&&i.hide(0)}},r.prototype.toAxisPosition=function(t){if(t=this.renderer.toAxisPosition(t),t!=null)return t=t*(this.end-this.start),this.renderer.inversed?t=this.end-t:t=this.start+t,t},r.prototype.toGlobalPosition=function(t){return this.renderer.inversed?t=this.end-t:t=t-this.start,t/(this.end-this.start)},r.prototype.getTooltipText=function(t){},r.prototype.updateTooltip=function(t,e){var i=this._tooltip;i&&(i.fixDoc=!1,i.pointerOrientation=t,i.setBounds(ur(e,this.renderer.line)))},r.prototype.roundPosition=function(t,e,i){return t},r.prototype.getCellStartPosition=function(t){return t},r.prototype.getCellEndPosition=function(t){return t},Object.defineProperty(r.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var t=this.createDataItem();t.isRange=!0,t.axisFill=this.renderer.axisFills.template.clone(),t.grid=this.renderer.grid.template.clone(),t.tick=this.renderer.ticks.template.clone(),t.label=this.renderer.labels.template.clone(),t.isTemplate=!0,t.component=this,t.axisFill.disabled=!1,t.tick.disabled=!1,t.grid.disabled=!1,t.label.disabled=!1,this._axisRanges=new Q(t),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new G(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),r.prototype.processAxisRange=function(t){var e=t.newValue;e.component=this,e.isRange=!0},Object.defineProperty(r.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new ga(this.createAxisBreak(),function(t,e){return ve(t.adjustedStartValue,e.adjustedStartValue)}),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new G(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),r.prototype.createAxisBreak=function(){return new qe},Object.defineProperty(r.prototype,"series",{get:function(){return this._series||(this._series=new xt),this._series},enumerable:!0,configurable:!0}),r.prototype.processSeriesDataItems=function(){},r.prototype.processSeriesDataItem=function(t,e){},r.prototype.postProcessSeriesDataItems=function(t){},r.prototype.postProcessSeriesDataItem=function(t){},r.prototype.updateAxisBySeries=function(){},r.prototype.hideUnusedDataItems=function(){var t=this,e=this._dataItemsIterator;e.createNewItems=!1,w(e.iterator(),function(i){t.validateDataElement(i),i.__disabled=!0}),e.clear(),e.createNewItems=!0},r.prototype.getSeriesDataItem=function(t,e,i){},r.prototype.getAngle=function(t,e,i,a,n){},r.prototype.getX=function(t,e,i,a,n){},r.prototype.getPositionX=function(t,e,i,a,n){},r.prototype.getY=function(t,e,i,a,n){},r.prototype.getPositionY=function(t,e,i,a,n){},Object.defineProperty(r.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),r.prototype.dataChangeUpdate=function(){},r.prototype.seriesDataChangeUpdate=function(t){},r.prototype.adjustDifference=function(t,e){var i=e-t;if(g(i))return this._axisBreaks&&Rt(this._axisBreaks.iterator(),function(a){var n=a.adjustedStartValue,s=a.adjustedEndValue;if(g(n)&&g(s)){if(n>e)return!1;if(s>=t&&g(n)&&g(s)){var l=a.breakSize,h=ma({start:n,end:s},{start:t,end:e});h&&(i-=(h.end-h.start)*(1-l))}return!0}}),i},r.prototype.isInBreak=function(t){if(this._axisBreaks)return xa(this._axisBreaks.iterator(),function(e){return t>=e.adjustedStartValue&&t<=e.adjustedEndValue})},r.prototype.fixAxisBreaks=function(){var t=this;if(this._axisBreaks){var e=this._axisBreaks;if(e.length>0){H(ba(e.iterator()),function(n){var s=U(n.startValue,n.endValue),l=tt(n.startValue,n.endValue);n.adjustedStartValue=s,n.adjustedEndValue=l,t._axisBreaks.update(n)});var i=e.first,a=Math.min(i.startValue,i.endValue);w(e.iterator(),function(n){var s=n.adjustedStartValue,l=n.adjustedEndValue;s<a&&(s=a,l<a&&(l=a)),n.adjustedStartValue=s,n.adjustedEndValue=l})}}},Object.defineProperty(r.prototype,"startIndex",{get:function(){return 0},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(t){},enumerable:!0,configurable:!0}),r.prototype.getPositionLabel=function(t){return Math.round(t*100)+"%x"},Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart=t},enumerable:!0,configurable:!0}),r.prototype.createSeriesRange=function(t){var e=this.axisRanges.create();return e.component=this,e.axisFill=this.renderer.axisFills.template.clone(),e.axisFill.disabled=!1,e.axisFill.fillOpacity=0,e.grid=this.renderer.grid.template.clone(),e.grid.disabled=!0,e.tick=this.renderer.ticks.template.clone(),e.tick.disabled=!0,e.label=this.renderer.labels.template.clone(),e.label.disabled=!0,e.addDisposer(new st(function(){t.axisRanges.removeValue(e)})),t.axisRanges.push(e),e},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.renderer?this.renderer.copyFrom(t.renderer):t.renderer&&(this.renderer=t.renderer.clone(),this._disposers.push(this.renderer)),t.title&&(this.title?this.title.copyFrom(t.title):(this.title=t.title.clone(),this.title.parent=this),this._disposers.push(this.title))},r.prototype.resetIterators=function(){this._dataItemsIterator.reset()},r.prototype.processConfig=function(t){if(t&&b(t.axisRanges)&&kt(t.axisRanges))for(var e=0,i=t.axisRanges.length;e<i;e++){var a=t.axisRanges[e];b(a.series)&&at(a.series)&&this.map.hasKey(a.series)&&(t.axisRanges[e]=this.createSeriesRange(this.map.getKey(a.series)),delete a.series,t.axisRanges[e].config=a)}o.prototype.processConfig.call(this,t)},r.prototype.configOrder=function(t,e){return t==e?0:t=="title"?1:e=="title"||t=="component"?-1:e=="component"?1:o.prototype.configOrder.call(this,t,e)},Object.defineProperty(r.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(t){this.setPropertyValue("startLocation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(t){this.setPropertyValue("endLocation",t,!0)},enumerable:!0,configurable:!0}),r.prototype.setDisabled=function(t){var e=o.prototype.setDisabled.call(this,t);return this.renderer&&(this.renderer.gridContainer.disabled=t),e},Object.defineProperty(r.prototype,"title",{get:function(){return this._title},set:function(t){this._title&&this._title!=t&&this._title.dispose(),t&&(this._title=t,t.parent=this,t.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(t){this.setPropertyValue("hideTooltipWhileZooming",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"zoomable",{get:function(){return this.getPropertyValue("zoomable")},set:function(t){this.setPropertyValue("zoomable",t)},enumerable:!0,configurable:!0}),r}(Te);_.registeredClasses.Axis=$e;_.registeredClasses.AxisDataItem=ke;dt.push({relevant:pt.maybeXS,state:function(o,r){if(o instanceof $e&&o.tooltip){var t=o.states.create(r);return t.properties.cursorTooltipEnabled=!1,t}return null}});var mr=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="AxisLine",t.element=t.paper.add("path");var e=new et;return t.stroke=e.getFor("grid"),t.strokeOpacity=.15,t.pixelPerfect=!0,t.fill=Ot(),t.applyTheme(),t.interactionsEnabled=!1,t}return r}(Z);_.registeredClasses.AxisLine=mr;var Ti=function(o){D(r,o);function r(t){var e=o.call(this)||this;e.axis=t,e.element=e.paper.add("path"),e.className="AxisFill",e.isMeasured=!1,e.location=0,e.above=!1;var i=new et;return e.fill=i.getFor("alternativeBackground"),e.fillOpacity=0,e.applyTheme(),e}return r.prototype.setDisabled=function(t){var e=o.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),e},r.prototype.draw=function(){o.prototype.draw.call(this),!(this.__disabled||this.disabled)&&this.axis&&g(this.startPosition)&&g(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(r.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(t){this.setPropertyValue("startPosition",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(t){this.setPropertyValue("endPosition",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),r.prototype.setPath=function(t){return this.setPropertyValue("path",t)?(this.element.attr({d:t}),!0):!1},Object.defineProperty(r.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),r}(Z);_.registeredClasses.AxisFill=Ti;var Ve=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="Grid",t.element=t.paper.add("path"),t.location=.5,t.isMeasured=!1,t.above=!1;var e=new et;return t.stroke=e.getFor("grid"),t.pixelPerfect=!0,t.strokeOpacity=.15,t.fill=Ot(),t.applyTheme(),t}return Object.defineProperty(r.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),r.prototype.setDisabled=function(t){var e=o.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),e},r}(Z);_.registeredClasses.Grid=Ve;dt.push({relevant:pt.maybeXS,state:function(o,r){if(o instanceof Ve){var t=o.states.create(r);return t.properties.disabled=!0,t}return null}});var Oi=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="AxisLabel",t.isMeasured=!1,t.padding(10,10,10,10),t.location=.5,t.applyTheme(),t}return Object.defineProperty(r.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t,!0)},enumerable:!0,configurable:!0}),r.prototype.setDisabled=function(t){var e=o.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),e},r}(Ht);_.registeredClasses.AxisLabel=Oi;var we=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="Tick";var e=new et;return t.fillOpacity=0,t.length=6,t.strokeOpacity=.2,t.stroke=e.getFor("grid"),t.isMeasured=!1,t.nonScalingStroke=!0,t.applyTheme(),t}return Object.defineProperty(r.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(t){this.setPropertyValue("length",t,!0)},enumerable:!0,configurable:!0}),r}(Z);_.registeredClasses.Tick=we;var xr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="AxisTick",t.element=t.paper.add("path"),t.location=.5,t.above=!1,t.isMeasured=!1,t.pixelPerfect=!0,t.strokeOpacity=0,t.length=5,t.applyTheme(),t}return Object.defineProperty(r.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),r.prototype.setDisabled=function(t){var e=o.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),e},r}(we);_.registeredClasses.AxisTick=xr;var Je=function(o){D(r,o);function r(){var t=o.call(this)||this;t._chart=new lt,t.className="AxisRenderer",t.minGridDistance=50,t.inside=!1,t.inversed=!1,t.tooltipLocation=.5,t.fullWidthTooltip=!1,t.cellStartLocation=0,t.cellEndLocation=1,t.minLabelPosition=0,t.maxLabelPosition=1,t.shouldClone=!1;var e=t.createChild(X);e.shouldClone=!1,e.layout="none",e.virtualParent=t,e.width=O(100),e.height=O(100),t.gridContainer=e,e.events.on("maxsizechanged",function(){t.inited&&t.invalidateAxisItems()},t,!1);var i=t.createChild(X);i.shouldClone=!1,i.isMeasured=!1,i.layout="none",i.width=O(100),i.height=O(100),t.breakContainer=i;var a=t.createChild(X);a.shouldClone=!1,a.isMeasured=!1,a.layout="none",a.width=O(100),a.height=O(100),t.bulletsContainer=a,t.line=t.createChild(mr),t.line.shouldClone=!1,t.line.strokeOpacity=0;var n=t.createChild(Ve);n.shouldClone=!1,t.baseGrid=n;var s=t._disposers;return s.push(n),s.push(t.line),s.push(e),s.push(i),s.push(a),s.push(t._chart),t.ticks.template.disabled=!0,t.axisFills.template.disabled=!0,t.axisFills.template.interactionsEnabled=!1,t.applyTheme(),t}return Object.defineProperty(r.prototype,"axis",{get:function(){return this._axis},set:function(t){this.setAxis(t)},enumerable:!0,configurable:!0}),r.prototype.setAxis=function(t){this._axis=t,this.baseGrid.parent=t,this.line.parent=t,this.gridContainer.bind("opacity",t)},r.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},r.prototype.updateTooltip=function(){},Object.defineProperty(r.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),r.prototype.positionItem=function(t,e){t&&t.moveTo(e)},r.prototype.positionToPoint=function(t,e){return{x:0,y:0}},r.prototype.positionToAngle=function(t){return 0},r.prototype.positionToCoordinate=function(t){var e,i=this.axis,a=i.axisFullLength;return i.renderer.inversed?e=(i.end-t)*a:e=(t-i.start)*a,e},r.prototype.updateGridContainer=function(){},r.prototype.getHeight=function(){var t=this.gridContainer;return t.parent?t.parent.pixelHeight:this.gridContainer.pixelHeight||0},r.prototype.getWidth=function(){var t=this.gridContainer;return t.parent?t.parent.pixelWidth:this.gridContainer.pixelWidth||0},r.prototype.coordinateToPosition=function(t,e){var i,a=this.axis,n=a.axisFullLength;return a.renderer.inversed?i=a.end-t/n:i=t/n+a.start,j(i,5)},r.prototype.pointToPosition=function(t){return 0},r.prototype.getPositionRangePath=function(t,e){return""},r.prototype.invalidateAxisItems=function(){var t=this.axis;t&&t.invalidateDataItems()},r.prototype.updateGridElement=function(t,e,i){},r.prototype.updateTickElement=function(t,e,i){},r.prototype.updateBullet=function(t,e,i){},r.prototype.updateLabelElement=function(t,e,i,a){},r.prototype.updateFillElement=function(t,e,i){t.startPosition=e,t.endPosition=i},r.prototype.updateAxisLine=function(){},r.prototype.updateBaseGridElement=function(){},r.prototype.updateBreakElement=function(t){this.positionItem(t.startLine,t.startPoint),this.toggleVisibility(t.startLine,t.startPosition,0,1),this.positionItem(t.endLine,t.endPoint),this.toggleVisibility(t.endLine,t.endPosition,0,1)},Object.defineProperty(r.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(t){this.setPropertyValue("minGridDistance",t)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this._chart.set(t,null)},enumerable:!0,configurable:!0}),r.prototype.toggleVisibility=function(t,e,i,a){var n=this.axis,s=t.dataItem;s&&s instanceof ke&&(g(s.minPosition)&&(i=s.minPosition),g(s.maxPosition)&&(a=s.maxPosition));var l=n.start+(n.end-n.start)*(i-1e-4),h=n.start+(n.end-n.start)*(a+1e-4);t.disabled||(e<l||e>h?t.__disabled=!0:t.__disabled=!1)},r.prototype.createBreakSprites=function(t){},Object.defineProperty(r.prototype,"axisFills",{get:function(){if(!this._axisFills){var t=this.createFill(this.axis);this._axisFills=new Q(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new G(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),r.prototype.createFill=function(t){return new Ti(t)},Object.defineProperty(r.prototype,"grid",{get:function(){if(!this._grid){var t=this.createGrid();this._grid=new Q(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new G(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),r.prototype.createGrid=function(){return new Ve},Object.defineProperty(r.prototype,"ticks",{get:function(){if(!this._ticks){var t=this.createTick();t.applyOnClones=!0,t.isMeasured=!1,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new Q(t),this._disposers.push(new G(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),r.prototype.createTick=function(){return new xr},Object.defineProperty(r.prototype,"labels",{get:function(){if(!this._labels){var t=this.createLabel();this._labels=new Q(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new G(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),r.prototype.createLabel=function(){return new Oi},Object.defineProperty(r.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t)&&this.axis&&this.axis.invalidate(),t?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(t){this.setPropertyValue("opposite",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(t){this.setPropertyValue("fullWidthTooltip",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(t){this.setPropertyValue("tooltipLocation",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(t){this.setPropertyValue("tooltipLocation2",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(t){this.setPropertyValue("cellStartLocation",t)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(t){this.setPropertyValue("cellEndLocation",t)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(t){this.setPropertyValue("inversed",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(t){this.setPropertyValue("minLabelPosition",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(t){this.setPropertyValue("maxLabelPosition",t,!0)},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.grid.template.copyFrom(t.grid.template),this.ticks.template.copyFrom(t.ticks.template),this.labels.template.copyFrom(t.labels.template),this.axisFills.template.copyFrom(t.axisFills.template),this.line.copyFrom(t.line),this.baseGrid.copyFrom(t.baseGrid)},r.prototype.toAxisPosition=function(t){return t},r.prototype.setVisibility=function(t){o.prototype.setVisibility.call(this,t),this.bulletsContainer.visible=t},r}(X);_.registeredClasses.AxisRenderer=Je;var Fe=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="AxisBullet",t.location=.5,t.isMeasured=!1,t.applyTheme(),t}return Object.defineProperty(r.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),r.prototype.setDisabled=function(t){var e=o.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),e},r}(X);_.registeredClasses.AxisBullet=Fe;var wt=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="AxisRendererY",t.minGridDistance=40,t.opposite=!1,t.height=O(100),t.labels.template.verticalCenter="middle",t.applyTheme(),t}return r.prototype.setAxis=function(t){o.prototype.setAxis.call(this,t),t.layout="horizontal"},r.prototype.updateGridContainer=function(){var t=this.axis;if(t){var e=this.gridContainer;e.y=t.pixelY,e.height=t.axisLength}},r.prototype.toAxisPosition=function(t){var e=this.axis;if(e){var i=1-t,a=e.relativePositionSprite,n=e.pixelY;if(a?n=Ct({x:0,y:this.pixelY},this.parent,a).y:a=e.parent,a){var s=n/a.innerHeight,l=e.axisLength/a.innerHeight;return 1-(i-s)/l}}return t},r.prototype.processRenderer=function(){o.prototype.processRenderer.call(this);var t=this.axis;if(t){var e=t.title;e.valign="middle",t.height instanceof ct||(t.height=O(100)),this.opposite?(e.rotation=90,this.line.toBack(),e.toFront()):(e.rotation=-90,e.toBack(),this.line.toFront())}},r.prototype.updateTooltip=function(){var t=this.axis;if(t){var e=2e3,i=0,a=0,n=e,s=this.axisLength;this.opposite?this.inside&&(i=-e,n=e):this.inside||(i=-e,n=e),this.axis.updateTooltip("horizontal",{x:i,y:a,width:n,height:s})}},Object.defineProperty(r.prototype,"axisLength",{get:function(){var t=this.axis;return t.measuredHeight-t.pixelPaddingTop-t.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),r.prototype.positionToPoint=function(t,e){return{x:0,y:this.positionToCoordinate(t)}},r.prototype.pointToPosition=function(t){return this.coordinateToPosition(t.y,t.x)},r.prototype.coordinateToPosition=function(t,e){var i,a=this.axis,n=a.axisFullLength;return a.renderer.inversed?i=1-a.start-t/n:i=t/n+(1-a.end),j(i,5)},r.prototype.getPositionRangePath=function(t,e){var i=Y(this.positionToCoordinate(t),0,this.axisLength),a=Y(this.positionToCoordinate(e),0,this.axisLength),n=Math.abs(a-i),s=this.getWidth(),l=Math.min(i,a),h=0;return Nt({x:h,y:l,width:s,height:n},!0)},r.prototype.updateGridElement=function(t,e,i){e=e+(i-e)*t.location;var a=this.positionToPoint(e);t.path=W({x:0,y:0})+R({x:this.getWidth(),y:0}),this.positionItem(t,a),this.toggleVisibility(t,e,0,1)},r.prototype.updateTickElement=function(t,e,i){e=e+(i-e)*t.location;var a=this.positionToPoint(e),n=t.length;try{Ut(this.axis.title.measuredWidth)}catch{}a.x=Ct({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.opposite?n*=t.inside?-1:1:n*=t.inside?1:-1,t.path=W({x:0,y:0})+R({x:n,y:0}),this.positionItem(t,a),this.toggleVisibility(t,e,0,1)},r.prototype.updateAxisLine=function(){this.line.path=W({x:0,y:0})+R({x:0,y:this.axisLength})},r.prototype.updateBaseGridElement=function(){o.prototype.updateBaseGridElement.call(this);var t=this.axis,e=this.getWidth(),i=this.axisLength,a=t.basePoint.y,n=this.baseGrid;if(a<-.2||a>i+.2)n.hide(0);else{var s=Ct({x:0,y:0},this.gridContainer,n.parent).x;n.path=W({x:0,y:0})+R({x:e,y:0}),n.moveTo({x:s,y:a}),n.show(0)}},r.prototype.updateLabelElement=function(t,e,i,a){b(a)||(a=t.location),e=e+(i-e)*a,t.isMeasured=!t.inside;var n=this.positionToPoint(e),s,l=0,h=this.gridContainer.maxWidth;this.opposite?(t.inside?(s="right",t.align=="left"&&(l=-h,s="left"),t.align=="center"&&(l=-h/2,s="middle")):s="left",n.x=0+l):(t.inside?(s="left",t.align=="right"&&(l=h,s="right"),t.align=="center"&&(l=h/2,s="middle")):s="right",n.x=this.measuredWidth+l),t.rotation==0&&(t.horizontalCenter=s),this.positionItem(t,n),this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},r.prototype.updateBreakElement=function(t){o.prototype.updateBreakElement.call(this,t);var e=t.startLine,i=t.endLine,a=t.fillShape,n=t.startPoint,s=t.endPoint,l=t.pixelMarginLeft,h=this.getWidth()-t.pixelMarginLeft-t.pixelMarginRight;n.y=Y(n.y,-1,this.axisLength+1),s.y=Y(s.y,-1,this.axisLength+1),n.y==s.y&&(n.y<0||n.y>this.axisLength)?t.fillShape.__disabled=!0:t.fillShape.__disabled=!1;var d=Math.abs(h-l);e.x=l,e.height=0,e.width=d,i.x=l,i.height=0,i.width=d,a.width=d,a.height=Math.abs(s.y-n.y),a.x=l,a.y=s.y},r.prototype.createBreakSprites=function(t){t.startLine=new re,t.endLine=new re;var e=new dr;e.setWavedSides(!0,!1,!0,!1),t.fillShape=e},r.prototype.positionToCoordinate=function(t){var e,i=this.axis,a=i.axisFullLength;return i.renderer.inversed?e=(t-i.start)*a:e=(i.end-t)*a,e},r.prototype.updateBullet=function(t,e,i){var a=.5;t instanceof Fe&&(a=t.location),e=e+(i-e)*a;var n=this.positionToPoint(e);n.x=Ct({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},r}(Je);_.registeredClasses.AxisRendererY=wt;dt.push({relevant:pt.widthS,state:function(o,r){if(o instanceof wt){var t=o.states.create(r);return t.properties.inside=!0,t.properties.maxLabelPosition=.9,t.properties.minLabelPosition=.1,t}return null}});dt.push({relevant:pt.widthXS,state:function(o,r){if(o instanceof wt){var t=o.states.create(r);return t.properties.disabled=!0,t}return null}});var ki=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="ValueAxisBreak",t.applyTheme(),t}return Object.defineProperty(r.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),r}(qe);_.registeredClasses.ValueAxisBreak=ki;var Qe=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="ValueAxisDataItem",t.values.value={},t.values.endValue={},t.applyTheme(),t}return Object.defineProperty(r.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(t){this.setValue("endValue",t)},enumerable:!0,configurable:!0}),r}(ke),E=function(o){D(r,o);function r(){var t=o.call(this)||this;return t._stepDecimalPlaces=0,t._prevStepDecimalPlaces=0,t._adjustLabelPrecision=!0,t._baseValue=0,t._adjustedStart=0,t._adjustedEnd=1,t._extremesChanged=!1,t._deltaMinMax=1,t._dsc=!1,t.calculateTotals=!1,t.className="ValueAxis",t.axisFieldName="value",t.setPropertyValue("maxZoomFactor",1e3),t.setPropertyValue("extraMin",0),t.setPropertyValue("extraMax",0),t.setPropertyValue("strictMinMax",!1),t.setPropertyValue("maxPrecision",Number.MAX_VALUE),t.setPropertyValue("adjustLabelPrecision",!0),t.setPropertyValue("extraTooltipPrecision",0),t.keepSelection=!1,t.includeRangesInMinMax=!1,t.applyTheme(),t}return r.prototype.fillRule=function(t){var e=t.value,i=t.component;t.axisFill.disabled||(j(e/i.step/2,5)==Math.round(e/i.step/2)?t.axisFill.__disabled=!0:t.axisFill.__disabled=!1)},r.prototype.createDataItem=function(){return new Qe},r.prototype.createAxisBreak=function(){return new ki},r.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(this._start!=0&&this.dispatchImmediately("startchanged"),this._end!=1&&this.dispatchImmediately("endchanged"),(this._start!=0||this._end!=1)&&this.dispatchImmediately("startendchanged")):(this._start!=0||this._end!=1)&&(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},r.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var t=this.series.getIndex(0),e=t.startIndex;if(t.dataItems.length>0){e>0&&e--;var i=t.endIndex;i<t.dataItems.length&&i++;for(var a=function(l){var h={},d={};n.series.each(function(u){if(!u.excludeFromTotal){var p=u.dataItems.getIndex(l);p&&mt(p.values,function(f){var c=p.values[f].workingValue;g(c)&&(g(h[f])?h[f]+=Math.abs(c):h[f]=Math.abs(c),g(d[f])?d[f]+=c:d[f]=c)})}}),n.series.each(function(u){if(!u.excludeFromTotal){var p=u.dataItems.getIndex(l);p&&mt(p.values,function(f){var c=p.values[f].workingValue;g(c)&&(p.setCalculatedValue(f,h[f],"total"),p.setCalculatedValue(f,100*c/h[f],"totalPercent"),p.setCalculatedValue(f,d[f],"sum"))})}})},n=this,s=e;s<i;++s)a(s)}}},r.prototype.validate=function(){this.axisLength<=0||(o.prototype.validate.call(this),this.getMinMax(),g(this._minAdjusted)||this.dataItems.each(function(t){t.value=null}),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},r.prototype.calculateZoom=function(){if(g(this.min)&&g(this.max)){var t=this.positionToValue(this.start),e=this.positionToValue(this.end),i=this.adjustDifference(t,e),a=this.adjustMinMax(t,e,i,this._gridCount,!0),n=Pa(a.step);this._stepDecimalPlaces=n,t=j(t,n),e=j(e,n),a=this.adjustMinMax(t,e,i,this._gridCount,!0);var s=a.step;if(this.syncWithAxis){var l=this.getCache(t+"-"+e);g(l)&&(s=l)}else t=a.min,e=a.max;(this._minZoomed!=t||this._maxZoomed!=e||this._step!=s||this._dsc)&&(this._dsc=!1,this._minZoomed=t,this._maxZoomed=e,this._step=s,this.dispatchImmediately("selectionextremeschanged"))}},r.prototype.fixSmallStep=function(t){return 1+t==1?(t*=2,this.fixSmallStep(t)):t},r.prototype.validateAxisElements=function(){var t=this;if(g(this.max)&&g(this.min)){var e=this.minZoomed-this._step*2;if(!this.logarithmic)e=Math.floor(e/this._step)*this._step;else{var i=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;i>1?e=Math.pow(10,Math.log(this.min)*Math.LOG10E):(e=Math.floor(this.minZoomed/this._step)*this._step,e==0&&(e=this.minZoomed))}var a=this._maxZoomed+this._step;this.resetIterators();var n=this._dataItemsIterator;if(this._step==0)return;this._step=this.fixSmallStep(this._step);var s=0,l=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;e<=a;){var h=this.isInBreak(e);if(!h){var d=n.find(function(v){return v.value===e});d.__disabled&&(d.__disabled=!1),this.appendDataItem(d),d.axisBreak=void 0,(d.value!=e||l)&&(d.value=e,d.text=this.formatLabel(e),d.label&&d.label.invalid&&d.label.validate(),d.value>=this.min&&d.value<=this.max&&d.label&&(this.axisLetter=="Y"&&d.label.measuredWidth>this.ghostLabel.measuredWidth||this.axisLetter=="X"&&d.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=d.label.currentText,this.ghostLabel.validate())),this.validateDataElement(d)}s++;var u=e;if(!this.logarithmic)e+=this._step;else{var i=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;i>1?e=Math.pow(10,Math.log(this.min)*Math.LOG10E+s):e+=this._step}var p=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(p<1){var f=Math.round(Math.abs(Math.log(Math.abs(p))*Math.LOG10E))+2;if(f=Math.min(13,f),e=j(e,f),u==e){e=a;break}}}var c=this._axisBreaks;if(c){var y=this.renderer;w(c.iterator(),function(v){if(v.breakSize>0&&K(v.startPoint,v.endPoint)>y.minGridDistance)for(var m=v.adjustedMin;m<=v.adjustedMax;){if(m>=v.adjustedStartValue&&m<=v.adjustedEndValue){var x=n.find(function(C){return C.value===m});x.__disabled&&(x.__disabled=!1),t.appendDataItem(x),x.axisBreak=v,x.value!=m&&(x.value=m,x.text=t.formatLabel(m),x.label&&x.label.invalid&&x.label.validate()),t.validateDataElement(x)}m+=v.adjustedStep}})}}},r.prototype.validateDataElement=function(t){o.prototype.validateDataElement.call(this,t),t.itemIndex=this._axisItemCount,this._axisItemCount++;var e=this.renderer,i=t.value,a=t.endValue,n=this.valueToPosition(i);t.position=n;var s=n,l=this.valueToPosition(i+this._step);g(a)&&(s=this.valueToPosition(a),l=s),t.point=e.positionToPoint(n);var h=t.tick;h&&!h.disabled&&e.updateTickElement(h,n,s);var d=t.grid;d&&!d.disabled&&e.updateGridElement(d,n,s);var u=t.label;u&&!u.disabled&&e.updateLabelElement(u,n,s);var p=t.axisFill;p&&!p.disabled&&(e.updateFillElement(p,n,l),t.isRange||this.fillRule(t)),t.bullet&&e.updateBullet(t.bullet,n,s);var f=t.mask;f&&e.updateFillElement(f,n,l)},r.prototype.formatLabel=function(t){return this.adjustLabelPrecision&&t!=0?this.numberFormatter.format(t,void 0,this._stepDecimalPlaces):this.numberFormatter.format(t)},Object.defineProperty(r.prototype,"basePoint",{get:function(){var t=this.baseValue,e=this.valueToPosition(t),i=this.renderer.positionToPoint(e);return i},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"baseValue",{get:function(){var t=this._baseValue;return this.logarithmic&&(t=this.min),this._adapterO?this._adapterO.apply("baseValue",t):t},set:function(t){this._baseValue=t,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),r.prototype.anyToPosition=function(t){return this.valueToPosition(t)},r.prototype.valueToPoint=function(t){var e=this.valueToPosition(t),i=this.renderer.positionToPoint(e),a=this.renderer.positionToAngle(e);return{x:i.x,y:i.y,angle:a}},r.prototype.anyToPoint=function(t){return this.valueToPoint(t)},r.prototype.valueToPosition=function(t){if(g(t)){var e=this.min,i=this.max;if(g(e)&&g(i)){var a=this._difference,n=this._axisBreaks;n&&n.length>0&&Rt(n.iterator(),function(h){var d=h.adjustedStartValue,u=h.adjustedEndValue;if(g(d)&&g(u)){if(t<d)return!1;if(Ne({start:d,end:u},{start:e,end:i})){d=Math.max(d,e),u=Math.min(u,i);var p=h.breakSize;t>u?e+=(u-d)*(1-p):t<d||(t=d+(t-d)*p)}}return!0});var s=void 0;if(!this.logarithmic)s=(t-e)/a;else{var l=this.treatZeroAs;g(l)&&t<=l&&(t=l),s=(Math.log(t)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)}return s}}return 0},r.prototype.invalidateLabels=function(){o.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each(function(t){t.value=void 0}),this.invalidate())},r.prototype.positionToValue=function(t){var e=this.min,i=this.max;if(g(e)&&g(i)){var a=i-e,n=null,s=this._axisBreaks;return s&&s.length>0&&Rt(s.iterator(),function(l){var h=l.startPosition,d=l.endPosition,u=l.adjustedStartValue,p=l.adjustedEndValue;if(g(u)&&g(p)){if(u>i)return!1;if(Ne({start:u,end:p},{start:e,end:i})){u=tt(u,e),p=U(p,i);var f=l.breakSize;if(a-=(p-u)*(1-f),t>d)e+=(p-u)*(1-f);else if(!(t<h)){var c=(t-h)/(d-h);return n=u+c*(p-u),!1}}return!0}}),g(n)||(this.logarithmic?n=Math.pow(Math.E,(t*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):n=t*a+e),n}},r.prototype.xToValue=function(t){return this.positionToValue(this.pointToPosition({x:t,y:0}))},r.prototype.yToValue=function(t){return this.positionToValue(this.pointToPosition({x:0,y:t}))},r.prototype.pointToPosition=function(t){return this.renderer instanceof wt?1-this.renderer.pointToPosition(t):this.renderer.pointToPosition(t)},r.prototype.animateMinMax=function(t,e){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:t},{property:"_maxAdjusted",from:this._maxAdjusted,to:e}],this.rangeChangeDuration,this.rangeChangeEasing)},r.prototype.getMinMax=function(){var t=this;this.updateGridCount();var e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if((!g(this._minDefined)||!g(this._maxDefined))&&(this.series.each(function(p){if(!p.ignoreMinMax){var f=p.min(t);g(f)&&f<e&&(e=f);var c=p.max(t);g(c)&&c>i&&(i=c)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(p){if(!p.ignoreMinMax){var f=U(p.value,p.endValue),c=tt(p.value,p.endValue);(f<e||!g(e))&&(e=f),(c>i||!g(i))&&(i=c)}})),this.logarithmic){var a=this.treatZeroAs;g(a)&&e<=0&&(e=a),e<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0)}if(e==0&&i==0&&(i=.9,e=-.9),g(this._minDefined)&&(e=this._minDefined),g(this._maxDefined)&&(i=this._maxDefined),this._adapterO&&(e=this._adapterO.apply("min",e)),this._adapterO&&(i=this._adapterO.apply("max",i)),!(!g(e)||!g(i))){this._minReal=e,this._maxReal=i,e==Number.POSITIVE_INFINITY&&(e=void 0),i==Number.NEGATIVE_INFINITY&&(i=void 0);var n=this.adjustDifference(e,i);if(e=this.fixMin(e),i=this.fixMax(i),i-e<=1/Math.pow(10,15)){if(i-e!=0)this._deltaMinMax=(i-e)/2;else{var s=Math.log(Math.abs(i))*Math.LOG10E,l=Math.pow(10,Math.floor(s));l=l/10,this._deltaMinMax=l}e-=this._deltaMinMax,i+=this._deltaMinMax}e-=(i-e)*this.extraMin,i+=(i-e)*this.extraMax;var h=this.strictMinMax;g(this._maxDefined)&&(h=!0);var d=this.adjustMinMax(e,i,n,this._gridCount,h);if(e=d.min,i=d.max,n=i-e,d=this.adjustMinMax(e,i,i-e,this._gridCount,!0),e=d.min,i=d.max,this.strictMinMax&&(g(this._minDefined)?e=this._minDefined:e=this._minReal,g(this._maxDefined)?i=this._maxDefined:i=this._maxReal,i-e<=1e-8&&(e-=this._deltaMinMax,i+=this._deltaMinMax),e-=(i-e)*this.extraMin,i+=(i-e)*this.extraMax),this._adapterO&&(e=this._adapterO.apply("min",e)),this._adapterO&&(i=this._adapterO.apply("max",i)),this._step=d.step,!g(e)&&!g(i)&&(this.start=0,this.end=1,this.renderer.labels.each(function(p){p.dataItem.text=""})),(this._minAdjusted!=e||this._maxAdjusted!=i)&&g(e)&&g(i)){var u=this._minMaxAnimation;if(this._extremesChanged&&g(this._minAdjusted)&&g(this._maxAdjusted)&&this.inited){if(u&&!u.isFinished()&&this._finalMax==i&&this._finalMin==e)return;this._finalMin=e,this._finalMax=i,u=this.animateMinMax(e,i),u&&!u.isFinished()?(u.events.on("animationprogress",this.validateDataItems,this),u.events.on("animationended",function(){t.series.each(function(p){p.validate()}),t.validateDataItems(),t.handleSelectionExtremesChange()}),this._minMaxAnimation=u):this.series.each(function(p){p.invalidate()}),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(u&&!u.isFinished()&&this._finalMax==i&&this._finalMin==e)return;this._minAdjusted=e,this._maxAdjusted=i,this._finalMin=e,this._finalMax=i,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged")}}this._extremesChanged=!1,this._difference=this.adjustDifference(e,i)}},r.prototype.fixMin=function(t){return t},r.prototype.fixMax=function(t){return t},r.prototype.adjustMinMax=function(t,e,i,a,n){a<=1&&(a=1),a=Math.round(a);var s=t,l=e;i===0&&(i=Math.abs(e));var h=Math.log(Math.abs(i))*Math.LOG10E,d=Math.pow(10,Math.floor(h));d=d/10;var u=d;n&&(u=0),this.logarithmic?(t<=0&&(t=this.baseValue),t==1/0&&(t=1),e==-1/0&&(e=10),this.strictMinMax?(this._minDefined>0?t=this._minDefined:t=t,this._maxDefined>0&&(e=e)):(t=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E)),e=Math.pow(10,Math.ceil(Math.log(Math.abs(e))*Math.LOG10E)))):(n?(t=Math.floor(t/d)*d,e=Math.ceil(e/d)*d):(t=Math.ceil(t/d)*d-u,e=Math.floor(e/d)*d+u),t<0&&s>=0&&(t=0),e>0&&l<=0&&(e=0)),h=Math.log(Math.abs(i))*Math.LOG10E,d=Math.pow(10,Math.floor(h)),d=d/10;var p=Math.ceil(i/a/d)*d,f=Math.pow(10,Math.floor(Math.log(Math.abs(p))*Math.LOG10E)),c=Math.ceil(p/f);c>5?c=10:c<=5&&c>2&&(c=5),p=Math.ceil(p/(f*c))*f*c,this.maxPrecision<Number.MAX_VALUE&&p!=Ui(p,this.maxPrecision)&&(p=Ui(p,this.maxPrecision));var y=0;if(f<1&&(y=Math.round(Math.abs(Math.log(Math.abs(f))*Math.LOG10E))+1,p=j(p,y)),!this.logarithmic){var v=Math.floor(t/p);t=j(p*v,y);var m=void 0;n?m=Math.floor(e/p):m=Math.ceil(e/p),m==v&&m++,e=j(p*m,y),e<l&&(e=e+p),t>s&&(t=t-p)}return{min:t,max:e,step:p}},Object.defineProperty(r.prototype,"min",{get:function(){var t=this._minAdjusted;return g(t)||(t=this._minDefined),t},set:function(t){this._minDefined!=t&&(this._minDefined=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(t){this.setPropertyValue("extraMin",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(t){this.setPropertyValue("extraMax",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){var t=this._maxAdjusted;return g(t)||(t=this._maxDefined),t},set:function(t){this._maxDefined!=t&&(this._maxDefined=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(t){this.setPropertyValue("adjustLabelPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),r.prototype.registerSeries=function(t){return new ne([o.prototype.registerSeries.call(this,t),t.events.on("extremeschanged",this.handleExtremesChange,this,!1),t.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",t.invalidate,t,!1)])},r.prototype.handleSelectionExtremesChange=function(){var t=this,e,i,a=!0;if(w(this.series.iterator(),function(f){if(!f.ignoreMinMax&&!f.isHidden&&!f.outOfRange){f.visible&&!f.isHiding&&(a=!1);var c=f.selectionMin(t),y=f.selectionMax(t);g(c)&&(!g(e)||c<e)&&(e=c),g(y)&&(!g(i)||y>i)&&(i=y)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(f){if(!f.ignoreMinMax){var c=U(f.value,f.endValue),y=tt(f.value,f.endValue);c<e&&(e=c),y>i&&(i=y)}}),g(this._minDefined)?this.strictMinMax?e=this._minDefined:e=this.min:this.strictMinMax&&(e=this._minReal),g(this._maxDefined)?this.strictMinMax?i=this._maxDefined:i=this.max:this.strictMinMax&&(i=this._maxReal),e==i){e-=this._deltaMinMax,i+=this._deltaMinMax;var n=this.adjustMinMax(e,i,0,this._gridCount,this.strictMinMax);e=n.min,i=n.max}var s=this.adjustDifference(e,i),l=this.adjustMinMax(e,i,s,this._gridCount);e=l.min,i=l.max,e-=(i-e)*this.extraMin,i+=(i-e)*this.extraMax,e=Y(e,this.min,this.max),i=Y(i,this.min,this.max),s=this.adjustDifference(e,i),l=this.adjustMinMax(e,i,s,this._gridCount,!0),e=l.min,i=l.max,this.strictMinMax&&(e=tt(e,this._minDefined),i=U(i,this._maxDefined));var h=l.step;this.syncWithAxis&&(l=this.syncAxes(e,i,h),e=l.min,i=l.max,this.invalidate()),h=l.step,this._difference=this.adjustDifference(this.min,this.max);var d=this.valueToPosition(e),u=this.valueToPosition(i);a&&!this.syncWithAxis&&(d=0,u=1);var p=0;this.syncWithAxis?(p=5,this.setCache(e+"-"+i,h)):((this._step!=h||this._minZoomed!=e||this._maxZoomed!=i)&&(this._dsc=!0),this._step=h,this._minZoomed=e,this._maxZoomed=i),this.keepSelection||this.zoom({start:d,end:u},!1,!1,p)},Object.defineProperty(r.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(t){this.setPropertyValue("strictMinMax",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(t){this.setPropertyValue("logarithmic",t)&&(this.invalidate(),this.series.each(function(e){e.invalidateDataItems()}))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(t){this.setPropertyValue("keepSelection",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(t){this.setPropertyValue("includeRangesInMinMax",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(t){this.setPropertyValue("maxPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(t){this.setPropertyValue("extraTooltipPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),r.prototype.handleExtremesChange=function(){var t=this;if(this._extremesChanged=!0,this.getMinMax(),this.ghostLabel){var e=0;this.dataItems.each(function(i){i.label&&i.label.pixelWidth>e&&(t.ghostLabel.text=i.label.currentText)})}},r.prototype.getX=function(t,e,i,a,n){return this.renderer.positionToPoint(this.getPositionX(t,e,i,a,n)).x},r.prototype.getPositionX=function(t,e,i,a,n){var s=t.getWorkingValue(e);b(a)||(a="valueX");var l=t.getValue(a,"stack");g(s)||(s=this.baseValue,this.logarithmic&&l>0&&(s=0));var h=this.valueToPosition(s+l);return n&&(h=Y(h,n.start,n.end)),h},r.prototype.getY=function(t,e,i,a,n){return this.renderer.positionToPoint(this.getPositionY(t,e,i,a,n)).y},r.prototype.getPositionY=function(t,e,i,a,n){var s=t.getWorkingValue(e);b(a)||(a="valueY");var l=t.getValue(a,"stack");g(s)||(s=this.baseValue,this.logarithmic&&l>0&&(s=0));var h=this.valueToPosition(s+l);return n&&(h=Y(h,n.start,n.end)),h},r.prototype.getAngle=function(t,e,i,a,n){var s=t.getWorkingValue(e),l=t.getValue(a,"stack");g(s)||(s=this.baseValue);var h=this.valueToPosition(s+l);return n&&(h=Y(h,n.start,n.end)),this.positionToAngle(h)},r.prototype.getAnyRangePath=function(t,e,i){var a=this.valueToPosition(t),n=this.valueToPosition(e);return this.getPositionRangePath(a,n)},r.prototype.getTooltipText=function(t){var e=j(this.positionToValue(t),this._stepDecimalPlaces+this.extraTooltipPrecision),i=this.tooltip.numberFormatter.format(e);return this._adapterO?this._adapterO.apply("getTooltipText",i):i},r.prototype.zoomToValues=function(t,e,i,a){var n=(t-this.min)/(this.max-this.min),s=(e-this.min)/(this.max-this.min);this.zoom({start:n,end:s},i,a)},Object.defineProperty(r.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:tt(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:U(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),r.prototype.fixAxisBreaks=function(){var t=this;o.prototype.fixAxisBreaks.call(this);var e=this._axisBreaks;e&&e.length>0&&e.each(function(i){var a=i.adjustedStartValue,n=i.adjustedEndValue,s=n-a,l=Math.ceil(s*i.breakSize)*t._gridCount/(t.max-t.min),h=t.adjustMinMax(a,n,s,l,!0);i.adjustedStep=h.step,i.adjustedMin=h.min,i.adjustedMax=h.max}),this._difference=this.adjustDifference(this.min,this.max)},r.prototype.getPositionLabel=function(t){var e=this.positionToValue(t);return this.numberFormatter.format(e)},r.prototype.showTooltipAt=function(t){this.showTooltipAtPosition(this.valueToPosition(t))},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.min=t.min,this.max=t.max,this.calculateTotals=t.calculateTotals,this._baseValue=t.baseValue},Object.defineProperty(r.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(t){var e=this;this.setPropertyValue("syncWithAxis",t,!0)&&t&&(this._disposers.push(t.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(t.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(t.events.on("startendchanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",function(){e.clearCache(),e._disposers.push(_.events.once("exitframe",function(){e.handleSelectionExtremesChange()}))},this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"treatZeroAs",{get:function(){return this.getPropertyValue("treatZeroAs")},set:function(t){this.setPropertyValue("treatZeroAs",t,!0)},enumerable:!0,configurable:!0}),r.prototype.syncAxes=function(t,e,i){var a=this.syncWithAxis;if(a){g(t)||(t=this.min),g(e)||(e=this.max),g(i)||(i=this._step);var n=Math.round((a.maxZoomed-a.minZoomed)/a.step),s=Math.round((e-t)/i);if(g(n)&&g(s))for(var l=!1,h=0,d=(e-t)*.01,u=t,p=e,f=i;l!=!0;)if(l=this.checkSync(u,p,f,n),h++,h>1e3&&(l=!0),l)t=u,e=p,i=f;else{h/3==Math.round(h/3)?(u=t-d*h,t>=0&&u<0&&(u=0)):(p=e+d*h,p<=0&&p>0&&(p=0));var c=this.adjustMinMax(u,p,p-u,this._gridCount,!0);u=c.min,p=c.max,f=c.step}}return{min:t,max:e,step:i}},r.prototype.checkSync=function(t,e,i,a){for(var n=(e-t)/i,s=1;s<a;s++)if(j(n/s,1)==a||n*s==a)return!0;return!1},r.prototype.processConfig=function(t){t&&b(t.syncWithAxis)&&at(t.syncWithAxis)&&(this.map.hasKey(t.syncWithAxis)?t.syncWithAxis=this.map.getKey(t.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+t.syncWithAxis+'" found for `syncWithAxis`'),delete t.xAxis)),o.prototype.processConfig.call(this,t)},r}($e);_.registeredClasses.ValueAxis=E;_.registeredClasses.ValueAxisDataItem=Qe;var br=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="DateAxisBreak",t.applyTheme(),t}return Object.defineProperty(r.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},set:function(t){this.setPropertyValue("startDate",t)&&(this.startValue=t.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(t){this.setPropertyValue("endDate",t)&&(this.endValue=t.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),r}(ki);_.registeredClasses.DateAxisBreak=br;var Pr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="DateAxisDataItem",t.applyTheme(),t.values.date={},t.values.endDate={},t}return Object.defineProperty(r.prototype,"date",{get:function(){return this.dates.date},set:function(t){this.setDate("date",t),this.value=t.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(t){this.setDate("endDate",t),this.endValue=t.getTime()},enumerable:!0,configurable:!0}),r}(Qe),z=function(o){D(r,o);function r(){var t=o.call(this)||this;return t._gapBreaks=!1,t.gridIntervals=new xt,t.groupIntervals=new xt,t.dateFormats=new St,t.periodChangeDateFormats=new St,t._baseIntervalReal={timeUnit:"day",count:1},t._prevSeriesTime={},t._minDifference={},t._firstWeekDay=1,t.groupMin={},t.groupMax={},t.className="DateAxis",t.setPropertyValue("markUnitChange",!0),t.snapTooltip=!0,t.tooltipPosition="pointer",t.setPropertyValue("groupData",!1),t.groupCount=200,t.events.on("parentset",t.getDFFormatter,t,!1),t.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}]),t.groupIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}]),t.axisFieldName="date",t.applyTheme(),t}return r.prototype.fillRule=function(t){var e=t.value,i=t.component,a=i._gridInterval,n=q(a.timeUnit,a.count);Math.round((e-i.min)/n)/2==Math.round(Math.round((e-i.min)/n)/2)?t.axisFill.__disabled=!0:t.axisFill.__disabled=!1},r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",this.language.translate("_date_second")),this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute")),this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour")),this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day")),this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day")),this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",this.language.translate("_date_month")),this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year")),this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second")),this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",this.language.translate("_date_minute")),this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",this.language.translate("_date_month")+" "+this.language.translate("_date_year"))},r.prototype.createDataItem=function(){return new Pr},r.prototype.createAxisBreak=function(){return new br},r.prototype.validateDataItems=function(){var t=this.start,e=this.end,i=this.baseDuration,a=(this.max-this.min)/i;this._firstWeekDay=this.getFirstWeekDay(),this.getDFFormatter(),o.prototype.validateDataItems.call(this);var n=q(this.mainBaseInterval.timeUnit,this.mainBaseInterval.count);this.maxZoomFactor=Math.max(1,(this.max-this.min)/n),this._deltaMinMax=this.baseDuration/2;var s=(this.max-this.min)/i;t=t+(e-t)*(1-a/s),this.zoom({start:t,end:e},!1,!0)},r.prototype.handleSelectionExtremesChange=function(){},r.prototype.calculateZoom=function(){var t=this;o.prototype.calculateZoom.call(this);var e=this.adjustDifference(this._minZoomed,this._maxZoomed),i=!1;if(this.groupData&&b(e)){var a=this.mainBaseInterval,n=e+(this.startLocation+(1-this.endLocation))*this.baseDuration,s=void 0;this.groupInterval?s=Lt({},this.groupInterval):(s=this.chooseInterval(0,n,this.groupCount,this.groupIntervals),q(s.timeUnit,s.count)<q(a.timeUnit,a.count)&&(s=Lt({},a))),this._groupInterval=s;var l=s.timeUnit+s.count;this._currentDataSetId!=l&&(this._currentDataSetId=l,this.dispatch("groupperiodchanged")),this.series.each(function(d){d.baseAxis==t&&d.setDataSet(t._currentDataSetId)&&(i=!0)})}var h=this.chooseInterval(0,e,this._gridCount);q(h.timeUnit,h.count)<this.baseDuration&&(h=Lt({},this.baseInterval)),this._gridInterval=h,this._nextGridUnit=Ca(h.timeUnit),this._intervalDuration=q(h.timeUnit,h.count),this._gridDate=nt(new Date(this.minZoomed-q(h.timeUnit,h.count)),h.timeUnit,h.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),w(this.series.iterator(),function(d){if(d.baseAxis==t){var u=d.getAxisField(t),p=nt(new Date(t._minZoomed+t.baseDuration*.05),t.baseInterval.timeUnit,t.baseInterval.count,t._firstWeekDay,t._df.utc,void 0,t._df.timezoneMinutes,t._df.timezone).getTime(),f=p.toString(),c=d.dataItemsByAxis.getKey(t.uid).getKey(f+d.currentDataSetId),y=0;t.start!=0&&(c?(c=t.findFirst(c,p,u),y=c.index):y=d.dataItems.findClosestIndex(t._minZoomed,function(A){return A[u]},"left"));var v=t.baseInterval,m=ut(nt(new Date(t._maxZoomed),v.timeUnit,v.count,t._firstWeekDay,t._df.utc,void 0,t._df.timezoneMinutes,t._df.timezone),v.timeUnit,v.count,t._df.utc).getTime(),x=m.toString(),C=d.dataItemsByAxis.getKey(t.uid).getKey(x+d.currentDataSetId),S=d.dataItems.length;t.end!=1&&(C?S=C.index:(m-=1,S=d.dataItems.findClosestIndex(m,function(A){return A[u]},"right"),S++)),d.max(t)<p?(d.startIndex=d.dataItems.length,d.endIndex=d.dataItems.length,d.outOfRange=!0):d.min(t)>m?(d.startIndex=0,d.endIndex=0,d.outOfRange=!0):(d.outOfRange=!1,d.startIndex=y,d.endIndex=S),!i&&d.dataRangeInvalid&&d.validateDataRange()}})},r.prototype.findFirst=function(t,e,i){var a=t.index;if(a>0){var n=t.component,s=n.dataItems.getIndex(a-1),l=s[i];return!l||l.getTime()<e?t:this.findFirst(s,e,i)}else return t},r.prototype.validateData=function(){o.prototype.validateData.call(this),g(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(r.prototype,"minDifference",{get:function(){var t=this,e=Number.MAX_VALUE;return this.series.each(function(i){e>t._minDifference[i.uid]&&(e=t._minDifference[i.uid])}),(e==Number.MAX_VALUE||e==0)&&(e=q("day")),e},enumerable:!0,configurable:!0}),r.prototype.seriesDataChangeUpdate=function(t){this._minDifference[t.uid]=Number.MAX_VALUE},r.prototype.postProcessSeriesDataItems=function(t){var e=this;this._firstWeekDay=this.getFirstWeekDay(),t?this.seriesGroupUpdate(t):this.series.each(function(i){e.seriesGroupUpdate(i)}),this.addEmptyUnitsBreaks()},r.prototype.seriesGroupUpdate=function(t){var e=this;JSON.stringify(t._baseInterval[this.uid])!=JSON.stringify(this.mainBaseInterval)&&(t._baseInterval[this.uid]=this.mainBaseInterval,t.mainDataSet.each(function(i){e.postProcessSeriesDataItem(i)}),this.groupData&&this.groupSeriesData(t))},r.prototype.groupSeriesData=function(t){var e=this;if(t.baseAxis==this&&t.dataItems.length>0&&!t.dataGrouped){t.bulletsContainer.removeChildren();var i=[],a=this.mainBaseInterval,n=q(a.timeUnit,a.count);this.groupIntervals.each(function(s){var l=q(s.timeUnit,s.count);(l>n&&l<e.max-e.min||e.groupInterval)&&i.push(s)}),t._dataSets&&(t._dataSets.each(function(s,l){l.each(function(h){h.dispose()}),l.clear()}),t._dataSets.clear()),t.dataGrouped=!0,H(i,function(s){var l="date"+e.axisLetter,h=s.timeUnit+s.count,d=new Da(t.mainDataSet.template.clone());t.dataSets.setKey(h,d);var u=t.mainDataSet,p=Number.NEGATIVE_INFINITY,f=0,c,y=[];mt(t.dataFields,function(m,x){var C=m;C!=l&&C.indexOf("Show")==-1&&y.push(C)});var v;u.each(function(m){var x=m.getDate(l);if(x){var C=x.getTime();v=nt(new Date(C),s.timeUnit,s.count,e._df.firstDayOfWeek,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone);var S=v.getTime();p<S?(c&&t._adapterO&&H(y,function(A){c.values[A].value=t._adapterO.apply("groupDataItem",{dataItem:c,interval:s,dataField:A,date:v,value:c.values[A].value}).value,c.values[A].workingValue=c.values[A].value}),c=d.create(),c.dataContext={},c.setWorkingLocation("dateX",t.dataItems.template.locations.dateX,0),c.setWorkingLocation("openDateX",t.dataItems.template.locations.openDateX,0),c.setWorkingLocation("dateY",t.dataItems.template.locations.dateY,0),c.setWorkingLocation("openDateY",t.dataItems.template.locations.openDateY,0),c.component=t,c.setDate(l,v),c._index=f,f++,H(y,function(A){var T=m.values[A];if(T){var P=T.value;t._adapterO&&(P=t._adapterO.apply("groupValue",{dataItem:m,interval:s,dataField:A,date:v,value:P}).value);var k=c.values[A];g(P)?(k.value=P,k.workingValue=P,k.open=P,k.close=P,k.low=P,k.high=P,k.sum=P,k.average=P,k.count=1):k.count=0}}),e.postProcessSeriesDataItem(c,s),mt(t.propertyFields,function(A,T){var P=A,k=m.properties[A];b(k)&&(c.hasProperties=!0,c.setProperty(P,k))}),c.groupDataItems=[m],p=S):c&&(H(y,function(A){var T=t.groupFields[A],P=m.values[A];if(P){var k=P.value;if(t._adapterO&&(k=t._adapterO.apply("groupValue",{dataItem:m,interval:s,dataField:A,date:v,value:k}).value),g(k)){var V=c.values[A];g(V.open)||(V.open=k),V.close=k,(V.low>k||!g(V.low))&&(V.low=k),(V.high<k||!g(V.high))&&(V.high=k),g(V.sum)?V.sum+=k:V.sum=k,V.count++,V.average=V.sum/V.count,g(V[T])&&(V.value=V[T],V.workingValue=V.value)}}}),di(m.properties,c.properties),mt(t.propertyFields,function(A,T){var P=A,k=m.properties[A];b(k)&&(c.hasProperties=!0,c.setProperty(P,k))}),c.groupDataItems.push(m))}c&&di(m.dataContext,c.dataContext)}),c&&t._adapterO&&H(y,function(m){c.values[m].value=t._adapterO.apply("groupDataItem",{dataItem:c,interval:s,dataField:m,date:v,value:c.values[m].value}).value,c.values[m].workingValue=c.values[m].value})}),this.calculateZoom()}},r.prototype.getDFFormatter=function(){this._df=this.dateFormatter},r.prototype.postProcessSeriesDataItem=function(t,e){var i=this,a="";e?a=e.timeUnit+e.count:e=this.mainBaseInterval;var n=t.component,s=n.dataItemsByAxis.getKey(this.uid);mt(t.dates,function(l){var h=t.getDate(l),d=h.getTime(),u=nt(new Date(d),e.timeUnit,e.count,i._firstWeekDay,i._df.utc,void 0,i._df.timezoneMinutes,i._df.timezone),p=u.getTime(),f=ut(new Date(p),e.timeUnit,e.count,i._df.utc);t.setCalculatedValue(l,p,"open"),t.setCalculatedValue(l,f.getTime(),"close"),s.setKey(p+a,t)})},r.prototype.addEmptyUnitsBreaks=function(){var t=this;if(this.skipEmptyPeriods&&g(this.min)&&g(this.max)){var e=this.baseInterval.timeUnit,i=this.baseInterval.count;this._axisBreaks&&this._axisBreaks.clear();for(var a=nt(new Date(this.min),e,i,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),n=void 0,s=function(){ut(a,e,i,l._df.utc);var h=a.getTime(),d=h.toString(),u=_a(l.series.iterator(),function(p){return!!p.dataItemsByAxis.getKey(t.uid).getKey(d+p.currentDataSetId)});u?n&&(n.endDate=new Date(h-1),n=void 0):n||(n=l.axisBreaks.create(),n.startDate=new Date(h),l._gapBreaks=!0)},l=this;a.getTime()<this.max-this.baseDuration;)s()}},r.prototype.fixAxisBreaks=function(){var t=this;o.prototype.fixAxisBreaks.call(this);var e=this._axisBreaks;e&&e.length>0&&e.each(function(i){var a=Math.ceil(t._gridCount*(Math.min(t.end,i.endPosition)-Math.max(t.start,i.startPosition))/(t.end-t.start));i.gridInterval=t.chooseInterval(0,i.adjustedEndValue-i.adjustedStartValue,a);var n=nt(new Date(i.adjustedStartValue),i.gridInterval.timeUnit,i.gridInterval.count,t._firstWeekDay,t._df.utc,void 0,t._df.timezoneMinutes,t._df.timezone);n.getTime()>i.startDate.getTime()&&ut(n,i.gridInterval.timeUnit,i.gridInterval.count,t._df.utc),i.gridDate=n})},r.prototype.getFirstWeekDay=function(){return this._df?this._df.firstDayOfWeek:1},r.prototype.getGridDate=function(t,e){var i=this._gridInterval.timeUnit,a=this._gridInterval.count;nt(t,i,1,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);var n=t.getTime(),s=fe(t),l=ut(s,i,e,this._df.utc).getTime(),h=this.isInBreak(l);h&&h.endDate&&(s=new Date(h.endDate.getTime()),nt(s,i,a,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),s.getTime()<h.endDate.getTime()&&ut(s,i,a,this._df.utc),l=s.getTime());var d=this.adjustDifference(n,l),u=Math.round(d/q(i));return u<a?this.getGridDate(t,e+a):s},r.prototype.getBreaklessDate=function(t,e,i){var a=new Date(t.endValue);nt(a,e,i,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),ut(a,e,i,this._df.utc);var n=a.getTime();return t=this.isInBreak(n),t?this.getBreaklessDate(t,e,i):a},r.prototype.validateAxisElements=function(){var t=this;if(g(this.max)&&g(this.min)){this.calculateZoom();var e=this._gridDate.getTime(),i=this._gridInterval.timeUnit,a=this._gridInterval.count,n=fe(this._gridDate),s=this._dataItemsIterator;this.resetIterators();for(var l=function(){var u=h.getGridDate(fe(n),a);e=u.getTime();var p=fe(u);p=ut(p,i,a,h._df.utc);var f=h.dateFormats.getKey(i);h.markUnitChange&&n&&Gi(u,n,h._nextGridUnit,h._df.utc)&&i!=="year"&&(f=h.periodChangeDateFormats.getKey(i));var c=h._df.format(u,f),y=s.find(function(v){return v.text===c});y.__disabled&&(y.__disabled=!1),h.appendDataItem(y),y.axisBreak=void 0,y.date=u,y.endDate=p,y.text=c,h.validateDataElement(y),n=u},h=this;e<=this._maxZoomed;)l();var d=this.renderer;this._axisBreaks&&w(this._axisBreaks.iterator(),function(u){if(u.breakSize>0){var p=u.gridInterval.timeUnit,f=u.gridInterval.count;if(K(u.startPoint,u.endPoint)>d.minGridDistance*4)for(var c=u.gridDate.getTime(),y,v=0,m=function(){var x=fe(u.gridDate);if(c=ut(x,p,f*v,t._df.utc).getTime(),v++,c>u.adjustedStartValue&&c<u.adjustedEndValue){var C=fe(x);C=ut(C,p,f,t._df.utc);var S=t.dateFormats.getKey(p);t.markUnitChange&&y&&Gi(x,y,t._nextGridUnit,t._df.utc)&&p!=="year"&&(S=t.periodChangeDateFormats.getKey(p));var A=t._df.format(x,S),T=s.find(function(P){return P.text===A});T.__disabled&&(T.__disabled=!1),t.appendDataItem(T),T.axisBreak=u,u.dataItems.moveValue(T),T.date=x,T.endDate=C,T.text=A,y=x,t.validateDataElement(T)}};c<=u.adjustedMax;)m()}})}},r.prototype.validateDataElement=function(t){if(t.itemIndex=this._axisItemCount,this._axisItemCount++,g(this.max)&&g(this.min)){var e=this.renderer,i=t.value,a=t.endValue;g(a)||(a=i);var n=this.valueToPosition(i),s=this.valueToPosition(a),l=s;!t.isRange&&this._gridInterval.count>this.baseInterval.count&&(s=n+(s-n)/(this._gridInterval.count/this.baseInterval.count)),t.position=n;var h=t.tick;h&&!h.disabled&&e.updateTickElement(h,n,s);var d=t.grid;d&&!d.disabled&&e.updateGridElement(d,n,s);var u=t.axisFill;u&&!u.disabled&&(e.updateFillElement(u,n,l),t.isRange||this.fillRule(t));var p=t.mask;p&&e.updateFillElement(p,n,s),t.bullet&&e.updateBullet(t.bullet,n,s);var f=t.label;if(f&&!f.disabled){var c=f.location;c==0&&(this._gridInterval.count==1&&this._gridInterval.timeUnit!="week"&&!t.isRange?c=.5:c=0),e.updateLabelElement(f,n,s,c)}}},Object.defineProperty(r.prototype,"baseDuration",{get:function(){return q(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),r.prototype.adjustMinMax=function(t,e){return{min:t,max:e,step:this.baseDuration}},r.prototype.fixMin=function(t){var e=this.baseInterval,i=nt(new Date(t),e.timeUnit,e.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime(),a=ut(new Date(i),e.timeUnit,e.count,this._df.utc).getTime();return i+(a-i)*this.startLocation},r.prototype.fixMax=function(t){var e=this.baseInterval,i=nt(new Date(t),e.timeUnit,e.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime(),a=ut(new Date(i),e.timeUnit,e.count,this._df.utc).getTime();return i+(a-i)*this.endLocation},r.prototype.chooseInterval=function(t,e,i,a){a||(a=this.gridIntervals);var n=a.getIndex(t),s=q(n.timeUnit,n.count),l=a.length-1;if(t>=l)return Lt({},a.getIndex(l));var h=Math.ceil(e/s);return e<s&&t>0?Lt({},a.getIndex(t-1)):h<=i?Lt({},a.getIndex(t)):t+1<a.length?this.chooseInterval(t+1,e,i,a):Lt({},a.getIndex(t))},r.prototype.formatLabel=function(t){return this._df.format(t)},r.prototype.dateToPosition=function(t){return this.valueToPosition(t.getTime())},r.prototype.anyToPosition=function(t){return t instanceof Date?this.dateToPosition(t):this.valueToPosition(t)},r.prototype.dateToPoint=function(t){var e=this.dateToPosition(t),i=this.renderer.positionToPoint(e),a=this.renderer.positionToAngle(e);return{x:i.x,y:i.y,angle:a}},r.prototype.anyToPoint=function(t){return t instanceof Date?this.dateToPoint(t):this.valueToPoint(t)},r.prototype.positionToDate=function(t){return new Date(this.positionToValue(t))},r.prototype.getPositionX=function(t,e,i,a,n){var s=this.getTimeByLocation(t,e,i);g(s)||(s=this.baseValue);var l=this.valueToPosition(s);return n&&(l=Y(l,n.start,n.end)),l},r.prototype.getPositionY=function(t,e,i,a,n){var s=this.getTimeByLocation(t,e,i),l=t.getValue("valueX","stack");g(s)||(s=this.baseValue);var h=this.valueToPosition(s+l);return n&&(h=Y(h,n.start,n.end)),h},r.prototype.getAngle=function(t,e,i,a,n){var s=this.getTimeByLocation(t,e,i),l=t.getValue(a,"stack");g(s)||(s=this.baseValue);var h=this.valueToPosition(s+l);return n&&(h=Y(h,n.start,n.end)),this.positionToAngle(h)},r.prototype.getTimeByLocation=function(t,e,i){if(!!b(e)){g(i)||(i=t.workingLocations[e],g(i)||(i=0));var a=t.values[e].open,n=t.values[e].close,s=t.values[e].workingValue,l=t.values[e].value,h=l-s;if(a-=h,n-=h,g(a)&&g(n))return a+(n-a)*i}},r.prototype.processSeriesDataItem=function(t,e){var i=t.component,a,n=t["date"+e];if(g(this.timezoneOffset)?(n.setTime(n.getTime()+(n.getTimezoneOffset()-this.timezoneOffset)*6e4),t.setValue("date"+e,n.getTime(),0)):b(this.timezone)&&(n=Aa(n,this.timezone),t.setValue("date"+e,n.getTime(),0),t["date"+e]=n),n)a=n.getTime();else return;var s=t["openDate"+e],l=this._prevSeriesTime[i.uid],h;if(s&&(h=s.getTime()),g(h)){var d=Math.abs(a-h);this._minDifference[i.uid]>d&&(this._minDifference[i.uid]=d)}var u=a-l;u>0&&this._minDifference[i.uid]>u&&(this._minDifference[i.uid]=u),this._prevSeriesTime[i.uid]=a,i._baseInterval[this.uid]&&this.postProcessSeriesDataItem(t)},r.prototype.updateAxisBySeries=function(){o.prototype.updateAxisBySeries.call(this);var t=this.chooseInterval(0,this.minDifference,1);this.minDifference>=q("day",27)&&t.timeUnit=="week"&&(t.timeUnit="month",t.count=1),t.timeUnit=="month"&&(this.minDifference>=q("day",29*2)&&t.count==1&&(t.count=2),this.minDifference>=q("day",29*3)&&t.count==2&&(t.count=3),this.minDifference>=q("day",29*6)&&t.count==5&&(t.count=6)),this.minDifference>=q("hour",23)&&t.timeUnit=="hour"&&(t.timeUnit="day",t.count=1),this.minDifference>=q("week",1)-q("hour",1)&&t.timeUnit=="day"&&(t.timeUnit="week",t.count=1),this.minDifference>=q("year",1)-q("day",1.01)&&t.timeUnit=="month"&&(t.timeUnit="year",t.count=1),this._baseIntervalReal=t,this._mainBaseInterval=t},Object.defineProperty(r.prototype,"baseInterval",{get:function(){return this._groupInterval?this._groupInterval:this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(t){JSON.stringify(this._baseInterval)!=JSON.stringify(t)&&(this._baseInterval=t,this._mainBaseInterval=t,g(t.count)||(t.count=1),this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mainBaseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._mainBaseInterval?this._mainBaseInterval:this._baseIntervalReal},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(t){if(t){var e=this.axisBreaks.template;e.startLine.disabled=!0,e.endLine.disabled=!0,e.fillShape.disabled=!0,e.breakSize=0}else this._gapBreaks&&(this.axisBreaks.clear(),this._gapBreaks=!1);this.setPropertyValue("skipEmptyPeriods",t)&&(this.invalidate(),this.postProcessSeriesDataItems(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltipDateFormat",{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(t){this.setPropertyValue("tooltipDateFormat",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(t){this.setPropertyValue("markUnitChange",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),r.prototype.getTooltipText=function(t){var e,i=this.positionToDate(t);if(i=nt(i,this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),this.tooltipDate=i,b(this.tooltipDateFormat))e=this._df.format(i,this.tooltipDateFormat,["day","month","week","year"].indexOf(this.baseInterval.timeUnit)==-1);else{var a=this.dateFormats.getKey(this.baseInterval.timeUnit);a?e=this._df.format(i,a):e=this.getPositionLabel(t)}return this._adapterO?this._adapterO.apply("getTooltipText",e):e},r.prototype.roundPosition=function(t,e,i){var a=this.baseInterval,n=a.timeUnit,s=a.count,l=this.positionToDate(t);if(nt(l,n,s,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),e>0&&ut(l,n,e*s,this._df.utc),i>0&&i<1&&l.setTime(l.getTime()+this.baseDuration*i),this.isInBreak(l.getTime()))for(;l.getTime()<this.max&&(ut(l,n,s,this._df.utc),!!this.isInBreak(l.getTime())););return this.dateToPosition(l)},r.prototype.getCellStartPosition=function(t){return this.roundPosition(t,0)},r.prototype.getCellEndPosition=function(t){return this.roundPosition(t,1)},r.prototype.getSeriesDataItem=function(t,e,i){var a=this.positionToValue(e),n=.5;this.axisLetter=="Y"?n=t.dataItems.template.locations.dateY:n=t.dataItems.template.locations.dateX;var s=a-n*this.baseDuration,l=nt(new Date(a),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),h=nt(new Date(a+this.baseDuration),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);h.getTime()>l.getTime()&&Math.abs(h.getTime()-s)<Math.abs(s-l.getTime())&&(l=h);var d=t.dataItemsByAxis.getKey(this.uid),u=d.getKey(l.getTime()+t.currentDataSetId);if(!u&&i){var p;this.axisLetter=="Y"?p="dateY":p="dateX",u=t.dataItems.getIndex(t.dataItems.findClosestIndex(l.getTime(),function(f){return f[p]?f[p].getTime():-1/0},"any"))}return u},r.prototype.getPositionLabel=function(t){var e=this.positionToDate(t);return this._df.format(e,this.getCurrentLabelFormat())},r.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},r.prototype.initRenderer=function(){o.prototype.initRenderer.call(this);var t=this.renderer;t&&(t.ticks.template.location=0,t.grid.template.location=0,t.labels.template.location=0,t.baseGrid.disabled=!0)},Object.defineProperty(r.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),r.prototype.animateMinMax=function(t,e){var i=this,a=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:t},{property:"_maxAdjusted",from:this._maxAdjusted,to:e}],this.rangeChangeDuration,this.rangeChangeEasing);return a.events.on("animationprogress",function(){i.dispatch("extremeschanged")}),a},r.prototype.handleExtremesChange=function(){if(o.prototype.handleExtremesChange.call(this),this.groupData){var t=this.baseInterval.timeUnit+this.baseInterval.count;this.groupMin[t]=this._finalMin,this.groupMax[t]=this._finalMax}},r.prototype.zoomToDates=function(t,e,i,a,n){t=this._df.parse(t),e=this._df.parse(e),this.zoomToValues(t.getTime(),e.getTime(),i,a,n)},r.prototype.zoomToValues=function(t,e,i,a,n){var s=this;if(this.groupData){var d=this.adjustDifference(t,e),u=!1;e==this.max&&(u=!0);var p=!1;if(t==this.min&&(p=!0),b(d)){var f=this.mainBaseInterval,c=this.chooseInterval(0,d,this.groupCount,this.groupIntervals);(c.timeUnit==f.timeUnit&&c.count<f.count||q(c.timeUnit,1)<q(f.timeUnit,1))&&(c=Lt({},f));var y=c.timeUnit+c.count,v=this.groupMin[y],m=this.groupMax[y];(!g(v)||!g(m))&&(v=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,this.series.each(function(S){var A=S.min(s),T=S.max(s);if(S._dataSets){var P=S._dataSets.getKey(c.timeUnit+c.count);if(P){var k=P.getIndex(0),V=P.getIndex(P.length-1);k&&(S.xAxis==s?A=k.dateX.getTime():S.yAxis==s&&(A=k.dateY.getTime())),V&&(S.xAxis==s?T=V.dateX.getTime():S.yAxis==s&&(T=V.dateY.getTime()))}}T=nt(ut(new Date(T),c.timeUnit,1,s._df.utc),c.timeUnit,1,s._df.firstDayOfWeek,s._df.utc,void 0,s._df.timezoneMinutes,s._df.timezone).getTime(),A<v&&(v=A),T>m&&(m=T)}),this.groupMin[y]=v,this.groupMax[y]=m),t=Y(t,v,m),e=Y(e,v,m),n&&(u&&(t=e-d,t=Y(t,v,m)),p&&(e=t+d,e=Y(e,v,m)));var l=(t-v)/(m-v),h=(e-v)/(m-v);this.zoom({start:l,end:h},i,a)}}else{var l=this.valueToPosition(t),h=this.valueToPosition(e);this.zoom({start:l,end:h},i,a)}},r.prototype.asIs=function(t){return t=="baseInterval"||o.prototype.asIs.call(this,t)},r.prototype.copyFrom=function(t){var e=this;o.prototype.copyFrom.call(this,t),this.dateFormats=t.dateFormats,this.periodChangeDateFormats=t.periodChangeDateFormats,this.groupIntervals.clear(),t.groupIntervals.each(function(i){e.groupIntervals.push(Lt({},i))}),this.gridIntervals.clear(),t.gridIntervals.each(function(i){e.gridIntervals.push(Lt({},i))}),t._baseInterval&&(this.baseInterval=t._baseInterval)},r.prototype.showTooltipAtPosition=function(t,e){var i=this;if(e||(t=this.toAxisPosition(t)),this.snapTooltip){var a=this.positionToDate(t),n=a.getTime(),s;if(this.series.each(function(d){if(d.baseAxis==i){var u=i.getSeriesDataItem(d,t,!0);if(u){var p=void 0;d.xAxis==i&&(p=u.dateX),d.yAxis==i&&(p=u.dateY),s?Math.abs(s.getTime()-n)>Math.abs(p.getTime()-n)&&(s=p):s=p}}}),s){var l=s.getTime();s=nt(new Date(l),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),l=s.getTime();var h=this.renderer.tooltipLocation;h==0&&(h=1e-4),s=new Date(s.getTime()+this.baseDuration*h),t=this.dateToPosition(s),this.chart.cursor&&this.chart.cursor.snapToSeries||this.series.each(function(d){var u=d.dataItemsByAxis.getKey(i.uid).getKey(l+d.currentDataSetId),p=d.showTooltipAtDataItem(u);p?i.chart._seriesPoints.push({series:d,point:p}):(d.tooltipText||d.tooltipHTML)&&d.hideTooltip()})}}o.prototype.showTooltipAtPosition.call(this,t,!0)},Object.defineProperty(r.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(t){this.setPropertyValue("snapTooltip",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupData",{get:function(){return this.getPropertyValue("groupData")},set:function(t){var e=this;this.setPropertyValue("groupData",t)&&(this.series.each(function(i){i.setDataSet(""),t&&!i.dataGrouped&&i.inited&&(i._baseInterval[e.uid]=e.mainBaseInterval,e.groupSeriesData(i))}),this._currentDataSetId="",this._groupInterval=void 0,this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupInterval",{get:function(){return this.getPropertyValue("groupInterval")},set:function(t){this.setPropertyValue("groupInterval",t)&&(this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupCount",{get:function(){return this.getPropertyValue("groupCount")},set:function(t){this.setPropertyValue("groupCount",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timezoneOffset",{get:function(){return this.getPropertyValue("timezoneOffset")},set:function(t){this.setPropertyValue("timezoneOffset",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timezone",{get:function(){return this.getPropertyValue("timezone")},set:function(t){this.setPropertyValue("timezone",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),r.prototype.makeGap=function(t,e){var i=t.component;if(t&&e&&!i.connect&&g(i.autoGapCount)&&i.baseAxis==this){var a=t.dates["date"+this.axisLetter],n=e.dates["date"+this.axisLetter];if(a&&n){var s=a.getTime(),l=n.getTime();if(s-l>i.autoGapCount*this.baseDuration)return!0}}return!1},Object.defineProperty(r.prototype,"baseValue",{get:function(){return this.min},enumerable:!0,configurable:!0}),r}(E);_.registeredClasses.DateAxis=z;_.registeredClasses.DateAxisDataItem=Pr;var Xt=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="AxisRendererX",t.minGridDistance=120,t.opposite=!1,t.rotation=0,t.width=O(100),t.labels.template.horizontalCenter="middle",t.applyTheme(),t}return r.prototype.setAxis=function(t){o.prototype.setAxis.call(this,t),t.layout="vertical"},r.prototype.updateGridContainer=function(){var t=this.axis;if(t){var e=this.gridContainer;e.x=t.pixelX,e.width=t.axisLength}},r.prototype.processRenderer=function(){o.prototype.processRenderer.call(this);var t=this.axis;if(t){t.width instanceof ct||(t.width=O(100)),Ut(this.line);var e=t.title;e.rotation=0,e.align="center",this.opposite?(this.line.toFront(),e.toBack()):(e.toFront(),this.toBack(),this.line.toBack())}},r.prototype.updateTooltip=function(){var t=this.axis;if(t){var e=1e3,i=this.line.pixelX,a=this.line.pixelY,n=this.axisLength,s=e;this.opposite?this.inside||(a=-e,s=e):this.inside&&(a=-e,s=e),this.axis.updateTooltip("vertical",{x:i,y:a,width:n,height:s})}},r.prototype.updateLabelElement=function(t,e,i,a){b(a)||(a=t.location),e=e+(i-e)*a;var n=this.positionToPoint(e);t.isMeasured=!t.inside;var s=0,l,h=this.gridContainer.maxHeight;this.opposite?(t.inside?(l="top",t.valign=="bottom"&&(s=h,l="bottom"),t.valign=="middle"&&(s=h/2,l="middle")):l="bottom",n.y=s):(t.inside?(l="bottom",t.valign=="top"&&(s=-h,l="top"),t.valign=="middle"&&(s=-h/2,l="middle")):l="top",n.y+=s),t.rotation==0&&(t.verticalCenter=l),this.positionItem(t,n),this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(r.prototype,"axisLength",{get:function(){var t=this.axis;return t.measuredWidth-t.pixelPaddingRight-t.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),r.prototype.positionToPoint=function(t,e){return{x:this.positionToCoordinate(t),y:0}},r.prototype.pointToPosition=function(t){return this.coordinateToPosition(t.x,t.y)},r.prototype.getPositionRangePath=function(t,e){var i=Y(this.positionToCoordinate(t),0,this.axisLength),a=Y(this.positionToCoordinate(e),0,this.axisLength),n=Math.abs(a-i),s=this.getHeight(),l=Math.min(i,a),h=0;return Nt({x:l,y:h,width:n,height:s},!0)},r.prototype.updateBreakElement=function(t){o.prototype.updateBreakElement.call(this,t);var e=t.startLine,i=t.endLine,a=t.fillShape,n=t.startPoint,s=t.endPoint,l=t.pixelMarginLeft,h=this.getHeight()-t.pixelMarginTop-t.pixelMarginBottom;n.x=Y(n.x,-1,this.axisLength+1),s.x=Y(s.x,-1,this.axisLength+1),n.x==s.x&&(n.x<0||n.x>this.axisLength)?t.fillShape.__disabled=!0:t.fillShape.__disabled=!1,e.y=l,e.width=0,e.height=h,i.y=l,i.width=0,i.height=h,a.height=h,a.width=Math.abs(s.x-n.x),a.y=l,a.x=n.x},r.prototype.updateGridElement=function(t,e,i){e=e+(i-e)*t.location;var a=this.positionToPoint(e);t.path=W({x:0,y:0})+R({x:0,y:this.getHeight()}),this.positionItem(t,a),this.toggleVisibility(t,e,0,1)},r.prototype.updateTickElement=function(t,e,i){e=e+(i-e)*t.location;var a=this.positionToPoint(e),n=t.length;a.y=Ct({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.opposite?n*=t.inside?1:-1:n*=t.inside?-1:1,t.path=W({x:0,y:0})+R({x:0,y:n}),this.positionItem(t,a),this.toggleVisibility(t,e,0,1)},r.prototype.updateAxisLine=function(){this.line.path=W({x:0,y:0})+R({x:this.axisLength,y:0})},r.prototype.updateBaseGridElement=function(){o.prototype.updateBaseGridElement.call(this);var t=this.axis,e=this.getHeight(),i=this.axisLength,a=this.baseGrid,n=t.basePoint.x;if(n<-.2||n>i+.2)a.hide(0);else{var s=Ct({x:0,y:0},this.gridContainer,a.parent).y;a.path=W({x:0,y:0})+R({x:0,y:e}),a.moveTo({x:n,y:s}),a.show(0)}},r.prototype.createBreakSprites=function(t){t.startLine=new re,t.endLine=new re;var e=new dr;e.setWavedSides(!1,!0,!1,!0),t.fillShape=e},r.prototype.toAxisPosition=function(t){var e=t,i=this.axis;if(i){var a=i.relativePositionSprite,n=i.pixelX;if(a?n=Ct({x:this.pixelX,y:0},this.parent,a).x:a=i.parent,a){var s=n/a.innerWidth,l=i.axisLength/a.innerWidth;return(e-s)/l}}return t},r.prototype.updateBullet=function(t,e,i){var a=.5;t instanceof Fe&&(a=t.location),e=e+(i-e)*a;var n=this.positionToPoint(e);n.y=Ct({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},r}(Je);_.registeredClasses.AxisRendererX=Xt;dt.push({relevant:pt.heightXS,state:function(o,r){if(o instanceof Xt){var t=o.states.create(r);return t.properties.inside=!0,t.properties.maxLabelPosition=.9,t.properties.minLabelPosition=.1,t}return null}});dt.push({relevant:pt.heightXXS,state:function(o,r){if(o instanceof Xt){var t=o.states.create(r);return t.properties.disabled=!0,t}return null}});var Cr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="CategoryAxisBreak",t.properties.startLocation=.5,t.properties.endLocation=.5,t.applyTheme(),t}return Object.defineProperty(r.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue,this.startLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue,this.endLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(t){this.setPropertyValue("startCategory",t)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(t){this.setPropertyValue("endCategory",t)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startValue",{get:function(){var t=this.getPropertyValue("startCategory");return t?this.axis.categoryToIndex(t):this.getPropertyValue("startValue")},set:function(t){this.setPropertyValue("startValue",t)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endValue",{get:function(){var t=this.getPropertyValue("endCategory");return t?this.axis.categoryToIndex(t):this.getPropertyValue("endValue")},set:function(t){this.setPropertyValue("endValue",t)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(t){this.setPropertyValue("startLocation",t)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(t){this.setPropertyValue("endLocation",t)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),r}(qe);_.registeredClasses.CategoryAxisBreak=Cr;var Dr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.seriesDataItems={},t.className="CategoryAxisDataItem",t.text="{category}",t.locations.category=0,t.locations.endCategory=1,t.deltaPosition=0,t.applyTheme(),t}return Object.defineProperty(r.prototype,"category",{get:function(){return this._adapterO&&this._adapterO.isEnabled("category")?this._adapterO.apply("category",this.properties.category):this.properties.category},set:function(t){var e=this.properties.category;this.setProperty("category",t),b(e)&&e!=t&&this.component&&this.component.validateDataElement(this)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(t){this.setProperty("endCategory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"deltaPosition",{get:function(){return this.properties.deltaCoordinate},set:function(t){t!=this.properties.deltaCoordinate&&(this.setProperty("deltaCoordinate",t),this.component&&(this.component.invalidateDataItems(),this.component.invalidateSeries()))},enumerable:!0,configurable:!0}),r}(ke),$=function(o){D(r,o);function r(){var t=o.call(this)||this;t.dataItemsByCategory=new St,t.className="CategoryAxis",t.axisFieldName="category",t._lastDataItem=t.createDataItem(),t._lastDataItem.component=t,t._disposers.push(t._lastDataItem),t.applyTheme();var e=t.dataItemsByCategory;return t.addDisposer(t.mainDataSet.events.on("removed",function(i){e.removeKey(i.oldValue.category)})),t}return r.prototype.createDataItem=function(){return new Dr},r.prototype.createAxisBreak=function(){return new Cr},r.prototype.processSeriesDataItem=function(t,e){o.prototype.processSeriesDataItem.call(this,t,e);var i=t["category"+this.axisLetter];if(b(i)){var a=this.dataItemsByCategory.getKey(i);if(a){var n=t.component.uid,s=a.seriesDataItems[n];s||(s=[],a.seriesDataItems[n]=s),s.push(t)}}else t.component.dataItems.remove(t)},r.prototype.validateDataRange=function(){var t=this;o.prototype.validateDataRange.call(this),w(this._series.iterator(),function(e){if(e.xAxis instanceof r&&e.yAxis instanceof r)e.invalidateDataRange();else{var i=t.positionToIndex(t.start),a=t.positionToIndex(t.end);a>=t.dataItems.length&&a--;for(var n=e.uid,s=void 0,l=void 0,h=i;h<=a;h++){var d=t.dataItems.getIndex(h);if(d){var u=d.seriesDataItems[n];if(u)for(var p=0;p<u.length;p++){var f=u[p];if(f){var c=f.index;(!g(s)||c<s)&&(s=c),(!g(l)||c>l)&&(l=c)}}}}g(s)?e.startIndex=s:e.start=t.start,g(l)?e.endIndex=l+1:e.end=t.end,t._axisBreaks&&t._axisBreaks.length>0&&e.invalidateDataRange()}})},r.prototype.validate=function(){var t=this;o.prototype.validate.call(this);var e=this.dataItems.length,i=Y(Math.floor(this.start*e-1),0,e),a=Y(Math.ceil(this.end*e),0,e);this.renderer.invalid&&this.renderer.validate();var n=this.renderer.axisLength/Math.max(this.renderer.minGridDistance,1/Number.MAX_SAFE_INTEGER),s=Math.min(this.dataItems.length,Math.ceil((a-i)/n));if(this._startIndex=Math.floor(i/s)*s,this._endIndex=Math.ceil(this.end*e),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=s,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),i=tt(0,this._startIndex-this._frequency),a=U(this.dataItems.length,this._endIndex+this._frequency);for(var l=0,h=0;h<i;h++){var d=this.dataItems.getIndex(h);d.__disabled=!0}for(var h=a,u=this.dataItems.length;h<u;h++){var d=this.dataItems.getIndex(h);d.__disabled=!0}for(var h=i;h<a;h++)if(h<this.dataItems.length){var d=this.dataItems.getIndex(h);if(h/this._frequency==Math.round(h/this._frequency)){var p=this.isInBreak(h);p||(this.appendDataItem(d),this.validateDataElement(d,l)),l++}else d.__disabled=!0}if(this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,l+1,this.dataItems.length),this._axisBreaks){var f=this._axisBreaks;f.each(function(c){var y=c.adjustedStartValue,v=c.adjustedEndValue;if(Ne({start:y,end:v},{start:t._startIndex,end:t._endIndex})){for(var m=y;m<=v;m++){var x=t.dataItems.getIndex(m);x.__disabled=!0}var C=Y(Math.ceil(t._frequency/c.breakSize),1,v-y),S=0;if(c.breakSize>0)for(var m=y;m<=v;m=m+C){var x=t.dataItems.getIndex(m);x.__disabled=!1,t.appendDataItem(x),t.validateDataElement(x,S),S++}}})}this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout()}},r.prototype.validateDataElement=function(t,e,i){o.prototype.validateDataElement.call(this,t),t.itemIndex=this._axisItemCount,this._axisItemCount++;var a=this.renderer;g(i)||(i=this.categoryToIndex(t.category));var n=this.categoryToIndex(t.endCategory);g(n)||(n=i);var s=this.indexToPosition(i,t.locations.category),l=this.indexToPosition(n,t.locations.endCategory);t.position=s;var h,d,u;t.isRange&&(h=n,d=this.indexToPosition(i,t.locations.category),u=this.indexToPosition(h,t.locations.endCategory)),t.point=a.positionToPoint(s);var p=t.tick;p&&!p.disabled&&a.updateTickElement(p,s,l);var f=t.grid;f&&!f.disabled&&a.updateGridElement(f,s,l);var c=t.label;c&&!c.disabled&&((!t.isRange||c.text==null)&&(t.text=t.text),a.updateLabelElement(c,s,l),(a instanceof wt&&t.label.measuredWidth>this.ghostLabel.measuredWidth||a instanceof Xt&&t.label.measuredHeight>this.ghostLabel.measuredHeight)&&(t.label.html?this.ghostLabel.html=t.label.currentText:this.ghostLabel.text=t.label.currentText));var y=t.axisFill;y&&!y.disabled&&(t.isRange||(h=i+this._frequency,d=this.indexToPosition(i,y.location),u=this.indexToPosition(h,y.location)),a.updateFillElement(y,d,u),t.isRange||this.fillRule(t,e)),t.bullet&&a.updateBullet(t.bullet,s,l);var v=t.mask;v&&a.updateFillElement(v,d,u)},r.prototype.disposeData=function(){this.dataItemsByCategory.clear(),o.prototype.disposeData.call(this)},r.prototype.processDataItem=function(t,e){t&&(o.prototype.processDataItem.call(this,t,e),b(t.category)&&this.dataItemsByCategory.setKey(t.category,t))},r.prototype.getDataItem=function(t){var e=t[this.dataFields.category];if(b(e)){var i=this.dataItemsByCategory.getKey(e);return i||this.dataItems.create()}},r.prototype.indexToPosition=function(t,e){g(e)||(e=.5);var i=this.startIndex,a=this.endIndex,n=this.adjustDifference(i,a),s=this.startLocation,l=this.endLocation;if(n-=s,n-=1-l,this._axisBreaks){var h=this._axisBreaks;Rt(h.iterator(),function(p){var f=p.adjustedStartValue,c=p.adjustedEndValue;if(t<i||!g(f)||!g(c))return!1;if(Ne({start:f,end:c},{start:i,end:a})){f=Math.max(i,f),c=Math.min(a,c);var y=p.breakSize;t>c?i+=(c-f)*(1-y):t<f||(t=f+(t-f)*y)}return!0})}var d=0,u=this.dataItems.getIndex(t);return u&&(d=u.deltaPosition),j(d+(t+e-s-i)/n,5)},r.prototype.categoryToPosition=function(t,e){var i=this.categoryToIndex(t);return this.indexToPosition(i,e)},r.prototype.categoryToPoint=function(t,e){var i=this.categoryToPosition(t,e),a=this.renderer.positionToPoint(i),n=this.renderer.positionToAngle(i);return{x:a.x,y:a.y,angle:n}},r.prototype.anyToPoint=function(t,e){return this.categoryToPoint(t,e)},r.prototype.anyToPosition=function(t,e){return this.categoryToPosition(t,e)},r.prototype.categoryToIndex=function(t){if(b(t)){var e=this.dataItemsByCategory.getKey(t);if(e)return e.index}},r.prototype.zoomToCategories=function(t,e){this.zoomToIndexes(this.categoryToIndex(t),this.categoryToIndex(e)+1)},r.prototype.getAnyRangePath=function(t,e,i,a){var n=this.categoryToPosition(t,i),s=this.categoryToPosition(e,a);return this.getPositionRangePath(n,s)},r.prototype.roundPosition=function(t,e){var i=this.positionToIndex(t);return this.indexToPosition(i,e)},r.prototype.getFirstSeriesDataItem=function(t,e){for(var i=0;i<t.dataItems.length;i++){var a=t.dataItems.getIndex(i);if(t.xAxis==this&&a.categoryX==e||t.yAxis==this&&a.categoryY==e)return a}},r.prototype.getLastSeriesDataItem=function(t,e){for(var i=t.dataItems.length-1;i>=0;i--){var a=t.dataItems.getIndex(i);if(t.xAxis==this&&a.categoryX==e||t.yAxis==this&&a.categoryY==e)return a}},r.prototype.getSeriesDataItemByCategory=function(t,e){var i=this,a;return e.dataItems.each(function(n){e.xAxis==i?n.categoryX==t&&(a=n):e.yAxis==i&&n.categoryY==t&&(a=n)}),a},r.prototype.getSeriesDataItem=function(t,e,i){var a=this;if(g(e)){var n=this.positionToIndex(e);n>=this.dataItems.length&&n--;var s=this.dataItems.getIndex(n);if(s){var l=s.category,h,d=t.dataItems.getIndex(n);return d&&(t.xAxis==this&&d.categoryX==l||t.yAxis==this&&d.categoryY==l)?d:(t.dataItems.each(function(u){t.xAxis==a&&u.categoryX==l&&(h||(h=u),Math.abs(n-h.index)>Math.abs(n-u.index)&&(h=u)),t.yAxis==a&&u.categoryY==l&&(h||(h=u),Math.abs(n-h.index)>Math.abs(n-u.index)&&(h=u))}),h)}}},r.prototype.getX=function(t,e,i,a,n){var s=this.getPositionX(t,e,i,a,n);return vt(s)?this.basePoint.x:this.renderer.positionToPoint(s).x},r.prototype.getPositionX=function(t,e,i,a,n){var s;return b(e)&&(s=this.categoryToPosition(t.categories[e],i)),n&&(s=Y(s,n.start,n.end)),s},r.prototype.getY=function(t,e,i,a,n){var s=this.getPositionY(t,e,i,a,n);return vt(s)?this.basePoint.y:this.renderer.positionToPoint(s).y},r.prototype.getPositionY=function(t,e,i,a,n){var s;return b(e)&&(s=this.categoryToPosition(t.categories[e],i)),n&&(s=Y(s,n.start,n.end)),s},r.prototype.getAngle=function(t,e,i,a,n){var s=this.categoryToPosition(t.categories[e],i);return n&&(s=Y(s,n.start,n.end)),this.positionToAngle(s)},r.prototype.getCellStartPosition=function(t){return this.roundPosition(t,0)},r.prototype.getCellEndPosition=function(t){return this.roundPosition(t,1)},r.prototype.getTooltipText=function(t){var e=this.dataItems.getIndex(this.positionToIndex(t));if(e)return this.tooltipDataItem=e,this.tooltip.dataItem=e,this.tooltipText?this.tooltipText:this._adapterO?this._adapterO.apply("getTooltipText",e.category):e.category},r.prototype.positionToIndex=function(t){t=j(t,10),t<0&&(t=0),t>1&&(t=1);var e=this.startIndex,i=this.endIndex,a=i-e-this.startLocation-(1-this.endLocation);t+=1/a*this.startLocation;var n=null;if(this._axisBreaks){var s=this._axisBreaks;Rt(s.iterator(),function(l){var h=l.startPosition,d=l.endPosition,u=l.adjustedStartValue,p=l.adjustedEndValue;u=tt(u,e),p=U(p,i);var f=l.breakSize;if(a-=(p-u)*(1-f),t>d)e+=(p-u)*(1-f);else if(!(t<h)){var c=(t-h)/(d-h);return n=u+Math.round(c*(p-u)),!1}return!0})}return g(n)||(n=Math.floor(t*a+e)),n>=this.dataItems.length&&(n=this.dataItems.length-1),n},r.prototype.positionToCategory=function(t){return this.getPositionLabel(t)},r.prototype.getPositionLabel=function(t){var e=this.dataItems.getIndex(this.positionToIndex(t));if(e)return e.category},Object.defineProperty(r.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),r.prototype.initRenderer=function(){o.prototype.initRenderer.call(this);var t=this.renderer;t.baseGrid.disabled=!0},Object.defineProperty(r.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortBySeries",{get:function(){return this.getPropertyValue("sortBySeries")},set:function(t){this.setPropertyValue("sortBySeries",t,!0)},enumerable:!0,configurable:!0}),r.prototype.processConfig=function(t){t&&b(t.sortBySeries)&&at(t.sortBySeries)&&(this.map.hasKey(t.sortBySeries)?t.sortBySeries=this.map.getKey(t.sortBySeries):(this.addDelayedMap("sortBySeries",t.sortBySeries),delete t.sortBySeries)),o.prototype.processConfig.call(this,t)},r}($e);_.registeredClasses.CategoryAxis=$;_.registeredClasses.CategoryAxisDataItem=Dr;var ti=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="XYSeriesDataItem",t.values.customValue={},t.values.valueX={stack:0},t.values.valueY={stack:0},t.values.openValueX={},t.values.openValueY={},t.values.dateX={},t.values.dateY={},t.values.openDateX={},t.values.openDateY={},t.setLocation("dateX",.5,0),t.setLocation("dateY",.5,0),t.setLocation("categoryX",.5,0),t.setLocation("categoryY",.5,0),t.applyTheme(),t}return Object.defineProperty(r.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(t){this.setValue("valueX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"customValue",{get:function(){return this.values.customValue.value},set:function(t){this.setValue("customValue",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"valueY",{get:function(){return this.values.valueY.value},set:function(t){this.setValue("valueY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(t){this.setDate("dateX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(t){this.setDate("dateY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(t){this.setCategory("categoryX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(t){this.setCategory("categoryY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(t){this.setValue("openValueX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(t){this.setValue("openValueY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(t){this.setDate("openDateX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(t){this.setDate("openDateY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(t){this.setCategory("openCategoryX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(t){this.setCategory("openCategoryY",t)},enumerable:!0,configurable:!0}),r.prototype.getMin=function(t,e,i){var a=this,n;return g(i)||(i=0),H(t,function(s){var l;e?l=a.getWorkingValue(s):l=a.getValue(s),l+=i,(l<n||!g(n))&&(n=l)}),n},r.prototype.getMax=function(t,e,i){var a=this,n;return g(i)||(i=0),H(t,function(s){var l;e?l=a.getWorkingValue(s):l=a.getValue(s),l+=i,(l>n||!g(n))&&(n=l)}),n},r}(Ke),oe=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.groupFields={},t._xAxis=new lt,t._yAxis=new lt,t._xValueFields=[],t._yValueFields=[],t._baseInterval={},t.dataGrouped=!1,t.usesShowFields=!1,t._dataSetChanged=!1,t._maxxX=1e5,t._maxxY=1e5,t._propertiesChanged=!1,t.outOfRange=!1,t.className="XYSeries",t.isMeasured=!1,t.groupFields.valueX="close",t.groupFields.valueY="close",t.groupFields.customValue="close",t.groupFields.openValueX="open",t.groupFields.openValueY="open",t.cursorTooltipEnabled=!0,t.cursorHoverEnabled=!0,t.excludeFromTotal=!1,t.mainContainer.mask=new Z,t.mainContainer.mask.setElement(t.paper.add("path")),t.stacked=!1,t.snapTooltip=!1,t._showBullets=!1,t.tooltip.pointerOrientation="horizontal",t.properties.stackToNegative=!0,t.hideTooltipWhileZooming=!0,t.setPropertyValue("maskBullets",!0),t.tooltip.events.on("hidden",function(){t.returnBulletDefaultState()},void 0,!1),t._disposers.push(t._xAxis),t._disposers.push(t._yAxis),t.observe(J,function(){t.inited&&(t._propertiesChanged=!0,t.legendDataItem&&(t.legendDataItem.childrenCreated=!1),t.chart&&t.chart.legend&&t.chart.legend.invalidateDataItems(),t.invalidate())},void 0,!1),t.applyTheme(),t}return r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y Series"))},r.prototype.createDataItem=function(){return new ti},r.prototype.resetExtremes=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear()},r.prototype.dataChangeUpdate=function(){this.dataGrouped=!1,this._baseInterval={},this._currentDataSetId="",this.resetExtremes(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},r.prototype.validateData=function(){this._baseInterval={};var t=this.dataFields;if(t.valueYShow||t.openValueXShow||t.openValueXShow||t.openValueYShow?this.usesShowFields=!0:this.usesShowFields=!1,this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),o.prototype.validateData.call(this),this.updateItemReaderText(),this.chart&&(!b(this.dataFields[this._xField])||!b(this.dataFields[this._yField])))throw Error('Data fields for series "'+(this.name?this.name:this.uid)+'" are not properly defined.');this.inited&&this.isHidden&&this.hide(0),this.dataGrouped=!1},r.prototype.processDataItem=function(t,e){try{o.prototype.processDataItem.call(this,t,e),this.xAxis.processSeriesDataItem(t,"X"),this.yAxis.processSeriesDataItem(t,"Y"),this.setInitialWorkingValues(t)}catch(i){this._chart&&this._chart.raiseCriticalError(i)}},r.prototype.updateDataItem=function(t){o.prototype.updateDataItem.call(this,t),this.xAxis.processSeriesDataItem(t,"X"),this.yAxis.processSeriesDataItem(t,"Y")},r.prototype.setInitialWorkingValues=function(t){},r.prototype.disposeData=function(){o.prototype.disposeData.call(this);var t=this.xAxis,e=this.yAxis;if(t){var i=this.dataItemsByAxis.getKey(t.uid);i&&i.clear(),t instanceof $&&this.clearCatAxis(t)}if(e){var a=this.dataItemsByAxis.getKey(e.uid);a&&a.clear(),e instanceof $&&this.clearCatAxis(e)}},r.prototype.clearCatAxis=function(t){var e=this.uid;t.dataItems.each(function(i){i.seriesDataItems[e]&&(i.seriesDataItems[e]=[])})},r.prototype.defineFields=function(){var t=this.xAxis,e=this.yAxis;if(t&&e){var i=t.axisFieldName,a=i+"X",n="open"+ze(i)+"X",s=e.axisFieldName,l=s+"Y",h="open"+ze(s)+"Y";this._xField=a,this._yField=l,this.dataFields[n]&&(this._xOpenField=n),this.dataFields[h]&&(this._yOpenField=h),!this.dataFields[h]&&this.baseAxis==e&&(this._yOpenField=l),!this.dataFields[n]&&this.baseAxis==t&&(this._xOpenField=a),this.stacked&&this.baseAxis==t&&(this._xOpenField=a),this.stacked&&this.baseAxis==e&&(this._yOpenField=l),t instanceof $&&e instanceof $&&(this._yOpenField||(this._yOpenField=l)),this._xValueFields=[],this._yValueFields=[],this.addValueField(t,this._xValueFields,this._xField),this.addValueField(t,this._xValueFields,this._xOpenField),this.addValueField(e,this._yValueFields,this._yField),this.addValueField(e,this._yValueFields,this._yOpenField)}},r.prototype.addValueField=function(t,e,i){t instanceof E&&b(this.dataFields[i])&&e.indexOf(i)==-1&&e.push(i)},r.prototype.setCategoryAxisField=function(t,e){b(this.dataFields[t])||(this.dataFields[t]=e.dataFields.category)},r.prototype.setDateAxisField=function(t,e){b(this.dataFields[t])||(this.dataFields[t]=e.dataFields.date)},r.prototype.afterDraw=function(){o.prototype.afterDraw.call(this),this.createMask()},r.prototype.createMask=function(){if(this.mainContainer.mask){var t=this.getMaskPath();w(this.axisRanges.iterator(),function(e){e.axisFill.fillPath&&(e.axisFill.validate(),t+=e.axisFill.fillPath)}),this.mainContainer.mask.path=t}},r.prototype.getMaskPath=function(){return this.xAxis&&this.yAxis?Nt({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength}):""},r.prototype.getAxisField=function(t){if(t==this.xAxis)return this.xField;if(t==this.yAxis)return this.yField},r.prototype.validateDataItems=function(){var t=this.chart;t&&(this._maxxX=tt(1e5,t.plotContainer.maxWidth*2),this._maxxY=tt(1e5,t.plotContainer.maxHeight*2));var e=this.xAxis,i=this.yAxis;e&&i&&(e.updateAxisBySeries(),i.updateAxisBySeries()),o.prototype.validateDataItems.call(this),e&&i&&(e.postProcessSeriesDataItems(this),i.postProcessSeriesDataItems(this))},r.prototype.validateDataRange=function(){var t=this.xAxis,e=this.yAxis;t&&e&&(t.dataRangeInvalid&&t.validateDataRange(),e.dataRangeInvalid&&e.validateDataRange()),o.prototype.validateDataRange.call(this)},r.prototype.validate=function(){var t=this.xAxis,e=this.yAxis;if(t&&e){t.invalid&&t.validate(),e.invalid&&e.validate(),this.y=e.pixelY,this.x=t.pixelX,this._showBullets=!0;var i=this.minBulletDistance;g(i)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<i&&(this._showBullets=!1)}if(this.updateTooltip(),!(t instanceof z&&t.groupData&&!this.dataGrouped||e instanceof z&&e.groupData&&!this.dataGrouped)){o.prototype.validate.call(this);var a=this.chart,n=this.maskBullets;a&&n&&a.className=="XYChart"&&((a.leftAxesContainer.layout=="vertical"||a.rightAxesContainer.layout=="vertical")&&(this.yAxis?this.bulletsContainer.mask=this.yAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0),(a.topAxesContainer.layout=="horizontal"||a.bottomAxesContainer.layout=="horizontal")&&(this.xAxis?this.bulletsContainer.mask=this.xAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0))}},Object.defineProperty(r.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var t=this.chart.xAxes.getIndex(0);if(!t)throw Error("There are no X axes on chart.");this.xAxis=t}return this._xAxis.get()}},set:function(t){this.setXAxis(t)},enumerable:!0,configurable:!0}),r.prototype.setXAxis=function(t){var e=this._xAxis.get();e!=t&&(e&&(this.dataItemsByAxis.removeKey(e.uid),this._xAxis.dispose(),e.series.removeValue(this)),this._xAxis.set(t,t.registerSeries(this)),this.dataItemsByAxis.setKey(t.uid,new St),this.invalidateData())},Object.defineProperty(r.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var t=this.chart.yAxes.getIndex(0);if(!t)throw Error("There are no Y axes on chart.");this.yAxis=t}return this._yAxis.get()}},set:function(t){this.setYAxis(t)},enumerable:!0,configurable:!0}),r.prototype.setYAxis=function(t){var e=this._yAxis.get();e!=t&&(e&&(this.dataItemsByAxis.removeKey(e.uid),this._yAxis.dispose(),e.series.removeValue(this)),this._yAxis.set(t,t.registerSeries(this)),t.chart instanceof Kt&&t.chart.handleYAxisSet(this),this.dataItemsByAxis.setKey(t.uid,new St),this.invalidateData())},Object.defineProperty(r.prototype,"baseAxis",{get:function(){var t=this.xAxis,e=this.yAxis;return!this._baseAxis&&t&&e&&(e instanceof z&&(this._baseAxis=e),t instanceof z&&(this._baseAxis=t),e instanceof $&&(this._baseAxis=e),t instanceof $&&(this._baseAxis=t),this._baseAxis||(this._baseAxis=t)),this._baseAxis},set:function(t){this._baseAxis!=t&&(this._baseAxis=t,this.invalidate())},enumerable:!0,configurable:!0}),r.prototype.addData=function(t,e,i){o.prototype.addData.call(this,t,e,i);var a=this.scrollbarSeries;a&&(this.scrollbarSeries.addData(t,e,!0),this.scrollbarSeries._parseDataFrom=this._parseDataFrom)},r.prototype.setData=function(t){o.prototype.setData.call(this,t),this.scrollbarSeries&&this.scrollbarSeries.setData(t)},r.prototype.setDataSet=function(t){var e=o.prototype.setDataSet.call(this,t);if(e){this._dataSetChanged=!0;var i=this.dataItems;if(this.resetExtremes(),i&&i.length>0){var a=this.xAxis,n=this.yAxis;this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.appeared||this.processValues(!1),a instanceof z&&a==this.baseAxis&&(this._tmin.setKey(a.uid,i.getIndex(0).dateX.getTime()),this._tmax.setKey(a.uid,i.getIndex(i.length-1).dateX.getTime()),this.dispatch("extremeschanged")),n instanceof z&&n==this.baseAxis&&(this._tmin.setKey(n.uid,i.getIndex(0).dateY.getTime()),this._tmax.setKey(n.uid,i.getIndex(i.length-1).dateY.getTime()),this.dispatch("extremeschanged"))}}return e},r.prototype.processValues=function(t){o.prototype.processValues.call(this,t);var e=this.xAxis,i=this.yAxis;if(!(!e||!i)){var a=this.dataItems,n=1/0,s=-1/0,l=1/0,h=-1/0,d=this.startIndex,u=this.endIndex,p=d,f=u;t||(d=0,u=this.dataItems.length);for(var c=d;c<u;c++){var y=a.getIndex(c);this.getStackValue(y,t);var v=y.getValue("valueX","stack"),m=y.getValue("valueY","stack");n=U(y.getMin(this._xValueFields,t,v),n),l=U(y.getMin(this._yValueFields,t,m),l),s=tt(y.getMax(this._xValueFields,t,v),s),h=tt(y.getMax(this._yValueFields,t,m),h),this.stacked&&(this.baseAxis==e&&(m<l&&(l=m),m>h&&(h=m)),this.baseAxis==i&&(v<n&&(n=v),v>s&&(s=v)))}e.processSeriesDataItems(),i.processSeriesDataItems();var x=e.uid,C=i.uid;if(this.xAxis instanceof E&&(n==1/0||s==-1/0)){this._smin.setKey(x,void 0),this._smax.setKey(x,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(this.yAxis instanceof E&&(l==1/0||h==-1/0)){this._smin.setKey(C,void 0),this._smax.setKey(C,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(!t&&(this._tmin.getKey(x)!=n||this._tmax.getKey(x)!=s||this._tmin.getKey(C)!=l||this._tmax.getKey(C)!=h)){this._tmin.setKey(x,n),this._tmax.setKey(x,s),this._tmin.setKey(C,l),this._tmax.setKey(C,h);var S=this.stackedSeries;S&&(S.isDisposed()?this.stackedSeries=void 0:S.processValues(!1)),this.dispatchImmediately("extremeschanged")}if(d!=p||u!=f){n=1/0,s=-1/0,l=1/0,h=-1/0;for(var c=p;c<f;c++){var y=a.getIndex(c);this.getStackValue(y,t);var v=y.getValue("valueX","stack"),m=y.getValue("valueY","stack");n=U(y.getMin(this._xValueFields,t,v),n),l=U(y.getMin(this._yValueFields,t,m),l),s=tt(y.getMax(this._xValueFields,t,v),s),h=tt(y.getMax(this._yValueFields,t,m),h),this.stacked&&(this.baseAxis==e&&(m<l&&(l=m),m>h&&(h=m)),this.baseAxis==i&&(v<n&&(n=v),v>s&&(s=v)))}}if(this.xAxis instanceof E&&(n==1/0||s==-1/0)){this._smin.setKey(x,void 0),this._smax.setKey(x,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(this.yAxis instanceof E&&(l==1/0||h==-1/0)){this._smin.setKey(C,void 0),this._smax.setKey(C,void 0),this.dispatchImmediately("selectionextremeschanged");return}if((this._smin.getKey(x)!=n||this._smax.getKey(x)!=s||this._smin.getKey(C)!=l||this._smax.getKey(C)!=h)&&(this._smin.setKey(x,n),this._smax.setKey(x,s),this._smin.setKey(C,l),this._smax.setKey(C,h),this.appeared||this.start!=0||this.end!=1||this.dataItems!=this.mainDataSet)){var A=!1;if(i instanceof E&&!(i instanceof z)){var T=this._tmin.getKey(C);(!g(T)||(this.usesShowFields||this._dataSetChanged||e instanceof z&&e.groupData&&this.isShowing)&&l<T||this.stackedSeries&&!this.isHidden)&&(this._tmin.setKey(C,l),A=!0);var P=this._tmax.getKey(C);(!g(P)||(this.usesShowFields||this._dataSetChanged||e instanceof z&&e.groupData&&this.isShowing)&&h>P||this.stackedSeries&&!this.isHidden)&&(this._tmax.setKey(C,h),A=!0)}if(e instanceof E&&!(e instanceof z)){var T=this._tmin.getKey(x);(!g(T)||(this.usesShowFields||this._dataSetChanged||i instanceof z&&i.groupData&&this.isShowing)&&n<T||this.stackedSeries&&!this.isHidden)&&(this._tmin.setKey(x,n),A=!0);var P=this._tmax.getKey(x);(!g(P)||(this.usesShowFields||this._dataSetChanged||i instanceof z&&i.groupData&&this.isShowing)&&s>P||this.stackedSeries&&!this.isHidden)&&(this._tmax.setKey(x,s),A=!0)}A&&this.dispatchImmediately("extremeschanged"),this.start==0&&this.end==1&&(this._dataSetChanged=!1),this.dispatchImmediately("selectionextremeschanged")}!t&&this.stacked&&this.processValues(!0)}},r.prototype.hideTooltip=function(t){o.prototype.hideTooltip.call(this,t),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0},r.prototype.showTooltipAtPosition=function(t,e){var i;if(this.visible&&!this.isHiding&&!this.isShowing){var a=this._xAxis.get(),n=this._yAxis.get();a==this.baseAxis&&(i=a.getSeriesDataItem(this,a.toAxisPosition(t),this.snapTooltip)),n==this.baseAxis&&(i=n.getSeriesDataItem(this,n.toAxisPosition(e),this.snapTooltip));var s=this.showTooltipAtDataItem(i);if(s)return s;if(!this.tooltipText&&!this.tooltipHTML)return}this.hideTooltip()},r.prototype.getAdjustedXLocation=function(t,e,i){return t.locations[e]},r.prototype.getAdjustedYLocation=function(t,e,i){return t.locations[e]},r.prototype.showTooltipAtDataItem=function(t){var e,i,a=this.chart.cursor;if(a&&a.hideSeriesTooltipsOnSelection&&a.selection.visible&&a.downPoint){this.hideTooltip();return}if(this.returnBulletDefaultState(t),t&&t.visible){if(this.updateLegendValue(t),this.cursorTooltipEnabled){this.tooltipDataItem=t;var n=this.tooltipXField,s=this.tooltipYField;if(b(t[n])&&b(t[s])){var l=this.getPoint(t,n,s,this.getAdjustedXLocation(t,n),this.getAdjustedYLocation(t,s));if(l&&!(this.chart.className=="XYChart"&&(l.y<-1||l.y>this.yAxis.pixelHeight+1||l.x<-1||l.x>this.xAxis.pixelWidth+1))){if(this.tooltipX=l.x,this.tooltipY=l.y,this._prevTooltipDataItem!=t&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:t}),this._prevTooltipDataItem=t),this.cursorHoverEnabled)try{for(var h=pi(t.sprites),d=h.next();!d.done;d=h.next()){var u=d.value;!u.parent.visible||u.isHidden||u.__disabled||u.disabled||u.isHiding||(u.interactions.isRealHover||(u.dispatchImmediately("over"),u.interactions.isRealHover=!0),u.isHover=!0)}}catch(p){e={error:p}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(e)throw e.error}}return this.showTooltip()?te({x:l.x,y:l.y},this):void 0}}}}else this.updateLegendValue(t,!0)},r.prototype.returnBulletDefaultState=function(t){var e,i;if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=t)try{for(var a=pi(this._prevTooltipDataItem.sprites),n=a.next();!n.done;n=a.next()){var s=n.value;if(s.isDisposed())this._prevTooltipDataItem=void 0;else{var l=s.interactions.isRealHover;s.isHover=!1,l&&s.dispatchImmediately("out")}}}catch(h){e={error:h}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}},r.prototype.shouldCreateBullet=function(t,e){var i=e.xField;b(i)||(i=this.xField);var a=e.yField;if(b(a)||(a=this.yField),this.xAxis instanceof E&&!t.hasValue([i])||this.yAxis instanceof E&&!t.hasValue([a]))return!1;if(e.disabled){var n=e.propertyFields.disabled,s=t.dataContext;return!!(s&&s[n]===!1)}return!0},r.prototype.updateTooltip=function(){!this.hideTooltipWhileZooming&&this.tooltip&&!this.tooltip.isHidden&&!this.isHiding&&!this.isHidden&&this.tooltipDataItem&&this.showTooltipAtDataItem(this.tooltipDataItem)},r.prototype.positionBullet=function(t){o.prototype.positionBullet.call(this,t);var e=t.dataItem,i=t.xField;b(i)||(i=this.xField);var a=t.yField;b(a)||(a=this.yField);var n=this.xAxis,s=this.yAxis;if(n instanceof E&&!e.hasValue([i])||s instanceof E&&!e.hasValue([a]))t.visible=!1;else{var l=this.getBulletLocationX(t,i),h=this.getBulletLocationY(t,a),d=this.getPoint(e,i,a,l,h);if(d){var u=this.xOpenField,p=this.yOpenField,f=void 0,c=void 0;if(n instanceof z){g(l)||(l=0);var y=void 0,v=e.getWorkingValue(i);u?y=e.getWorkingValue(u):n==this.baseAxis&&(y=n.baseValue),g(y)||(y=v);var m=e.getValue("valueX","stack");if(y+=m,v+=m,y==v){var x=n.baseInterval,C=n.dateFormatter;y=nt(new Date(y),x.timeUnit,x.count,C.firstDayOfWeek,C.utc,void 0,C.timezoneMinutes,C.timezone).getTime(),v=ut(new Date(y),x.timeUnit,x.count,C.utc).getTime()}var S=void 0;n==this.baseAxis?S=y+(v-y)*l:S=y+(v-y)*(1-l),f=n.valueToPosition(S)}else if(n instanceof E){g(l)||(l=0);var y=void 0,v=e.getWorkingValue(i);u?y=e.getWorkingValue(u):y=n.baseValue;var m=e.getValue("valueX","stack");y+=m,v+=m;var S=y+(v-y)*(1-l);f=n.valueToPosition(S)}else if(n instanceof $){var A=this.getAdjustedXLocation(e,i,t.locationX),T=this.getAdjustedXLocation(e,u,t.locationX);f=n.categoryToPosition(e[i],A);var P=void 0;u&&(P=n.categoryToPosition(e[u],T)),g(P)||(P=1),f=P+(f-P)*l}if(s instanceof z){g(h)||(h=0);var y=void 0,v=e.getWorkingValue(a);p?y=e.getWorkingValue(p):s==this.baseAxis&&(y=s.baseValue),g(y)||(y=v);var m=e.getValue("valueY","stack");if(y+=m,v+=m,y==v){var x=s.baseInterval,C=s.dateFormatter;y=nt(new Date(y),x.timeUnit,x.count,C.firstDayOfWeek,C.utc,void 0,C.timezoneMinutes,C.timezone).getTime(),v=ut(new Date(y),x.timeUnit,x.count,C.utc).getTime()}var S=void 0;s==this.baseAxis?S=y+(v-y)*h:S=y+(v-y)*(1-h),c=s.valueToPosition(S)}else if(s instanceof E){g(h)||(h=0);var y=void 0,v=e.getWorkingValue(a);p?y=e.getWorkingValue(p):y=s.baseValue;var m=e.getValue("valueY","stack");y+=m,v+=m;var S=y+(v-y)*(1-h);c=s.valueToPosition(S)}else if(s instanceof $){c=s.categoryToPosition(e[a],h);var k=this.getAdjustedYLocation(e,a,t.locationY),V=this.getAdjustedYLocation(e,p,t.locationY);c=s.categoryToPosition(e[a],k);var N=void 0;p&&(N=s.categoryToPosition(e[p],V)),g(N)||(N=1),c=N+(c-N)*h}t.visible=!0,this.positionBulletReal(t,f,c)}else t.visible=!1}},r.prototype.positionBulletReal=function(t,e,i){t.x=this.xAxis.renderer.positionToPoint(e,i).x,t.y=this.yAxis.renderer.positionToPoint(i,e).y},r.prototype.getBulletLocationX=function(t,e){var i=t.locationX,a=t.dataItem;return g(i)||(i=a.workingLocations[e]),i},r.prototype.getBulletLocationY=function(t,e){var i=t.locationY,a=t.dataItem;return g(i)||(i=a.workingLocations[e]),i},r.prototype.updateStacking=function(){var t=this;this.invalidateDataItems(),this.chart&&this.chart.series.each(function(e){e.baseAxis==t.baseAxis&&(e.stackedSeries=void 0,e.invalidateDataItems(),e.invalidateProcessedData())})},Object.defineProperty(r.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(t){if(this.setPropertyValue("stacked",t,!0)){this.updateStacking();var e=this.xAxis,i=this.yAxis;if(!t){var a;e!=this.baseAxis&&e instanceof E&&(a=this.xField),i!=this.baseAxis&&i instanceof E&&(a=this.yField),a&&this.dataItems.each(function(n){n.setCalculatedValue(a,0,"stack")})}}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(t){this.setPropertyValue("snapTooltip",t)},enumerable:!0,configurable:!0}),r.prototype.show=function(t){var e=this;this.isHidden&&(this.appeared&&this.xAxis instanceof z&&this.xAxis.groupData&&(this._tmin.setKey(this.yAxis.uid,void 0),this._tmax.setKey(this.yAxis.uid,void 0)),this.appeared&&this.yAxis instanceof z&&this.yAxis.groupData&&(this._tmin.setKey(this.xAxis.uid,void 0),this._tmax.setKey(this.xAxis.uid,void 0)));var i;this.xAxis instanceof E&&this.xAxis!=this.baseAxis&&(i=this._xValueFields),this.yAxis instanceof E&&this.yAxis!=this.baseAxis&&(i=this._yValueFields);var a=this.startIndex,n=this.endIndex,s=0,l=this.defaultState.transitionDuration;g(t)&&(l=t);var h;w(Ae(this.dataItems.iterator()),function(u){var p=u[0],f=u[1],c=l;(p<e.startIndex-10||p>e.endIndex+10)&&(c=0,s=0),e.sequencedInterpolation&&c>0&&(s=e.sequencedInterpolationDelay*p+l*(p-a)/(n-a)),h=f.show(c,s,i)}),this.dataSets.each(function(u,p){p!=e.dataItems&&p.each(function(f){f.events.disable(),f.show(0,0,i),f.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(u){u.events.disable(),u.show(0,0,i),u.events.enable()});var d=o.prototype.show.call(this,t);return h&&!h.isFinished()&&(d=h),this.hidden&&(this.dispatchImmediately("selectionextremeschanged"),this.hidden=!1),d},r.prototype.hide=function(t){var e=this,i,a,n=this.xAxis;n instanceof E&&n!=this.baseAxis&&(i=this._xValueFields,this.stacked||n.minZoomed<n.baseValue&&n.maxZoomed>n.baseValue||this.stackedSeries?a=n.baseValue:a=n.min);var s=this.yAxis;s instanceof E&&s!=this.baseAxis&&(i=this._yValueFields,this.stacked||s.minZoomed<s.baseValue&&s.maxZoomed>s.baseValue||this.stackedSeries?a=s.baseValue:a=s.min);var l=this.startIndex,h=this.endIndex,d=this.hiddenState.transitionDuration;g(t)&&(d=t);var u=0,p;w(Ae(this.dataItems.iterator()),function(c){var y=c[0],v=c[1],m=d;(y<e.startIndex-10||y>e.endIndex+10)&&(m=0),m==0?v.hide(0,0,a,i):(e.sequencedInterpolation&&m>0&&(u=e.sequencedInterpolationDelay*y+d*(y-l)/(h-l)),p=v.hide(m,u,a,i))}),this.dataSets.each(function(c,y){y!=e.dataItems&&y.each(function(v){v.events.disable(),v.hide(0,0,a,i),v.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(c){c.events.disable(),c.hide(0,0,a,i),c.events.enable()});var f=o.prototype.hide.call(this,d);return f&&!f.isFinished()&&f.delay(u),p&&!p.isFinished()&&(f=p),this.validateDataElements(),f},r.prototype.handleDataItemWorkingValueChange=function(t,e){o.prototype.handleDataItemWorkingValueChange.call(this,t,e);var i=this.baseAxis.series;w(i.iterator(),function(a){(a.stacked||a.stackedSeries)&&a.invalidateProcessedData()})},r.prototype.getStackValue=function(t,e){var i=this,a=this.xAxis,n=this.yAxis;if(!(!this.stacked||!a||!n)){var s=this.chart,l=s.series.indexOf(this),h;if(a!=this.baseAxis&&a instanceof E&&(h=this.xField),n!=this.baseAxis&&n instanceof E&&(h=this.yField),!h)return;t.setCalculatedValue(h,0,"stack"),Rt(s.series.range(0,l).backwards().iterator(),function(d){if(d.xAxis==a&&d.yAxis==n&&d.className==i.className){d.stackedSeries=i;var u=d.dataItems.getIndex(t.index);if(u&&u.hasValue(i._xValueFields)&&u.hasValue(i._yValueFields)){var p=t.getValue(h),f=void 0,c=u.getValue(h)+u.getValue(h,"stack");if(e?f=u.getWorkingValue(h)+u.getValue(h,"stack"):f=u.getValue(h)+u.getValue(h,"stack"),i.stackToNegative){if(p>=0&&c>=0||p<0&&c<0)return t.setCalculatedValue(h,f,"stack"),!1;if(!d.stacked)return!1}else return t.setCalculatedValue(h,f,"stack"),!1}else if(!d.stacked)return!1}return!0})}},Object.defineProperty(r.prototype,"stackToNegative",{get:function(){return this.getPropertyValue("stackToNegative")},set:function(t){this.setPropertyValue("stackToNegative",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(t){this._tooltipXField=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(t){this._tooltipYField=t},enumerable:!0,configurable:!0}),r.prototype.min=function(t){return this._tmin.getKey(t.uid)},r.prototype.max=function(t){return this._tmax.getKey(t.uid)},r.prototype.selectionMin=function(t){var e=this._smin.getKey(t.uid);return e},r.prototype.selectionMax=function(t){var e=this._smax.getKey(t.uid);return e},r.prototype.processConfig=function(t){if(t){if(b(t.baseAxis)&&at(t.baseAxis)&&(this.map.hasKey(t.baseAxis)?t.baseAxis=this.map.getKey(t.baseAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+t.baseAxis+'" found for `baseAxis`.'),delete t.baseAxis)),b(t.xAxis)&&at(t.xAxis)&&(this.map.hasKey(t.xAxis)?t.xAxis=this.map.getKey(t.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+t.xAxis+'" found for `xAxis`.'),delete t.xAxis)),b(t.yAxis)&&at(t.yAxis)&&(this.map.hasKey(t.yAxis)?t.yAxis=this.map.getKey(t.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+t.yAxis+'" found for `yAxis`.'),delete t.yAxis)),b(t.axisRanges)&&kt(t.axisRanges))for(var e=0,i=t.axisRanges.length;e<i;e++){var a=t.axisRanges[e];b(a.type)||(a.type="AxisDataItem"),b(a.axis)&&at(a.axis)&&this.map.hasKey(a.axis)?a.component=this.map.getKey(a.axis):b(a.component)&&at(a.component)&&this.map.hasKey(a.component)&&(a.component=this.map.getKey(a.component))}(!b(t.dataFields)||!pr(t.dataFields))&&this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]")}o.prototype.processConfig.call(this,t)},r.prototype.getPoint=function(t,e,i,a,n,s,l){if(this.xAxis&&this.yAxis){var h=this.xAxis.getX(t,e,a),d=this.yAxis.getY(t,i,n);return h=Y(h,-this._maxxX,this._maxxX),d=Y(d,-this._maxxY,this._maxxY),{x:h,y:d}}},r.prototype.updateItemReaderText=function(){if(!this._itemReaderTextChanged){var t="";mt(this.dataFields,function(e,i){t+="{"+e+"} "}),this.itemReaderText=t,this._itemReaderTextChanged=!1}},Object.defineProperty(r.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(t){this.setPropertyValue("cursorTooltipEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},set:function(t){this.setPropertyValue("cursorHoverEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"excludeFromTotal",{get:function(){return this.getPropertyValue("excludeFromTotal")},set:function(t){this.setPropertyValue("excludeFromTotal",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(t){this.setPropertyValue("hideTooltipWhileZooming",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(t){this.setPropertyValue("maskBullets",t);var e=this.chart;e&&(t?this.bulletsContainer.parent=e.bulletsContainer:this.bulletsContainer.parent=e.axisBulletsContainer)},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(t){this.groupFields=di(t.groupFields,{}),o.prototype.copyFrom.call(this,t)},r.prototype.dispose=function(){this.scrollbarSeries&&this.scrollbarSeries.dispose(),o.prototype.dispose.call(this)},r}(Ze);_.registeredClasses.XYSeries=oe;_.registeredClasses.XYSeriesDataItem=ti;var Qt=function(o){D(r,o);function r(){var t=o.call(this)||this;t._chart=new lt,t.className="XYChartScrollbar";var e=new et;t.padding(0,0,0,0);var i=t.createChild(Kt);if(i.shouldClone=!1,i.margin(0,0,0,0),i.padding(0,0,0,0),i.interactionsEnabled=!1,t._scrollbarChart=i,!De()){var a=new Va;a.filterUnits="userSpaceOnUse",i.plotContainer.filters.push(a)}t._disposers.push(t._scrollbarChart),t.minHeight=60,t.minWidth=60;var n=t.createChild(Z);n.shouldClone=!1,n.setElement(t.paper.add("path")),n.fill=e.getFor("background"),n.fillOpacity=.8,n.interactionsEnabled=!1,n.isMeasured=!1,n.toBack(),t._unselectedOverlay=n,t._disposers.push(t._unselectedOverlay),i.toBack(),t.background.cornerRadius(0,0,0,0);var s=t.thumb.background;s.cornerRadius(0,0,0,0),s.fillOpacity=0,s.fill=e.getFor("background");var l=s.states.getKey("hover");l&&(l.properties.fillOpacity=.2);var h=s.states.getKey("down");return h&&(h.properties.fillOpacity=.4),t._disposers.push(t._chart),t.applyTheme(),t}return Object.defineProperty(r.prototype,"series",{get:function(){return this._series||(this._series=new xt,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),r.prototype.handleSeriesAdded=function(t){var e=this,i=t.newValue;if(!(!i.xAxis||!i.yAxis)){var a=this.scrollbarChart;a.zoomOutButton.disabled=!0,this.chart=i.chart,a.dateFormatter.inputDateFormat=this.chart.dateFormatter.inputDateFormat,a.language.locale=this.chart.language.locale;var n=!0,s=!0;w(this.series.iterator(),function(C){C!=i&&(C.xAxis==i.xAxis&&e.scrollbarChart.xAxes.length>0&&(n=!1),C.yAxis==i.yAxis&&e.scrollbarChart.yAxes.length>0&&(s=!1))}),i.events.on("beforedisposed",function(){e.series.removeValue(i)});var l=new et,h=i.clone();if(De()&&(h.stroke=Ot("#aaaaaa"),h.fill=h.stroke,h.propertyFields.fill=void 0,h.propertyFields.stroke=void 0),i.scrollbarSeries=h,n){var d=i.xAxis.clone();a.xAxes.moveValue(d),d.title.disabled=!0,d.rangeChangeDuration=0;var u=d.renderer;u.ticks.template.disabled=!0,u.inside=!0,u.labels.template.inside=!0,u.line.strokeOpacity=0,u.minLabelPosition=.02,u.maxLabelPosition=.98,u.line.disabled=!0,u.axisFills.template.disabled=!0,u.baseGrid.disabled=!0,u.grid.template.strokeOpacity=.05,u.minWidth=void 0,u.minHeight=void 0,u.padding(0,0,0,0),u.chart=a,u.margin(0,0,0,0),d.width=O(100);var p=u.labels.template;if(p.fillOpacity=.5,d.maxZoomCount=void 0,d.minZoomCount=void 0,d instanceof z){var f=d,c=i.xAxis;f.groupCount=c.groupCount*5,f.min=void 0,f.max=void 0,this._disposers.push(f.clonedFrom.events.on("extremeschanged",function(){g(f.clonedFrom.minDefined)&&(f.min=f.clonedFrom.minDefined),g(f.clonedFrom.maxDefined)&&(f.max=f.clonedFrom.maxDefined)},void 0,!1))}else if(d instanceof E){var y=d;y.min=void 0,y.max=void 0,g(y.clonedFrom.minDefined)||(y.min=void 0),g(y.clonedFrom.maxDefined)||(y.max=void 0),this._disposers.push(y.clonedFrom.events.on("extremeschanged",function(){g(y.clonedFrom.minDefined)&&(y.min=y.clonedFrom.min),g(y.clonedFrom.maxDefined)&&(y.max=y.clonedFrom.max)},void 0,!1))}h.xAxis=d}else this.scrollbarChart.xAxes.each(function(C){C.clonedFrom==i.xAxis&&(h.xAxis=C)});if(s){var v=i.yAxis.clone();a.yAxes.moveValue(v),v.title.disabled=!0,v.rangeChangeDuration=0;var u=v.renderer;u.ticks.template.disabled=!0,u.inside=!0,u.labels.template.inside=!0,u.line.strokeOpacity=0,u.minLabelPosition=.02,u.maxLabelPosition=.98,u.line.disabled=!0,u.axisFills.template.disabled=!0,u.grid.template.stroke=l.getFor("background"),u.baseGrid.disabled=!0,u.grid.template.strokeOpacity=.05,u.minWidth=void 0,u.minHeight=void 0,u.chart=a,u.padding(0,0,0,0),u.margin(0,0,0,0),v.height=O(100);var p=u.labels.template;if(p.fillOpacity=.5,h.yAxis=v,v.maxZoomCount=void 0,v.minZoomCount=void 0,v instanceof z){var m=v;m.min=void 0,m.max=void 0;var c=i.yAxis;v.groupCount=c.groupCount*5,this._disposers.push(m.clonedFrom.events.on("extremeschanged",function(){g(m.clonedFrom.minDefined)&&(m.min=m.clonedFrom.minDefined),g(m.clonedFrom.maxDefined)&&(m.max=m.clonedFrom.maxDefined)}))}else if(v instanceof E){var x=v;x.min=void 0,x.max=void 0,g(x.clonedFrom.minDefined)||(x.min=void 0),g(x.clonedFrom.maxDefined)||(x.max=void 0),this._disposers.push(x.clonedFrom.events.on("extremeschanged",function(){g(x.clonedFrom.minDefined)&&(x.min=x.clonedFrom.minDefined),g(x.clonedFrom.maxDefined)&&(x.max=x.clonedFrom.maxDefined)}))}}else this.scrollbarChart.yAxes.each(function(C){C.clonedFrom==i.yAxis&&(h.yAxis=C)});h.rangeChangeDuration=0,h.interpolationDuration=0,h.defaultState.transitionDuration=0,h.showOnInit=!1,this._disposers.push(h.events.on("validated",this.zoomOutAxes,this,!1)),this._disposers.push(i.events.on("datavalidated",function(){h.data!=i.data&&(h.data=i.data)},void 0,!1)),h.defaultState.properties.visible=!0,a.series.push(h),this.updateByOrientation()}},r.prototype.updateByOrientation=function(){var t=this;this._scrollbarChart&&(w(this._scrollbarChart.xAxes.iterator(),function(e){var i=e.renderer;t.orientation=="vertical"?(i.grid.template.disabled=!0,i.labels.template.disabled=!0,i.minGridDistance=10):(i.grid.template.disabled=!1,i.labels.template.disabled=!1,i.minGridDistance=e.clonedFrom.renderer.minGridDistance)}),w(this._scrollbarChart.yAxes.iterator(),function(e){var i=e.renderer;t.orientation=="horizontal"?(i.grid.template.disabled=!0,i.labels.template.disabled=!0,i.minGridDistance=10):(i.grid.template.disabled=!1,i.labels.template.disabled=!1,i.minGridDistance=e.clonedFrom.renderer.minGridDistance)}))},r.prototype.handleSeriesRemoved=function(t){var e=t.oldValue,i=this.scrollbarChart;i.series.each(function(a){a&&a.clonedFrom==e&&i.series.removeValue(a)}),i.series.length==0&&(i.xAxes.clear(),i.yAxes.clear());try{e.events.off("validated",this.zoomOutAxes,this)}catch{}},Object.defineProperty(r.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this._chart.get()!==t&&(this._chart.set(t,t.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"unselectedOverlay",{get:function(){return this._unselectedOverlay},enumerable:!0,configurable:!0}),r.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data?this.scrollbarChart.data=this.chart.data:this.scrollbarChart.invalidateRawData()},r.prototype.zoomOutAxes=function(){var t=this.scrollbarChart;w(t.xAxes.iterator(),function(e){e.zoom({start:0,end:1},!0,!0)}),w(t.yAxes.iterator(),function(e){e.zoom({start:0,end:1},!0,!0)})},r.prototype.updateThumb=function(t){if(t===void 0&&(t=!0),o.prototype.updateThumb.call(this,t),this._unselectedOverlay){var e=this.thumb,i=e.pixelX||0,a=e.pixelY||0,n=e.pixelWidth||0,s=e.pixelHeight||0,l="";this.orientation=="horizontal"?(l=Nt({x:-1,y:0,width:i,height:s}),l+=Nt({x:i+n,y:0,width:(this.pixelWidth||0)-i-n,height:s})):(l=Nt({x:0,y:0,width:n,height:a}),l+=Nt({x:0,y:a+s,width:n,height:(this.pixelHeight||0)-a-s})),this._unselectedOverlay.path=l}},r.prototype.processConfig=function(t){if(t&&b(t.series)&&kt(t.series))for(var e=0,i=t.series.length;e<i;e++){var a=t.series[e];if(b(a)&&at(a))if(this.map.hasKey(a))t.series[e]=this.map.getKey(a);else throw Error("XYChartScrollbar error: Series with id `"+a+"` does not exist.")}o.prototype.processConfig.call(this,t)},r}(lr);_.registeredClasses.XYChartScrollbar=Qt;var wi=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="XYChartDataItem",t.applyTheme(),t}return r}(gr),Kt=function(o){D(r,o);function r(){var t=o.call(this)||this;t._axisRendererX=Xt,t._axisRendererY=wt,t._seriesPoints=[],t.className="XYChart",t.maskBullets=!0,t.arrangeTooltips=!0;var e=t.chartContainer;e.layout="vertical",t.padding(15,15,15,15);var i=e.createChild(X);i.shouldClone=!1,i.layout="vertical",i.width=O(100),i.zIndex=1,t.topAxesContainer=i;var a=e.createChild(X);a.shouldClone=!1,a.layout="horizontal",a.width=O(100),a.height=O(100),a.zIndex=0,t.yAxesAndPlotContainer=a;var n=e.createChild(X);n.shouldClone=!1,n.width=O(100),n.layout="vertical",n.zIndex=1,t.bottomAxesContainer=n;var s=a.createChild(X);s.shouldClone=!1,s.layout="horizontal",s.height=O(100),s.contentAlign="right",s.events.on("transformed",t.updateXAxesMargins,t,!1),s.zIndex=1,t.leftAxesContainer=s;var l=a.createChild(X);l.shouldClone=!1,l.height=O(100),l.width=O(100),l.background.fillOpacity=0,t.plotContainer=l,t.mouseWheelBehavior="none",t._cursorContainer=l;var h=a.createChild(X);h.shouldClone=!1,h.layout="horizontal",h.height=O(100),h.zIndex=1,h.events.on("transformed",t.updateXAxesMargins,t,!1),t.rightAxesContainer=h,t.seriesContainer.parent=l,t.bulletsContainer.parent=l;var d=l.createChild(Sa);d.shouldClone=!1,d.align="right",d.valign="top",d.zIndex=Number.MAX_SAFE_INTEGER,d.marginTop=5,d.marginRight=5,d.hide(0),t.zoomOutButton=d;var u=t.plotContainer.createChild(X);return u.shouldClone=!1,u.width=O(100),u.height=O(100),u.isMeasured=!1,u.zIndex=4,u.layout="none",t.axisBulletsContainer=u,t._bulletMask=t.plotContainer,t.events.on("beforedatavalidated",function(){t.series.each(function(p){p.dataGrouped=!1,p._baseInterval={}})},t,!1),t.applyTheme(),t}return r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,b(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y chart"))},r.prototype.draw=function(){o.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend()},r.prototype.updatePlotElements=function(){w(this.series.iterator(),function(t){t.invalidate()})},r.prototype.validateData=function(){this._parseDataFrom==0&&(w(this.xAxes.iterator(),function(t){t.dataChangeUpdate()}),w(this.yAxes.iterator(),function(t){t.dataChangeUpdate()}),w(this.series.iterator(),function(t){t.dataChangeUpdate()})),o.prototype.validateData.call(this)},r.prototype.updateXAxesMargins=function(){var t=this.leftAxesContainer.measuredWidth,e=this.rightAxesContainer.measuredWidth,i=this.bottomAxesContainer;(i.paddingLeft!=t||i.paddingRight!=e)&&(i.paddingLeft=t,i.paddingRight=e);var a=this.topAxesContainer;(a.paddingLeft!=t||a.paddingRight!=e)&&(a.paddingLeft=t,a.paddingRight=e)},r.prototype.reinit=function(){o.prototype.reinit.call(this),this.series.each(function(t){t.appeared=!1})},r.prototype.handleXAxisChange=function(t){this.updateXAxis(t.target)},r.prototype.handleYAxisChange=function(t){this.updateYAxis(t.target)},r.prototype.processXAxis=function(t){var e=t.newValue;e.chart=this,e.renderer||(e.renderer=new this._axisRendererX,e.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1)),e.axisLetter="X",e.events.on("startendchanged",this.handleXAxisRangeChange,this,!1),e.dataProvider=this,this.updateXAxis(e.renderer),this.processAxis(e)},r.prototype.processYAxis=function(t){var e=t.newValue;e.chart=this,e.renderer||(e.renderer=new this._axisRendererY,e.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1)),e.axisLetter="Y",e.events.on("startendchanged",this.handleYAxisRangeChange,this,!1),e.dataProvider=this,this.updateYAxis(e.renderer),this.processAxis(e)},r.prototype.handleXAxisRangeChange=function(){var t=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,t,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,t)},r.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var t=!1;Rt(this.xAxes.iterator(),function(e){if(e.toggleZoomOutButton){if(e.maxZoomCount>0){var i=e.maxZoomFactor/e.maxZoomCount;if(j(e.end-e.start,3)<1/i)return t=!0,!1}else if(j(e.start,3)>0||j(e.end,3)<1)return t=!0,!1}return!0}),Rt(this.yAxes.iterator(),function(e){if(e.toggleZoomOutButton){if(e.maxZoomCount>0){var i=e.maxZoomFactor/e.maxZoomCount;if(j(e.end-e.start,3)<1/i)return t=!0,!1}else if(j(e.start,3)>0||j(e.end,3)<1)return t=!0,!1;return!0}}),this.seriesAppeared||(t=!1),t?this.zoomOutButton.show():this.zoomOutButton.hide()}},r.prototype.seriesAppeared=function(){var t=!1;return w(this.series.iterator(),function(e){if(!e.appeared)return t=!1,!1}),t},r.prototype.handleYAxisRangeChange=function(){var t=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,t,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,t)},r.prototype.updateScrollbar=function(t,e){t&&(t.skipRangeEvents(),t.start=e.start,t.end=e.end)},r.prototype.getCommonAxisRange=function(t){var e,i;return t.each(function(a){if(!(!a.zoomable||a instanceof E&&a.syncWithAxis)){var n=a.start,s=a.end;a.renderer.inversed&&(n=1-a.end,s=1-a.start),(!g(e)||n<e)&&(e=n),(!g(i)||s>i)&&(i=s)}}),{start:e,end:i}},r.prototype.updateXAxis=function(t){var e=t.axis;t.opposite?(e.parent=this.topAxesContainer,e.toFront()):(e.parent=this.bottomAxesContainer,e.toBack()),e.renderer&&e.renderer.processRenderer()},r.prototype.updateYAxis=function(t){var e=t.axis;t.opposite?(e.parent=this.rightAxesContainer,e.toBack()):(e.parent=this.leftAxesContainer,e.toFront()),e.renderer&&e.renderer.processRenderer()},r.prototype.processAxis=function(t){var e=this;t instanceof $&&this._dataUsers.moveValue(t);var i=t.renderer;i.gridContainer.parent=this.plotContainer,i.gridContainer.toBack(),i.breakContainer.parent=this.plotContainer,i.breakContainer.toFront(),i.breakContainer.zIndex=10,t.addDisposer(new st(function(){e.dataUsers.removeValue(t)})),i.bulletsContainer.parent=this.axisBulletsContainer,this._disposers.push(t.events.on("positionchanged",function(){var a=Ct({x:0,y:0},t,e.axisBulletsContainer);t.renderer instanceof wt&&(i.bulletsContainer.y=a.y),t.renderer instanceof Xt&&(i.bulletsContainer.x=a.x)},void 0,!1)),this.plotContainer.events.on("maxsizechanged",function(){e.inited&&(t.invalidateDataItems(),e.updateSeriesMasks())},t,!1)},r.prototype.updateSeriesMasks=function(){De()&&this.series.each(function(t){var e=t.mainContainer.mask;t.mainContainer.mask=void 0,t.mainContainer.mask=e})},r.prototype.handleSeriesRemoved=function(t){var e=t.oldValue;e&&(e.xAxis&&(e.xAxis.series.removeValue(e),e.xAxis.invalidateProcessedData()),e.yAxis&&(e.yAxis.series.removeValue(e),e.yAxis.invalidateProcessedData()),this.series.each(function(i){i.resetExtremes()})),o.prototype.handleSeriesRemoved.call(this,t)},Object.defineProperty(r.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new xt,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new G(this._xAxes,!1))),this._xAxes},enumerable:!0,configurable:!0}),r.prototype.handleAxisRemoval=function(t){var e=t.oldValue;this.dataUsers.removeValue(e),e.autoDispose&&e.dispose()},Object.defineProperty(r.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new xt,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new G(this._yAxes,!1))),this._yAxes},enumerable:!0,configurable:!0}),r.prototype.handleSeriesAdded=function(t){try{o.prototype.handleSeriesAdded.call(this,t);var e=t.newValue;(this.xAxes.length==0||this.yAxes.length==0)&&(_.removeFromInvalidComponents(e),e.dataInvalid=!1),Ut(e.xAxis),Ut(e.yAxis),e.maskBullets=e.maskBullets,e.fill==null&&(this.patterns?(b(e.stroke)||(e.stroke=this.colors.next()),e.fill=this.patterns.next(),b(e.fillOpacity)&&(e.fill.backgroundOpacity=e.fillOpacity),e.stroke instanceof Pt&&(e.fill.stroke=e.stroke,e.fill.fill=e.stroke)):e.fill=this.colors.next()),b(e.stroke)||(e.stroke=e.fill)}catch(i){this.raiseCriticalError(i)}},Object.defineProperty(r.prototype,"cursor",{get:function(){return this._cursor},set:function(t){this._cursor!=t&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=t,t&&(this._disposers.push(t),t.chart=this,t.shouldClone=!1,t.parent=this._cursorContainer,t.events.on("cursorpositionchanged",this.handleCursorPositionChange,this,!1),t.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),t.events.on("zoomended",this.handleCursorZoomEnd,this,!1),t.events.on("panstarted",this.handleCursorPanStart,this,!1),t.events.on("panning",this.handleCursorPanning,this,!1),t.events.on("panended",this.handleCursorPanEnd,this,!1),t.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),t.events.on("hidden",this.handleHideCursor,this,!1),t.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),r.prototype.handleCursorPositionChange=function(){var t=this.cursor;if(t.visible&&!t.isHiding){var e=this.cursor.xPosition,i=this.cursor.yPosition;this.showSeriesTooltip({x:e,y:i});var a=[],n=t.snapToSeries;if(n&&!t.downPoint){n instanceof oe&&(n=[n]);var s=[];H(n,function(h){if(!h.isHidden&&!h.isHiding){var d=h.xAxis,u=h.yAxis;d instanceof E&&!(d instanceof z)&&u instanceof E&&!(u instanceof z)?(h.dataItems.each(function(p){s.push(p)}),We(a,h.yAxis),We(a,h.xAxis)):(h.baseAxis==h.xAxis&&(We(a,h.yAxis),s.push(d.getSeriesDataItem(h,d.toAxisPosition(e),!0))),h.baseAxis==h.yAxis&&(We(a,h.xAxis),s.push(u.getSeriesDataItem(h,u.toAxisPosition(i),!0))))}});var l=this.getClosest(s,e,i);l&&(this.series.each(function(h){var d=l.component;h!=d&&(h.hideTooltip(),h.xAxis!=d.xAxis&&(h.xAxis.hideTooltip(),a.push(h.xAxis)),h.yAxis!=d.yAxis&&(h.yAxis.hideTooltip(),a.push(h.yAxis)))}),l.component.showTooltipAtDataItem(l),t.handleSnap(l.component))}this._seriesPoints=[],this._cursorXPosition!=e&&this.showAxisTooltip(this.xAxes,e,a),this._cursorYPosition!=i&&this.showAxisTooltip(this.yAxes,i,a),this.arrangeTooltips&&this.sortSeriesTooltips(this._seriesPoints),this.legend&&this.legend.afterDraw()}},r.prototype.getClosest=function(t,e,i){var a=1/0,n;return Ta(t,function(s){if(s){var l=s.component.xAxis,h=s.component.yAxis,d=l.positionToCoordinate(l.toGlobalPosition(l.toAxisPosition(e))),u=h.positionToCoordinate(h.toGlobalPosition(h.toAxisPosition(i))),p=s.component.xField,f=s.component.yField;if(l instanceof E&&!g(s.getValue(p))||h instanceof E&&!g(s.getValue(f)))return!0;var c=l.positionToCoordinate(l.toGlobalPosition(l.getPositionX(s,p,s.locations[p],"valueX"))),y=h.positionToCoordinate(h.toGlobalPosition(h.getPositionY(s,f,s.locations[f],"valueY"))),v=Math.sqrt(Math.pow(d-c,2)+Math.pow(u-y,2));return v<a&&(a=v,n=s),!0}}),n},r.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this._cursorXPosition=void 0,this._cursorYPosition=void 0,this.updateSeriesLegend()},r.prototype.updateSeriesLegend=function(){w(this.series.iterator(),function(t){t.updateLegendValue()})},r.prototype.hideObjectTooltip=function(t){w(t.iterator(),function(e){e.cursorTooltipEnabled&&e.hideTooltip(0)})},r.prototype.showSeriesTooltip=function(t){var e=this;if(!t){this.series.each(function(a){a.hideTooltip()});return}var i=[];this.series.each(function(a){if(!(a.xAxis instanceof z&&a.xAxis.snapTooltip||a.yAxis instanceof z&&a.yAxis.snapTooltip)){var n=a.showTooltipAtPosition(t.x,t.y);n&&(a.tooltip.setBounds(ur({x:0,y:0,width:e.pixelWidth,height:e.pixelHeight},e)),i.push({series:a,point:n}))}}),this.arrangeTooltips&&this.sortSeriesTooltips(i)},r.prototype.sortSeriesTooltips=function(t){if(t.length>0){var e=this.cursor;if(e&&g(e.maxTooltipDistance)){var i=te({x:e.point.x,y:e.point.y},e),a,n,s=1/0;H(t,function(I){var M=I.series,Dt=I.point;if(Dt){var Yt={x:Dt.x,y:Dt.y},Ft=Math.abs(K(Yt,i));Ft<s&&(n=Yt,s=Ft,a=M)}});var l=[];a&&(H(t,function(I){if(Math.abs(K(I.point,n))<=Math.abs(e.maxTooltipDistance))l.push({series:I.series,point:I.point});else{var M=I.series.tooltipDataItem;M&&H(M.sprites,function(Dt){Dt.isHover=!1,Dt.handleOutReal()}),I.series.hideTooltip(0)}}),e.maxTooltipDistance<0&&(l.length>0&&H(l,function(I){a!=I.series&&I.series.hideTooltip(0)}),l=[{series:a,point:n}])),t=l}var h=te({x:-.5,y:-.5},this.plotContainer),d=te({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),u=0,p=[];H(t,function(I){var M=I.point;M&&Oa(M,{x:h.x,y:h.y,width:d.x-h.x,height:d.y-h.y})&&(p.push({point:M,series:I.series}),u+=M.y)}),t=p;var f=this.series.getIndex(0),c=!1;f&&f.yAxis&&f.yAxis.renderer.inversed&&(c=!0),c?t.sort(function(I,M){return ve(I.point.y,M.point.y)}):(t.sort(function(I,M){return ve(M.point.y,I.point.y)}),t.reverse());var y=u/t.length,v=ka({x:0,y:0},this.svgContainer.SVGContainer).y;if(t.length>0){var m=h.y,x=d.y;wa({x:0,y:m},this);var C=!1;if(y>m+(x-m)/2)for(var S=x,A=t.length-1;A>=0;A--){var T=t[A].series,P=T.tooltip,k=t[A].point.y;if(P.setBounds({x:0,y:-v,width:this.pixelWidth,height:S+v}),P.invalid&&P.validate(),P.toBack(),S=te({x:0,y:P.label.pixelY-P.pixelY+k-P.pixelMarginTop},P).y,S<-v){C=!0;break}}if(y<=m+(x-m)/2||C)for(var V=m,A=0,N=t.length;A<N;A++){var T=t[A].series,k=t[A].point.y,P=T.tooltip;P.setBounds({x:0,y:V,width:this.pixelWidth,height:x}),P.invalid&&P.validate(),P.toBack(),V=te({x:0,y:P.label.pixelY+P.label.measuredHeight-P.pixelY+k+P.pixelMarginBottom},P).y}}}},r.prototype.showAxisTooltip=function(t,e,i){var a=this;w(t.iterator(),function(n){(!i||i.indexOf(n)==-1)&&(a.dataItems.length>0||n.dataItems.length>0)&&n.showTooltipAtPosition(e)})},r.prototype.getUpdatedRange=function(t,e){if(!!t){var i,a,n=t.renderer.inversed;n?(me(e),i=1-t.end,a=1-t.start):(i=t.start,a=t.end);var s=a-i;return{start:i+e.start*s,end:i+e.end*s}}},r.prototype.handleCursorZoomEnd=function(t){var e=this.cursor,i=e.behavior;if(i=="zoomX"||i=="zoomXY"){var a=e.xRange;a&&this.xAxes.length>0&&(a=this.getUpdatedRange(this.xAxes.getIndex(0),a),a.priority="start",this.zoomAxes(this.xAxes,a))}if(i=="zoomY"||i=="zoomXY"){var n=e.yRange;n&&this.yAxes.length>0&&(n=this.getUpdatedRange(this.yAxes.getIndex(0),n),n.priority="start",this.zoomAxes(this.yAxes,n))}this.handleHideCursor()},r.prototype.handleCursorPanStart=function(t){var e=this.xAxes.getIndex(0);e&&(this._panStartXRange={start:e.start,end:e.end},e.renderer.inversed&&(this._panStartXRange=me(this._panStartXRange)));var i=this.yAxes.getIndex(0);i&&(this._panStartYRange={start:i.start,end:i.end},i.renderer.inversed&&(this._panStartYRange=me(this._panStartYRange)))},r.prototype.handleCursorPanEnd=function(t){var e=this.cursor,i=e.behavior;if(this._panEndXRange&&(i=="panX"||i=="panXY")){var a=this._panEndXRange,n=this._panStartXRange,s=0;a.start<0&&(s=a.start),n.end>1?a.end>n.end&&(s=a.end-n.end):a.end>1&&(s=a.end-1),this.zoomAxes(this.xAxes,{start:a.start-s,end:a.end-s},!1,e.snapOnPan),this._panEndXRange=void 0,this._panStartXRange=void 0}if(this._panEndYRange&&(i=="panY"||i=="panXY")){var a=this._panEndYRange,s=0;a.start<0&&(s=a.start),a.end>1&&(s=a.end-1),this.zoomAxes(this.yAxes,{start:a.start-s,end:a.end-s},!1,e.snapOnPan),this._panEndYRange=void 0,this._panStartYRange=void 0}},r.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0},r.prototype.handleCursorPanning=function(t){var e=this.cursor,i=e.behavior,a=e.maxPanOut;if(this._panStartXRange&&(i=="panX"||i=="panXY")){var n=this._panStartXRange,s=e.xRange,l=this.getCommonAxisRange(this.xAxes),h=n.end-n.start,d=s.start*(l.end-l.start),u=Math.max(-a,d+n.start),p=Math.min(d+n.end,1+a);u<=0&&(p=u+h),p>=1&&(u=p-h);var f={start:u,end:p};this._panEndXRange=f,this.zoomAxes(this.xAxes,f,!1,!1,e.maxPanOut)}if(this._panStartYRange&&(i=="panY"||i=="panXY")){var n=this._panStartYRange,s=e.yRange,l=this.getCommonAxisRange(this.yAxes),h=n.end-n.start,d=s.start*(l.end-l.start),u=Math.max(-a,d+n.start),p=Math.min(d+n.end,1+a);u<=0&&(p=u+h),p>=1&&(u=p-h);var f={start:u,end:p};this._panEndYRange=f,this.zoomAxes(this.yAxes,f,!1,!1,e.maxPanOut)}this.handleHideCursor()},r.prototype.handleYAxisSet=function(t){},r.prototype.handleCursorZoomStart=function(t){},Object.defineProperty(r.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(t){var e=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=t,t&&(this._disposers.push(t),t.parent=this.topAxesContainer,t.shouldClone=!1,t.startGrip.exportable=!1,t.endGrip.exportable=!1,t.toBack(),t.orientation="horizontal",t.events.on("rangechanged",this.handleXScrollbarChange,this,!1),this.events.on("datavalidated",function(){return t.updateThumb(!1)},this,!1),t.adapter.add("positionValue",function(i){var a=e.xAxes.getIndex(0);return a&&(i.value=a.getPositionLabel(a.renderer.inversed?1-i.position:i.position)),i}))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(t){var e=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=t,t&&(this._disposers.push(t),t.parent=this.rightAxesContainer,t.startGrip.exportable=!1,t.shouldClone=!1,t.endGrip.exportable=!1,t.toFront(),t.orientation="vertical",t.events.on("rangechanged",this.handleYScrollbarChange,this,!1),this.events.on("datavalidated",function(){return t.updateThumb(!1)},this,!1),t.adapter.add("positionValue",function(i){var a=e.yAxes.getIndex(0);return a&&(i.value=a.getPositionLabel(i.position)),i}))},enumerable:!0,configurable:!0}),r.prototype.handleXScrollbarChange=function(t){if(this.inited){var e=t.target,i=e.range;i.start==0&&(i.priority="start"),i.end==1&&(i.priority="end"),i=this.zoomAxes(this.xAxes,i),e.fixRange(i)}},r.prototype.handleYScrollbarChange=function(t){if(this.inited){var e=t.target,i=e.range;i.end==1&&(i.priority="end"),i.start==0&&(i.priority="start"),i=this.zoomAxes(this.yAxes,i),e.fixRange(i)}},r.prototype.zoomAxes=function(t,e,i,a,n,s){var l={start:0,end:1};this.showSeriesTooltip();var h=e;return this.dataInvalid||w(t.iterator(),function(d){var u=d.maxZoomFactor;if(g(d.minZoomCount)&&(u=u/d.minZoomCount),!(s&&1/(e.end-e.start)>=u)){if(d.zoomable){if(d.renderer.inversed?e=me(h):e=h,d.hideTooltip(0),a)if(d instanceof $){var p=d.getCellEndPosition(0)-d.getCellStartPosition(0);e.start=d.roundPosition(e.start+p/2-d.startLocation*p,d.startLocation),e.end=d.roundPosition(e.end-p/2+(1-d.endLocation)*p,d.endLocation)}else e.start=d.roundPosition(e.start+1e-4,0,d.startLocation),e.end=d.roundPosition(e.end+1e-4,0,d.endLocation);var f=d.zoom(e,i,i,n);d.renderer.inversed&&(f=me(f)),l=f}}}),l},Object.defineProperty(r.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(t){this.setPropertyValue("maskBullets",t,!0)&&this.bulletsContainer&&(t?this.bulletsContainer.mask=this._bulletMask:this.bulletsContainer.mask=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(t){this.setPropertyValue("arrangeTooltips",t,!0)},enumerable:!0,configurable:!0}),r.prototype.handleWheel=function(t){var e=this.plotContainer,i=Ki(t.point,this.htmlContainer,this.svgContainer.cssScale),a=Gt(i,e),n=t.shift.y;this.handleWheelReal(n,this.mouseWheelBehavior,a)},r.prototype.handleHorizontalWheel=function(t){var e=this.plotContainer,i=Ki(t.point,this.htmlContainer,this.svgContainer.cssScale),a=Gt(i,e);this.handleWheelReal(t.shift.x,this.horizontalMouseWheelBehavior,a)},r.prototype.handleWheelReal=function(t,e,i){if(t!=0){var a=this.plotContainer,n=this.getCommonAxisRange(this.xAxes),s=this.getCommonAxisRange(this.yAxes),l=.1,h=0;if(e=="panX"||e=="panXY"){var d=n.end-n.start,u=Math.max(-h,n.start+l*t/100*(n.end-n.start)),p=Math.min(n.end+l*t/100*(n.end-n.start),1+h);u<=0&&(p=u+d),p>=1&&(u=p-d),this.zoomAxes(this.xAxes,{start:u,end:p})}if(e=="panY"||e=="panXY"){t*=-1;var f=s.end-s.start,c=Math.max(-h,s.start+l*t/100*(s.end-s.start)),y=Math.min(s.end+l*t/100*(s.end-s.start),1+h);c<=0&&(y=c+f),y>=1&&(c=y-f),this.zoomAxes(this.yAxes,{start:c,end:y})}if(e=="zoomX"||e=="zoomXY"){var v=i.x/a.maxWidth,m=this.xAxes.getIndex(0).toAxisPosition(v),u=Math.max(-h,n.start-l*(n.end-n.start)*t/100*v);u=Math.min(u,m);var p=Math.min(n.end+l*(n.end-n.start)*t/100*(1-v),1+h);p=Math.max(p,m),this.zoomAxes(this.xAxes,{start:u,end:p},void 0,void 0,void 0,!0)}if(e=="zoomY"||e=="zoomXY"){var x=i.y/a.maxHeight,C=this.yAxes.getIndex(0).toAxisPosition(x),c=Math.max(-h,s.start-l*(s.end-s.start)*t/100*(1-x));c=Math.min(c,C);var y=Math.min(s.end+l*t/100*x*(s.end-s.start),1+h);y=Math.max(y,C),this.zoomAxes(this.yAxes,{start:c,end:y},void 0,void 0,void 0,!0)}}},Object.defineProperty(r.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(t){this.setPropertyValue("mouseWheelBehavior",t)&&(t!="none"?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"horizontalMouseWheelBehavior",{get:function(){return this.getPropertyValue("horizontalMouseWheelBehavior")},set:function(t){this.setPropertyValue("horizontalMouseWheelBehavior",t)&&(t!="none"?(this._mouseWheelDisposer2=this.plotContainer.events.on("wheel",this.handleHorizontalWheel,this,!1),this._disposers.push(this._mouseWheelDisposer2)):this._mouseWheelDisposer2&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer2.dispose()))},enumerable:!0,configurable:!0}),r.prototype.dataSourceDateFields=function(t){var e=this;return t=o.prototype.dataSourceDateFields.call(this,t),w(this.series.iterator(),function(i){t=e.populateDataSourceFields(t,i.dataFields,["dateX","dateY","openDateX","openDateY"])}),t},r.prototype.dataSourceNumberFields=function(t){var e=this;return t=o.prototype.dataSourceDateFields.call(this,t),w(this.series.iterator(),function(i){t=e.populateDataSourceFields(t,i.dataFields,["valueX","valueY","openValueX","openValueY"])}),t},r.prototype.processConfig=function(t){if(t){var e=[],i=[];if(b(t.xAxes)&&kt(t.xAxes))for(var a=0,n=t.xAxes.length;a<n;a++)if(t.xAxes[a].type){if(b(t.xAxes[a].axisRanges)){for(var s=0,l=t.xAxes[a].axisRanges.length;s<l;s++){var h=t.xAxes[a].axisRanges[s];b(h.date)&&at(h.date)&&(h.date=this.dateFormatter.parse(h.date)),b(h.endDate)&&at(h.endDate)&&(h.endDate=this.dateFormatter.parse(h.endDate))}e.push({axisRanges:t.xAxes[a].axisRanges,index:a}),delete t.xAxes[a].axisRanges}}else throw Error("[XYChart error] No type set for xAxes["+a+"].");if(b(t.yAxes)&&kt(t.yAxes))for(var a=0,n=t.yAxes.length;a<n;a++)if(t.yAxes[a].type){if(b(t.yAxes[a].axisRanges)){for(var s=0,d=t.yAxes[a].axisRanges.length;s<d;s++){var h=t.yAxes[a].axisRanges[s];b(h.date)&&at(h.date)&&(h.date=this.dateFormatter.parse(h.date)),b(h.endDate)&&at(h.endDate)&&(h.endDate=this.dateFormatter.parse(h.endDate))}i.push({axisRanges:t.yAxes[a].axisRanges,index:a}),delete t.yAxes[a].axisRanges}}else throw Error("[XYChart error] No type set for yAxes["+a+"].");if(b(t.series)&&kt(t.series))for(var a=0,n=t.series.length;a<n;a++)t.series[a].type=t.series[a].type||"LineSeries";if(b(t.cursor)&&!b(t.cursor.type)&&(t.cursor.type="XYCursor"),b(t.scrollbarX)&&!b(t.scrollbarX.type)&&(t.scrollbarX.type="Scrollbar"),b(t.scrollbarY)&&!b(t.scrollbarY.type)&&(t.scrollbarY.type="Scrollbar"),o.prototype.processConfig.call(this,t),i.length)for(var a=0,n=i.length;a<n;a++)this.yAxes.getIndex(i[a].index).config={axisRanges:i[a].axisRanges};if(e.length)for(var a=0,n=e.length;a<n;a++)this.xAxes.getIndex(e[a].index).config={axisRanges:e[a].axisRanges}}},r.prototype.configOrder=function(t,e){return t==e?0:t=="scrollbarX"?1:e=="scrollbarX"?-1:t=="scrollbarY"?1:e=="scrollbarY"?-1:t=="cursor"?1:e=="cursor"?-1:t=="series"?1:e=="series"?-1:o.prototype.configOrder.call(this,t,e)},r.prototype.createSeries=function(){return new oe},Object.defineProperty(r.prototype,"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(t){var e=this;this._zoomOutButton=t,t&&t.events.on("hit",function(){e.zoomAxes(e.xAxes,{start:0,end:1}),e.zoomAxes(e.yAxes,{start:0,end:1})},void 0,!1)},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(t){var e=this;t.xAxes.each(function(i){var a=e.xAxes.push(i.clone());a.chart=e,a.renderer.chart=e}),t.yAxes.each(function(i){var a=e.yAxes.push(i.clone());a.renderer.chart=e,a.chart=e}),o.prototype.copyFrom.call(this,t),t.cursor&&(this.cursor=t.cursor.clone()),t.scrollbarX&&(this.scrollbarX=t.scrollbarX.clone()),t.scrollbarY&&(this.scrollbarY=t.scrollbarY.clone())},r.prototype.disposeData=function(){o.prototype.disposeData.call(this);var t=this.scrollbarX;t&&t instanceof Qt&&t.scrollbarChart.disposeData();var e=this.scrollbarY;e&&e instanceof Qt&&e.scrollbarChart.disposeData(),this.xAxes.each(function(i){i instanceof $&&i.disposeData()}),this.yAxes.each(function(i){i instanceof $&&i.disposeData()})},r.prototype.addData=function(t,e){this.scrollbarX instanceof Qt&&this.addScrollbarData(this.scrollbarX,e),this.scrollbarY instanceof Qt&&this.addScrollbarData(this.scrollbarY,e),o.prototype.addData.call(this,t,e)},r.prototype.addScrollbarData=function(t,e){var i=t.scrollbarChart;i._parseDataFrom=i.data.length,i.invalidateData()},r.prototype.removeScrollbarData=function(t,e){var i=t.scrollbarChart;if(g(e)){for(;e>0;){var a=this.dataItems.getIndex(0);a&&i.dataItems.remove(a),i.dataUsers.each(function(n){var s=n.dataItems.getIndex(0);s&&n.dataItems.remove(s)}),i._parseDataFrom--,e--}i.invalidateData()}},r.prototype.removeData=function(t){this.scrollbarX instanceof Qt&&this.removeScrollbarData(this.scrollbarX,t),this.scrollbarY instanceof Qt&&this.removeScrollbarData(this.scrollbarY,t),o.prototype.removeData.call(this,t)},r.prototype.setTapToActivate=function(t){o.prototype.setTapToActivate.call(this,t),this.cursor&&(this.cursor.interactions.isTouchProtected=t,this.plotContainer.interactions.isTouchProtected=t)},r.prototype.handleTapToActivate=function(){o.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},r.prototype.handleTapToActivateDeactivation=function(){o.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},r}(Si);_.registeredClasses.XYChart=Kt;dt.push({relevant:pt.maybeXS,state:function(o,r){if(o instanceof Kt&&o.scrollbarX){var t=o.states.create(r),e=o.scrollbarX.states.create(r);return e.properties.disabled=!0,t}return null}});dt.push({relevant:pt.maybeXS,state:function(o,r){if(o instanceof Kt&&o.scrollbarY){var t=o.states.create(r),e=o.scrollbarY.states.create(r);return e.properties.disabled=!0,t}return null}});var Fi=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="LineSeriesSegment",t.isMeasured=!1,t.interactionsEnabled=!1,t.layout="none";var e=t.createChild(Z);t.fillSprite=e,e.shouldClone=!1,e.setElement(t.paper.add("path")),e.isMeasured=!1,t._disposers.push(e);var i=t.createChild(Z);return t.strokeSprite=i,i.shouldClone=!1,i.fill=Ot(),i.setElement(t.paper.add("path")),i.isMeasured=!1,t._disposers.push(i),t}return r.prototype.drawSegment=function(t,e,i,a){if(!this.disabled)if(t.length>0&&e.length>0&&g(t[0].x)&&g(t[0].y)){var n=W({x:t[0].x-.2,y:t[0].y-.2})+W(t[0]),s=this.series;s.smoothing=="bezier"?n+=new _e(i,a).smooth(t):s.smoothing=="monotoneX"?n+=new Zi({closed:!1}).smooth(t):s.smoothing=="monotoneY"&&(n+=new qi({closed:!1}).smooth(t)),this.strokeOpacity==0||this.strokeSprite.strokeOpacity==0||(this.strokeSprite.path=n),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&g(e[0].x)&&g(e[0].y)&&(n+=R(e[0]),s.smoothing=="bezier"?n+=new _e(i,a).smooth(e):s.smoothing=="monotoneX"?n+=new Zi({closed:!1}).smooth(e):s.smoothing=="monotoneY"&&(n+=new qi({closed:!1}).smooth(e)),n+=R(t[0]),n+=se(),this.fillSprite.path=n)}else this.fillSprite.path="",this.strokeSprite.path=""},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t);var e=this.strokeSprite;rt(t,e.properties,J),e.events.copyFrom(t.strokeSprite.events),e.fillOpacity=0;var i=this.fillSprite;rt(t,i.properties,J),i.events.copyFrom(t.fillSprite.events),i.strokeOpacity=0},r}(X);_.registeredClasses.LineSeriesSegment=Fi;var pn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="DurationAxisDataItem",t.applyTheme(),t}return r}(Qe),vi=function(o){D(r,o);function r(){var t=o.call(this)||this;return t._baseUnit="second",t.className="DurationAxis",t.setPropertyValue("maxZoomFactor",1e6),t.applyTheme(),t}return r.prototype.formatLabel=function(t,e){return this.durationFormatter.format(t,e||this.axisDurationFormat)},r.prototype.adjustMinMax=function(t,e,i,a,n){var s,l,h,d=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),d=="millisecond"||d=="second"||d=="minute"||d=="hour"){a<=1&&(a=1),a=Math.round(a);var u=t,p=e;i===0&&(i=Math.abs(e));var f=i/a,c=[60,30,20,15,10,2,1],y=1;d=="hour"&&(c=[24,12,6,4,2,1]);try{for(var v=pi(c),m=v.next();!m.done;m=v.next()){var x=m.value;if(i/x>a){y=x;break}}}catch(k){s={error:k}}finally{try{m&&!m.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}var C=Math.ceil((e-t)/y/a),S=Math.log(Math.abs(C))*Math.LOG10E,A=Math.pow(10,Math.floor(S))/10,T=C/A,P=Fa(c,T);C=P*A,f=y*C,this.durationFormatter.getValueUnit(f,this.baseUnit),t=Math.floor(t/f)*f,e=Math.ceil(e/f)*f,n&&(t-=f,t<0&&u>=0&&(t=0),e+=f,e>0&&p<=0&&(e=0)),h={min:t,max:e,step:f}}else h=o.prototype.adjustMinMax.call(this,t,e,i,a,n);return this.axisDurationFormat=this.durationFormatter.getFormat(h.step,h.max,this.baseUnit),h},Object.defineProperty(r.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(t){this._tooltipDurationFormat=t},enumerable:!0,configurable:!0}),r.prototype.getTooltipText=function(t){var e=j(this.positionToValue(t),this._stepDecimalPlaces),i=this.formatLabel(e,this.tooltipDurationFormat);return this._adapterO?this._adapterO.apply("getTooltipText",i):i},Object.defineProperty(r.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(t){this._baseUnit!=t&&(this._baseUnit=t,this.durationFormatter.baseUnit=t,this.invalidate())},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.baseUnit=t.baseUnit},r}(E);_.registeredClasses.DurationAxis=vi;_.registeredClasses.DurationAxisDataItem=pn;var ei=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="LineSeriesDataItem",t}return r}(ti),Li=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.minDistance=.5,t.segments=new Q(t.createSegment()),t.segments.template.applyOnClones=!0,t._disposers.push(new G(t.segments)),t._disposers.push(t.segments.template),t._segmentsIterator=new Di(t.segments,function(){return t.segments.create()}),t._segmentsIterator.createNewItems=!0,t.className="LineSeries",t.strokeOpacity=1,t.fillOpacity=0,t.connect=!0,t.tensionX=1,t.tensionY=1,t.autoGapCount=1.1,t.smoothing="bezier",t.segmentsContainer=t.mainContainer.createChild(X),t.segmentsContainer.isMeasured=!1,t.bulletsContainer.toFront(),t.applyTheme(),t}return r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Line Series"))},r.prototype.createSegment=function(){return new Fi},r.prototype.createDataItem=function(){return new ei},r.prototype.setInitialWorkingValues=function(t){var e=this._yAxis.get(),i=this._xAxis.get();if(this.appeared&&this.visible){var a=this.dataItems.getIndex(t.index-1);if(t.component=this,this.baseAxis==i&&e instanceof E){var n=e.minZoomed;if(a&&(n=a.values.valueY.workingValue),t.setWorkingValue("valueY",n,0),t.setWorkingValue("valueY",t.values.valueY.value),i instanceof z)t.setWorkingLocation("dateX",t.locations.dateX-1,0),t.setWorkingLocation("dateX",t.locations.dateX);else if(i instanceof vi&&a){var s=t.valueX;t.setWorkingValue("valueX",a.valueX,0),t.setWorkingValue("valueX",s)}}if(this.baseAxis==e&&i instanceof E){var l=i.minZoomed;if(a&&(l=a.values.valueX.workingValue),t.setWorkingValue("valueX",l,0),t.setWorkingValue("valueX",t.values.valueX.value),e instanceof z)t.setWorkingLocation("dateY",t.locations.dateX-1,0),t.setWorkingLocation("dateY",t.locations.dateY);else if(e instanceof vi&&a){var s=t.valueY;t.setWorkingValue("valueY",a.valueY,0),t.setWorkingValue("valueY",s)}}}else this.baseAxis==i&&e instanceof E&&(i instanceof z&&t.setWorkingLocation("dateX",t.locations.dateX),i instanceof $&&t.setWorkingLocation("categoryX",t.locations.categoryX)),this.baseAxis==e&&i instanceof E&&(e instanceof z&&t.setWorkingLocation("dateY",t.locations.dateY),e instanceof $&&t.setWorkingLocation("categoryY",t.locations.categoryY))},r.prototype.updateLegendValue=function(t,e){o.prototype.updateLegendValue.call(this,t,e),t&&t.segment&&(this.tooltipColorSource=t.segment)},r.prototype.validate=function(){var t=this;o.prototype.validate.call(this),this.xAxis&&this.yAxis&&(this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),w(this.axisRanges.iterator(),function(e){t.openSegmentWrapper(t._adjustedStartIndex,e)}),w(this._segmentsIterator.iterator(),function(e){e.__disabled=!0}))},r.prototype.sliceData=function(){for(var t=this.startIndex,e=this.endIndex,i=this.startIndex-1;i>=0;i--){var a=this.dataItems.getIndex(i);if(a&&a.hasValue(this._xValueFields)&&a.hasValue(this._yValueFields)){t=i;break}}this._adjustedStartIndex=this.findAdjustedIndex(t,["stroke","strokeWidth","strokeDasharray","strokeOpacity","fill","fillOpacity","opacity"]);for(var i=this.endIndex,n=this.dataItems.length;i<n;i++){var a=this.dataItems.getIndex(i);if(a&&a.hasValue(this._xValueFields)&&a.hasValue(this._yValueFields)){e=i+1;break}}this._workingStartIndex=t,this._workingEndIndex=e},r.prototype.findAdjustedIndex=function(t,e){var i=this,a=this.propertyFields,n=t;return H(e,function(s){if(b(a[s]))for(var l=n;l>=0;l--){var h=i.dataItems.getIndex(l);if(h&&b(h.properties[s])){t>l&&(t=l);break}}}),t},r.prototype.openSegmentWrapper=function(t,e){var i={index:t,axisRange:e};do i=this.openSegment(i.index,i.axisRange);while(i)},r.prototype.getSegment=function(){var t=this._segmentsIterator.getFirst();return t.series=this,t.isDisposed()?(this.segments.removeValue(t),this.getSegment()):t},r.prototype.openSegment=function(t,e){var i=!1,a=[];t=Math.min(t,this.dataItems.length);var n=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var s,l=!1,h=this.getSegment();h.strokeDasharray=void 0,h.__disabled=!1,e?(h.parent=e.contents,rt(e.contents,h,J)):(rt(this,h,J),h.filters.clear(),h.parent=this.segmentsContainer),this.group.node.removeAttribute("fill");for(var d=this.connect,u=!1,p=t;p<n;p++){var f=this.dataItems.getIndex(p);if(f.segment=h,f.hasProperties&&(p==t?this.updateSegmentProperties(f.properties,h):l=this.updateSegmentProperties(f.properties,h,!0)),f.hasValue(this._xValueFields)&&f.hasValue(this._yValueFields))this.addPoints(a,f,this.xField,this.yField),u=!0;else{if(p==t)continue;if(!d&&u){s=p;break}}if(s=p,this.baseAxis instanceof z){var c=this.dataItems.getIndex(p+1);if(c&&this.baseAxis.makeGap(c,f)){i=!0;break}}if(l)break}return this.closeSegment(h,a,t,s,e,i)},r.prototype.addPoints=function(t,e,i,a,n){var s=this.getPoint(e,i,a,e.workingLocations[i],e.workingLocations[a]);n||(e.point=s),t.push(s)},r.prototype.closeSegment=function(t,e,i,a,n,s){var l=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var h=a;h>=i;h--){var d=this.dataItems.getIndex(h);d.hasValue(this._xValueFields)&&d.hasValue(this._yValueFields)&&this.addPoints(l,d,this.xOpenField,this.yOpenField,!0)}else{var u=this.baseAxis,p=e.length,f=this.xAxis,c=this.yAxis;p>0&&(u==f?(l.push({x:e[p-1].x,y:c.basePoint.y}),l.push({x:e[0].x,y:c.basePoint.y})):(l.push({x:f.basePoint.x,y:e[p-1].y}),l.push({x:f.basePoint.x,y:e[0].y})))}return this.drawSegment(t,e,l),s&&a++,a<this._workingEndIndex-1?{index:a,axisRange:n}:null},r.prototype.drawSegment=function(t,e,i){t.drawSegment(e,i,this.tensionX,this.tensionY)},r.prototype.updateSegmentProperties=function(t,e,i){var a=!1;return mt(t,function(n,s){if(b(s)){var l=e[n],h=void 0;l&&(l.toString?h=l.toString():h=l);var d=void 0;s&&(s.toString?d=s.toString():d=s),l==s||h!=null&&d!=null&&h==d||(i||(e[n]=s),a=!0)}}),a},Object.defineProperty(r.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(t){this.setPropertyValue("connect",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(t){this.setPropertyValue("tensionX",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(t){this.setPropertyValue("tensionY",t,!0)},enumerable:!0,configurable:!0}),r.prototype.createLegendMarker=function(t){var e=this,i=t.pixelWidth,a=t.pixelHeight;t.disposeChildren();var n=t.createChild(Wt);if(n.shouldClone=!1,rt(this,n,J),n.x2=i,n.y=a/2,n.y2=1e-5,n.visible=!0,this.fillOpacity>0){var s=t.createChild(La);rt(this,s,J),s.width=i,s.height=a,s.y=0,s.strokeOpacity=0,s.visible=!0,n.y=0}var l=t.dataItem;l.color=this.stroke,l.colorOrig=this.fill,Rt(this.bullets.iterator(),function(h){if(h instanceof jt&&!h.copyToLegendMarker)return!1;var d=!1;if(h instanceof X&&w(h.children.iterator(),function(p){if(p instanceof Ht)return d=!0,!0}),!d){var u=h.clone();return u.parent=t,u.isMeasured=!0,u.tooltipText=void 0,u.x=i/2,e.fillOpacity>0?u.y=0:u.y=a/2,u.visible=!0,b(u.fill)||(u.fill=e.fill),b(u.stroke)||(u.stroke=e.stroke),!1}})},r.prototype.disposeData=function(){o.prototype.disposeData.call(this),this.segments.clear()},Object.defineProperty(r.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},set:function(t){this.setPropertyValue("autoGapCount",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"smoothing",{get:function(){return this.getPropertyValue("smoothing")},set:function(t){this.setPropertyValue("smoothing",t,!0)},enumerable:!0,configurable:!0}),r}(oe);_.registeredClasses.LineSeries=Li;_.registeredClasses.LineSeriesDataItem=ei;var Ar=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="RadarSeriesDataItem",t.setLocation("dateX",0,0),t.setLocation("dateY",0,0),t.setLocation("categoryX",0,0),t.setLocation("categoryY",0,0),t.applyTheme(),t}return r}(ei),_r=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="RadarSeries",t.connectEnds=!0,t.applyTheme(),t}return r.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),o.prototype.validate.call(this)},r.prototype.createDataItem=function(){return new Ar},r.prototype.getPoint=function(t,e,i,a,n,s,l){s||(s="valueX"),l||(l="valueY");var h=this.yAxis.getX(t,i,n,l),d=this.yAxis.getY(t,i,n,l),u=K({x:h,y:d});u==0&&(u=1e-5);var p=this.xAxis.getAngle(t,e,a,s),f=this.chart.startAngle,c=this.chart.endAngle;if(!(p<f||p>c))return{x:u*F(p),y:u*L(p)}},r.prototype.addPoints=function(t,e,i,a,n){var s=this.getPoint(e,i,a,e.locations[i],e.locations[a]);s&&t.push(s)},r.prototype.getMaskPath=function(){var t=this.yAxis.renderer;return Oe(t.startAngle,t.endAngle-t.startAngle,t.pixelRadius,t.pixelInnerRadius)},r.prototype.drawSegment=function(t,e,i){var a=this.yAxis,n=a.renderer;this.connectEnds&&Math.abs(n.endAngle-n.startAngle)==360&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(e.push(e[0]),i.length>0&&i.unshift(i[i.length-1])),o.prototype.drawSegment.call(this,t,e,i)},Object.defineProperty(r.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(t){this.setPropertyValue("connectEnds",t,!0)},enumerable:!0,configurable:!0}),r.prototype.positionBulletReal=function(t,e,i){var a=this.xAxis,n=this.yAxis;(e<a.start||e>a.end||i<n.start||i>n.end)&&(t.visible=!1),t.moveTo(this.xAxis.renderer.positionToPoint(e,i))},r.prototype.setXAxis=function(t){o.prototype.setXAxis.call(this,t),this.updateRendererRefs()},r.prototype.setYAxis=function(t){o.prototype.setYAxis.call(this,t),this.updateRendererRefs()},r.prototype.updateRendererRefs=function(){var t=this.xAxis.renderer,e=this.yAxis.renderer;t.axisRendererY=e},r}(Li);_.registeredClasses.RadarSeries=_r;_.registeredClasses.RadarSeriesDataItem=Ar;var Vr=function(o){D(r,o);function r(t){var e=o.call(this,t)||this;return e.className="AxisFillCircular",e.element=e.paper.add("path"),e.radius=O(100),e.applyTheme(),e}return r.prototype.draw=function(){if(o.prototype.draw.call(this),!(this.__disabled||this.disabled)&&this.axis){var t=this.axis.renderer;this.fillPath=t.getPositionRangePath(this.startPosition,this.endPosition,this.radius,b(this.innerRadius)?this.innerRadius:t.innerRadius,this.cornerRadius),this.path=this.fillPath}},Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(t){this.setPropertyValue("cornerRadius",t,!0)},enumerable:!0,configurable:!0}),r}(Ti);_.registeredClasses.AxisFillCircular=Vr;var Sr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="GridCircular",t.pixelPerfect=!1,t.applyTheme(),t}return Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),r}(Ve);_.registeredClasses.GridCircular=Sr;var ii=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.fdx=0,t.fdy=0,t.className="AxisLabelCircular",t.padding(0,0,0,0),t.location=.5,t.locationOnPath=.5,t.radius=0,t.isMeasured=!1,t.applyTheme(),t}return Object.defineProperty(r.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(t){if(this.setPropertyValue("relativeRotation",t,!0),!b(t)){this.rotation=void 0;var e=this.dataItem;e&&e.component&&e.component.invalidateDataItems()}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(t){this.setPropertyValue("bent",t,!0),this.setPropertyValue("wrap",!1),this.setPropertyValue("horizontalCenter","none"),this.setPropertyValue("verticalCenter","none"),t?(this.setPropertyValue("dx",0),this.setPropertyValue("dy",0),this.setPropertyValue("x",0),this.setPropertyValue("y",0),this.setPropertyValue("rotation",0),this.fdx=0,this.fdy=0,this.textAlign="middle"):this.textPathElement&&(this.textPathElement.dispose(),this.textPathElement=void 0)},enumerable:!0,configurable:!0}),r.prototype.pixelRadius=function(t){var e=1;return this.inside&&(e=-1),ot(this.radius,t)*e},r.prototype.pixelRadiusY=function(t,e){var i=1;this.inside&&(i=-1);var a=this.radius;return g(a)?(a*=e/t,ot(a,t)*i):ot(a,e)*i},r.prototype.fixPosition=function(t,e,i,a,n){g(i)||(i=e),g(a)||(a=0),g(n)||(n=0);var s={x:e*F(t),y:i*L(t)};this.invalid&&this.validate();var l=!1,h=this.radius;(h instanceof ct&&h.value<0||h<0)&&(l=!0);var d=this.relativeRotation,u=this.pixelRadius(e);if(this.bent){var p={x:(e+u)*F(t+180),y:(i+u*i/e)*L(t+180)};this.path=W(p)+ft(t+180,360,e+u,i+u*i/e),this.textPathElement&&this.textPathElement.attr({startOffset:this.locationOnPath*100+"%"});return}if(g(d)){this.horizontalCenter="none",this.verticalCenter="none",t=Mt(t,-180,180);var f=this.bbox.width,c=this.bbox.height,y=this.pixelPaddingBottom,v=this.pixelPaddingTop,m=this.pixelPaddingLeft,x=this.pixelPaddingRight;t>90||t<-90?d==-90&&(d=90,f=0):(d==-90&&(c=-c),d==90&&(d=-90,f=-m-x,c=-c-v-y)),this.rotation=d+t+90;var C=L(d)/2,S=F(d)/2,A=this.rotation;this.dx=c*C*L(A)-f*S*F(A),this.dy=-c*C*F(A)-f*S*L(A),this.inside?t>90||t<-90?u-=(y+v)*F(d)+(m+x)*L(d):u+=(y+this.bbox.height+v)*F(d)+(m+x+this.bbox.width)*L(d):u+=(c+y+v)*F(d)+(f+m+x)*L(d),s.x+=F(t)*u,s.y+=L(t)*u*i/e}else this.horizontalCenter="middle",this.verticalCenter="middle",l?(this.dx=0,this.dy=0,s.x=(e+u)*F(t),s.y=(i+u*i/e)*L(t)):(this.dy=this._measuredHeight/2*L(t),this.dx=this._measuredWidth/2*F(t),s.x+=F(t)*u,s.y+=L(t)*u*i/e);s.x+=a,s.y+=n,this.fdx=this.dx,this.fdy=this.dy,this.moveTo(s)},r}(Oi);_.registeredClasses.AxisLabelCircular=ii;var Tr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.pixelRadiusReal=0,t.layout="none",t.className="AxisRendererCircular",t.isMeasured=!1,t.startAngle=-90,t.endAngle=270,t.useChartAngles=!0,t.radius=O(100),t.isMeasured=!1,t.grid.template.location=0,t.labels.template.location=0,t.labels.template.radius=15,t.ticks.template.location=0,t.ticks.template.pixelPerfect=!1,t.tooltipLocation=0,t.line.strokeOpacity=0,t.applyTheme(),t}return r.prototype.setAxis=function(t){var e=this;o.prototype.setAxis.call(this,t),t.isMeasured=!1;var i=t.tooltip;i.adapter.add("dx",function(a,n){var s=Gt({x:n.pixelX,y:n.pixelY},e);return e.pixelRadius*Math.cos(Math.atan2(s.y,s.x))-s.x}),i.adapter.add("dy",function(a,n){var s=Gt({x:n.pixelX,y:n.pixelY},e);return e.pixelRadius*Math.sin(Math.atan2(s.y,s.x))-s.y})},r.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),o.prototype.validate.call(this)},Object.defineProperty(r.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelRadius",{get:function(){return it(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){var t=this.chart,e=this.getPropertyValue("innerRadius");if(t){if(!b(e))e=t.innerRadius,e instanceof ct&&t&&(e=O(e.value*t.innerRadiusModifyer*100));else if(e instanceof ct&&t){var i=t.mr,a=e.value;a=Math.max(i*a,i-Math.min(t.plotContainer.innerHeight,t.plotContainer.innerWidth))/i,e=O(a*100)}return e}},set:function(t){this.setPercentProperty("innerRadius",t,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(t){this.setPropertyValue("useChartAngles",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelInnerRadius",{get:function(){return it(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),r.prototype.positionToPoint=function(t,e){g(e)||(e=1);var i=this.positionToCoordinate(t),a=this.startAngle+(this.endAngle-this.startAngle)*i/this.axisLength,n=this.pixelRadius,s=this.pixelInnerRadius;if(this.axisRendererY){var l=Y(this.axisRendererY.positionToCoordinate(e),0,1/0);l==0&&(l=1e-6);var h={x:l*F(a),y:l*L(a)};return h}return{x:F(a)*s+(n-s)*F(a)*e,y:L(a)*s+(n-s)*L(a)*e}},r.prototype.positionToAngle=function(t){var e=this.axis,i=(this.endAngle-this.startAngle)/(e.end-e.start),a;return e.renderer.inversed?a=this.startAngle+(e.end-t)*i:a=this.startAngle+(t-e.start)*i,j(a,3)},r.prototype.angleToPosition=function(t){var e=this.axis,i=(this.endAngle-this.startAngle)/(e.end-e.start),a;return e.renderer.inversed?a=e.end-(t-this.startAngle)/i:a=(t-this.startAngle)/i+e.start,j(a,5)},r.prototype.updateAxisLine=function(){var t=this.pixelRadius,e=this.startAngle,i=this.endAngle,a=U(360,i-e);this.line.path=W({x:t*F(e),y:t*L(e)})+ft(e,a,t,t)},r.prototype.updateGridElement=function(t,e,i){e=e+(i-e)*t.location;var a=this.positionToPoint(e);if(g(a.x)&&g(a.y)&&t.element){var n=si*Math.atan2(a.y,a.x),s=it(b(t.radius)?t.radius:O(100),this.pixelRadius),l=it(t.innerRadius,this.pixelRadius);t.zIndex=0;var h=it(g(l)?l:this.innerRadius,this.pixelRadiusReal,!0);g(h)||(h=0),t.path=W({x:h*F(n),y:h*L(n)})+R({x:s*F(n),y:s*L(n)})}this.toggleVisibility(t,e,0,1)},r.prototype.updateTickElement=function(t,e,i){e=e+(i-e)*t.location;var a=this.positionToPoint(e);if(t.element){var n=this.pixelRadius,s=si*Math.atan2(a.y,a.x),l=t.length;t.inside&&(l=-l),t.zIndex=1,t.path=W({x:n*F(s),y:n*L(s)})+R({x:(n+l)*F(s),y:(n+l)*L(s)})}this.toggleVisibility(t,e,0,1)},r.prototype.updateBullet=function(t,e,i){var a=.5;t instanceof Fe&&(a=t.location),e=e+(i-e)*a;var n=this.positionToPoint(e),s=this.pixelRadius,l=si*Math.atan2(n.y,n.x);n={x:s*F(l),y:s*L(l)},this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},r.prototype.updateLabelElement=function(t,e,i,a){b(a)||(a=t.location),e=e+(i-e)*a,t.fixPosition(this.positionToAngle(e),this.pixelRadius),t.zIndex=2,this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},r.prototype.fitsToBounds=function(t){return!0},Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),r.prototype.getPositionRangePath=function(t,e,i,a,n){var s="";if(g(t)&&g(e)){b(i)||(i=this.radius),t=tt(t,this.axis.start),e=U(e,this.axis.end),e<t&&(e=t);var l=it(i,this.pixelRadius),h=it(a,this.pixelRadius,!0),d=this.positionToAngle(t),u=this.positionToAngle(e),p=u-d;s=Oe(d,p,l,h,l,n)}return s},r.prototype.createGrid=function(){return new Sr},r.prototype.createFill=function(t){return new Vr(t)},r.prototype.createLabel=function(){return new ii},r.prototype.pointToPosition=function(t){var e=Mt(_t(t),this.startAngle,this.endAngle);return this.coordinateToPosition((e-this.startAngle)/360*this.axisLength)},r}(Je);_.registeredClasses.AxisRendererCircular=Tr;var Or=function(o){D(r,o);function r(){var t=o.call(this)||this;return t._chart=new lt,t.pixelRadiusReal=0,t.className="AxisRendererRadial",t.isMeasured=!1,t.startAngle=-90,t.endAngle=270,t.minGridDistance=30,t.gridType="circles",t.axisAngle=-90,t.isMeasured=!1,t.layout="none",t.radius=O(100),t.line.strokeOpacity=0,t.labels.template.horizontalCenter="middle",t._disposers.push(t._chart),t.applyTheme(),t}return r.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),o.prototype.validate.call(this)},Object.defineProperty(r.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelRadius",{get:function(){return it(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){var t=this.chart,e=this.getPropertyValue("innerRadius");if(t){if(!b(e))e=t.innerRadius,e instanceof ct&&t&&(e=O(e.value*t.innerRadiusModifyer*100));else if(e instanceof ct&&t){var i=t.mr,a=e.value;a=Math.max(i*a,i-Math.min(t.plotContainer.innerHeight,t.plotContainer.innerWidth))/i,e=O(a*100)}}return e},set:function(t){this.setPercentProperty("innerRadius",t,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelInnerRadius",{get:function(){return it(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),r.prototype.positionToPoint=function(t,e){var i=Y(this.positionToCoordinate(t),0,1/0);return{x:i*F(this.axisAngle),y:i*L(this.axisAngle)}},r.prototype.updateAxisLine=function(){this.line.path=W({x:this.pixelInnerRadius*F(this.axisAngle),y:this.pixelInnerRadius*L(this.axisAngle)})+R({x:this.pixelRadius*F(this.axisAngle),y:this.pixelRadius*L(this.axisAngle)});var t=this.axis.title;t.valign="none",t.horizontalCenter="middle",t.verticalCenter="bottom",t.y=-this.axisLength/2;var e=90;this.opposite?this.inside||(e=-90):this.inside&&(e=-90),t.rotation=e},r.prototype.updateGridElement=function(t,e,i){e=e+(i-e)*t.location;var a=this.positionToPoint(e),n,s=K(a),l=this.startAngle,h=this.endAngle,d=this.chart;if(g(s)&&t.element&&d){var u=d.xAxes.getIndex(0),p=0,f=d.series.getIndex(0);if(f&&(p=f.dataItems.length),this.gridType=="polygons"&&p>0&&f&&u&&u instanceof $){var c=u.renderer.grid.template.location,y=u.getAngle(f.dataItems.getIndex(0),"categoryX",c);n=W({x:s*F(y),y:s*L(y)});for(var v=1;v<p;v++)y=u.getAngle(f.dataItems.getIndex(v),"categoryX",c),n+=R({x:s*F(y),y:s*L(y)});y=u.getAngle(f.dataItems.getIndex(p-1),"categoryX",u.renderer.cellEndLocation),n+=R({x:s*F(y),y:s*L(y)})}else n=W({x:s*F(l),y:s*L(l)})+ft(l,h-l,s,s);t.path=n}this.toggleVisibility(t,e,0,1)},r.prototype.updateLabelElement=function(t,e,i,a){b(a)||(a=t.location),e=e+(i-e)*a;var n=this.positionToPoint(e);this.positionItem(t,n),this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},r.prototype.updateBaseGridElement=function(){},r.prototype.fitsToBounds=function(t){return!0},Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(t){this.setPropertyValue("axisAngle",fi(t)),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"gridType",{get:function(){var t=this.chart.xAxes.getIndex(0);return t instanceof $?this.getPropertyValue("gridType"):"circles"},set:function(t){this.setPropertyValue("gridType",t,!0)},enumerable:!0,configurable:!0}),r.prototype.getPositionRangePath=function(t,e){var i=this.pixelInnerRadius,a=this.axisLength+i,n=Y(this.positionToCoordinate(t),i,a),s=Y(this.positionToCoordinate(e),i,a),l=this.startAngle,h=this.endAngle,d=h-l,u,p=this.chart,f=p.xAxes.getIndex(0),c=p.series.getIndex(0),y=0;if(c&&(y=c.dataItems.length),this.gridType=="polygons"&&y>0&&c&&f&&f instanceof $){var v=f.renderer.grid.template.location,m=f.getAngle(c.dataItems.getIndex(0),"categoryX",v);u=W({x:s*F(m),y:s*L(m)});for(var x=1;x<y;x++)m=f.getAngle(c.dataItems.getIndex(x),"categoryX",v),u+=R({x:s*F(m),y:s*L(m)});m=f.getAngle(c.dataItems.getIndex(y-1),"categoryX",f.renderer.cellEndLocation),u+=R({x:s*F(m),y:s*L(m)}),u+=W({x:n*F(m),y:n*L(m)});for(var x=y-1;x>=0;x--)m=f.getAngle(c.dataItems.getIndex(x),"categoryX",v),u+=R({x:n*F(m),y:n*L(m)})}else u=Oe(l,d,s,n);return u},r.prototype.updateBreakElement=function(t){var e=t.startLine,i=t.endLine,a=t.fillShape,n=t.startPoint,s=t.endPoint;e.radius=Math.abs(n.y),i.radius=Math.abs(s.y),a.radius=Math.abs(s.y),a.innerRadius=Math.abs(n.y)},r.prototype.createBreakSprites=function(t){t.startLine=new oi,t.endLine=new oi,t.fillShape=new oi},r.prototype.updateTooltip=function(){var t=this.axis;if(t){var e=4e3,i=-4e3,a=-4e3,n=e*2,s=e*2,l=this.axisAngle;l<0&&(l+=360);var h="vertical";(l>45&&l<135||l>225&&l<315)&&(h="horizontal"),this.axis.updateTooltip(h,{x:i,y:a,width:n,height:s})}},r.prototype.updateTickElement=function(t,e,i){e=e+(i-e)*t.location;var a=this.positionToPoint(e);if(t.element){var n=fi(this.axisAngle+90);n/90!=Math.round(n/90)?t.pixelPerfect=!1:t.pixelPerfect=!0;var s=-t.length;t.inside&&(s*=-1),t.path=W({x:0,y:0})+R({x:s*F(n),y:s*L(n)})}this.positionItem(t,a),this.toggleVisibility(t,e,0,1)},r.prototype.updateBullet=function(t,e,i){var a=.5;t instanceof Fe&&(a=t.location),e=e+(i-e)*a;var n=this.positionToPoint(e);this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},r.prototype.positionToCoordinate=function(t){var e,i=this.axis,a=i.axisFullLength,n=this.pixelInnerRadius;return i.renderer.inversed?e=(i.end-t)*a+n:e=(t-i.start)*a+n,j(e,1)},r.prototype.pointToPosition=function(t){var e=K(t)-this.pixelInnerRadius;return this.coordinateToPosition(e)},Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this._chart.set(t,null)},enumerable:!0,configurable:!0}),r}(wt);_.registeredClasses.AxisRendererRadial=Or;var fn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="RadarChartDataItem",t.applyTheme(),t}return r}(wi),kr=function(o){D(r,o);function r(){var t=o.call(this)||this;t._axisRendererX=Tr,t._axisRendererY=Or,t.innerRadiusModifyer=1,t.mr=1,t.className="RadarChart",t.startAngle=-90,t.endAngle=270,t.radius=O(80),t.innerRadius=0;var e=t.plotContainer.createChild(X);return e.shouldClone=!1,e.layout="absolute",e.align="center",e.valign="middle",t.seriesContainer.parent=e,t.radarContainer=e,t.bulletsContainer.parent=e,t.axisBulletsContainer=e,t._cursorContainer=e,t.chartContainer.events.on("maxsizechanged",t.invalidate,t,!1),t._bulletMask=e.createChild(Ai),t._bulletMask.shouldClone=!1,t._bulletMask.element=t.paper.add("path"),t._bulletMask.opacity=0,t.applyTheme(),t}return r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Radar chart"))},r.prototype.processAxis=function(t){o.prototype.processAxis.call(this,t);var e=t.renderer;e.gridContainer.parent=e,e.breakContainer.parent=e,t.parent=this.radarContainer,e.toBack()},r.prototype.handleXAxisRangeChange=function(){o.prototype.handleXAxisRangeChange.call(this),w(this.yAxes.iterator(),function(t){t.invalidate()})},r.prototype.handleYAxisRangeChange=function(){o.prototype.handleYAxisRangeChange.call(this),w(this.xAxes.iterator(),function(t){t.invalidate()})},r.prototype.processConfig=function(t){if(t&&(b(t.cursor)&&!b(t.cursor.type)&&(t.cursor.type="RadarCursor"),b(t.series)&&kt(t.series)))for(var e=0,i=t.series.length;e<i;e++)t.series[e].type=t.series[e].type||"RadarSeries";o.prototype.processConfig.call(this,t)},r.prototype.beforeDraw=function(){o.prototype.beforeDraw.call(this);var t=this.plotContainer,e=zt(this.startAngle,this.endAngle,1),i={x:0,y:0,width:0,height:0},a=t.innerWidth/e.width,n=t.innerHeight/e.height,s=this.innerRadius;if(s instanceof ct){var l=s.value,h=Math.min(a,n);this.mr=h,l=Math.max(h*l,h-Math.min(t.innerHeight,t.innerWidth))/h,i=zt(this.startAngle,this.endAngle,l),this.innerRadiusModifyer=l/s.value,s=O(l*100)}e=_i([e,i]);var d=Math.min(t.innerWidth/e.width,t.innerHeight/e.height),u=it(this.radius,d)*2||0,p=u/2,f=this.startAngle,c=this.endAngle;this._pixelInnerRadius=it(s,p),this._bulletMask.path=Oe(f,c-f,p,this._pixelInnerRadius),w(this.xAxes.iterator(),function(v){v.renderer.useChartAngles&&(v.renderer.startAngle=f,v.renderer.endAngle=c),v.width=u,v.height=u,v.renderer.pixelRadiusReal=p}),w(this.yAxes.iterator(),function(v){v.renderer.startAngle=f,v.renderer.endAngle=c,v.width=u,v.height=u,v.renderer.pixelRadiusReal=p});var y=this.cursor;y&&(y.width=u,y.height=u,y.startAngle=f,y.endAngle=c),this.radarContainer.definedBBox={x:p*e.x,y:p*e.y,width:p*e.width,height:p*e.height},this.radarContainer.validatePosition()},r.prototype.createSeries=function(){return new _r},Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),r.prototype.updateXAxis=function(t){t&&t.processRenderer()},r.prototype.updateYAxis=function(t){t&&t.processRenderer()},r}(Kt);_.registeredClasses.RadarChart=kr;var wr=function(o){D(r,o);function r(){var t=o.call(this)||this;t._axis=new lt,t.className="ClockHand";var e=new et;t.fill=e.getFor("alternativeBackground"),t.stroke=t.fill;var i=new Ai;i.radius=5,t.pin=i,t.isMeasured=!1,t.startWidth=5,t.endWidth=1,t.width=O(100),t.height=O(100),t.radius=O(100),t.innerRadius=O(0);var a=new Ma;return t.hand=a,t._disposers.push(t._axis),t.applyTheme(),t}return r.prototype.validate=function(){o.prototype.validate.call(this);var t=this.hand;t.width=this.pixelWidth;var e=Math.max(this.startWidth,this.endWidth);if(t.height=e,t.leftSide=O(this.startWidth/e*100),t.rightSide=O(this.endWidth/e*100),this.axis){var i=this.axis.renderer,a=it(this.innerRadius,i.pixelRadius),n=it(this.radius,i.pixelRadius);t.x=a,t.y=-e/2,t.width=n-a}},Object.defineProperty(r.prototype,"pin",{get:function(){return this._pin},set:function(t){this._pin&&this.removeDispose(this._pin),t&&(this._pin=t,t.parent=this,this._disposers.push(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hand",{get:function(){return this._hand},set:function(t){this._hand&&this.removeDispose(this._hand),t&&(this._hand=t,t.parent=this,this._disposers.push(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(t){this.setPropertyValue("startWidth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(t){this.setPropertyValue("endWidth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(t){this.setPropertyValue("rotationDirection",t)},enumerable:!0,configurable:!0}),r.prototype.showValue=function(t,e,i){if(this._value=t,t!=null&&(g(e)||(e=0),this.axis)){var a=this.axis.renderer,n=a.positionToAngle(this.axis.anyToPosition(t)),s=this.rotation;this.rotationDirection=="clockWise"&&n<s&&(this.rotation=s-360),this.rotationDirection=="counterClockWise"&&n>s&&(this.rotation=s+360),this.animate({property:"rotation",to:n},e,i)}},Object.defineProperty(r.prototype,"currentPosition",{get:function(){if(this.axis){var t=this.axis.renderer;return t.angleToPosition(this.rotation)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){this.showValue(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"axis",{get:function(){return this._axis.get()},set:function(t){if(this.axis!=t&&this._axis.set(t,new ne([t.events.on("datavalidated",this.updateValue,this,!1),t.events.on("datarangechanged",this.updateValue,this,!1),t.events.on("dataitemsvalidated",this.updateValue,this,!1),t.events.on("propertychanged",this.invalidate,this,!1)])),t){var e=t.chart;e&&(this.rotation=e.startAngle)}this.parent=t.renderer,this.zIndex=5},enumerable:!0,configurable:!0}),r.prototype.updateValue=function(){this.value=this.value},r.prototype.processConfig=function(t){t&&b(t.axis)&&at(t.axis)&&this.map.hasKey(t.axis)&&(t.axis=this.map.getKey(t.axis)),o.prototype.processConfig.call(this,t)},r}(X);_.registeredClasses.ClockHand=wr;(function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="GaugeChartDataItem",t.applyTheme(),t}return r})(fn);var cn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="GaugeChart",t.startAngle=180,t.endAngle=360,t.hands=new Q(new wr),t.hands.events.on("inserted",t.processHand,t,!1),t._disposers.push(new G(t.hands)),t._disposers.push(t.hands.template),t.applyTheme(),t}return r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Gauge chart"))},r.prototype.processHand=function(t){var e=t.newValue;e.axis||(e.axis=this.xAxes.getIndex(0))},r.prototype.configOrder=function(t,e){return t==e?0:t=="hands"?1:e=="hands"?-1:o.prototype.configOrder.call(this,t,e)},r}(kr);_.registeredClasses.GaugeChart=cn;var ri=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="PercentSeriesDataItem",t.applyTheme(),t}return r.prototype.uidAttr=function(){return this.slice.uidAttr()},r.prototype.hide=function(t,e,i,a){return a||(a=["value"]),o.prototype.hide.call(this,t,e,0,a)},r.prototype.setVisibility=function(t,e){e||(t?this.setWorkingValue("value",this.values.value.value,0,0):this.setWorkingValue("value",0,0,0)),o.prototype.setVisibility.call(this,t,e)},r.prototype.show=function(t,e,i){return i||(i=["value"]),o.prototype.show.call(this,t,e,i)},Object.defineProperty(r.prototype,"category",{get:function(){return this.properties.category},set:function(t){this.setProperty("category",t)},enumerable:!0,configurable:!0}),r.prototype.createLegendMarker=function(t){this.component.createLegendMarker(t,this)},Object.defineProperty(r.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(t){this._legendDataItem=t,t.label&&(t.label.dataItem=this),t.valueLabel&&(t.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tick",{get:function(){var t=this;if(!this._tick){var e=this.component.ticks.create();this._tick=e,this.addSprite(e),this._disposers.push(e),e.parent=this.component.ticksContainer,this._disposers.push(new st(function(){t.component&&t.component.ticks.removeValue(e)})),e.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){var t=this;if(!this._label){var e=this.component.labels.create();this.addSprite(e),this._label=e,this._disposers.push(e),e.parent=this.component.labelsContainer,this._disposers.push(new st(function(){t.component&&t.component.labels.removeValue(e)})),e.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"slice",{get:function(){var t=this;if(!this._slice){var e=this.component,i=e.slices.create();this.addSprite(i),this._slice=i,this._disposers.push(i),i.parent=e.slicesContainer,this._disposers.push(new st(function(){e.slices.removeValue(i)})),i.visible=this.visible,e.itemsFocusable()?(b(this.component.role)||(this.component.role="menu"),b(i.role)||(i.role="menuitem"),i.focusable=!0):(b(this.component.role)||(this.component.role="list"),b(i.role)||(i.role="listitem"),i.focusable=!1),i.focusable&&(i.events.on("focus",function(a){i.readerTitle=e.populateString(e.itemReaderText,t)},void 0,!1),i.events.on("blur",function(a){i.readerTitle=""},void 0,!1)),i.hoverable&&(i.events.on("over",function(a){i.readerTitle=e.populateString(e.itemReaderText,t)},void 0,!1),i.events.on("out",function(a){i.readerTitle=""},void 0,!1))}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(t){this.setProperty("hiddenInLegend",t)},enumerable:!0,configurable:!0}),r}(Ke),Le=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="PercentSeries",t._addAllDataItems=!1,t.colors=new Ue,t.colors.step=1,t.isMeasured=!0,t.calculatePercent=!0;var e=t.createChild(X);e.shouldClone=!1,e.isMeasured=!1,t.slicesContainer=e;var i=t.createChild(X);i.shouldClone=!1,i.isMeasured=!1,i.layout="none",t.ticksContainer=i;var a=t.createChild(X);a.shouldClone=!1,a.isMeasured=!1,a.layout="none",t.labelsContainer=a,t.alignLabels=!1,t.bulletsContainer.toFront(),t.skipFocusThreshold=50;var n=t.defaultState;return n.transitionEasing=Ia,t.itemReaderText="{category}: {value.percent.formatNumber('#.#p')}",t.applyTheme(),t}return r.prototype.createSlice=function(){return new Z},r.prototype.createTick=function(){return new we},r.prototype.createLabel=function(){return new Ht},Object.defineProperty(r.prototype,"slices",{get:function(){if(!this._slices){var t=this.createSlice();t.applyOnClones=!0,this._disposers.push(t),this.initSlice(t),this._slices=new Q(t),this._disposers.push(new G(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"ticks",{get:function(){if(!this._ticks){var t=this.createTick();t.applyOnClones=!0,this._disposers.push(t),this.initTick(t),this._ticks=new Q(t),this._disposers.push(new G(this._ticks))}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labels",{get:function(){if(!this._labels){var t=this.createLabel();t.applyOnClones=!0,this._disposers.push(t),this.initLabel(t),this._labels=new Q(t),this._disposers.push(new G(this._labels))}return this._labels},enumerable:!0,configurable:!0}),r.prototype.createDataItem=function(){return new ri},r.prototype.initSlice=function(t){},r.prototype.initLabel=function(t){t.text="{category}: {value.percent.formatNumber('#.0p')}",t.isMeasured=!1,t.padding(5,5,5,5)},r.prototype.initTick=function(t){},r.prototype.validateDataItems=function(){this.colors.reset(),this.patterns&&this.patterns.reset(),o.prototype.validateDataItems.call(this)},r.prototype.validateDataElement=function(t){var e=t.slice;e&&(e.fill==null?this.patterns?(b(e.stroke)||(e.stroke=this.colors.next()),e.fill=this.patterns.next(),b(e.fillOpacity)&&(e.fill.backgroundOpacity=e.fillOpacity),e.stroke instanceof Pt&&(e.fill.stroke=e.stroke,e.fill.fill=e.stroke)):e.fill=this.colors.next():this.colors.currentStep+=this.colors.step,e.stroke==null&&(e.stroke=e.fill)),o.prototype.validateDataElement.call(this,t),e&&t.bullets.each(function(i,a){a.fill==null&&(a.fill=e.fill),a.stroke==null&&(a.stroke=e.stroke)}),this.updateLegendValue(t)},r.prototype.validateData=function(){o.prototype.validateData.call(this),this.chart&&this.chart.feedLegend()},r.prototype.arrangeLabels=function(t){for(var e=0,i=t.length;e<i;e++){var a=t[e],n=a.label;if(n){n.invalid&&n.validate();var s=n.measuredHeight;n.visible||(s=0),n.pixelY-s/2<-this.maxHeight/2&&(n.y=-this.maxHeight/2+s/2);var l=this.getNextLabel(e+1,t),h=n.pixelY+s;l&&l.y<h&&(l.y=h)}}},r.prototype.arrangeLabels2=function(t){for(var e=this.maxHeight/2,i=t.length-1;i>=0;i--){var a=t[i],n=a.label;if(n){n.invalid&&n.validate();var s=n.measuredHeight;n.visible||(s=0),i==t.length-1&&(e+=s/2),n.pixelY+s>e&&(n.y=e-s,e=n.y)}}},r.prototype.getNextLabel=function(t,e){if(e.length>=t){var i=e[t];if(i)return i.label?i.visible?i.label:this.getNextLabel(t+1,e):this.getNextLabel(t+1,e)}},Object.defineProperty(r.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(t){this.setPropertyValue("colors",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(t){this.setPropertyValue("patterns",t,!0)},enumerable:!0,configurable:!0}),r.prototype.createLegendMarker=function(t,e){w(t.children.iterator(),function(i){var a=e.slice;i.defaultState.properties.fill=a.fill,i.defaultState.properties.stroke=a.stroke,i.defaultState.properties.fillOpacity=a.fillOpacity,i.defaultState.properties.strokeOpacity=a.strokeOpacity,i.fill=a.fill,i.stroke=a.stroke,i.fillOpacity=a.fillOpacity,i.strokeOpacity=a.strokeOpacity,i.fill==null&&(i.__disabled=!0);var n=t.dataItem;n.color=a.fill,n.colorOrig=a.fill,i.addDisposer(a.events.on("propertychanged",function(s){s.property=="fill"&&(i.__disabled=!1,i.isActive||(i.fill=a.fill),i.defaultState.properties.fill=a.fill,n.color=a.fill,n.colorOrig=a.fill),s.property=="stroke"&&(i.isActive||(i.stroke=a.stroke),i.defaultState.properties.stroke=a.stroke),s.property=="strokeOpacity"&&(i.isActive||(i.strokeOpacity=a.strokeOpacity),i.defaultState.properties.strokeOpacity=a.strokeOpacity)},void 0,!1))})},r.prototype.handleSliceScale=function(t){var e=this,i=t.target,a=i.dataItem;a&&a.bullets&&w(a.bullets.iterator(),function(n){var s=n[1];e.positionBullet(s)})},r.prototype.handleSliceMove=function(t){},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.slices.template.copyFrom(t.slices.template),this.labels.template.copyFrom(t.labels.template),this.ticks.template.copyFrom(t.ticks.template),this.colors=t.colors.clone()},Object.defineProperty(r.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(t){this.setAlignLabels(t)},enumerable:!0,configurable:!0}),r.prototype.setAlignLabels=function(t){this.setPropertyValue("alignLabels",t,!0)},Object.defineProperty(r.prototype,"ignoreZeroValues",{get:function(){return this.getPropertyValue("ignoreZeroValues")},set:function(t){this.setPropertyValue("ignoreZeroValues",t,!0)},enumerable:!0,configurable:!0}),r.prototype.updateLegendValue=function(t){if(t){var e=t.legendDataItem,i=t.legendSettings;e&&i&&i&&(i.labelText&&(e.label.text=i.labelText),i.itemLabelText&&(e.label.text=i.itemLabelText),i.valueText&&(e.valueLabel.text=i.valueText),i.itemValueText&&(e.valueLabel.text=i.itemValueText))}},r}(Ze);_.registeredClasses.PercentSeries=Le;_.registeredClasses.PercentSeriesDataItem=ri;dt.push({relevant:pt.maybeXS,state:function(o,r){if(o instanceof Le){var t=o.states.create(r),e=o.labels.template.states.create(r);e.properties.disabled=!0;var i=o.ticks.template.states.create(r);return i.properties.disabled=!0,t}return null}});var Mi=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="PercentChartDataItem",t.applyTheme(),t}return r}(gr),Ii=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="PercentChart",t.align="none",t.valign="none",t.chartContainer.minHeight=50,t.chartContainer.minWidth=50,t.applyTheme(),t}return r.prototype.validateData=function(){o.prototype.validateData.call(this),this.feedLegend()},r.prototype.feedLegend=function(){var t=this.legend;if(t){var e=[];w(this.series.iterator(),function(i){i.hiddenInLegend||w(i.dataItems.iterator(),function(a){a.hiddenInLegend||(e.push(a),a.legendSettings||(a.legendSettings=i.legendSettings))})}),t.data=e,t.dataFields.name="category"}},r.prototype.createSeries=function(){return new Le},r.prototype.setLegend=function(t){o.prototype.setLegend.call(this,t),t&&(t.labels.template.text="{category}",t.valueLabels.template.text="{value.percent.formatNumber('#.0p')}",t.itemContainers.template.events.on("over",function(e){var i=e.target.dataItem.dataContext;if(i.visible&&!i.isHiding){var a=i.slice;a.dispatchImmediately("over"),a.isHover=!0,a.interactions.isRealHover=!0}}),t.itemContainers.template.events.on("out",function(e){var i=e.target.dataItem.dataContext,a=i.slice;a.dispatchImmediately("out"),a.isHover=!1}))},r}(Si);_.registeredClasses.PercentChart=Ii;_.registeredClasses.PercentChartDataItem=Mi;var Fr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t._label=new lt,t._slice=new lt,t.className="PieTick",t.element=t.paper.add("polyline"),t._disposers.push(t._label),t._disposers.push(t._slice),t.applyTheme(),t}return r.prototype.draw=function(){o.prototype.draw.call(this);var t=this.slice,e=this.label,i=t.dataItem.component;if(t&&t.radius>0&&e&&e.text){var a=t.dx+t.slice.dx+t.pixelX+t.ix*t.radius*t.scale,n=t.dy+t.slice.dy+t.pixelY+t.iy*t.radiusY*t.scale,s=void 0,l=void 0,h=void 0,d=void 0;if(i.alignLabels)s=e.pixelX-this.length,l=e.pixelY,h=e.pixelX,d=l,e.horizontalCenter=="right"&&(s+=2*this.length,h=s-this.length);else{var u=e.pixelRadius(t.radius);s=a+u*t.ix,l=n+u*t.iy,h=s,d=l}this.element.attr({points:[a,n,s,l,h,d]})}},Object.defineProperty(r.prototype,"slice",{get:function(){return this._slice.get()},set:function(t){this._slice.set(t,new ne([t.events.on("transformed",this.invalidate,this),t.events.on("validated",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){return this._label.get()},set:function(t){this._label.set(t,t.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),r}(we);_.registeredClasses.PieTick=Fr;var Ri=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="PieSeriesDataItem",t.values.radiusValue={},t.applyTheme(),t}return Object.defineProperty(r.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(t){this.setValue("radiusValue",t)},enumerable:!0,configurable:!0}),r.prototype.hide=function(t,e,i,a){return o.prototype.hide.call(this,t,e,0,["value","radiusValue"])},r.prototype.show=function(t,e,i){return o.prototype.show.call(this,t,e,["value","radiusValue"])},r}(ri),ji=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="PieSeries",t.alignLabels=!0,t.layout="none",t.labels.template.radius=O(5),t.addDisposer(t.labels.template.events.on("enabled",t.invalidate,t,!1)),t.applyTheme(),t}return r.prototype.createSlice=function(){return new Vi},r.prototype.createTick=function(){return new Fr},r.prototype.createLabel=function(){return new ii},r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Pie Slice Series"))},r.prototype.createDataItem=function(){return new Ri},r.prototype.initSlice=function(t){t.isMeasured=!1,t.defaultState.properties.scale=1,t.observe("scale",this.handleSliceScale,this),t.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this),t.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})";var e=t.states.create("hover");e.properties.scale=1.05;var i=t.defaultState;i.properties.shiftRadius=0,t.togglable=!0,t.events.on("toggled",function(n){n.target.hideTooltip(),n.target.interactions.lastHitPointer&&n.target.interactions.lastHitPointer.touch&&!n.target.isActive&&(n.target.isHover=!1)});var a=t.states.create("active");a.properties.shiftRadius=.1},r.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=zt(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var t=this.startIndex;t<this.endIndex;t++){var e=this.dataItems.getIndex(t),i=e.values.radiusValue.percent;i>this._maxRadiusPercent&&(this._maxRadiusPercent=i)}o.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort(function(a,n){var s=(a.slice.middleAngle+360)%360,l=(n.slice.middleAngle+360)%360;return s>270&&(s-=360),l>270&&(l-=360),s<l?-1:s>l?1:0}),this._leftItems.sort(function(a,n){var s=(a.slice.middleAngle+360)%360,l=(n.slice.middleAngle+360)%360;return s<l?1:s>l?-1:0}),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},r.prototype.validateDataElement=function(t){if(this.pixelRadius>0){this.ignoreZeroValues&&(t.value==0||t.value==null)?t.__disabled=!0:t.__disabled=!1;var e=t.slice;if(e.radius=this.pixelRadius,g(t.radiusValue)&&(e.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*t.values.radiusValue.percent/this._maxRadiusPercent),e.innerRadius instanceof ct||(e.innerRadius=this.pixelInnerRadius),e.startAngle=this._currentStartAngle,e.arc=Math.abs(t.values.value.percent)*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var i=t.label,a=t.tick;a.slice=e,a.label=i;var n=(e.middleAngle+360)%360,s=void 0;if(this.alignLabels){var l=i.pixelRadius(e.radius),h=a.length+l;i.dx=0,i.dy=0,i.verticalCenter="middle";var d=this._arcRect;n>270||n<=90?(h+=(d.width+d.x)*this.pixelRadius,i.horizontalCenter="left",this._rightItems.push(t)):(h-=d.x*this.pixelRadius,i.horizontalCenter="right",this._leftItems.push(t),h*=-1);var u=e.radius+a.length+l;s={x:h,y:e.iy*u},i.moveTo(s)}else{var p=e.depth;g(p)||(p=0),i.fixPosition(e.middleAngle,e.radius,e.radiusY,0,-p)}}this._currentStartAngle+=e.arc,o.prototype.validateDataElement.call(this,t)}},Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(t){this._pixelRadius!=t&&(this._pixelRadius=t,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(t){this._pixelInnerRadius!=t&&(this._pixelInnerRadius=t,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startAngle",{get:function(){var t=this.getPropertyValue("startAngle");return g(t)?t:this._startAngleInternal},set:function(t){this.setPropertyValue("startAngle",fi(t),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){var t=this.getPropertyValue("endAngle");return g(t)?t:this._endAngleInternal},set:function(t){this.setPropertyValue("endAngle",t,!0)},enumerable:!0,configurable:!0}),r.prototype.positionBullet=function(t){o.prototype.positionBullet.call(this,t);var e=t.dataItem,i=e.slice,a=t.locationX;g(a)||(a=.5);var n=t.locationY;g(n)||(n=1);var s=i.startAngle+i.arc*a;t.x=n*i.radius*F(s),t.y=n*i.radiusY*L(s)},r.prototype.handleSliceMove=function(t){if(!this.alignLabels){var e=t.target,i=e.dataItem;if(i){var a=i.label;a&&(a.dx=a.fdx+e.dx+e.pixelX,a.dy=a.fdy+e.dy+e.pixelY)}}},Object.defineProperty(r.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var t=this.chart;return t?zt(t.startAngle,t.endAngle,this.pixelRadius):zt(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),r}(Le);_.registeredClasses.PieSeries=ji;_.registeredClasses.PieSeriesDataItem=Ri;var Lr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="PieChartDataItem",t.applyTheme(),t}return r}(Mi),Wi=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="PieChart",t.innerRadius=0,t.radius=O(80),t.align="none",t.valign="none",t.startAngle=-90,t.endAngle=270;var e=t.seriesContainer;return e.isMeasured=!0,e.valign="middle",e.align="center",e.layout="absolute",e.width=void 0,e.height=void 0,t.chartContainer.minHeight=50,t.chartContainer.minWidth=50,t.chartContainer.events.on("maxsizechanged",t.updateRadius,t,!1),t.applyTheme(),t}return r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Pie chart"))},r.prototype.validateLayout=function(){o.prototype.validateLayout.call(this),this.updateRadius()},r.prototype.handleSeriesAdded=function(t){o.prototype.handleSeriesAdded.call(this,t),this._chartPixelRadius=void 0,this.updateSeriesAngles()},r.prototype.updateSeriesAngles=function(){var t=this;this.series.each(function(e){e._startAngleInternal=t.startAngle,e._endAngleInternal=t.endAngle})},r.prototype.updateRadius=function(){var t=this.chartContainer,e=zt(this.startAngle,this.endAngle,1),i={x:0,y:0,width:0,height:0},a=this.innerRadius;a instanceof ct&&(i=zt(this.startAngle,this.endAngle,a.value)),e=_i([e,i]);var n=Math.min(t.innerWidth/e.width,t.innerHeight/e.height);g(n)||(n=0);var s=it(this.radius,n),l=it(this.innerRadius,n),h=(s-l)/this.series.length;(s!=this._chartPixelRadius||l!=this._chartPixelInnerRadius)&&(this._chartPixelRadius=s,this._chartPixelInnerRadius=l,w(Ae(this.series.iterator()),function(d){var u=d[0],p=d[1],f=l+it(p.radius,s-l),c=l+it(p.innerRadius,s-l);g(f)||(f=l+h*(u+1)),g(c)||(c=l+h*u),p.pixelRadius=f,p.pixelInnerRadius=c}),this.seriesContainer.definedBBox={x:s*e.x,y:s*e.y,width:s*e.width,height:s*e.height},this.seriesContainer.invalidateLayout(),this.bulletsContainer.x=this.seriesContainer.x,this.bulletsContainer.y=this.seriesContainer.y)},Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),r.prototype.createSeries=function(){return new ji},Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),r}(Ii);_.registeredClasses.PieChart=Wi;_.registeredClasses.PieChartDataItem=Lr;var Mr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="PieSeries3DDataItem",t.values.depthValue={},t.applyTheme(),t}return Object.defineProperty(r.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(t){this.setValue("depthValue",t)},enumerable:!0,configurable:!0}),r}(Ri),Ir=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="PieSeries3D",t.applyTheme(),t}return r.prototype.createDataItem=function(){return new Mr},r.prototype.createSlice=function(){return new Ra},r.prototype.validateDataElement=function(t){var e=t.slice,i=this.depth;g(i)||(i=this.chart.depth);var a=t.values.depthValue.percent;g(a)||(a=100),e.depth=a*i/100;var n=this.angle;g(n)||(n=this.chart.angle),e.angle=n,o.prototype.validateDataElement.call(this,t)},r.prototype.validate=function(){o.prototype.validate.call(this);for(var t=this._workingStartIndex;t<this._workingEndIndex;t++){var e=this.dataItems.getIndex(t),i=e.slice,a=i.startAngle;a>=-90&&a<90?i.toFront():a>=90&&i.toBack()}},Object.defineProperty(r.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(t){this.setPropertyValue("depth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(t){this.setPropertyValue("angle",t)},enumerable:!0,configurable:!0}),r.prototype.positionBullet=function(t){o.prototype.positionBullet.call(this,t);var e=t.dataItem,i=e.slice;t.y=t.pixelY-i.depth},r}(ji);_.registeredClasses.PieSeries3D=Ir;_.registeredClasses.PieSeries3DDataItem=Mr;(function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="PieChart3DDataItem",t.applyTheme(),t}return r})(Lr);var yn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="PieChart3D",t.depth=20,t.angle=10,t.applyTheme(),t}return Object.defineProperty(r.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(t){this.setPropertyValue("depth",t)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(t){t=Y(t,0,90),this.setPropertyValue("angle",t)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),r.prototype.createSeries=function(){return new Ir},r}(Wi);_.registeredClasses.PieChart3D=yn;var vn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="SlicedChartDataItem",t.applyTheme(),t}return r}(Mi),gn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="SlicedChart",t.seriesContainer.layout="horizontal",t.padding(15,15,15,15),t.applyTheme(),t}return r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Sliced chart"))},r.prototype.validate=function(){o.prototype.validate.call(this)},r}(Ii);_.registeredClasses.SlicedChart=gn;_.registeredClasses.SlicedChartDataItem=vn;var ai=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.legendSettings=new vr,t.className="FlowDiagramNode",t.isMeasured=!1,new et,t.draggable=!0,t.inert=!0,t.setStateOnChildren=!0,t.events.on("positionchanged",t.invalidateLinks,t,!1),t.events.on("sizechanged",t.invalidateLinks,t,!1),t}return r.prototype.handleHit=function(t){this.isHidden||this.isHiding?this.show():this.hide()},r.prototype.show=function(t){var e=o.prototype.show.call(this,t);return this.outgoingDataItems.each(function(i){(!i.toNode||i.toNode&&!i.toNode.isHidden)&&(i.setWorkingValue("value",i.getValue("value"),t),i.link.show())}),this.incomingDataItems.each(function(i){(!i.fromNode||i.fromNode&&!i.fromNode.isHidden)&&(i.setWorkingValue("value",i.getValue("value"),t),i.link.show())}),e},r.prototype.hide=function(t){var e=o.prototype.hide.call(this,t);return this.outgoingDataItems.each(function(i){i.setWorkingValue("value",0,t),i.link.hide()}),this.incomingDataItems.each(function(i){i.setWorkingValue("value",0,t),i.link.hide()}),e},r.prototype.validate=function(){this.isDisposed()||(o.prototype.validate.call(this),this.invalidateLinks())},r.prototype.invalidateLinks=function(){var t=this;this.outgoingDataItems.each(function(e){var i=e.link;if(i.colorMode=="fromNode"&&(i.fill=i.dataItem.fromNode.color),i.colorMode=="gradient"){i.fill=i.gradient,i.stroke=i.gradient;var a=i.gradient.stops.getIndex(0);a&&(a.color=t.color,i.gradient.validate())}}),this.incomingDataItems.each(function(e){var i=e.link;if(i.colorMode=="toNode"&&(i.fill=i.dataItem.toNode.color),i.colorMode=="gradient"){i.fill=i.gradient,i.stroke=i.gradient;var a=i.gradient.stops.getIndex(1);a&&(a.color=t.color,i.gradient.validate())}})},Object.defineProperty(r.prototype,"incomingDataItems",{get:function(){var t=this;if(!this._incomingDataItems){var e=new xt;e.events.on("inserted",function(){t.chart.sortBy=="name"?t._incomingSorted=xe(t._incomingDataItems.iterator(),function(i,a){return $i(i.fromName,a.fromName)}):t.chart.sortBy=="value"?t._incomingSorted=xe(t._incomingDataItems.iterator(),function(i,a){return ci(ve(i.value,a.value))}):t._incomingSorted=t._incomingDataItems.iterator()},void 0,!1),this._incomingDataItems=e}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"outgoingDataItems",{get:function(){var t=this;if(!this._outgoingDataItems){var e=new xt;e.events.on("inserted",function(){t.chart.sortBy=="name"?t._outgoingSorted=xe(t._outgoingDataItems.iterator(),function(i,a){return $i(i.fromName,a.fromName)}):t.chart.sortBy=="value"?t._outgoingSorted=xe(t._outgoingDataItems.iterator(),function(i,a){return ci(ve(i.value,a.value))}):t._outgoingSorted=t._outgoingDataItems.iterator()},void 0,!1),this._outgoingDataItems=e}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(t){this.setPropertyValue("name",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(t){this.setPropertyValue("total",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(t){this.setPropertyValue("totalIncoming",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(t){this.setPropertyValue("totalOutgoing",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){return this.getPropertyValue("color")},set:function(t){this.setColorProperty("color",t),this._background&&(this._background.fill=t),this.fill=t},enumerable:!0,configurable:!0}),r.prototype.createLegendMarker=function(t){var e=t.pixelWidth,i=t.pixelHeight;t.removeChildren();var a=t.createChild(ge);a.shouldClone=!1,rt(this,a,J),a.stroke=this.fill,a.copyFrom(this),a.padding(0,0,0,0),a.width=e,a.height=i;var n=t.dataItem;n.color=a.fill,n.colorOrig=a.fill},Object.defineProperty(r.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(t){this._legendDataItem=t,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),r}(X);_.registeredClasses.FlowDiagramNode=ai;var ni=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="FlowDiagramLink";var e=new et;return t.maskBullets=!1,t.colorMode="fromNode",t.layout="none",t.isMeasured=!1,t.startAngle=0,t.endAngle=0,t.strokeOpacity=0,t.verticalCenter="none",t.horizontalCenter="none",t.tooltipText="{fromName}\u2192{toName}:{value.value}",t.tooltipLocation=.5,t.link=t.createChild(Z),t.link.shouldClone=!1,t.link.setElement(t.paper.add("path")),t.link.isMeasured=!1,t.fillOpacity=.2,t.fill=e.getFor("alternativeBackground"),t.applyTheme(),t}return r.prototype.positionBullets=function(){var t=this;w(this.bullets.iterator(),function(e){e.parent=t.bulletsContainer,e.maxWidth=t.maxWidth,e.maxHeight=t.maxHeight,t.positionBullet(e)})},Object.defineProperty(r.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var t=this.createChild(X);t.shouldClone=!1,t.layout="none",this._bulletsContainer=t}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var t=this.createChild(Z);t.shouldClone=!1,t.setElement(this.paper.add("path")),t.isMeasured=!1,this._bulletsMask=t}return this._bulletsMask},enumerable:!0,configurable:!0}),r.prototype.positionBullet=function(t){var e=t.locationX;g(e)||(e=t.locationY),g(e)||(e=.5);var i=this.middleLine.positionToPoint(e);t.moveTo(i);var a=t.propertyFields.rotation,n;if(t.dataItem){var s=t.dataItem.dataContext;n=s[a]}g(n)||(n=i.angle),t.rotation=n},Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(t){if(t=="gradient"){var e=this.fill;this.gradient.stops.clear(),e instanceof Pt&&(this.gradient.addColor(e),this.gradient.addColor(e)),this.fill=this.gradient,this.stroke=this.gradient}this.setPropertyValue("colorMode",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(t){this.setPropertyValue("maskBullets",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(t){this.setPropertyValue("tooltipLocation",t,!0)},enumerable:!0,configurable:!0}),r.prototype.setFill=function(t){o.prototype.setFill.call(this,t);var e=this._gradient;e&&t instanceof Pt&&(e.stops.clear(),e.addColor(t),e.addColor(t))},r.prototype.measureElement=function(){},Object.defineProperty(r.prototype,"bullets",{get:function(){var t=this;return this._bullets||(this._bullets=new Q(new jt),this._disposers.push(new G(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",function(e){e.newValue.events.on("propertychanged",function(i){(i.property=="locationX"||i.property=="locationY")&&t.positionBullet(i.target)},void 0,!1)},void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.bullets.copyFrom(t.bullets);var e=this.middleLine;e&&(e instanceof Wt&&t.middleLine instanceof Wt&&e.copyFrom(t.middleLine),e instanceof Ji&&t.middleLine instanceof Ji&&e.copyFrom(t.middleLine)),this.link.copyFrom(t.link)},r.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},r.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(r.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=new yi),this._gradient},enumerable:!0,configurable:!0}),r}(X);_.registeredClasses.FlowDiagramLink=ni;var Xi=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="FlowDiagramDataItem",t.values.value={},t.applyTheme(),t}return Object.defineProperty(r.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(t){this.setProperty("fromName",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"toName",{get:function(){return this.properties.toName},set:function(t){this.setProperty("toName",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){return this.properties.color},set:function(t){this.setProperty("color",Bt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"link",{get:function(){var t=this;if(!this._link){var e=this.component.links.create();this._link=e,this.addSprite(e),this._disposers.push(new st(function(){t.component&&t.component.links.removeValue(e)}))}return this._link},enumerable:!0,configurable:!0}),r}(yr),Yi=function(o){D(r,o);function r(){var t=o.call(this)||this;t.colors=new Ue,t.className="FlowDiagram",t.nodePadding=20,t.sortBy="none",t.sequencedInterpolation=!0,t.colors.step=2,t.minNodeSize=.02;var e=t.chartContainer.createChild(X);e.shouldClone=!1,e.layout="none",e.isMeasured=!1,t.linksContainer=e;var i=t.chartContainer.createChild(X);return i.shouldClone=!1,i.layout="none",i.isMeasured=!1,t.nodesContainer=i,t.dataItem=t.createDataItem(),t.dataItem.component=t,t.applyTheme(),t}return r.prototype.dispose=function(){o.prototype.dispose.call(this),this.dataItem.dispose()},r.prototype.validateData=function(){var t=this;this._parseDataFrom==0&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),o.prototype.validateData.call(this);var e=0,i=0,a,n;w(this.dataItems.iterator(),function(l){var h=l.fromName;if(h){var d=t.nodes.getKey(h);d||(d=t.nodes.create(h),d.name=h,d.chart=t,d.dataItem=l),l.fromNode=d,l.fromNode.outgoingDataItems.push(l)}var u=l.toName;if(u){var d=t.nodes.getKey(u);d||(d=t.nodes.create(u),d.name=u,d.chart=t,d.dataItem=l),l.toNode=d,l.toNode.incomingDataItems.push(l)}if(!l.fromNode){var p=new Qi;p.opacities=[0,1],l.link.strokeModifier=p}if(!l.toNode){var f=new Qi;f.opacities=[1,0],l.link.strokeModifier=f}var c=l.value;g(c)&&(e+=c,i++,(a>c||!g(a))&&(a=c),(n<c||!g(n))&&(n=c))});var s="value";this.dataItem.setCalculatedValue(s,n,"high"),this.dataItem.setCalculatedValue(s,a,"low"),this.dataItem.setCalculatedValue(s,e,"sum"),this.dataItem.setCalculatedValue(s,e/i,"average"),this.dataItem.setCalculatedValue(s,i,"count"),w(this.nodes.iterator(),function(l){var h=l[1];h.fill instanceof Pt&&(h.color=h.fill),h.color==null&&(h.color=t.colors.next()),h.dataItem.color!=null&&(h.color=h.dataItem.color),h.dataItem.visible||h.hide(0),t.getNodeValue(h)}),this.sortNodes(),this.feedLegend()},r.prototype.handleDataItemWorkingValueChange=function(t,e){this.invalidate()},r.prototype.sortNodes=function(){this.sortBy=="name"?this._sorted=this.nodes.sortedIterator():this.sortBy=="value"?this._sorted=xe(this.nodes.iterator(),function(t,e){return ci(ve(t[1].total,e[1].total))}):this._sorted=this.nodes.iterator()},r.prototype.getNodeValue=function(t){var e=0,i=0;w(t.incomingDataItems.iterator(),function(a){var n=a.getWorkingValue("value");g(n)&&(e+=n)}),w(t.outgoingDataItems.iterator(),function(a){var n=a.getWorkingValue("value");g(n)&&(i+=n)}),t.total=e+i,t.totalIncoming=e,t.totalOutgoing=i},r.prototype.changeSorting=function(){this.sortNodes()},r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Flow diagram"))},r.prototype.createDataItem=function(){return new Xi},Object.defineProperty(r.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(t){this.setPropertyValue("nodePadding",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(t){this.setPropertyValue("sortBy",t),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(t){this.setPropertyValue("minNodeSize",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nodes",{get:function(){if(!this._nodes){var t=this.createNode();t.events.on("hit",function(e){e.target.handleHit(e)}),this._nodes=new fr(t),this._disposers.push(new Ci(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),r.prototype.createNode=function(){var t=new ai;return this._disposers.push(t),t},Object.defineProperty(r.prototype,"links",{get:function(){return this._links||(this._links=new Q(this.createLink()),this._disposers.push(new G(this._links))),this._links},enumerable:!0,configurable:!0}),r.prototype.createLink=function(){var t=new ni;return this._disposers.push(t),t},r.prototype.feedLegend=function(){var t=this.legend;if(t){var e=[];this.nodes.each(function(i,a){e.push(a)}),t.data=e,t.dataFields.name="name"}},r.prototype.disposeData=function(){o.prototype.disposeData.call(this),this.nodes.clear()},r}(le);_.registeredClasses.FlowDiagram=Yi;var gi=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="LabelBullet";var e=t.createChild(Ht);return e.shouldClone=!1,e.verticalCenter="middle",e.horizontalCenter="middle",e.truncate=!0,e.hideOversized=!1,e.maxWidth=500,e.maxHeight=500,e.stroke=Ot(),e.strokeOpacity=0,e.fill=new et().getFor("text"),t.events.on("maxsizechanged",t.handleMaxSize,t,!1),t.label=e,t.applyTheme(),t}return r.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.label.copyFrom(t.label)},r}(jt);_.registeredClasses.LabelBullet=gi;var Rr=function(o){D(r,o);function r(){var t=o.call(this)||this;t.nextInCoord=0,t.nextOutCoord=0,t.className="SankeyNode",t.width=10,t.height=10;var e=t.createChild(gi);e.shouldClone=!1,e.locationX=1,e.locationY=.5,e.label.text="{name}",e.width=150,e.height=150,e.label.horizontalCenter="left",e.label.padding(0,5,0,5),t.nameLabel=e;var i=t.createChild(gi);i.shouldClone=!1,i.label.hideOversized=!1,i.locationX=.5,i.locationY=.5,i.width=150,i.height=150,i.label.horizontalCenter="middle",t.valueLabel=i;var a=t.hiddenState;return a.properties.fill=new et().getFor("disabledBackground"),a.properties.opacity=.5,a.properties.visible=!0,t.background.hiddenState.copyFrom(a),t}return r.prototype.invalidateLinks=function(){var t=this;o.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var e=this.chart;if(e){var i=e.orientation;this._incomingSorted&&w(this._incomingSorted,function(a){var n=a.link,s=a.getWorkingValue("value");if(g(s)){n.parent=t.chart.linksContainer;var l=void 0,h=void 0,d=void 0;if(i=="horizontal"?(l=t.pixelX+t.dx,h=t.nextInCoord+t.pixelY+t.dy,d=0):(h=t.pixelY+t.dy,l=t.nextInCoord+t.pixelX+t.dx,d=90),n.endX=l,n.endY=h,n.startAngle=d,n.endAngle=d,n.gradient.rotation=d,n.linkWidth=s*e.valueHeight,!a.fromNode){i=="horizontal"?(n.maxWidth=200,n.startX=t.pixelX+t.dx-n.maxWidth,n.startY=n.endY):(n.maxHeight=200,n.startX=n.endX,n.startY=t.pixelY+t.dy-n.maxHeight),Ut(n.gradient),n.fill=a.toNode.color;var u=n.gradient.stops.getIndex(0);u&&(n.colorMode=="gradient"&&(u.color=t.color),u.opacity=0,n.fill=n.gradient,n.stroke=n.gradient,n.gradient.validate())}t.nextInCoord+=n.linkWidth}}),this._outgoingSorted&&w(this._outgoingSorted,function(a){var n=a.link;n.parent=t.chart.linksContainer;var s=a.getWorkingValue("value");if(g(s)){var l=void 0,h=void 0,d=void 0;if(i=="horizontal"?(d=0,l=t.pixelX+t.pixelWidth+t.dx-1,h=t.nextOutCoord+t.pixelY+t.dy):(d=90,l=t.nextOutCoord+t.pixelX+t.dx,h=t.pixelY+t.pixelHeight+t.dy-1),n.startX=l,n.startY=h,n.startAngle=d,n.endAngle=d,n.gradient.rotation=d,n.linkWidth=s*t.chart.valueHeight,!a.toNode){i=="horizontal"?(n.maxWidth=200,n.endX=t.pixelX+n.maxWidth+t.dx,n.endY=n.startY):(n.maxHeight=200,n.endX=n.startX,n.endY=t.pixelY+n.maxHeight+t.dy),n.opacity=t.opacity;var u=n.gradient.stops.getIndex(1);u&&(n.colorMode=="gradient"&&(u.color=t.color),u.opacity=0,n.fill=n.gradient,n.stroke=n.gradient,n.gradient.validate())}t.nextOutCoord+=n.linkWidth}})}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel)},r.prototype.positionBullet=function(t){t&&(t.x=this.measuredWidth*t.locationX,t.y=this.measuredHeight*t.locationY)},Object.defineProperty(r.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(t){this.setPropertyValue("level",t,!0)},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.nameLabel.copyFrom(t.nameLabel),this.valueLabel.copyFrom(t.valueLabel)},r}(ai);_.registeredClasses.SankeyNode=Rr;var jr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="SankeyLink",new et,t.tension=.8,t.controlPointDistance=.2,t.startAngle=0,t.endAngle=0,t.linkWidth=0,t.startX=0,t.endX=0,t.startY=0,t.endY=0,t.middleLine=t.createChild(ja),t.middleLine.shouldClone=!1,t.middleLine.strokeOpacity=0,t.applyTheme(),t}return r.prototype.makeBackwards=function(){this.states.getKey("backwards")!=null&&this.setState("backwards")},r.prototype.validate=function(){var t,e,i,a;if(o.prototype.validate.call(this),!this.isTemplate){var n=this.startX,s=this.startY,l=this.endX,h=this.endY;if(this.states.getKey("backwards")&&this.setState("default"),this.dataItem){var d=this.dataItem.component;d&&(d.orientation=="horizontal"?l<n&&(t=Xe([l,n],2),n=t[0],l=t[1],e=Xe([h,s],2),s=e[0],h=e[1],this.makeBackwards()):h<s&&(i=Xe([h,s],2),s=i[0],h=i[1],a=Xe([l,n],2),n=a[0],l=a[1],this.makeBackwards()))}g(l)||(l=n),g(h)||(h=s);var u=this.startAngle,p=this.endAngle,f=this.linkWidth,c="",y=n,v=s,m=l,x=h,C=n+f*L(u),S=l+f*L(p),A=s+f*F(u),T=h+f*F(p),P=n+f/2*L(u),k=l+f/2*L(p),V=s+f/2*F(u),N=h+f/2*F(p);this.zIndex=this.zIndex||this.dataItem.index;var I=this.tension+(1-this.tension)*L(u),M=this.tension+(1-this.tension)*F(u);if(this.middleLine.tensionX=I,this.middleLine.tensionY=M,g(f)&&g(n)&&g(l)&&g(s)&&g(h)){j(y,3)==j(m,3)&&(m+=.01),j(v,3)==j(x,3)&&(x+=.01),j(C,3)==j(S,3)&&(S+=.01),j(A,3)==j(T,3)&&(T+=.01);var Dt=Math.min(C,S,y,m),Yt=Math.min(A,T,v,x),Ft=Math.max(C,S,y,m),Me=Math.max(A,T,v,x);this._bbox={x:Dt,y:Yt,width:Ft-Dt,height:Me-Yt};var yt=this.controlPointDistance,qt=y+(m-y)*yt*F(u),$t=v+(x-v)*yt*L(u),de=m-(m-y)*yt*F(p),pe=x-(x-v)*yt*L(p),B=P+(k-P)*yt*F(u),bt=V+(N-V)*yt*L(u),ht=k-(k-P)*yt*F(p),aa=N-(N-V)*yt*L(p),Ie=_t({x:qt,y:$t},{x:de,y:pe}),Re=(f/F(Ie)-f)/tr(Ie)*F(u),je=(f/L(Ie)-f)*tr(Ie)*L(u),na=-Re/2+C+(S-C)*yt*F(u),sa=-je/2+A+(T-A)*yt*L(u),oa=-Re/2+S-(S-C)*yt*F(p),la=-je/2+T-(T-A)*yt*L(p);N==V&&(N+=.01),this.middleLine.segments=[[{x:P,y:V},{x:B,y:bt},{x:ht,y:aa},{x:k,y:N}]],qt+=Re/2,$t+=je/2,de+=Re/2,pe+=je/2,c+=W({x:y,y:v}),c+=new _e(I,M).smooth([{x:y,y:v},{x:qt,y:$t},{x:de,y:pe},{x:m,y:x}]),c+=R({x:S,y:T}),c+=new _e(I,M).smooth([{x:S,y:T},{x:oa,y:la},{x:na,y:sa},{x:C,y:A}]),c+=se()}this.link.path=c,this.maskBullets&&(this.bulletsMask.path=c,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets()}},Object.defineProperty(r.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(t){this.setPropertyValue("startX",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(t){this.setPropertyValue("endX",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(t){this.setPropertyValue("startY",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(t){this.setPropertyValue("endY",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},set:function(t){this.setPropertyValue("linkWidth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(t){this.setPropertyValue("controlPointDistance",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(t){this.setPropertyValue("tension",t,!0)},enumerable:!0,configurable:!0}),r}(ni);_.registeredClasses.SankeyLink=jr;var mn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="SankeyDiagramDataItem",t.applyTheme(),t}return r}(Xi),xn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="SankeyDiagram",t.orientation="horizontal",t.nodeAlign="middle",t.nodesContainer.width=O(100),t.nodesContainer.height=O(100),t.linksContainer.width=O(100),t.linksContainer.height=O(100),t.applyTheme(),t}return r.prototype.validateData=function(){var t=this;this._valueHeight=void 0,o.prototype.validateData.call(this),this._levelCount=0,this.nodes.each(function(e,i){i.level=void 0}),this.nodes.each(function(e,i){i.level=t.getNodeLevel(i,0),t._levelCount=tt(t._levelCount,i.level)})},r.prototype.getNodeLevel=function(t,e){var i=this,a=[e];return w(t.incomingDataItems.iterator(),function(n){n.fromNode&&(g(n.fromNode.level)?a.push(n.fromNode.level+1):(i._counter=0,i.checkLoop(n.fromNode),i._counter<i.dataItems.length&&a.push(i.getNodeLevel(n.fromNode,e+1))))}),Math.max.apply(Math,Wa(a))},r.prototype.checkLoop=function(t){var e=this;this._counter++,!(this._counter>this.dataItems.length)&&w(t.incomingDataItems.iterator(),function(i){e.checkLoop(i.fromNode)})},r.prototype.calculateValueHeight=function(){var t=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var e=this.dataItem.values.value.sum;w(this._sorted,function(u){var p=u[1];t.getNodeValue(p)}),this.nodes.each(function(u,p){var f=p.level,c=Math.max(p.totalIncoming,p.totalOutgoing);c/e<t.minNodeSize&&(c=e*t.minNodeSize),g(t._levelSum[f])?t._levelSum[f]+=c:t._levelSum[f]=c,g(t._levelNodesCount[f])?t._levelNodesCount[f]++:t._levelNodesCount[f]=1});var i;this.orientation=="horizontal"?i=this.chartContainer.maxHeight-1:i=this.chartContainer.maxWidth-1;var a,n;mt(this._levelSum,function(u,p){var f=p,c=t._levelNodesCount[u],y=(i-(c-1)*t.nodePadding)/f;y==1/0&&(y=0),(n>y||!g(n))&&(n=y,t.maxSum=f,a=Vt(u))}),this._maxSumLevel=a;var s=this._levelNodesCount[this._maxSumLevel],l=(i-(s-1)*this.nodePadding)/this.maxSum;if(l==1/0&&(l=0),!g(this.valueHeight))this.valueHeight=l;else{var h=void 0;try{h=this._heightAnimation.animationOptions[0].to}catch{}if(h!=l){var d=this.interpolationDuration;try{d=this.nodes.template.states.getKey("active").transitionDuration}catch{}this._heightAnimation=new Xa(this,{property:"valueHeight",from:this.valueHeight,to:l},d,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation)}}},r.prototype.validate=function(){var t=this;o.prototype.validate.call(this),this.calculateValueHeight();var e=this.nodesContainer,i={},a=this._levelNodesCount[this._maxSumLevel],n=this.dataItem.values.value.sum,s;this.orientation=="horizontal"?s=this.chartContainer.maxHeight-1:s=this.chartContainer.maxWidth-1,w(this._sorted,function(l){var h=l[1],d=h.level,u=0,p=t._levelNodesCount[d];switch(t.nodeAlign){case"bottom":u=(t.maxSum-t._levelSum[d])*t.valueHeight-(p-a)*t.nodePadding;break;case"middle":u=(t.maxSum-t._levelSum[d])*t.valueHeight/2-(p-a)*t.nodePadding/2;break}if(t.maxSum==0)switch(t.nodeAlign){case"bottom":u=s-p*(t.minNodeSize*s+t.nodePadding);break;case"middle":u=s/2-p/2*(t.minNodeSize*s+t.nodePadding);break}h.parent=e;var f,c,y,v=Math.max(h.totalIncoming,h.totalOutgoing);if(v/n<t.minNodeSize&&(v=n*t.minNodeSize),t.orientation=="horizontal"){f=(t.innerWidth-h.pixelWidth)/t._levelCount,c=f*h.level,y=i[d]||u;var m=v*t.valueHeight;n==0&&m==0&&(m=t.minNodeSize*s),h.height=m,h.minX=c,h.maxX=c,i[d]=y+m+t.nodePadding}else{f=(t.innerHeight-h.pixelHeight)/t._levelCount,c=i[d]||u,y=f*h.level;var x=v*t.valueHeight;n==0&&x==0&&(x=t.minNodeSize*s),h.width=x,h.minY=y,h.maxY=y,i[d]=c+x+t.nodePadding}h.x=c,h.y=y})},r.prototype.showReal=function(t){var e=this;if(!this.preventShow){if(this.interpolationDuration>0){var i=this.nodesContainer,a=0;w(this.links.iterator(),function(n){n.hide(0)}),w(this._sorted,function(n){var s=n[1],l;e.orientation=="horizontal"?(s.dx=-(i.pixelWidth-s.pixelWidth)/Math.max(e._levelCount,1),l="dx"):(s.dy=-(i.pixelHeight-s.pixelHeight)/Math.max(e._levelCount,1),l="dy");var h=0,d=e.interpolationDuration;e.sequencedInterpolation&&(h=e.sequencedInterpolationDelay*a+d*a/Ya(e.nodes.iterator())),s.opacity=0,s.invalidateLinks(),s.animate([{property:"opacity",from:0,to:1},{property:l,to:0}],e.interpolationDuration,e.interpolationEasing).delay(h),w(s.outgoingDataItems.iterator(),function(u){var p=u.link.show(e.interpolationDuration);p&&!p.isFinished()&&p.delay(h)}),w(s.incomingDataItems.iterator(),function(u){if(!u.fromNode){var p=u.link.show(e.interpolationDuration);p&&!p.isFinished()&&p.delay(h)}}),a++})}return o.prototype.showReal.call(this)}},r.prototype.changeSorting=function(){var t=this;this.sortNodes();var e={};w(this._sorted,function(i){var a=i[1],n=a.level,s=(t.maxSum-t._levelSum[n])*t.valueHeight/2,l,h;t.orientation=="horizontal"?(l="y",h=a.pixelHeight):(l="x",h=a.pixelWidth),a.animate({property:l,to:e[n]||s},t.interpolationDuration,t.interpolationEasing),e[n]=(e[n]||s)+h+t.nodePadding,a.invalidateLinks()})},r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Sankey diagram"))},r.prototype.createDataItem=function(){return new mn},Object.defineProperty(r.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(t){this.setPropertyValue("nodeAlign",t),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0);var e=this.nodes.template.nameLabel;t=="vertical"?(this.nodes.template.width=void 0,e.label.horizontalCenter="middle",e.locationX=.5):(this.nodes.template.height=void 0,e.label.horizontalCenter="left",e.locationX=1)},enumerable:!0,configurable:!0}),r.prototype.createNode=function(){var t=new Rr;return this._disposers.push(t),t},r.prototype.createLink=function(){var t=new jr;return this._disposers.push(t),t},Object.defineProperty(r.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(t){t!=this._valueHeight&&(this._valueHeight=t,this.invalidate())},enumerable:!0,configurable:!0}),r.prototype.disposeData=function(){o.prototype.disposeData.call(this),this._sorted=this.nodes.iterator()},r}(Yi);_.registeredClasses.SankeyDiagram=xn;var Wr=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="ChordNode";var e=t.createChild(ii);e.location=.5,e.radius=5,e.text="{name}",e.zIndex=1,e.shouldClone=!1,t.label=e,t.layout="none",t.events.on("positionchanged",t.updateRotation,t,!1),t.isMeasured=!1,t.slice=t.createChild(Vi),t.slice.isMeasured=!1;var i=t.hiddenState;return i.properties.fill=new et().getFor("disabledBackground"),i.properties.opacity=.5,i.properties.visible=!0,t.setStateOnChildren=!1,t.slice.hiddenState.properties.visible=!0,t.adapter.add("tooltipX",function(a,n){return n.slice.ix*(n.slice.radius-(n.slice.radius-n.slice.pixelInnerRadius)/2)}),t.adapter.add("tooltipY",function(a,n){return n.slice.iy*(n.slice.radius-(n.slice.radius-n.slice.pixelInnerRadius)/2)}),t}return r.prototype.invalidateLinks=function(){var t=this;o.prototype.invalidateLinks.call(this);var e=this.label,i=this.slice,a=this.chart;if(a&&i){var n=this.total,s=i.arc,l=i.startAngle;this.children.each(function(u){if(u instanceof jt){var p=u.locationX;g(p)||(p=.5);var f=u.locationY;g(f)||(f=1);var c=l+s*p,y=f*i.radius;u.x=y*F(c),u.y=y*L(c)}});var h=l+s*e.location,d=l+(1-n/this.adjustedTotal)*s*.5;vt(d)&&(d=l),e.fixPosition(h,i.radius),this.nextAngle=d,this._outgoingSorted&&w(this._outgoingSorted,function(u){var p=u.link;p.parent=t.chart.linksContainer;var f=u.getWorkingValue("value");if(g(f)){if(a.nonRibbon){var c=p.percentWidth;g(c)||(c=5),c=c/100,p.startAngle=l+s/2-s/2*c,p.arc=s*c}else p.arc=f*a.valueAngle,p.startAngle=t.nextAngle,t.nextAngle+=p.arc;u.toNode||(p.endAngle=p.startAngle),p.radius=i.pixelInnerRadius}}),this._incomingSorted&&w(this._incomingSorted,function(u){var p=u.link;if(p.radius=i.pixelInnerRadius,a.nonRibbon){var f=p.percentWidth;g(f)||(f=5),f=f/100,p.endAngle=l+s/2-s/2*f,p.arc=s*f}else{p.endAngle=t.nextAngle;var c=u.getWorkingValue("value");g(c)&&(p.arc=c*a.valueAngle,t.nextAngle+=p.arc)}u.fromNode||(p.startAngle=p.endAngle)})}},r.prototype.updateRotation=function(){var t=this.slice,e=this.trueStartAngle+t.arc/2,i=t.radius,a=i*F(e),n=i*L(e),s=_t({x:a+this.pixelX,y:n+this.pixelY});t.startAngle=this.trueStartAngle+(s-e),this.dx=-this.pixelX,this.dy=-this.pixelY},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.label.copyFrom(t.label),this.slice.copyFrom(t.slice)},r}(ai);_.registeredClasses.ChordNode=Wr;var bn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="QuadraticCurve",t.element=t.paper.add("path"),t.pixelPerfect=!1,t.fill=Ot(),t.applyTheme(),t}return r.prototype.draw=function(){if(g(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var t={x:this.x1,y:this.y1},e={x:this.x2,y:this.y2},i={x:this.cpx,y:this.cpy},a=W(t)+ie(e,i);this.path=a}},Object.defineProperty(r.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(t){this.setPropertyValue("cpx",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(t){this.setPropertyValue("cpy",t,!0)},enumerable:!0,configurable:!0}),r.prototype.positionToPoint=function(t){var e={x:this.x1,y:this.y1},i={x:this.cpx,y:this.cpy},a={x:this.x2,y:this.y2},n=er(e,a,i,t),s=er(e,a,i,t+.001);return{x:n.x,y:n.y,angle:_t(n,s)}},r}(Wt),Xr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="ChordLink",t.middleLine=t.createChild(bn),t.middleLine.shouldClone=!1,t.middleLine.strokeOpacity=0,t.applyTheme(),t}return r.prototype.validate=function(){if(o.prototype.validate.call(this),!this.isTemplate){var t=this.startAngle,e=this.endAngle,i=this.arc,a=this.radius,n=this.dataItem.fromNode,s=this.dataItem.toNode,l=0,h=0;n&&(l=n.pixelX+n.dx,h=n.pixelY+n.dy);var d=0,u=0;if(s&&(d=s.pixelX+s.dx,u=s.pixelY+s.dy),a>0){var p=a*F(t)+l,f=a*L(t)+h,c=a*F(e)+d,y=a*L(e)+u,v={x:0,y:0},m=W({x:p,y:f});m+=ft(t,i,a),m+=ie({x:c,y},v),m+=ft(e,i,a),m+=ie({x:p,y:f},v),i>0?this.link.path=m:this.link.path="",this.maskBullets&&(this.bulletsMask.path=m,this.bulletsContainer.mask=this.bulletsMask);var x=t+i/2,C=e+i/2,S=this.middleLine;S.x1=a*F(x)+l,S.y1=a*L(x)+h,S.x2=a*F(C)+d,S.y2=a*L(C)+u,S.cpx=0,S.cpy=0,S.stroke=this.fill,this.positionBullets()}}},Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPropertyValue("radius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(t){this.setPropertyValue("arc",t,!0)},enumerable:!0,configurable:!0}),r}(ni);_.registeredClasses.ChordLink=Xr;var Pn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="ChordDiagramDataItem",t.applyTheme(),t}return r}(Xi),Cn=function(o){D(r,o);function r(){var t=o.call(this)||this;t.valueAngle=0,t.className="ChordDiagram",t.startAngle=-90,t.endAngle=270,t.radius=O(80),t.innerRadius=-15,t.nodePadding=5;var e=t.chartContainer.createChild(X);return e.align="center",e.valign="middle",e.shouldClone=!1,e.layout="absolute",t.chordContainer=e,t.nodesContainer.parent=e,t.linksContainer.parent=e,t.chartContainer.events.on("maxsizechanged",t.invalidate,t,!1),t.applyTheme(),t}return r.prototype.validate=function(){var t=this,e=this.chartContainer,i=this.endAngle,a=this.startAngle+this.nodePadding/2,n=zt(this.startAngle,this.endAngle,1),s={x:0,y:0,width:0,height:0};n=_i([n,s]);var l=Math.min(e.innerWidth/n.width,e.innerHeight/n.height);g(l)||(l=0);var h=it(this.radius,l),d=it(this.innerRadius,h,!0),u=this.dataItem.values.value.sum,p=0,f=0;w(this._sorted,function(c){var y=c[1];t.getNodeValue(y),p++;var v=y.total;y.total/u<t.minNodeSize&&(v=u*t.minNodeSize),f+=v}),this.valueAngle=(i-this.startAngle-this.nodePadding*p)/f,w(this._sorted,function(c){var y=c[1],v=y.slice;v.radius=h,v.innerRadius=d;var m=y.total;y.total/u<t.minNodeSize&&(m=u*t.minNodeSize),y.adjustedTotal=m;var x;t.nonRibbon?x=(i-t.startAngle)/p-t.nodePadding:x=t.valueAngle*m,v.arc=x,v.startAngle=a,y.trueStartAngle=a,y.parent=t.nodesContainer,y.validate(),a+=x+t.nodePadding}),this.chordContainer.definedBBox={x:h*n.x,y:h*n.y,width:h*n.width,height:h*n.height},this.chordContainer.invalidateLayout(),o.prototype.validate.call(this)},r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Chord diagram"))},r.prototype.createDataItem=function(){return new Pn},Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},set:function(t){this.setPropertyValue("nonRibbon",t,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),r.prototype.createNode=function(){var t=new Wr;return this._disposers.push(t),t},r.prototype.createLink=function(){var t=new Xr;return this._disposers.push(t),t},r}(Yi);_.registeredClasses.ChordDiagram=Cn;var he=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="Column",t.width=O(80),t.height=O(80),t.events.disableType("transformed"),t.applyOnClones=!0,t.strokeOpacity=1,t.layout="none",t.createAssets(),t.events.on("childadded",t.handleKidAdded,t,!1),t}return r.prototype.handleKidAdded=function(){this.layout=="none"&&(this.layout="absolute")},r.prototype.createAssets=function(){this.column=this.createChild(ge),this.column.shouldClone=!1,this.column.isMeasured=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column)},r.prototype.validate=function(){o.prototype.validate.call(this);var t=this.column;t&&(t.width=U(this.pixelWidth,this.maxWidth),t.height=U(this.pixelHeight,this.maxHeight),t.invalid&&t.validate())},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.column&&this.column.copyFrom(t.column)},Object.defineProperty(r.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:U(this.pixelWidth,this.maxWidth),height:U(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),r}(X);_.registeredClasses.Column=he;var Zt=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="ColumnSeriesDataItem",t.locations.dateX=.5,t.locations.dateY=.5,t.locations.categoryX=.5,t.locations.categoryY=.5,t.applyTheme(),t}return Object.defineProperty(r.prototype,"column",{get:function(){return this._column},set:function(t){this.setColumn(t)},enumerable:!0,configurable:!0}),r.prototype.setColumn=function(t){var e=this;if(this._column&&t!=this._column&&At(this.sprites,this._column),this._column=t,t){var i=t.dataItem;i&&i!=this&&(i.column=void 0),this.addSprite(t),this._disposers.push(new st(function(){e.component&&e.component.columns.removeValue(t)}))}},Object.defineProperty(r.prototype,"width",{get:function(){var t=this.properties.width;return this._adapterO&&(t=this._adapterO.apply("width",t)),t},set:function(t){this.properties.width!=t&&(this.properties.width=t,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){var t=this.properties.height;return this._adapterO&&(t=this._adapterO.apply("height",t)),t},set:function(t){this.properties.height!=t&&(this.properties.height=t,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new St),this._rangesColumns},enumerable:!0,configurable:!0}),r}(ti),ue=function(o){D(r,o);function r(){var t=o.call(this)||this;t._startLocation=0,t._endLocation=1,t.className="ColumnSeries",t.width=O(100),t.height=O(100),t.strokeOpacity=0,t.fillOpacity=1,t.clustered=!0;var e=t.mainContainer.createChild(X);return e.shouldClone=!1,e.isMeasured=!1,e.layout="none",t._columnsContainer=e,t.columns.template.pixelPerfect=!1,t.tooltipColorSource=t.columns.template,t.applyTheme(),t}return Object.defineProperty(r.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Column Series"))},r.prototype.createDataItem=function(){return new Zt},r.prototype.validate=function(){var t=this;if(this.group.node.removeAttribute("fill"),this.chart&&this.xAxis&&this.yAxis){var e=this.chart.series,i=0,a=0,n=[];w(e.iterator(),function(y){if(y instanceof r&&t.baseAxis==y.baseAxis){var v;t.baseAxis==t.xAxis?v=t.chart.yAxes.indexOf(y.yAxis):v=t.chart.xAxes.indexOf(y.xAxis),n.push({series:y,axis:v})}}),n.sort(function(y,v){return y.axis-v.axis});var s;H(n,function(y){var v=y.series;v instanceof r&&((!v.stacked&&v.clustered||s!=y.axis&&v.clustered)&&i++,v==t&&(a=i-1)),s=y.axis}),this.clustered||(a=0,i=1);var l=this.baseAxis.renderer,h=l.cellStartLocation,d=l.cellEndLocation;this._startLocation=h+a/i*(d-h),this._endLocation=h+(a+1)/i*(d-h);var u=this.xAxis,p=this.yAxis;u instanceof $&&p instanceof E&&u.sortBySeries==this&&this.sortCategoryAxis(u,"valueY"),p instanceof $&&u instanceof E&&p.sortBySeries==this&&this.sortCategoryAxis(p,"valueX")}o.prototype.validate.call(this);for(var f=0;f<this.startIndex;f++){var c=this.dataItems.getIndex(f);this.disableUnusedColumns(c)}for(var f=this.dataItems.length-1;f>this.endIndex;f--){var c=this.dataItems.getIndex(f);this.disableUnusedColumns(c)}this._propertiesChanged=!1},r.prototype.sortCategoryAxis=function(t,e){var i=this;this.dataItems.values.sort(function(n,s){return s.values[e].workingValue-n.values[e].workingValue});var a=0;this.dataItems.each(function(n){n._index=a,a++}),t.dataItems.each(function(n){var s=n.component,l=s.categoryToPosition(n.category)-n.deltaPosition,h=s.getSeriesDataItemByCategory(n.category,i);if(h){var d=i.dataItems.indexOf(h);n._index=d;var u=j((d+.5)/i.dataItems.length-l,3);n.deltaAnimation&&!n.deltaAnimation.isDisposed()&&n.deltaAnimation.animationOptions[0].to==u||u!=j(n.deltaPosition,3)&&(n.deltaAnimation&&n.deltaAnimation.stop(),n.deltaAnimation=n.animate({property:"deltaPosition",from:-u,to:0},s.interpolationDuration,s.interpolationEasing),i._disposers.push(n.deltaAnimation))}}),t.dataItems.values.sort(function(n,s){return n.index-s.index})},r.prototype.validateDataElement=function(t){this.chart&&this.xAxis&&this.yAxis&&(this.validateDataElementReal(t),o.prototype.validateDataElement.call(this,t))},r.prototype.getStartLocation=function(t){var e=this._startLocation;return this.baseAxis==this.xAxis?e+=t.locations[this.xOpenField]-.5:e+=t.locations[this.yOpenField]-.5,e},r.prototype.getEndLocation=function(t){var e=this._endLocation;return this.baseAxis==this.xAxis?e+=t.locations[this.xField]-.5:e+=t.locations[this.yField]-.5,e},r.prototype.validateDataElementReal=function(t){var e=this,i,a,n,s,l=this.getStartLocation(t),h=this.getEndLocation(t),d=this.xField,u=this.xOpenField,p=this.yField,f=this.yOpenField,c=this.columns.template,y=c.percentWidth,v=c.percentHeight,m=c.pixelWidth,x=c.pixelHeight,C=c.maxWidth,S=c.maxHeight,A=c.pixelPaddingLeft,T=c.pixelPaddingRight,P=c.pixelPaddingTop,k=c.pixelPaddingBottom,V=!1,N=t.width;b(N)&&(g(N)&&(m=N),N instanceof ct&&(y=N.value*100));var I=t.height;if(b(I)&&(g(I)&&(x=I),I instanceof ct&&(v=I.value*100)),this.xAxis instanceof $&&this.yAxis instanceof $){if(!t.hasValue(this._xValueFields)||!t.hasValue(this._yValueFields))return;if(l=0,h=1,!vt(y)){var M=j((h-l)*(1-y/100)/2,5);l+=M,h-=M}if(i=this.xAxis.getX(t,u,l),a=this.xAxis.getX(t,d,h),vt(y)){var M=(a-i-m)/2;i+=M,a-=M}if(!vt(C)&&C<Math.abs(a-i)){var M=(a-i-C)/2;i+=M,a-=M}if(l=0,h=1,!vt(v)){var M=j((1-v/100)/2,5);l+=M,h-=M}if(n=this.yAxis.getY(t,f,l),s=this.yAxis.getY(t,p,h),vt(v)){var M=(s-n-x)/2;s+=M,n-=M}if(!vt(S)&&S<Math.abs(s-n)){var M=(s-n-S)/2;s+=M,n-=M}a=this.fixHorizontalCoordinate(a),i=this.fixHorizontalCoordinate(i),n=this.fixVerticalCoordinate(n),s=this.fixVerticalCoordinate(s)}else if(this.baseAxis==this.xAxis){if(!t.hasValue(this._yValueFields))return;if(!vt(y)){var M=j((h-l)*(1-y/100)/2,5);l+=M,h-=M}if(i=this.xAxis.getX(t,u,l),a=this.xAxis.getX(t,d,h),vt(y)){var M=(a-i-m)/2;i+=M,a-=M}if(!vt(C)&&C<Math.abs(a-i)){var M=(a-i-C)/2;i+=M,a-=M}var Dt=t.locations[f],Yt=t.locations[p];this.yAxis instanceof E&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(Dt=0,Yt=0),s=this.yAxis.getY(t,f,Dt),n=this.yAxis.getY(t,p,Yt);var Ft=Math.ceil(this.yAxis.axisLength);(n<0&&s<0||n>Ft&&s>Ft)&&(V=!0),n=this.fixVerticalCoordinate(n),s=this.fixVerticalCoordinate(s),Math.abs(a-i)-A-T==0&&(V=!0)}else{if(!t.hasValue(this._xValueFields))return;if(!vt(v)){var M=j((h-l)*(1-v/100)/2,5);l+=M,h-=M}if(n=this.yAxis.getY(t,f,l),s=this.yAxis.getY(t,p,h),vt(v)){var M=(s-n-x)/2;s-=M,n+=M}if(!vt(S)&&S<Math.abs(s-n)){var M=(s-n-S)/2;s-=M,n+=M}var Me=t.locations[d],yt=t.locations[u];this.xAxis instanceof E&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(Me=0,yt=0),a=this.xAxis.getX(t,d,Me),i=this.xAxis.getX(t,u,yt);var Ft=Math.ceil(this.xAxis.axisLength);(a<0&&i<0||a>Ft&&i>Ft)&&(V=!0),a=this.fixHorizontalCoordinate(a),i=this.fixHorizontalCoordinate(i),Math.abs(n-s)-P-k==0&&(V=!0)}var qt=Math.abs(a-i),$t=Math.abs(s-n),de=Math.min(i,a),pe=Math.min(n,s);if(V)this.disableUnusedColumns(t);else{var B;t.column?(B=t.column,this._propertiesChanged&&(rt(this,B,J),rt(this.columns.template,B,J),H(J,function(bt){B[bt]=B[bt]}))):(B=this.columns.create(),rt(this,B,J),rt(this.columns.template,B,J),t.addSprite(B),t.column=B,B.paper=this.paper,this.itemsFocusable()?(b(this.role)||(this.role="menu"),b(B.role)||(B.role="menuitem"),B.focusable=!0):(b(this.role)||(this.role="list"),b(B.role)||(B.role="listitem"),B.focusable=!1),B.focusable&&(B.events.on("focus",function(bt){B.readerTitle=e.populateString(e.itemReaderText,t)},void 0,!1),B.events.on("blur",function(bt){B.readerTitle=""},void 0,!1)),B.hoverable&&(B.events.on("over",function(bt){B.readerTitle=e.populateString(e.itemReaderText,t)},void 0,!1),B.events.on("out",function(bt){B.readerTitle=""},void 0,!1)),B.parent=this.columnsContainer,B.virtualParent=this),B.width=qt,B.height=$t,B.x=de,B.y=pe,B.realX=i,B.realY=n,B.realWidth=a-i,B.realHeight=s-n,this.setColumnStates(B),B.invalid&&B.validate(),B.__disabled=!1,w(this.axisRanges.iterator(),function(bt){var ht=t.rangesColumns.getKey(bt.uid);ht||(ht=e.columns.create(),rt(bt.contents,ht,J),t.addSprite(ht),t.rangesColumns.setKey(bt.uid,ht),ht.paper=e.paper),ht.parent=bt.contents,ht.width=qt,ht.height=$t,ht.x=de,ht.y=pe,e.setColumnStates(ht),ht.invalid&&ht.validate(),ht.__disabled=!1})}t.itemWidth=qt,t.itemHeight=$t},r.prototype.disableUnusedColumns=function(t){t&&(t.column&&(t.column.width=0,t.column.height=0,t.column.__disabled=!0),w(this.axisRanges.iterator(),function(e){var i=t.rangesColumns.getKey(e.uid);i&&(i.width=0,i.height=0,i.__disabled=!0)}))},r.prototype.setColumnStates=function(t){if(this._dropFromOpenState||this._dropFromPreviousState||this._riseFromOpenState||this._riseFromPreviousState){var e=t.dataItem;if(this.xAxis instanceof E||this.yAxis instanceof E){var i,a=void 0,n=void 0;this.baseAxis==this.yAxis?(this.xOpenField&&this.xField&&this.xAxis instanceof E&&(i=e.getValue(this.xOpenField),a=e.getValue(this.xField)),n=e.getValue(this.xAxis.axisFieldName+"X","previousChange")):(this.yOpenField&&this.yField&&this.yAxis instanceof E&&(i=e.getValue(this.yOpenField),a=e.getValue(this.yField)),n=e.getValue(this.yAxis.axisFieldName+"Y","previousChange")),a<i?(e.droppedFromOpen=!0,t.defaultState.copyFrom(this._dropFromOpenState),t.setState(this._dropFromOpenState,0)):(e.droppedFromOpen=!1,t.defaultState.copyFrom(this._riseFromOpenState),t.setState(this._riseFromOpenState,0)),n<0?(e.droppedFromPrevious=!0,t.defaultState.copyFrom(this._dropFromPreviousState),t.setState(this._dropFromPreviousState,0)):(e.droppedFromPrevious=!1,t.defaultState.copyFrom(this._riseFromPreviousState),t.setState(this._riseFromPreviousState,0))}}},Object.defineProperty(r.prototype,"columns",{get:function(){return this._columns||(this._columns=new Q(this.createColumnTemplate()),this._disposers.push(new G(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),r.prototype.createColumnTemplate=function(){return new he},Object.defineProperty(r.prototype,"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(t){this.setPropertyValue("clustered",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},set:function(t){this._dropFromOpenState=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create("dropFromPreviousState")),this._dropFromPreviousState},set:function(t){this._dropFromPreviousState=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},set:function(t){this._riseFromOpenState=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),this._riseFromPreviousState},set:function(t){this._riseFromPreviousState=t},enumerable:!0,configurable:!0}),r.prototype.updateLegendValue=function(t,e){var i=this;if(o.prototype.updateLegendValue.call(this,t,e),this.legendDataItem){var a=this.legendDataItem.marker,n,s;t&&(t.droppedFromOpen?n=this._dropFromOpenState:n=this._riseFromOpenState,t.droppedFromPrevious?s=this._dropFromPreviousState:s=this._riseFromPreviousState),w(a.children.iterator(),function(l){t?(l.setState(s),l.setState(n)):(l.setState(i._riseFromPreviousState),l.setState(i._riseFromOpenState))})}},r.prototype.createLegendMarker=function(t){var e=t.pixelWidth,i=t.pixelHeight;t.removeChildren();var a=t.createChild(ge);a.shouldClone=!1,rt(this,a,J),a.copyFrom(this.columns.template),a.padding(0,0,0,0),a.width=e,a.height=i;var n=t.dataItem;n.color=this.fill,n.colorOrig=this.fill},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.columns.template.copyFrom(t.columns.template)},r.prototype.getBulletLocationX=function(t,e){if(this.baseAxis==this.xAxis){var i=t.locationX;g(i)||(i=.5);var a=this.getEndLocation(t.dataItem),n=this.getStartLocation(t.dataItem);return a-(a-n)*i}else return o.prototype.getBulletLocationX.call(this,t,e)},r.prototype.getBulletLocationY=function(t,e){if(this.baseAxis==this.yAxis){var i=t.locationY;g(i)||(i=.5);var a=this.getEndLocation(t.dataItem),n=this.getStartLocation(t.dataItem);return a-(a-n)*i}else return o.prototype.getBulletLocationY.call(this,t,e)},r.prototype.getAdjustedXLocation=function(t,e,i){return g(i)||(t?i=t.locations[e]:i=.5),this._endLocation-(this._endLocation-this._startLocation)*(1-i)},r.prototype.getAdjustedYLocation=function(t,e,i){return g(i)||(t?i=t.locations[e]:i=.5),this._endLocation-(this._endLocation-this._startLocation)*i},r.prototype.fixVerticalCoordinate=function(t){var e=this.columns.template.pixelPaddingBottom,i=this.columns.template.pixelPaddingTop,a=-i,n=this.yAxis.axisLength+e;return Y(t,a,n)},r.prototype.fixHorizontalCoordinate=function(t){var e=this.columns.template.pixelPaddingLeft,i=this.columns.template.pixelPaddingRight,a=-e,n=this.xAxis.axisLength+i;return Y(t,a,n)},r.prototype.disposeData=function(){o.prototype.disposeData.call(this),this.columns.clear()},r}(oe);_.registeredClasses.ColumnSeries=ue;_.registeredClasses.ColumnSeriesDataItem=Zt;var Yr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="TreeMapSeriesDataItem",t.applyTheme(),t}return Object.defineProperty(r.prototype,"parentName",{get:function(){var t=this.treeMapDataItem;if(t&&t.parent)return t.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){var t=this.treeMapDataItem;if(t)return t.value},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),r.prototype.hide=function(t,e,i,a){var n=this.treeMapDataItem;return n&&n.hide(t),o.prototype.hide.call(this,t,e,i,a)},r.prototype.show=function(t,e,i){var a=this.treeMapDataItem;return a&&a.show(t,e,i),o.prototype.show.call(this,t,e,i)},r}(Zt),mi=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="TreeMapSeries",t.applyTheme(),t.fillOpacity=1,t.strokeOpacity=1,t.minBulletDistance=0,t.columns.template.tooltipText="{parentName} {name}: {value}",t.columns.template.configField="config";var e=new et;return t.stroke=e.getFor("background"),t.dataFields.openValueX="x0",t.dataFields.valueX="x1",t.dataFields.openValueY="y0",t.dataFields.valueY="y1",t.sequencedInterpolation=!1,t.showOnInit=!1,t.columns.template.pixelPerfect=!1,t}return r.prototype.processDataItem=function(t,e){e.seriesDataItem=t,o.prototype.processDataItem.call(this,t,e)},r.prototype.createDataItem=function(){return new Yr},r.prototype.show=function(t){if(!this.preventShow){var e=this.defaultState.transitionDuration;return g(t)&&(e=t),this.dataItems.each(function(i){i.show(t)}),o.prototype.showReal.call(this,e)}},r.prototype.hide=function(t){var e=this.defaultState.transitionDuration;g(t)&&(e=t);var i=o.prototype.hideReal.call(this,e);return this.dataItems.each(function(a){a.hide(t)}),i},r.prototype.processValues=function(){},r.prototype.getStartLocation=function(t){return 0},r.prototype.getEndLocation=function(t){return 1},r.prototype.dataChangeUpdate=function(){},r.prototype.processConfig=function(t){t&&(!b(t.dataFields)||!pr(t.dataFields))&&(t.dataFields={}),o.prototype.processConfig.call(this,t)},r.prototype.createLegendMarker=function(t){var e=t.pixelWidth,i=t.pixelHeight;t.removeChildren();var a=t.createChild(ge);a.shouldClone=!1,rt(this,a,J),a.padding(0,0,0,0),a.width=e,a.height=i;var n=t.dataItem;n.color=a.fill,n.colorOrig=a.fill},r.prototype.disableUnusedColumns=function(t){o.prototype.disableUnusedColumns.call(this,t),t.column&&(t.column.__disabled=!1)},r}(ue);_.registeredClasses.TreeMapSeries=mi;_.registeredClasses.TreeMapSeriesDataItem=Yr;var Dn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.rows=[],t.className="TreeMapDataItem",t.values.value={workingValue:0},t.values.x0={},t.values.y0={},t.values.x1={},t.values.y1={},t.hasChildren.children=!0,t.applyTheme(),t}return Object.defineProperty(r.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(t){this._legendDataItem=t,t.label&&(t.label.dataItem=this),t.valueLabel&&(t.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),r.prototype.getDuration=function(){return 0},Object.defineProperty(r.prototype,"value",{get:function(){var t=0;return!this.children||this.children.length==0?t=this.values.value.workingValue:w(this.children.iterator(),function(e){var i=e.value;g(i)&&(t+=i)}),t},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"x0",{get:function(){return this.values.x0.value},set:function(t){this.setValue("x0",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"x1",{get:function(){return this.values.x1.value},set:function(t){this.setValue("x1",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y0",{get:function(){return this.values.y0.value},set:function(t){this.setValue("y0",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y1",{get:function(){return this.values.y1.value},set:function(t){this.setValue("y1",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this.properties.name},set:function(t){this.setProperty("name",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"children",{get:function(){return this.properties.children},set:function(t){this.setProperty("children",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){var t=this.properties.color;return t==null&&this.parent&&(t=this.parent.color),t==null&&this.component&&(t=this.component.colors.getIndex(this.component.colors.step*this.index)),t},set:function(t){this.setProperty("color",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"series",{get:function(){return this._series},set:function(t){t!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=t,this._disposers.push(t))},enumerable:!0,configurable:!0}),r.prototype.hide=function(t,e,i,a){this.setWorkingValue("value",0),this.children&&this.children.each(function(s){s.hide(t,e,i,a)});var n=this.seriesDataItem;return n&&n.bullets.each(function(s,l){l.hide(),l.preventShow=!0}),o.prototype.hide.call(this,t,e,i,a)},r.prototype.show=function(t,e,i){this.setWorkingValue("value",this.values.value.value),this.children&&this.children.each(function(n){n.show(t,e,i)});var a=this.seriesDataItem;return a&&a.bullets.each(function(n,s){s.preventShow=!1}),o.prototype.show.call(this,t,e,i)},r}(wi),An=function(o){D(r,o);function r(){var t=o.call(this)||this;t.layoutAlgorithm=t.squarify,t.zoomable=!0,t.className="TreeMap",t._usesData=!0,t.maxLevels=2,t.currentLevel=0,t.hideParentColumns=!1,t.colors=new Ue,t.sorting="descending";var e=t.xAxes.push(new E);e.title.disabled=!0,e.strictMinMax=!0;var i=e.renderer;i.inside=!0,i.labels.template.disabled=!0,i.ticks.template.disabled=!0,i.grid.template.disabled=!0,i.axisFills.template.disabled=!0,i.minGridDistance=100,i.line.disabled=!0,i.baseGrid.disabled=!0;var a=t.yAxes.push(new E);a.title.disabled=!0,a.strictMinMax=!0;var n=a.renderer;n.inside=!0,n.labels.template.disabled=!0,n.ticks.template.disabled=!0,n.grid.template.disabled=!0,n.axisFills.template.disabled=!0,n.minGridDistance=100,n.line.disabled=!0,n.baseGrid.disabled=!0,n.inversed=!0,t.xAxis=e,t.yAxis=a;var s=new mi;return t.seriesTemplates=new fr(s),s.virtualParent=t,t._disposers.push(new Ci(t.seriesTemplates)),t._disposers.push(s),t.zoomOutButton.events.on("hit",function(){t.zoomToChartDataItem(t._homeDataItem)},void 0,!1),t.seriesTemplates.events.on("insertKey",function(l){l.newValue.isTemplate=!0},void 0,!1),t.applyTheme(),t}return Object.defineProperty(r.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(t){var e=this;this._navigationBar!=t&&(this._navigationBar=t,t.parent=this,t.toBack(),t.links.template.events.on("hit",function(i){var a=i.target.dataItem.dataContext;a.isDisposed()||(e.zoomToChartDataItem(a),e.createTreeSeries(a))},void 0,!0),this._disposers.push(t))},enumerable:!0,configurable:!0}),r.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],o.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var t=this.dataItems.template.clone();this._homeDataItem=t,w(this.dataItems.iterator(),function(a){a.parent=t}),t.children=this.dataItems,t.x0=0,t.y0=0,t.name=this._homeText;var e=1e3,i=Math.round(e*this.pixelHeight/this.pixelWidth/10)*10||1e3;t.x1=e,t.y1=i,this.xAxis.min=0,this.xAxis.max=e,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=i,this.yAxis.getMinMax(),this.layoutItems(t),this.createTreeSeries(t),this.feedLegend()},r.prototype.layoutItems=function(t,e){if(t){var i=t.children;e||(e=this.sorting),e=="ascending"&&i.values.sort(function(l,h){return l.value-h.value}),e=="descending"&&i.values.sort(function(l,h){return h.value-l.value}),this._updateDataItemIndexes(0),this.layoutAlgorithm(t);for(var a=0,n=i.length;a<n;a++){var s=i.getIndex(a);s.children&&this.layoutItems(s)}}},r.prototype.createTreeSeries=function(t){var e=this;this._tempSeries=[];for(var i=[t],a=t.parent;a!=null;)this.initSeries(a),i.push(a),a=a.parent;i.reverse(),this.navigationBar&&(this.navigationBar.data=i),this.createTreeSeriesReal(t),H(this._tempSeries,function(n){e.series.indexOf(n)==-1&&e.series.push(n),n.zIndex=n.level})},r.prototype.createTreeSeriesReal=function(t){if(t.children){var e=t.level;if(e<this.currentLevel+this.maxLevels){this.initSeries(t);for(var i=0;i<t.children.length;i++){var a=t.children.getIndex(i);a.children&&this.createTreeSeriesReal(a)}}}},r.prototype.setData=function(t){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,o.prototype.setData.call(this,t)},r.prototype.seriesAppeared=function(){return!0},r.prototype.initSeries=function(t){var e=this;if(!t.series){var i=void 0,a=this.seriesTemplates.getKey(t.level.toString());a?i=a.clone():i=this.series.create(),i.dataItem.dataContext=t,i.name=t.name,i.parentDataItem=t,t.series=i;var n=t.level;i.level=n;var s=t.dataContext;s&&(i.config=s.config),this.dataUsers.removeValue(i),i.data=t.children.values,i.fill=t.color,i.columnsContainer.hide(0),i.bulletsContainer.hide(0),i.columns.template.adapter.add("fill",function(l,h){var d=h.dataItem;if(d){var u=d.treeMapDataItem;if(u)return h.fill=u.color,h.adapter.remove("fill"),u.color}}),this.zoomable&&(t.level>this.currentLevel||t.children&&t.children.length>0)&&(i.columns.template.cursorOverStyle=Ce.pointer,this.zoomable&&i.columns.template.events.on("hit",function(l){var h=l.target.dataItem;t.level>e.currentLevel?e.zoomToChartDataItem(h.treeMapDataItem.parent):e.zoomToSeriesDataItem(h)},this,void 0))}this._tempSeries.push(t.series)},r.prototype.toggleBullets=function(t){var e=this;w(this.series.iterator(),function(i){e._tempSeries.indexOf(i)==-1?(i.columnsContainer.hide(),i.bulletsContainer.hide(t)):(i.columnsContainer.show(),i.bulletsContainer.show(t),i.dataItems.each(function(a){a.bullets.each(function(n,s){s.show()})}),i.level<e.currentLevel?(e.hideParentColumns&&i.columnsContainer.hide(),i.bulletsContainer.hide(t)):i.level==e.currentLevel&&e.maxLevels>1&&i.dataItems.each(function(a){a.treeMapDataItem.children&&a.bullets.each(function(n,s){s.hide()})}))})},r.prototype.zoomToSeriesDataItem=function(t){this.zoomToChartDataItem(t.treeMapDataItem)},r.prototype.zoomToChartDataItem=function(t){var e=this;t||(t=this._homeDataItem);var i=this.zoomOutButton;if(i&&(t!=this._homeDataItem?i.show():i.hide()),t&&t.children){this.xAxis.zoomToValues(t.x0,t.x1),this.yAxis.zoomToValues(t.y0,t.y1),this.currentLevel=t.level,this.currentlyZoomed=t,this.createTreeSeries(t);var a=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;a&&!a.isDisposed()&&!a.isFinished()?(this._dataDisposers.push(a),a.events.once("animationended",function(){e.toggleBullets()})):this.toggleBullets()}},r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("TreeMap chart"))},r.prototype.createDataItem=function(){return new Dn},Object.defineProperty(r.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(t){this.setPropertyValue("maxLevels",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},set:function(t){this.setPropertyValue("currentLevel",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hideParentColumns",{get:function(){return this.getPropertyValue("hideParentColumns")},set:function(t){this.setPropertyValue("hideParentColumns",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(t){this.setPropertyValue("sorting",t,!0)},enumerable:!0,configurable:!0}),r.prototype.createSeries=function(){return new mi},Object.defineProperty(r.prototype,"homeText",{get:function(){return this._homeText},set:function(t){this._homeText=t,this._homeDataItem&&(this._homeDataItem.name=this._homeText)},enumerable:!0,configurable:!0}),r.prototype.processConfig=function(t){if(t){if(b(t.layoutAlgorithm)&&at(t.layoutAlgorithm))switch(t.layoutAlgorithm){case"squarify":t.layoutAlgorithm=this.squarify;break;case"binaryTree":t.layoutAlgorithm=this.binaryTree;break;case"slice":t.layoutAlgorithm=this.slice;break;case"dice":t.layoutAlgorithm=this.dice;break;case"sliceDice":t.layoutAlgorithm=this.sliceDice;break;default:delete t.layoutAlgorithm;break}b(t.navigationBar)&&!b(t.navigationBar.type)&&(t.navigationBar.type="NavigationBar"),o.prototype.processConfig.call(this,t)}},r.prototype.validateLayout=function(){o.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed)},r.prototype.validateDataItems=function(){o.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),w(this.series.iterator(),function(t){t.validateRawData()}),this.zoomToChartDataItem(this._homeDataItem)},r.prototype.binaryTree=function(t){var e=t.children,i,a=e.length,n,s=new Array(a+1);for(s[0]=n=i=0;i<a;++i)s[i+1]=n+=e.getIndex(i).value;a>0&&l(0,a,t.value,t.x0,t.y0,t.x1,t.y1);function l(h,d,u,p,f,c,y){if(h>=d-1){var v=e.getIndex(h);v.x0=p,v.y0=f,v.x1=c,v.y1=y;return}for(var m=s[h],x=u/2+m,C=h+1,S=d-1;C<S;){var A=C+S>>>1;s[A]<x?C=A+1:S=A}x-s[C-1]<s[C]-x&&h+1<C&&--C;var T=s[C]-m,P=u-T;if(u==0){var v=e.getIndex(h);v.x0=p,v.y0=f,v.x1=c,v.y1=y;return}if(c-p>y-f){var k=(p*P+c*T)/u;l(h,C,T,p,f,k,y),l(C,d,P,k,f,c,y)}else{var V=(f*P+y*T)/u;l(h,C,T,p,f,c,V),l(C,d,P,p,V,c,y)}}},r.prototype.slice=function(t){for(var e=t.x0,i=t.x1,a=t.y0,n=t.y1,s=t.children,l,h=-1,d=s.length,u=t.value&&(n-a)/t.value;++h<d;)l=s.getIndex(h),l.x0=e,l.x1=i,l.y0=a,a+=l.value*u,l.y1=a},r.prototype.dice=function(t){for(var e=t.x0,i=t.x1,a=t.y0,n=t.y1,s=t.children,l,h=-1,d=s.length,u=t.value&&(i-e)/t.value;++h<d;)l=s.getIndex(h),l.y0=a,l.y1=n,l.x0=e,e+=l.value*u,l.x1=e},r.prototype.sliceDice=function(t){t.level&1?this.slice(t):this.dice(t)},r.prototype.squarify=function(t){for(var e=(1+Math.sqrt(5))/2,i=t.x0,a=t.x1,n=t.y0,s=t.y1,l=t.children,h,d=0,u=0,p=l.length,f,c,y=t.value,v,m,x,C,S,A,T;d<p;){f=a-i,c=s-n;do v=l.getIndex(u++).value;while(!v&&u<p);for(m=x=v,A=Math.max(c/f,f/c)/(y*e),T=v*v*A,S=Math.max(x/T,T/m);u<p;++u){if(v+=h=l.getIndex(u).value,h<m&&(m=h),h>x&&(x=h),T=v*v*A,C=Math.max(x/T,T/m),C>S){v-=h;break}S=C}var P=this.dataItems.template.clone();P.value=v,P.dice=f<c,P.children=l.slice(d,u),P.x0=i,P.y0=n,P.x1=a,P.y1=s,P.dice?(P.y1=y?n+=c*v/y:s,this.dice(P)):(P.x1=y?i+=f*v/y:a,this.slice(P)),y-=v,d=u}},r.prototype.handleSeriesAdded2=function(){},r.prototype.handleDataItemValueChange=function(t,e){e=="value"&&this.invalidateDataItems()},r.prototype.handleDataItemWorkingValueChange=function(t,e){e=="value"&&this.invalidateDataItems()},r.prototype.getLegendLevel=function(t){if(!!t&&!!t.children){if(t.children.length>1)return t;if(t.children.length==1){var e=t.children.getIndex(0);return e.children?this.getLegendLevel(e):t}else return t}},r.prototype.handleLegendSeriesAdded=function(t){},Object.defineProperty(r.prototype,"homeDataItem",{get:function(){return this._homeDataItem},enumerable:!0,configurable:!0}),r.prototype.feedLegend=function(){var t=this.legend;if(t){t.dataFields.name="name";var e=this.getLegendLevel(this._homeDataItem);if(e){var i=[];e.children.each(function(a){i.push(a)}),t.data=i}}},r.prototype.disposeData=function(){o.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData()},r.prototype.getExporting=function(){var t=this,e=o.prototype.getExporting.call(this);return e.adapter.add("formatDataFields",function(i){return(i.format=="csv"||i.format=="xlsx")&&b(t.dataFields.children)&&delete i.dataFields[t.dataFields.children],i}),e},r}(Kt);_.registeredClasses.TreeMap=An;var Er=function(o){D(r,o);function r(){var t=o.call(this)||this;return t._chart=new lt,t.className="AxisRendererX3D",t._disposers.push(t._chart),t.applyTheme(),t}return r.prototype.updateGridElement=function(t,e,i){e=e+(i-e)*t.location;var a=this.positionToPoint(e);if(t.element){var n=this.chart.dx3D||0,s=this.chart.dy3D||0,l=this.getHeight();t.path=W({x:n,y:s})+R({x:n,y:l+s})+R({x:0,y:l})}this.positionItem(t,a),this.toggleVisibility(t,e,0,1)},r.prototype.updateBaseGridElement=function(){o.prototype.updateBaseGridElement.call(this);var t=this.getHeight(),e=this.chart.dx3D||0,i=this.chart.dy3D||0;this.baseGrid.path=W({x:e,y:i})+R({x:0,y:0})+R({x:0,y:t})},Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){t&&this._chart.set(t,t.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),r.prototype.handle3DChanged=function(t){(t.property=="depth"||t.property=="angle")&&this.invalidate()},r}(Xt);_.registeredClasses.AxisRendererX3D=Er;var _n=function(o){D(r,o);function r(){var t=o.call(this)||this;return t._chart=new lt,t.className="AxisRendererY3D",t._disposers.push(t._chart),t.applyTheme(),t}return r.prototype.updateGridElement=function(t,e,i){e=e+(i-e)*t.location;var a=this.positionToPoint(e);if(t.element){var n=this.chart.dx3D||0,s=this.chart.dy3D||0,l=this.getWidth();t.path=W({x:0,y:0})+R({x:n,y:s})+R({x:l+n,y:s})}this.positionItem(t,a),this.toggleVisibility(t,e,0,1)},r.prototype.updateBaseGridElement=function(){o.prototype.updateBaseGridElement.call(this);var t=this.chart.dx3D||0,e=this.chart.dy3D||0,i=this.getWidth();this.baseGrid.path=W({x:0,y:0})+R({x:i,y:0})+R({x:i+t,y:e})},Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){t&&this._chart.set(t,t.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),r.prototype.handle3DChanged=function(t){(t.property=="depth"||t.property=="angle")&&this.invalidate()},r}(wt),Br=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="Column3D",t}return r.prototype.createAssets=function(){this.column3D=this.createChild(Ea),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D},r.prototype.validate=function(){o.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.column3D&&this.column3D.copyFrom(t.column3D)},r.prototype.setFill=function(t){o.prototype.setFill.call(this,t),this.column.fill=t},r}(he);_.registeredClasses.Column3D=Br;var Vn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="ColumnSeries3DDataItem",t.applyTheme(),t}return r}(Zt),xi=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="ColumnSeries3D",t.columns.template.column3D.applyOnClones=!0,t.columns.template.hiddenState.properties.visible=!0,t.applyTheme(),t}return Object.defineProperty(r.prototype,"columnsContainer",{get:function(){var t=this.chart;return t&&t.columnsContainer&&t.leftAxesContainer.layout!="vertical"&&t.rightAxesContainer.layout!="vertical"&&t.bottomAxesContainer.layout!="horizontal"&&t.topAxesContainer.layout!="horizontal"?t.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),r.prototype.validateDataElementReal=function(t){o.prototype.validateDataElementReal.call(this,t),t.column&&(t.column.dx=this.dx,t.column.dy=this.dy,t.column.visible=this.visible)},r.prototype.validateDataElements=function(){o.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout()},r.prototype.createColumnTemplate=function(){return new Br},Object.defineProperty(r.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(t){this.setPropertyValue("depth",t,!0);var e=this.columns.template;e.column3D.depth=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(t){this.setPropertyValue("angle",t);var e=this.columns.template;e.column3D.angle=t},enumerable:!0,configurable:!0}),r}(ue);_.registeredClasses.ColumnSeries3D=xi;_.registeredClasses.ColumnSeries3DDataItem=Vn;(function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="XYChart3DDataItem",t.applyTheme(),t}return r})(wi);var Sn=function(o){D(r,o);function r(){var t=o.call(this)||this;t._axisRendererX=Er,t._axisRendererY=_n,t.className="XYChart3D",t.depth=30,t.angle=30;var e=t.seriesContainer.createChild(X);return e.shouldClone=!1,e.isMeasured=!1,e.layout="none",t.columnsContainer=e,t.columnsContainer.mask=t.createChild(Z),t.applyTheme(),t}return r.prototype.updateSeriesMasks=function(){if(o.prototype.updateSeriesMasks.call(this),De()){var t=this.columnsContainer,e=t.mask;t.mask=void 0,t.mask=e}},Object.defineProperty(r.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(t){this.setPropertyValue("depth",t),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(t){this.setPropertyValue("angle",t),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dx3D",{get:function(){return F(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dy3D",{get:function(){return-L(this.angle)*this.depth},enumerable:!0,configurable:!0}),r.prototype.validateLayout=function(){o.prototype.validateLayout.call(this),this.fixColumns()},r.prototype.fixLayout=function(){this.chartContainer.paddingTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),o.prototype.fixLayout.call(this)},r.prototype.fixColumns=function(){var t=this,e=1,i=0;w(this.series.iterator(),function(n){n instanceof xi&&(!n.clustered&&i>0&&e++,n.depthIndex=e-1,i++)});var a=0;w(this.series.iterator(),function(n){if(n instanceof xi){n.depth=t.depth/e,n.angle=t.angle,n.columnsContainer==t.columnsContainer&&(n.dx=t.depth/e*F(t.angle)*n.depthIndex,n.dy=-t.depth/e*L(t.angle)*n.depthIndex);var s=!1;(n.baseAxis==n.xAxis&&n.xAxis.renderer.inversed||n.baseAxis==n.yAxis&&n.yAxis.renderer.inversed)&&(s=!0);var l=1;n.dataItems.each(function(h){var d=h.column;d&&(s?d.zIndex=1e3*(1e3-l)+a-n.depthIndex*100:d.zIndex=1e3*l+a-n.depthIndex*100),l++}),s?a--:a++}}),this.maskColumns()},r.prototype.processConfig=function(t){if(t&&b(t.series)&&kt(t.series))for(var e=0,i=t.series.length;e<i;e++)t.series[e].type=t.series[e].type||"ColumnSeries3D";o.prototype.processConfig.call(this,t)},r.prototype.maskColumns=function(){var t=this.plotContainer.pixelWidth,e=this.plotContainer.pixelHeight,i=this.dx3D,a=this.dy3D,n=W({x:0,y:0})+R({x:i,y:a})+R({x:t+i,y:a})+R({x:t+i,y:e+a})+R({x:t,y:e})+R({x:t,y:e})+R({x:0,y:e})+se(),s=this.columnsContainer;s&&s.mask&&(s.mask.path=n)},r}(Kt);_.registeredClasses.XYChart3D=Sn;var Tn=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="HeatLegend",t.markerContainer=t.createChild(X),t.markerContainer.shouldClone=!1,t.markerCount=1;var e=new ge;return e.minHeight=20,e.minWidth=20,e.interactionsEnabled=!1,e.fillOpacity=1,e.cornerRadius(0,0,0,0),t.markerContainer.minHeight=20,t.markerContainer.minWidth=20,t.orientation="horizontal",t.markers=new Q(e),t._disposers.push(new G(t.markers)),t._disposers.push(t.markers.template),t.applyTheme(),t}return r.prototype.getMinFromRules=function(t){var e=this.series;if(e){var i;return Rt(e.heatRules.iterator(),function(a){return a.property==t?(i=a.min,!1):!0}),i}},r.prototype.getMaxFromRules=function(t){var e=this.series;if(e){var i;return w(e.heatRules.iterator(),function(a){return a.property==t?(i=a.max,!1):!0}),i}},r.prototype.validate=function(){o.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var t=this.series,e=this.minColor,i=this.maxColor;if(b(e)||(e=Bt(this.getMinFromRules("fill"))),b(i)||(i=Bt(this.getMaxFromRules("fill"))),t){var a=t.fill;!b(e)&&a instanceof Pt&&(e=a),!b(i)&&a instanceof Pt&&(i=a)}b(i)||(i=Bt(this.getMaxFromRules("fill")));var n=Vt(this.getMinFromRules("fillOpacity"));g(n)||(n=1);var s=Vt(this.getMaxFromRules("fillOpacity"));g(s)||(s=1);var l=Vt(this.getMinFromRules("strokeOpacity"));g(l)||(l=1);var h=Vt(this.getMaxFromRules("strokeOpacity"));g(h)||(h=1);for(var d=Bt(this.getMinFromRules("stroke")),u=Bt(this.getMaxFromRules("stroke")),p=0;p<this.markerCount;p++){var f=this.markers.getIndex(p);if(f||(f=this.markers.create(),f.parent=this.markerContainer,f.height=O(100),f.width=O(100)),this.markerCount==1){var c=new yi;if(this.reverseOrder?(c.addColor(i,s),c.addColor(e,n)):(c.addColor(e,n),c.addColor(i,s)),this.orientation=="vertical"&&(c.rotation=-90),f.fill=c,b(d)&&b(u)){var y=new yi;this.reverseOrder?(y.addColor(u,h),y.addColor(d,l)):(y.addColor(d,l),y.addColor(u,h)),this.orientation=="vertical"&&(y.rotation=-90),f.stroke=y}}else{var v=p;this.reverseOrder&&(v=this.markerCount-p-1);var m=new Pt(ui(e.rgb,i.rgb,v/this.markerCount));f.fill=m;var x=n+(s-n)*v/this.markerCount;if(f.fillOpacity=x,b(d)&&b(u)){var C=new Pt(ui(d.rgb,u.rgb,v/this.markerCount));f.stroke=C;var S=l+(h-l)*v/this.markerCount;f.strokeOpacity=S}}}var A=this.valueAxis.renderer;this.markerCount>1&&(this.orientation=="horizontal"?A.minGridDistance=this.measuredWidth/this.markerCount:A.minGridDistance=this.measuredHeight/this.markerCount),this.valueAxis.invalidate();for(var p=this.markerCount,T=this.markers.length;p<T;p++)this.markers.getIndex(p).parent=void 0},Object.defineProperty(r.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(t){t instanceof Pt||(t=Bt(t)),this.setColorProperty("minColor",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(t){t instanceof Pt||(t=Bt(t)),this.setColorProperty("maxColor",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(t){this.setPropertyValue("markerCount",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(t){this.setPropertyValue("minValue",t),this.valueAxis.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(t){this.setPropertyValue("maxValue",t),this.valueAxis.max=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0);var e=this.markerContainer,i=this.valueAxis;t=="horizontal"?(b(this.width)||(this.width=200),this.height=void 0,i.width=O(100),i.height=void 0,i.tooltip.pointerOrientation="vertical",this.layout="vertical",e.width=O(100),e.height=void 0,i.renderer instanceof Xt||(i.renderer=new Xt)):(b(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",e.width=void 0,e.height=O(100),i.height=O(100),i.width=void 0,i.tooltip.pointerOrientation="horizontal",i.renderer instanceof wt||(i.renderer=new wt),i.renderer.inside=!0,i.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var a=i.renderer;a.grid.template.disabled=!0,a.axisFills.template.disabled=!0,a.baseGrid.disabled=!0,a.labels.template.padding(2,3,2,3),a.minHeight=void 0,a.minWidth=void 0,this.markerContainer.layout=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(E),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(t){this._valueAxis=t,t.parent=this,t.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"series",{get:function(){return this._series},set:function(t){var e=this;this._series=t;var i="value";try{var a=t.heatRules.getIndex(0).dataField;a&&(i=a)}catch{}this.updateMinMax(t.dataItem.values[i].low,t.dataItem.values[i].high),t.dataItem.events.on("calculatedvaluechanged",function(n){e.updateMinMax(t.dataItem.values[i].low,t.dataItem.values[i].high)},void 0,!1),t.heatRules.events.on("inserted",this.invalidate,this,!1),t.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),r.prototype.updateMinMax=function(t,e){var i=this.valueAxis;g(this.minValue)||(i.min=t,i.invalidate()),g(this.maxValue)||(i.max=e,i.invalidate())},r.prototype.processConfig=function(t){if(t&&b(t.series)&&at(t.series)&&at(t.series))if(this.map.hasKey(t.series))t.series=this.map.getKey(t.series);else{var e=t.series,i=this.map.events.on("insertKey",function(a){a.key==e&&(this.series=a.newValue,i.dispose())},this);this._disposers.push(i),delete t.series}o.prototype.processConfig.call(this,t)},r}(X);_.registeredClasses.HeatLegend=Tn;var He=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="Candlestick",t.layout="none",t}return r.prototype.createAssets=function(){o.prototype.createAssets.call(this),this.lowLine=this.createChild(Wt),this.lowLine.shouldClone=!1,this.highLine=this.createChild(Wt),this.highLine.shouldClone=!1},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.lowLine&&this.lowLine.copyFrom(t.lowLine),this.highLine&&this.highLine.copyFrom(t.highLine)},r}(he);_.registeredClasses.Candlestick=He;var Ei=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.values.lowValueX={},t.values.lowValueY={},t.values.highValueX={},t.values.highValueY={},t.className="CandlestickSeriesDataItem",t.applyTheme(),t}return Object.defineProperty(r.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(t){this.setValue("lowValueX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(t){this.setValue("lowValueY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(t){this.setValue("highValueX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(t){this.setValue("highValueY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(t){this.setValue("valueX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(t){this.setValue("valueY",t)},enumerable:!0,configurable:!0}),r}(Zt),Nr=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="CandlestickSeries",t.groupFields.lowValueX="low",t.groupFields.lowValueY="low",t.groupFields.highValueX="high",t.groupFields.highValueY="high",t.strokeOpacity=1;var e=new et,i=e.getFor("positive"),a=e.getFor("negative");return t.dropFromOpenState.properties.fill=a,t.dropFromOpenState.properties.stroke=a,t.riseFromOpenState.properties.fill=i,t.riseFromOpenState.properties.stroke=i,t.applyTheme(),t}return r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Candlestick Series"))},r.prototype.createDataItem=function(){return new Ei},r.prototype.validateDataElementReal=function(t){o.prototype.validateDataElementReal.call(this,t),this.validateCandlestick(t)},r.prototype.validateCandlestick=function(t){var e=t.column;if(e){var i=e.lowLine,a=e.highLine;if(this.baseAxis==this.xAxis){var n=e.pixelWidth/2;i.x=n,a.x=n;var s=t.getWorkingValue(this.yOpenField),l=t.getWorkingValue(this.yField),h=this.yAxis.getY(t,this.yOpenField),d=this.yAxis.getY(t,this.yField),u=this.yAxis.getY(t,this.yLowField),p=this.yAxis.getY(t,this.yHighField),f=e.pixelY;i.y1=u-f,a.y1=p-f,s<l?(i.y2=h-f,a.y2=d-f):(i.y2=d-f,a.y2=h-f)}if(this.baseAxis==this.yAxis){var c=e.pixelHeight/2;i.y=c,a.y=c;var y=t.getWorkingValue(this.xOpenField),v=t.getWorkingValue(this.xField),m=this.xAxis.getX(t,this.xOpenField),x=this.xAxis.getX(t,this.xField),C=this.xAxis.getX(t,this.xLowField),S=this.xAxis.getX(t,this.xHighField),A=e.pixelX;i.x1=C-A,a.x1=S-A,y<v?(i.x2=m-A,a.x2=x-A):(i.x2=x-A,a.x2=m-A)}w(this.axisRanges.iterator(),function(T){var P=t.rangesColumns.getKey(T.uid);if(P){var k=P.lowLine;k.x=i.x,k.y=i.y,k.x1=i.x1,k.x2=i.x2,k.y1=i.y1,k.y2=i.y2;var V=P.highLine;V.x=a.x,V.y=a.y,V.x1=a.x1,V.x2=a.x2,V.y1=a.y1,V.y2=a.y2}})}},Object.defineProperty(r.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),r.prototype.defineFields=function(){o.prototype.defineFields.call(this);var t=this.xAxis,e=this.yAxis;if(t&&e){if(this.baseAxis==t){var i=ze(e.axisFieldName);this._yLowField="low"+i+"Y",this._yHighField="high"+i+"Y"}if(this.baseAxis==e){var a=ze(t.axisFieldName);this._xLowField="low"+a+"X",this._xHighField="high"+a+"X"}this.addValueField(t,this._xValueFields,this._xLowField),this.addValueField(t,this._xValueFields,this._xHighField),this.addValueField(e,this._yValueFields,this._yLowField),this.addValueField(e,this._yValueFields,this._yHighField)}},r.prototype.createLegendMarker=function(t){var e=t.pixelWidth,i=t.pixelHeight;t.removeChildren();var a=t.createChild(He);a.shouldClone=!1,a.copyFrom(this.columns.template);var n,s,l=a.lowLine,h=a.highLine;this.baseAxis==this.yAxis?(n=e/3,s=i,l.y=i/2,h.y=i/2,l.x2=e/3,h.x2=e/3,h.x=e/3*2,a.column.x=e/3):(n=e,s=i/3,l.x=e/2,h.x=e/2,l.y2=i/3,h.y2=i/3,h.y=i/3*2,a.column.y=i/3),a.width=n,a.height=s,rt(this,t,J),rt(this.columns.template,a,J),a.stroke=this.riseFromOpenState.properties.stroke,a.fill=a.stroke;var d=t.dataItem;d.color=a.fill,d.colorOrig=a.fill},r.prototype.createColumnTemplate=function(){return new He},r}(ue);_.registeredClasses.CandlestickSeries=Nr;_.registeredClasses.CandlestickSeriesDataItem=Ei;var bi=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="OHLC",t.layout="none",t}return r.prototype.createAssets=function(){this.openLine=this.createChild(Wt),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(Wt),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(Wt),this.closeLine.shouldClone=!1},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.openLine&&this.openLine.copyFrom(t.openLine),this.highLowLine&&this.highLowLine.copyFrom(t.highLowLine),this.closeLine&&this.closeLine.copyFrom(t.closeLine)},r}(He);_.registeredClasses.OHLC=bi;var zr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="OHLCSeriesDataItem",t.applyTheme(),t}return r}(Ei),On=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="OHLCSeries",t.applyTheme(),t}return r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("OHLC Series"))},r.prototype.createDataItem=function(){return new zr},r.prototype.validateCandlestick=function(t){var e=t.column;if(e){var i=e.openLine,a=e.highLowLine,n=e.closeLine;if(this.baseAxis==this.xAxis){var s=e.pixelWidth/2;a.x=s,t.getWorkingValue(this.yOpenField),t.getWorkingValue(this.yField);var l=this.yAxis.getY(t,this.yOpenField),h=this.yAxis.getY(t,this.yField),d=this.yAxis.getY(t,this.yLowField),u=this.yAxis.getY(t,this.yHighField),p=e.pixelY;i.y1=l-p,i.y2=l-p,i.x1=0,i.x2=s,n.y1=h-p,n.y2=h-p,n.x1=s,n.x2=2*s,a.y1=u-p,a.y2=d-p}if(this.baseAxis==this.yAxis){var f=e.pixelHeight/2;a.y=f,t.getWorkingValue(this.xOpenField),t.getWorkingValue(this.xField);var c=this.xAxis.getX(t,this.xOpenField),y=this.xAxis.getX(t,this.xField),v=this.xAxis.getX(t,this.xLowField),m=this.xAxis.getX(t,this.xHighField),x=e.pixelX;i.x1=c-x,i.x2=c-x,i.y1=f,i.y2=2*f,n.x1=y-x,n.x2=y-x,n.y1=0,n.y2=f,a.x1=m-x,a.x2=v-x}w(this.axisRanges.iterator(),function(C){var S=t.rangesColumns.getKey(C.uid);if(S){var A=S.openLine;A.x=i.x,A.y=i.y,A.x1=i.x1,A.x2=i.x2,A.y1=i.y1,A.y2=i.y2;var T=S.closeLine;T.x=n.x,T.y=n.y,T.x1=n.x1,T.x2=n.x2,T.y1=n.y1,T.y2=n.y2;var P=S.highLowLine;P.x=a.x,P.y=a.y,P.x1=a.x1,P.x2=a.x2,P.y1=a.y1,P.y2=a.y2}})}},r.prototype.createLegendMarker=function(t){var e=t.pixelWidth,i=t.pixelHeight;t.removeChildren();var a=t.createChild(bi);a.shouldClone=!1,a.copyFrom(this.columns.template);var n,s,l=a.openLine,h=a.closeLine,d=a.highLowLine;this.baseAxis==this.yAxis?(n=e/3,s=i,d.y=i/2,d.x2=e,l.x=e/3*2,l.y2=i/2,h.x=e/3,h.y2=i,h.y1=i/2):(n=e,s=i/3,d.x=e/2,d.y2=i,l.y=i/3*2,l.x2=e/2,h.y=i/3,h.x2=e,h.x1=e/2),a.width=n,a.height=s,rt(this,t,J),rt(this.columns.template,a,J),a.stroke=this.riseFromOpenState.properties.stroke;var u=t.dataItem;u.color=a.stroke,u.colorOrig=a.stroke},r.prototype.createColumnTemplate=function(){return new bi},r}(Nr);_.registeredClasses.OHLCSeries=On;_.registeredClasses.OHLCSeriesDataItem=zr;var Hr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="StepLineSeriesSegment",t}return r.prototype.drawSegment=function(t,e,i,a,n,s){if(t.length>0&&e.length>0)if(n){var l=W(t[0]);if(t.length>0)for(var h=1;h<t.length;h++){var d=t[h];h/2==Math.round(h/2)?l+=W(d):l+=R(d)}this.strokeSprite.path=l,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(l=W(t[0])+Ye(t),l+=R(e[0])+Ye(e),l+=R(t[0]),l+=se(),this.fillSprite.path=l)}else{var l=W(t[0])+Ye(t);this.strokeSprite.path=l,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(l+=R(e[0])+Ye(e),l+=R(t[0]),l+=se(),this.fillSprite.path=l)}else this.strokeSprite.path="",this.fillSprite.path=""},r}(Fi);_.registeredClasses.StepLineSeriesSegment=Hr;var Ur=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="StepLineSeriesDataItem",t.applyTheme(),t}return r}(ei),kn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="StepLineSeries",t.applyTheme(),t.startLocation=0,t.endLocation=1,t}return r.prototype.createDataItem=function(){return new Ur},r.prototype.addPoints=function(t,e,i,a,n){var s,l,h,d;this.baseAxis==this.xAxis&&(s=this.startLocation,l=this.endLocation,h=this.getAdjustedXLocation(e,this.yOpenField),d=this.getAdjustedXLocation(e,this.yField)),this.baseAxis==this.yAxis&&(h=this.startLocation,d=this.endLocation,s=this.getAdjustedXLocation(e,this.xOpenField),l=this.getAdjustedXLocation(e,this.xField));var u=this.xAxis.getX(e,i,s),p=this.yAxis.getY(e,a,h),f=this.xAxis.getX(e,i,l),c=this.yAxis.getY(e,a,d);if(u=Y(u,-1e5,1e5),p=Y(p,-1e5,1e5),f=Y(f,-1e5,1e5),c=Y(c,-1e5,1e5),!this.noRisers&&t.length>1){var y=t[t.length-1];this.baseAxis==this.xAxis&&(n?t.push({x:y.x,y:c}):t.push({x:u,y:y.y})),this.baseAxis==this.yAxis&&(n?t.push({x:f,y:y.y}):t.push({x:y.x,y:p}))}var v={x:u,y:p},m={x:f,y:c};n?t.push(m,v):t.push(v,m)},r.prototype.drawSegment=function(t,e,i){var a=!1;this.yAxis==this.baseAxis&&(a=!0),t.drawSegment(e,i,this.tensionX,this.tensionY,this.noRisers,a)},r.prototype.createSegment=function(){return new Hr},Object.defineProperty(r.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(t){this.setPropertyValue("noRisers",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(t){this.setPropertyValue("startLocation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(t){this.setPropertyValue("endLocation",t,!0)},enumerable:!0,configurable:!0}),r}(Li);_.registeredClasses.StepLineSeries=kn;_.registeredClasses.StepLineSeriesDataItem=Ur;var Gr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="RadarColumn",t}return r.prototype.createAssets=function(){this.radarColumn=this.createChild(Vi),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.radarColumn&&this.radarColumn.copyFrom(t.radarColumn)},r.prototype.getTooltipX=function(){var t=this.getPropertyValue("tooltipX");return g(t)?t:this.radarColumn.getTooltipX()},r.prototype.getTooltipY=function(){var t=this.getPropertyValue("tooltipX");return g(t)?t:this.radarColumn.getTooltipY()},r}(he);_.registeredClasses.RadarColumn=Gr;var wn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="ColumnSeriesDataItem",t.applyTheme(),t}return r}(Zt),Fn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="RadarColumnSeries",t.applyTheme(),t}return r.prototype.createColumnTemplate=function(){return new Gr},r.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),o.prototype.validate.call(this)},r.prototype.disableUnusedColumns=function(t){t&&(t.column&&(t.column.__disabled=!0),w(this.axisRanges.iterator(),function(e){var i=t.rangesColumns.getKey(e.uid);i&&(i.__disabled=!0)}))},r.prototype.validateDataElementReal=function(t){var e=this,i=this.chart.startAngle,a=this.chart.endAngle,n=this.yField,s=this.yOpenField,l=this.xField,h=this.xOpenField,d,u,p,f,c=this.getStartLocation(t),y=this.getEndLocation(t),v=(a-i)/(this.dataItems.length*(this.end-this.start)),m=t.column;m||(m=this.columns.create(),t.column=m,rt(this,m,J),rt(this.columns.template,m,J),t.addSprite(m),m.paper=this.paper,this.setColumnStates(m));var x=m.width,C=100;x instanceof ct&&(C=x.percent);var S=j((y-c)*(1-C/100)/2,5);if(c+=S,y-=S,this.xAxis instanceof $&&this.yAxis instanceof $)p=K({x:this.yAxis.getX(t,n,0,"valueY"),y:this.yAxis.getY(t,n,0,"valueY")}),f=K({x:this.yAxis.getX(t,s,1,"valueY"),y:this.yAxis.getY(t,s,1,"valueY")}),d=this.xAxis.getAngle(t,h,0,"valueX"),u=this.xAxis.getAngle(t,l,1,"valueX"),i=i+c*v,a=a-(1-y)*v;else if(this.baseAxis==this.xAxis)p=K({x:this.yAxis.getX(t,n,t.locations[n],"valueY"),y:this.yAxis.getY(t,n,t.locations[n],"valueY")}),f=K({x:this.yAxis.getX(t,s,t.locations[s],"valueY"),y:this.yAxis.getY(t,s,t.locations[s],"valueY")}),d=this.xAxis.getAngle(t,h,c,"valueX"),u=this.xAxis.getAngle(t,l,y,"valueX"),i=i+c*v,a=a-(1-y)*v;else{if(p=K({x:this.yAxis.getX(t,n,c,"valueY"),y:this.yAxis.getY(t,n,c,"valueY")}),f=K({x:this.yAxis.getX(t,s,y,"valueY"),y:this.yAxis.getY(t,s,y,"valueY")}),g(x)){var A=Math.abs(p-f);if(A>x){var T=(A-x)/2;p+=T,f-=T}}d=this.xAxis.getAngle(t,l,t.locations[l],"valueX"),u=this.xAxis.getAngle(t,h,t.locations[h],"valueX")}if(u<d){var P=u;u=d,d=P}d=Y(d,i,a),u=Y(u,i,a);var k=m.radarColumn;k.startAngle=d;var V=u-d;V>0?(k.arc=V,k.radius=p,k.innerRadius=f,m.__disabled=!1,m.parent=this.columnsContainer,w(this.axisRanges.iterator(),function(N){var I=t.rangesColumns.getKey(N.uid);I||(I=e.columns.create(),Ba(e.columns.template,I,J),rt(N.contents,I,J),I.dataItem&&At(I.dataItem.sprites,I),t.addSprite(I),I.paper=e.paper,e.setColumnStates(I),t.rangesColumns.setKey(N.uid,I));var M=I.radarColumn;M.startAngle=d,M.arc=V,M.radius=p,M.innerRadius=f,M.invalid&&(M.paper=e.paper,M.validate()),I.__disabled=!1,I.parent=N.contents})):this.disableUnusedColumns(t)},r.prototype.getPoint=function(t,e,i,a,n,s,l){s||(s="valueX"),l||(l="valueY");var h=this.yAxis.getX(t,i,n,l),d=this.yAxis.getY(t,i,n,l),u=K({x:h,y:d});u==0&&(u=1e-5);var p=this.xAxis.getAngle(t,e,a,s);return{x:u*F(p),y:u*L(p)}},r.prototype.getMaskPath=function(){var t=this.yAxis.renderer;return Oe(t.startAngle,t.endAngle-t.startAngle,t.pixelRadius,t.pixelInnerRadius)},r.prototype.positionBulletReal=function(t,e,i){var a=this.xAxis,n=this.yAxis;(e<a.start||e>a.end||i<n.start||i>n.end)&&(t.visible=!1),t.moveTo(this.xAxis.renderer.positionToPoint(e,i))},r.prototype.setXAxis=function(t){o.prototype.setXAxis.call(this,t),this.updateRendererRefs()},r.prototype.setYAxis=function(t){o.prototype.setYAxis.call(this,t),this.updateRendererRefs()},r.prototype.updateRendererRefs=function(){var t=this.xAxis.renderer,e=this.yAxis.renderer;t.axisRendererY=e},r}(ue);_.registeredClasses.RadarColumnSeries=Fn;_.registeredClasses.RadarColumnSeriesDataItem=wn;var Pi=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.slice=t.createChild(Z),t.slice.shouldClone=!1,t.slice.setElement(t.paper.add("path")),t.slice.isMeasured=!1,t.orientation="vertical",t.bottomWidth=O(100),t.topWidth=O(100),t.isMeasured=!1,t.width=10,t.height=10,t.expandDistance=0,t.className="FunnelSlice",t.applyTheme(),t}return r.prototype.draw=function(){o.prototype.draw.call(this);var t=this.pixelPaddingTop,e=this.pixelPaddingBottom,i=this.pixelPaddingRight,a=this.pixelPaddingLeft,n=this.pixelWidth-i-a,s=this.pixelHeight-t-e,l=this.expandDistance,h="";if(this.orientation=="vertical"){var d=ot(this.topWidth,n),u=ot(this.bottomWidth,n),p={x:(n-d)/2+a,y:t},f={x:(n+d)/2+a,y:t},c={x:(n+u)/2+a,y:t+s},y={x:(n-u)/2+a,y:t+s},v={x:f.x+(c.x-f.x)/2+l*s,y:f.y+.5*s},m={x:p.x+(y.x-p.x)/2-l*s,y:p.y+.5*s},x=R(c),C=R(p);l!=0&&(x=ie(c,v),C=ie(p,m)),h=W(p)+R(f)+x+R(y)+C,this.tickPoint={x:f.x+(c.x-f.x)/2,y:f.y+(c.y-f.y)/2}}else{var d=ot(this.topWidth,s),u=ot(this.bottomWidth,s),S={x:a,y:(s-d)/2+t},A={x:a,y:(s+d)/2+t},T={x:a+n,y:(s-u)/2+t},P={x:a+n,y:(s+u)/2+t},v={y:S.y+(T.y-S.y)/2-l*n,x:S.x+.5*n},m={y:A.y+(P.y-A.y)/2+l*n,x:A.x+.5*n},x=R(T),C=R(A);l!=0&&(x=ie(T,v),C=ie(A,m)),h=W(A)+R(S)+x+R(P)+C,this.tickPoint={y:A.y+(P.y-A.y)/2,x:A.x+(P.x-A.x)/2}}this.slice.path=h,this.invalidateLayout()},r.prototype.getPoint=function(t,e){var i=this.pixelPaddingTop,a=this.pixelPaddingBottom,n=this.pixelPaddingRight,s=this.pixelPaddingLeft,l=this.pixelWidth-n-s,h=this.pixelHeight-i-a;if(this.orientation=="vertical"){var d=ot(this.topWidth,l),u=ot(this.bottomWidth,l),p={x:(l-d)/2+s,y:i},f={x:(l+d)/2+s,y:i},c={x:(l+u)/2+s,y:i+h},y={x:(l-u)/2+s,y:i+h},v=p.x+(y.x-p.x)*e,m=f.x+(c.x-f.x)*e;return{x:v+(m-v)*t,y:f.y+(c.y-f.y)*e}}else{var d=ot(this.topWidth,h),u=ot(this.bottomWidth,h),x={x:s,y:(h-d)/2+i},C={x:s,y:(h+d)/2+i},S={x:s+l,y:(h-u)/2+i},A={x:s+l,y:(h+u)/2+i},T=x.y+(S.y-x.y)*t,P=C.y+(A.y-C.y)*t;return{y:T+(P-T)*e,x:x.x+(S.x-x.x)*t}}},Object.defineProperty(r.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(t){this.setPercentProperty("bottomWidth",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(t){this.setPercentProperty("topWidth",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(t){this.setPropertyValue("expandDistance",t,!0)},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.slice&&this.slice.copyFrom(t.slice)},r}(X);_.registeredClasses.FunnelSlice=Pi;var Kr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t._label=new lt,t._slice=new lt,t.className="FunnelTick",t.element=t.paper.add("path"),t._disposers.push(t._label),t._disposers.push(t._slice),t.setPropertyValue("locationX",0),t.setPropertyValue("locationY",0),t.applyTheme(),t}return r.prototype.draw=function(){o.prototype.draw.call(this);var t=this.slice,e=t.getPoint(this.locationX,this.locationY);if(e){var i=this.label,a=t.dataItem.component,n=void 0,s=void 0,l=void 0;if(a.orientation=="vertical"){var h=i.pixelX,d=i.pixelY;a.labelsOpposite||(h+=i.maxRight),n=Ct(e,t,this.parent),l=Ct({x:h,y:d},i.parent,this.parent),s={x:i.parent.pixelX-this.length,y:l.y},a.labelsOpposite||(s.x=i.parent.measuredWidth+this.length)}else{var h=i.pixelX,d=i.pixelY;a.labelsOpposite||(d+=i.maxBottom),n=Ct(e,t,this.parent),l=Ct({x:h,y:d},i.parent,this.parent),s={x:l.x,y:i.parent.pixelY-this.length},a.labelsOpposite||(s.y=i.parent.measuredHeight+this.length)}this.path=W(n)+R(s)+R(l)}},Object.defineProperty(r.prototype,"slice",{get:function(){return this._slice.get()},set:function(t){this._slice.set(t,new ne([t.events.on("transformed",this.invalidate,this,!1),t.events.on("validated",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){return this._label.get()},set:function(t){this._label.set(t,t.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(t){this.setPropertyValue("locationX",t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(t){this.setPropertyValue("locationY",t,!1,!0)},enumerable:!0,configurable:!0}),r}(we);_.registeredClasses.FunnelTick=Kr;var Bi=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="FunnelSeriesDataItem",t.events.on("visibilitychanged",function(){t.component&&t.component.invalidateDataItems()},t,!1),t.applyTheme(),t}return Object.defineProperty(r.prototype,"sliceLink",{get:function(){var t=this;if(!this._sliceLink){var e=this.component.sliceLinks.create();this._sliceLink=e,this._disposers.push(e),e.parent=this.component.slicesContainer,this._disposers.push(new st(function(){t.component&&t.component.sliceLinks.removeValue(e)})),this.addSprite(e),e.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),r}(ri),Zr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t._nextY=0,t.className="FunnelSeries",t.orientation="vertical",t.width=O(100),t.height=O(100),t.slicesContainer.width=O(100),t.slicesContainer.height=O(100),t._disposers.push(t.slicesContainer.events.on("maxsizechanged",t.invalidateDataItems,t,!1)),t.labelsOpposite=!0,t.labelsContainer.layout="absolute",t.bottomRatio=0,t.applyTheme(),t}return r.prototype.createSlice=function(){return new Pi},r.prototype.createTick=function(){return new Kr},r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Funnel Series"))},r.prototype.createDataItem=function(){return new Bi},r.prototype.initSlice=function(t){t.isMeasured=!1,t.defaultState.properties.scale=1,t.observe("scale",this.handleSliceScale,this),t.observe(["dx","dy","x","y"],this.handleSliceMove,this),t.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})";var e=t.states.create("hover");e.properties.expandDistance=.2},r.prototype.initLabel=function(t){o.prototype.initLabel.call(this,t),t.verticalCenter="middle",t.horizontalCenter="middle",t.isMeasured=!0,t.padding(5,5,5,5)},r.prototype.validate=function(){o.prototype.validate.call(this),this._nextY=0},r.prototype.validateDataElements=function(){var t=this,e=this.slicesContainer,i=this.labelsContainer,a=this.labels.template;this.alignLabels?(a.interactionsEnabled=!0,e.isMeasured=!0,i.isMeasured=!0):(a.interactionsEnabled=!1,e.isMeasured=!1,i.isMeasured=!1);var n=0,s=0;this.dataItems.each(function(l){b(l.value)&&(s++,l.value>0?n+=Math.abs(l.getWorkingValue("value")/l.value):t.ignoreZeroValues||!l.visible||l.__disabled||l.isHiding?s--:n+=1)}),this._total=1/s*n,this._count=s,o.prototype.validateDataElements.call(this),this.arrangeLabels()},r.prototype.getNextValue=function(t){var e=t.index,i=t.getWorkingValue("value");if(e<this.dataItems.length-1){var a=this.dataItems.getIndex(e+1);if(i=a.getWorkingValue("value"),!a.visible||a.isHiding||a.__disabled||a.value==0&&this.ignoreZeroValues)return this.getNextValue(a)}return i},r.prototype.formDataElement=function(){},r.prototype.validateDataElement=function(t){var e=this,i=t.slice;i.orientation=this.orientation;var a=t.sliceLink;a.orientation=this.orientation;var n=t.tick,s=t.label;n.slice=i,n.label=s,b(t.value)?(this.decorateSlice(t),H(t.sprites,function(l){t.value==0&&e.ignoreZeroValues?l.__disabled=!0:l.__disabled=!1})):H(t.sprites,function(l){l.__disabled=!0}),t.index==this.dataItems.length-1&&(a.disabled=!0),o.prototype.validateDataElement.call(this,t),a.fill=i.fill},r.prototype.decorateSlice=function(t){var e=t.slice,i=t.sliceLink,a=t.label,n=t.tick,s=this.slicesContainer.innerWidth,l=this.slicesContainer.innerHeight,h=this.getNextValue(t),d=Math.abs(t.getWorkingValue("value")),u=this.bottomRatio,p=1;if(t.value!=0?p=d/Math.abs(t.value):(t.__disabled||t.isHiding||!t.visible)&&(p=1e-6),this.ignoreZeroValues&&t.value==0){t.__disabled=!0;return}else t.__disabled=!1;if(this._nextY==1/0&&(this._nextY=0),this.orientation=="vertical"){var f=i.pixelHeight*p;l=l+f,e.topWidth=d/this.dataItem.values.value.high*s,e.bottomWidth=(d-(d-h)*u)/this.dataItem.values.value.high*s,i.topWidth=e.bottomWidth,i.bottomWidth=(d-(d-h))/this.dataItem.values.value.high*s,e.y=this._nextY,e.height=Math.min(1e5,tt(0,l/this._count*p/this._total-f)),e.x=s/2,this.alignLabels?a.x=void 0:a.x=e.x,a.y=e.pixelY+e.pixelHeight*n.locationY,this._nextY+=e.pixelHeight+f,i.y=this._nextY-f,i.x=e.x}else{var c=i.pixelWidth*p;s=s+c,e.topWidth=d/this.dataItem.values.value.high*l,e.bottomWidth=(d-(d-h)*u)/this.dataItem.values.value.high*l,i.topWidth=e.bottomWidth,i.bottomWidth=(d-(d-h))/this.dataItem.values.value.high*l,e.x=this._nextY,e.width=Math.min(1e5,s/this._count*p*1/this._total-c),e.y=l/2,this.alignLabels?a.y=this.labelsContainer.measuredHeight:a.y=e.y,a.x=e.pixelX+e.pixelWidth*n.locationX,this._nextY+=e.pixelWidth+c,i.x=this._nextY-c,i.y=e.y}},r.prototype.getLastLabel=function(t){if(t>0){var e=this.labels.getIndex(t);return e.__disabled||!e.visible?this.getLastLabel(t-1):e}},r.prototype.arrangeLabels=function(){if(this.alignLabels){var t=this.labels.length;if(t>1){var e=this.getLastLabel(t-1);if(e){var i=e.pixelY,a=e.pixelX;if(t>1){for(var n=t-2;n>=0;n--){var s=this.labels.getIndex(n);s.visible&&!s.__disabled&&(s.invalid&&s.validate(),this.orientation=="vertical"?s.pixelY+s.measuredHeight>i&&(s.y=Math.min(1e6,i-s.measuredHeight)):s.pixelX+s.measuredWidth>a&&(s.x=Math.min(1e6,a-s.measuredWidth)),i=s.pixelY,a=s.pixelX)}i=0,a=0;for(var n=0;n<t;n++){var s=this.labels.getIndex(n);s.visible&&!s.__disabled&&(s.invalid&&s.validate(),this.orientation=="vertical"?s.pixelY<i&&(s.y=Math.min(1e6,i)):s.pixelX<a&&(s.x=Math.min(1e6,a)),i+=s.measuredHeight,a+=s.measuredWidth)}}}}}},r.prototype.positionBullet=function(t){o.prototype.positionBullet.call(this,t);var e=t.dataItem,i=e.slice,a=t.locationX;g(a)||(a=.5);var n=t.locationY;g(n)||(n=1),t.x=i.pixelX+i.measuredWidth*a,t.y=i.pixelY+i.measuredHeight*n},Object.defineProperty(r.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),t=="vertical"?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(t){this.setPropertyValue("bottomRatio",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var t=new Pi;t.applyOnClones=!0,t.fillOpacity=.5,t.expandDistance=-.3,t.hiddenState.properties.opacity=0,this._disposers.push(t),this._sliceLinks=new Q(t),this._disposers.push(new G(this._sliceLinks))}return this._sliceLinks},enumerable:!0,configurable:!0}),r.prototype.show=function(t){var e=this,i=this.startIndex,a=this.endIndex,n=this.defaultState.transitionDuration;g(t)&&(n=t);var s=0;w(Ae(this.dataItems.iterator()),function(h){var d=h[0],u=h[1];e.sequencedInterpolation&&(s=e.sequencedInterpolationDelay*d+n*(d-i)/(a-i)),u.show(n,s,["value"])});var l=o.prototype.show.call(this,t);return l},r.prototype.hide=function(t){var e=this,i=["value"],a=0,n=this.startIndex,s=this.endIndex,l=0,h=this.hiddenState.transitionDuration;g(t)&&(h=t),w(Ae(this.dataItems.iterator()),function(u){var p=u[0],f=u[1];e.sequencedInterpolation&&(l=e.sequencedInterpolationDelay*p+h*(p-n)/(s-n)),f.hide(h,l,a,i)});var d=o.prototype.hide.call(this,t);return d&&!d.isFinished()&&d.delay(l),d},r.prototype.setAlignLabels=function(t){o.prototype.setAlignLabels.call(this,t),this.ticks.template.disabled=!t;var e=this.labelsContainer;e&&(t?(e.height=void 0,e.width=void 0,e.margin(10,10,10,10)):(e.width=O(100),e.height=O(100))),this.labelsOpposite=this.labelsOpposite},Object.defineProperty(r.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(t){this.setPropertyValue("labelsOpposite",t);var e=this.labels.template,i="none",a="none";this.alignLabels?t?(this.labelsContainer.toFront(),this.orientation=="vertical"?(this.ticks.template.locationX=1,e.horizontalCenter="left",i="right"):(this.ticks.template.locationY=1,e.horizontalCenter="right",a="bottom")):(this.labelsContainer.toBack(),this.orientation=="vertical"?(this.ticks.template.locationX=0,i="left"):(a="top",this.ticks.template.locationY=0)):this.orientation=="vertical"?i="center":a="middle",e.align=i,e.valign=a,this.validateLayout(),this.ticks.each(function(n){n.invalidate()}),this.invalidateDataItems()},enumerable:!0,configurable:!0}),r}(Le);_.registeredClasses.FunnelSeries=Zr;_.registeredClasses.FunnelSeriesDataItem=Bi;var Ni=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="PyramidSeriesDataItem",t.applyTheme(),t}return r}(Bi),qr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="PyramidSeries",t.topWidth=O(0),t.bottomWidth=O(100),t.pyramidHeight=O(100),t.valueIs="area",t.sliceLinks.template.width=0,t.sliceLinks.template.height=0,t.applyTheme(),t}return r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},r.prototype.createDataItem=function(){return new Ni},r.prototype.validate=function(){o.prototype.validate.call(this),this._nextWidth=void 0},r.prototype.getNextValue=function(t){var e=t.index,i=t.getWorkingValue("value");if(e<this.dataItems.length-1){var a=this.dataItems.getIndex(e+1);i=a.getWorkingValue("value")}return i==0&&(i=1e-6),i},r.prototype.validateDataElements=function(){var t=this,e=this.slicesContainer.innerWidth,i=this.slicesContainer.innerHeight;if(this.dataItems.each(function(s){if(s.value>0){var l=s.getWorkingValue("value")/s.value,h=s.sliceLink;t.orientation=="vertical"?i-=h.pixelHeight*l:e-=h.pixelWidth*l}}),this._pyramidHeight=ot(this.pyramidHeight,i),this._pyramidWidth=ot(this.pyramidHeight,e),this.orientation=="vertical"){var a=(i-this._pyramidHeight)/2;this.slicesContainer.y=a,this.labelsContainer.y=a,this.ticksContainer.y=a}else{var n=(e-this._pyramidWidth)/2;this.slicesContainer.x=n,this.labelsContainer.x=n,this.ticksContainer.x=n}o.prototype.validateDataElements.call(this)},r.prototype.decorateSlice=function(t){var e=this.dataItem.values.value.absoluteSum;if(e!=0){var i=t.slice,a=t.sliceLink,n=t.label,s=t.tick;this.getNextValue(t);var l=Math.abs(t.getWorkingValue("value")),h=this._pyramidWidth,d=this._pyramidHeight,u=this.slicesContainer.innerWidth,p=this.slicesContainer.innerHeight,f=a.pixelWidth,c=a.pixelHeight;if((t.value==0||t.value==null)&&this.ignoreZeroValues?t.__disabled=!0:t.__disabled=!1,this.orientation=="vertical"){var y=ot(this.topWidth,u);g(this._nextWidth)||(this._nextWidth=y);var v=ot(this.bottomWidth,u),m=this._nextWidth,x=Math.atan2(d,y-v),C=Math.tan(Math.PI/2-x);C==0&&(C=1e-8);var S=void 0,A=void 0;if(this.valueIs=="area"){var T=(y+v)/2*d,P=T*l/e,k=Math.abs(m*m-2*P*C);S=(m-Math.sqrt(k))/C,S>0?A=(2*P-S*m)/S:A=m}else S=d*l/e,A=m-S*C;i.height=S,i.width=u,i.bottomWidth=A,i.topWidth=m,a.topWidth=i.bottomWidth,a.bottomWidth=i.bottomWidth,i.y=this._nextY,this.alignLabels?n.x=0:n.x=u/2,n.y=i.pixelY+i.pixelHeight*s.locationY+i.dy,this._nextY+=i.pixelHeight+c*l/Math.max(Math.abs(t.value),1e-8),a.y=this._nextY-c,a.x=u/2}else{var y=ot(this.topWidth,p);g(this._nextWidth)||(this._nextWidth=y);var v=ot(this.bottomWidth,p),m=this._nextWidth,x=Math.atan2(h,y-v),C=Math.tan(Math.PI/2-x);C==0&&(C=1e-8);var V=void 0,A=void 0;if(this.valueIs=="area"){var T=(y+v)/2*h,P=T*l/e;V=(m-Math.sqrt(m*m-2*P*C))/C,A=(2*P-V*m)/V}else V=h*l/e,A=m-V*C;i.width=V,i.height=p,i.bottomWidth=A,i.topWidth=m,a.topWidth=i.bottomWidth,a.bottomWidth=i.bottomWidth,i.x=this._nextY,this.alignLabels?n.y=this.labelsContainer.measuredHeight:n.y=p/2,n.x=i.pixelX+i.pixelWidth*s.locationX+i.dx,this._nextY+=i.pixelWidth+f*l/Math.max(Math.abs(t.value),1e-8),a.x=this._nextY-f,a.y=p/2}this._nextWidth=i.bottomWidth}},Object.defineProperty(r.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(t){this.setPercentProperty("topWidth",t,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(t){this.setPercentProperty("pyramidHeight",t,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(t){this.setPercentProperty("bottomWidth",t,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(t){this.setPropertyValue("valueIs",t)&&this.invalidate()},enumerable:!0,configurable:!0}),r}(Zr);_.registeredClasses.PyramidSeries=qr;_.registeredClasses.PyramidSeriesDataItem=Ni;var $r=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="PictorialStackedSeriesDataItem",t.applyTheme(),t}return r}(Ni),Ln=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="PictorialStackedSeries",t.topWidth=O(100),t.bottomWidth=O(100),t.valueIs="height",t.applyTheme(),t.startLocation=0,t.endLocation=1,t.align="center",t.valign="middle",t._maskSprite=t.slicesContainer.createChild(Z),t._maskSprite.visible=!1,t._maskSprite.zIndex=100,t._maskSprite.shouldClone=!1,t}return r.prototype.validateDataElements=function(){var t=this.slicesContainer.maxWidth,e=this.slicesContainer.maxHeight,i=this._maskSprite,a=i.measuredWidth/i.scale,n=i.measuredHeight/i.scale,s=U(e/n,t/a);s==1/0&&(s=1),s=tt(.001,s);var l=this.startLocation,h=this.endLocation,d=U(t,a*s),u=U(e,n*s);i.scale=s,this.orientation=="vertical"?(this.topWidth=d+4,this.bottomWidth=d+4,this.pyramidHeight=u*(h-l),i.x=t/2,i.y=u/2):(this.topWidth=u+4,this.bottomWidth=u+4,this.pyramidHeight=d*(h-l),i.valign="middle",i.x=d/2,i.y=e/2),i.verticalCenter="middle",i.horizontalCenter="middle",o.prototype.validateDataElements.call(this);var p,f;this.orientation=="vertical"?(this.valign=="bottom"&&(p=e-u),this.valign=="middle"&&(p=(e-u)/2),this.valign=="top"&&(p=0),this.align=="left"&&(f=-(t-d)/2),this.align=="center"&&(f=0),this.align=="right"&&(f=(t-d)/2),this.slices.template.dy=l*u,this.alignLabels&&(this.slicesContainer.dx=f)):(this.valign=="bottom"&&(p=(e-u)/2),this.valign=="middle"&&(p=0),this.valign=="top"&&(p=-(e-u)/2),this.align=="left"&&(f=0),this.align=="center"&&(f=(t-d)/2),this.align=="right"&&(f=t-d),this.slices.template.dx=l*d,this.alignLabels&&(this.slicesContainer.dy=p)),this.slicesContainer.x=f,this.labelsContainer.x=f,this.ticksContainer.x=f,this.slicesContainer.y=p,this.labelsContainer.y=p,this.ticksContainer.y=p,d>0&&u>0&&(this.slicesContainer.mask=i)},r.prototype.applyInternalDefaults=function(){o.prototype.applyInternalDefaults.call(this),b(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},r.prototype.createDataItem=function(){return new $r},Object.defineProperty(r.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),r.prototype.initSlice=function(t){o.prototype.initSlice.call(this,t);var e=t.states.getKey("hover");e&&(e.properties.expandDistance=0)},Object.defineProperty(r.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(t){this.setPropertyValue("startLocation",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(t){this.setPropertyValue("endLocation",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),r}(qr);_.registeredClasses.PictorialStackedSeries=Ln;_.registeredClasses.PictorialStackedSeriesDataItem=$r;var Jr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="ConeColumn",t}return r.prototype.createAssets=function(){this.coneColumn=this.createChild(Na),this.coneColumn.shouldClone=!1,this.column=this.coneColumn},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.coneColumn&&this.coneColumn.copyFrom(t.coneColumn)},r}(he);_.registeredClasses.ConeColumn=Jr;var Mn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="ConeSeriesDataItem",t.applyTheme(),t}return r}(Zt),In=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="ConeSeries",t.applyTheme(),t}return r.prototype.createColumnTemplate=function(){return new Jr},r.prototype.getMaskPath=function(){var t=0,e=0,i=this.columns.getIndex(0);if(i)return this.baseAxis==this.xAxis?e=i.coneColumn.innerWidth/2+1:t=i.coneColumn.innerHeight/2+1,Nt({x:-t,y:0,width:this.xAxis.axisLength+t,height:this.yAxis.axisLength+e})},r.prototype.validateDataElementReal=function(t){o.prototype.validateDataElementReal.call(this,t);var e=t.column;if(e){var i=t.column.coneColumn;i.fill=t.column.fill,this.baseAxis==this.yAxis?i.orientation="horizontal":i.orientation="vertical"}},r}(ue);_.registeredClasses.ConeSeries=In;_.registeredClasses.ConeSeriesDataItem=Mn;var Qr=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="CurvedColumn",t}return r.prototype.createAssets=function(){this.curvedColumn=this.createChild(Z),this.curvedColumn.shouldClone=!1,this.setPropertyValue("tension",.7),this.width=O(120),this.height=O(120),this.column=this.curvedColumn},r.prototype.draw=function(){o.prototype.draw.call(this);var t=this.realWidth,e=this.realHeight,i=this.realX-this.pixelX,a=this.realY-this.pixelY,n;Ut(this.width);var s=1,l=1;this.orientation=="vertical"?(s=this.tension,n=[{x:0,y:e+a},{x:t/2,y:a},{x:t,y:e+a}]):(l=this.tension,e=Math.abs(e),n=[{x:i,y:e},{x:i+t,y:e/2},{x:i,y:0}]);var h=W(n[0])+new _e(s,l).smooth(n);this.column.path=h},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.curvedColumn&&this.curvedColumn.copyFrom(t.curvedColumn)},Object.defineProperty(r.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(t){this.setPropertyValue("tension",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0)},enumerable:!0,configurable:!0}),r}(he);_.registeredClasses.CurvedColumn=Qr;var Rn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="CurvedColumnSeriesDataItem",t.applyTheme(),t}return r}(Zt),jn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="CurvedColumnSeries",t.applyTheme(),t}return r.prototype.createColumnTemplate=function(){return new Qr},r.prototype.validateDataElementReal=function(t){o.prototype.validateDataElementReal.call(this,t);var e=t.column;if(e=t.column,e){var i=t.column.curvedColumn;i.fill=t.column.fill,this.baseAxis==this.yAxis?e.orientation="horizontal":e.orientation="vertical"}},r}(ue);_.registeredClasses.CurvedColumnSeries=jn;_.registeredClasses.CurvedColumnSeriesDataItem=Rn;var Wn=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="CircleBullet";var e=t.createChild(Ai);return e.shouldClone=!1,e.radius=5,e.isMeasured=!1,t.circle=e,t.applyTheme(),t}return r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.circle.copyFrom(t.circle)},r}(jt);_.registeredClasses.CircleBullet=Wn;var Xn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="ErrorBullet",t.errorLine=t.createChild(Z),t.errorLine.shouldClone=!1,t.width=20,t.height=20,t.strokeOpacity=1,t.isDynamic=!0,t}return r.prototype.validatePosition=function(){o.prototype.validatePosition.call(this);var t=this.pixelWidth/2,e=this.pixelHeight/2;this.errorLine.path=W({x:-t,y:-e})+R({x:t,y:-e})+W({x:0,y:-e})+R({x:0,y:e})+W({x:-t,y:e})+R({x:t,y:e})},r.prototype.copyFrom=function(t){o.prototype.copyFrom.call(this,t),this.errorLine.copyFrom(t.errorLine)},r}(jt);_.registeredClasses.ErrorBullet=Xn;var Yn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="NavigationBarDataItem",t.applyTheme(),t}return Object.defineProperty(r.prototype,"name",{get:function(){return this.properties.name},set:function(t){this.setProperty("name",t)},enumerable:!0,configurable:!0}),r}(ye),En=function(o){D(r,o);function r(){var t=o.call(this)||this;t.className="NavigationBar";var e=new et,i=new ir;i.valign="middle",i.paddingTop=8,i.paddingBottom=8,t.paddingBottom=2,t.links=new Q(i),t._disposers.push(new G(t.links)),t._disposers.push(i),t._linksIterator=new Di(t.links,function(){return t.links.create()}),t._linksIterator.createNewItems=!0;var a=new za;a.direction="right",a.width=8,a.height=12,a.fill=e.getFor("alternativeBackground"),a.fillOpacity=.5,a.valign="middle",a.marginLeft=10,a.marginRight=10,t.separators=new Q(a),t._disposers.push(new G(t.separators)),t._disposers.push(a);var n=new ir;return t.activeLink=n,n.copyFrom(i),n.valign="middle",n.fontWeight="bold",t.width=O(100),t.layout="grid",t.dataFields.name="name",t.applyTheme(),t}return r.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),o.prototype.validateDataElements.call(this)},r.prototype.validateDataElement=function(t){o.prototype.validateDataElement.call(this,t);var e;if(t.index<this.dataItems.length-1){e=this._linksIterator.getLast(),e.parent=this;var i=this.separators.create();i.parent=this,i.valign="middle"}else e=this.activeLink,e.events.copyFrom(this.links.template.events),e.hide(0),e.show(),e.parent=this;e.dataItem=t,e.text=t.name,e.validate()},r}(Te);_.registeredClasses.NavigationBar=En;_.registeredClasses.NavigationBarDataItem=Yn;var ta=function(o){D(r,o);function r(){var t=o.call(this)||this;t.point={x:0,y:0},t._stick="none",t.className="Cursor",t.width=O(100),t.height=O(100),t.shouldClone=!1,t.hide(0),t.trackable=!0,t.clickable=!0,t.isMeasured=!1;var e=It();return t._disposers.push(e.body.events.on("down",t.handleCursorDown,t)),t._disposers.push(e.body.events.on("up",t.handleCursorUp,t)),t._disposers.push(e.body.events.on("track",t.handleCursorMove,t)),t.applyTheme(),t}return r.prototype.handleCursorMove=function(t){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&t.touch)){if((this._generalBehavior!="zoom"&&this._generalBehavior!="pan"||!this.downPoint)&&!It().isLocalElement(t.pointer,this.paper.svg,this.uid)){(!this.isHidden||!this.isHiding)&&this.hide();return}var e=li(t.pointer.point,this);return this._stick=="hard"&&this._stickPoint&&(e=this._stickPoint),this._stick=="soft"&&this._stickPoint&&(this.fitsToBounds(e)||(e=this._stickPoint)),this._adapterO&&this._adapterO.apply("cursorPoint",e),this.triggerMove(e),e}},r.prototype.hideReal=function(t){if(!((this._stick=="hard"||this._stick=="soft")&&this._stickPoint))return o.prototype.hideReal.call(this,t)},r.prototype.triggerMove=function(t,e,i){t.x=j(t.x,1),t.y=j(t.y,1),e&&(this._stick=e),(e=="hard"||e=="soft")&&(this._stickPoint=t),this.triggerMoveReal(t,i)},r.prototype.triggerMoveReal=function(t,e){(this.point.x!=t.x||this.point.y!=t.y||e)&&(this.point=t,this.invalidatePosition(),this.fitsToBounds(t)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")))},r.prototype.triggerDown=function(t){this.triggerDownReal(t)},r.prototype.triggerDownReal=function(t){switch(this._generalBehavior){case"zoom":this.dispatchImmediately("zoomstarted");break;case"select":this.dispatchImmediately("selectstarted");break;case"pan":this.dispatchImmediately("panstarted"),It().setGlobalStyle(Ce.grabbing);break}},r.prototype.triggerUp=function(t){this.triggerUpReal(t)},r.prototype.triggerUpReal=function(t){Ha.requestFrame(),this.updatePoint(this.upPoint);var e=It();if(K(this._upPointOrig,this._downPointOrig)>e.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case"zoom":this.dispatch("zoomended");break;case"select":this.dispatch("selectended");break;case"pan":this.dispatch("panended"),e.setGlobalStyle(Ce.default);break}this.downPoint=void 0,this.updateSelection()}},r.prototype.updateSelection=function(){},r.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight},r.prototype.handleCursorDown=function(t){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&t.touch||!It().isLocalElement(t.pointer,this.paper.svg,this.uid))){Ua();var e=li(t.pointer.point,this);this._stick=="hard"&&this._stickPoint&&(e=this._stickPoint),this._adapterO&&this._adapterO.apply("cursorPoint",e),this.fitsToBounds(e)&&(this._downPointOrig={x:e.x,y:e.y},t.event.cancelable&&this.shouldPreventGestures(t.touch)&&this.fitsToBounds(e)&&t.event.preventDefault(),this.triggerMove(e),this.triggerDown(e))}},r.prototype.shouldPreventGestures=function(t){return!0},r.prototype.updatePoint=function(t){},r.prototype.handleCursorUp=function(t){if(!!this.interactionsEnabled&&!(!this.downPoint&&!It().isLocalElement(t.pointer,this.paper.svg,this.uid))){var e=li(t.pointer.point,this);this._adapterO&&this._adapterO.apply("cursorPoint",e),!(!this.downPoint||!this.fitsToBounds(this.downPoint))&&(this._stick=="hard"&&this._stickPoint&&(e=this._stickPoint),this._upPointOrig={x:e.x,y:e.y},this.triggerMove(e),this.triggerUp(e))}},Object.defineProperty(r.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart=t,b(this._chart.plotContainer)&&It().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),r}(X);_.registeredClasses.Cursor=ta;var ea=function(o){D(r,o);function r(){var t=o.call(this)||this;t._lineX=new lt,t._lineY=new lt,t._xAxis=new lt,t._yAxis=new lt,t._snapToDisposers=[],t.className="XYCursor",t.behavior="zoomX",t.maxPanOut=.1;var e=new et;t.snapOnPan=!0;var i=t.createChild(Z);i.shouldClone=!1,i.fillOpacity=.2,i.fill=e.getFor("alternativeBackground"),i.isMeasured=!1,i.visible=!1,i.interactionsEnabled=!1,t.selection=i,t._disposers.push(t.selection);var a=t.createChild(Z);a.shouldClone=!1,a.stroke=e.getFor("grid"),a.fill=Ot(),a.strokeDasharray="3,3",a.isMeasured=!1,a.strokeOpacity=.4,a.interactionsEnabled=!1,a.y=0,t.lineX=a,t._disposers.push(t.lineX);var n=t.createChild(Z);return n.shouldClone=!1,n.stroke=e.getFor("grid"),n.fill=Ot(),n.strokeDasharray="3,3",n.isMeasured=!1,n.strokeOpacity=.4,n.interactionsEnabled=!1,n.x=0,t.lineY=n,t._disposers.push(t.lineY),t.events.on("sizechanged",t.updateSize,t,!1),t._disposers.push(t._lineX),t._disposers.push(t._lineY),t._disposers.push(t._xAxis),t._disposers.push(t._yAxis),t.mask=t,t.hideSeriesTooltipsOnSelection=!0,t.applyTheme(),t}return r.prototype.updateSize=function(){this.lineX&&(this.lineX.path=W({x:0,y:0})+R({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=W({x:0,y:0})+R({x:this.innerWidth,y:0}))},r.prototype.updateSelection=function(){if(this._usesSelection){var t=this.downPoint,e=this.behavior;if(t){var i=this.point;this.lineX&&(i.x=this.lineX.pixelX),this.lineY&&(i.y=this.lineY.pixelY);var a=this.selection,n=Math.min(i.x,t.x),s=Math.min(i.y,t.y),l=j(Math.abs(t.x-i.x),this._positionPrecision),h=j(Math.abs(t.y-i.y),this._positionPrecision);switch(e){case"zoomX":s=0,h=this.pixelHeight;break;case"zoomY":n=0,l=this.pixelWidth;break;case"selectX":s=0,h=this.pixelHeight;break;case"selectY":n=0,l=this.pixelWidth;break}a.x=n,a.y=s,a.path=hi(l,h),a.validatePosition()}else this._generalBehavior!="select"&&this.selection.hide()}},r.prototype.fixPoint=function(t){return t.x=Math.max(0,t.x),t.y=Math.max(0,t.y),t.x=Math.min(this.pixelWidth,t.x),t.y=Math.min(this.pixelHeight,t.y),t},r.prototype.triggerMoveReal=function(t,e){o.prototype.triggerMoveReal.call(this,t,e);var i=this.snapToSeries;if(i&&!this.downPoint)if(i instanceof oe)i.isHidden&&this.updateLinePositions(t);else{var a=!0;H(i,function(n){n.isHidden||(a=!1)}),a&&this.updateLinePositions(t)}else this.updateLinePositions(t);this.downPoint&&K(this.downPoint,t)>3&&this._generalBehavior=="pan"&&(this.getPanningRanges(),this.dispatch("panning"))},r.prototype.updateLinePositions=function(t){t=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=t.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=t.y),this.updateSelection()},r.prototype.triggerDownReal=function(t){if(this.visible&&!this.isHiding)if(this._generalBehavior=="select"&&(this.selection.parent=this.parent),this.fitsToBounds(t)){this.downPoint={x:t.x,y:t.y},this.updatePoint(t),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var e=this.selection,i=this.downPoint.x,a=this.downPoint.y;this._usesSelection&&(e.x=i,e.y=a,e.path="",e.show()),o.prototype.triggerDownReal.call(this,t)}else this.downPoint=void 0;else this.downPoint=void 0},r.prototype.updatePoint=function(t){this.lineX&&(t.x=this.lineX.pixelX),this.lineY&&(t.y=this.lineY.pixelY)},r.prototype.triggerUpReal=function(t){if(this.hasMoved())this.downPoint&&(this.upPoint=t,this.updatePoint(this.upPoint),this._generalBehavior!="pan"&&this.getRanges(),this._generalBehavior!="select"&&this.selection.hide(),o.prototype.triggerUpReal.call(this,t));else{if(this._generalBehavior!="select"?this.selection.hide(0):(this.xRange=void 0,this.yRange=void 0,this.dispatchImmediately("selectended")),this._generalBehavior=="pan"){var e=It();e.setGlobalStyle(Ce.default)}this.dispatchImmediately("behaviorcanceled")}this.downPoint=void 0,this.dispatch("cursorpositionchanged")},r.prototype.hasMoved=function(){var t;return this.behavior=="zoomX"||this.behavior=="panX"?t=Ga(this._upPointOrig,this._downPointOrig):this.behavior=="zoomY"||this.behavior=="panY"?t=Ka(this._upPointOrig,this._downPointOrig):t=K(this._upPointOrig,this._downPointOrig),t>It().getHitOption(this.interactions,"hitTolerance")},r.prototype.getPanningRanges=function(){var t=j(this.downPoint.x/this.innerWidth,5),e=1-j(this.downPoint.y/this.innerHeight,5),i=j(this.point.x/this.innerWidth,5),a=1-j(this.point.y/this.innerHeight,5),n=t-i,s=e-a;this.xRange={start:n,end:1+n},this.yRange={start:s,end:1+s},this.behavior=="panX"&&(this.yRange.start=0,this.yRange.end=1),this.behavior=="panY"&&(this.xRange.start=0,this.xRange.end=1)},r.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY),Ut(this.selection);var t=j(this.downPoint.x/this.innerWidth,5),e=j(this.upPoint.x/this.innerWidth,5),i=1-j(this.downPoint.y/this.innerHeight,5),a=1-j(this.upPoint.y/this.innerHeight,5);this.xRange={start:U(t,e),end:tt(t,e)},this.yRange={start:U(i,a),end:tt(i,a)}},Object.defineProperty(r.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(t){this.setPropertyValue("behavior",t,!0),this._usesSelection=!1,t.indexOf("zoom")!=-1&&(this._generalBehavior="zoom",this._usesSelection=!0),t.indexOf("select")!=-1&&(this._generalBehavior="select",this._usesSelection=!0),t.indexOf("pan")!=-1&&(this._generalBehavior="pan",this._usesSelection=!1)},enumerable:!0,configurable:!0}),r.prototype.shouldPreventGestures=function(t){return(!this.interactions.isTouchProtected||!t)&&this.behavior!="none"},Object.defineProperty(r.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(t){this.setPropertyValue("fullWidthLineX",t),t||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(t){this.setPropertyValue("fullWidthLineY",t),t||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hideSeriesTooltipsOnSelection",{get:function(){return this.getPropertyValue("hideSeriesTooltipsOnSelection")},set:function(t){this.setPropertyValue("hideSeriesTooltipsOnSelection",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxTooltipDistance",{get:function(){return this.getPropertyValue("maxTooltipDistance")},set:function(t){this.setPropertyValue("maxTooltipDistance",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(t){this.setPropertyValue("maxPanOut",t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"xAxis",{get:function(){return this._xAxis.get()},set:function(t){var e=this;this._xAxis.get()!=t&&this._xAxis.set(t,new ne([t.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1),t.events.on("rangechangestarted",function(i){e.hide(0),e.preventShow=!0},void 0,!1),t.events.on("rangechangeended",function(i){e.preventShow=!1,e.hide(0),e.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(t){var e=this;this._yAxis.get()!=t&&this._yAxis.set(t,new ne([t.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1),t.events.on("rangechangestarted",function(i){e.hide(0),e.__disabled=!0},void 0,!1),t.events.on("rangechangeended",function(i){e.__disabled=!1,e.hide(0),e.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),r.prototype.handleXTooltipPosition=function(t){var e=this.xAxis.tooltip,i=Gt({x:e.pixelX,y:e.pixelY},this),a=i.x;if(i.y=1,this.lineX&&(this.lineX.x=a,this.fitsToBounds(i)||this.hide()),this.xAxis&&this.fullWidthLineX){var n=this.xAxis.currentItemStartPoint,s=this.xAxis.currentItemEndPoint;if(n&&s){this.lineX.x=a;var l=s.x-n.x;this.lineX.path=hi(l,this.innerHeight,-l/2)}}},r.prototype.handleYTooltipPosition=function(t){var e=this.yAxis.tooltip,i=Gt({x:e.pixelX,y:e.pixelY},this),a=i.y;if(i.x=1,this.lineY&&(this.lineY.y=a,this.fitsToBounds(i)||this.hide()),this.yAxis&&this.fullWidthLineY){var n=this.yAxis.currentItemStartPoint,s=this.yAxis.currentItemEndPoint;if(n&&s){this.lineY.y=a;var l=s.y-n.y;this.lineY.path=hi(this.innerWidth,l,0,-l/2)}}},Object.defineProperty(r.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(t){t?(t.setElement(this.paper.add("path")),this._lineX.set(t,t.events.on("positionchanged",this.updateSelection,this,!1)),t.interactionsEnabled=!1,t.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lineY",{get:function(){return this._lineY.get()},set:function(t){t?(t.setElement(this.paper.add("path")),this._lineY.set(t,t.events.on("positionchanged",this.updateSelection,this,!1)),t.parent=this,t.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selection",{get:function(){return this._selection},set:function(t){this._selection=t,t&&(t.element=this.paper.add("path"),t.parent=this)},enumerable:!0,configurable:!0}),r.prototype.processConfig=function(t){var e=this;if(t&&(b(t.xAxis)&&at(t.xAxis)&&(this.map.hasKey(t.xAxis)?t.xAxis=this.map.getKey(t.xAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+t.xAxis+'" found for `xAxis`'),delete t.xAxis)),b(t.yAxis)&&at(t.yAxis)&&(this.map.hasKey(t.yAxis)?t.yAxis=this.map.getKey(t.yAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+t.yAxis+'" found for `yAxis`'),delete t.yAxis)),b(t.snapToSeries))){var i=kt(t.snapToSeries)?t.snapToSeries:[t.snapToSeries],a=!1;H(i,function(n,s){at(n)&&(e.map.hasKey(n)?i[s]=e.map.getKey(n):(e.processingErrors.push('[XYCursor] No series with id "'+n+'" found for `series`'),a=!0))}),a?delete t.snapToSeries:t.snapToSeries=i}o.prototype.processConfig.call(this,t)},Object.defineProperty(r.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(t){var e=this;this.setPropertyValue("snapToSeries",t)&&(t instanceof oe&&(t=[t]),this._snapToDisposers&&H(this._snapToDisposers,function(i){i.dispose()}),this._snapToDisposers=[],t&&H(t,function(i){e._snapToDisposers.push(i.events.on("tooltipshownat",function(){e.handleSnap(i)},void 0,!1))}))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"snapOnPan",{get:function(){return this.getPropertyValue("snapOnPan")},set:function(t){this.setPropertyValue("snapOnPan",t)},enumerable:!0,configurable:!0}),r.prototype.handleSnap=function(t){if(!this.downPoint){var e=t.getTooltipX()+t.xAxis.pixelX,i=t.getTooltipY()+t.yAxis.pixelY,a=t.xAxis,n=t.yAxis;a&&a.renderer.opposite&&(i-=this.pixelHeight),this.point={x:e,y:i},this.getPositions();var s=e,l=i;e-=this.pixelWidth,n&&n.renderer.opposite&&(e+=this.pixelWidth);var h=t.tooltip,d=h.animationDuration,u=h.animationEasing;a instanceof E&&!(a instanceof z)&&n instanceof E&&!(n instanceof z)?(t.yAxis.showTooltipAtPosition(this.yPosition),t.xAxis.showTooltipAtPosition(this.xPosition)):(t.baseAxis==t.xAxis&&t.yAxis.showTooltipAtPosition(this.yPosition),t.baseAxis==t.yAxis&&t.xAxis.showTooltipAtPosition(this.xPosition)),this.lineY.x=e,this.lineX.y=i,this.xAxis||this.lineX.animate([{property:"x",to:s}],d,u),this.yAxis||this.lineY.animate([{property:"y",to:l}],d,u)}},r.prototype.dispose=function(){this.hide(0),o.prototype.dispose.call(this)},r}(ta);_.registeredClasses.XYCursor=ea;var Bn=function(o){D(r,o);function r(){var t=o.call(this)||this;return t.className="RadarCursor",t.radius=O(100),t.innerRadius=O(0),t.applyTheme(),t.mask=void 0,t}return r.prototype.fitsToBounds=function(t){var e=K(t);return e<this.truePixelRadius+1&&e>this.pixelInnerRadius-1},Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t,!0)},enumerable:!0,configurable:!0}),r.prototype.triggerMoveReal=function(t,e){(!this.xAxis||this.xAxis&&(!this.xAxis.cursorTooltipEnabled||this.xAxis.tooltip.disabled))&&this.updateLineX(this.point),(!this.yAxis||this.yAxis&&(!this.yAxis.cursorTooltipEnabled||this.yAxis.tooltip.disabled))&&this.updateLineY(this.point),this.updateSelection(),o.prototype.triggerMoveReal.call(this,t,e)},r.prototype.updateLineX=function(t){var e=this.pixelRadius,i=this.startAngle,a=this.endAngle,n=this.pixelInnerRadius;if(e>0&&g(i)&&g(a)&&g(n)){var s=Mt(_t(t),i,a),l=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var h=this.xAxis.currentItemStartPoint,d=this.xAxis.currentItemEndPoint;if(h&&d){var u=Mt(_t(h),i,a),p=Mt(_t(d),i,a),f=p-u;i<a?f<0&&(f+=360):f>0&&(f-=360),s-=f/2,l=W({x:n*F(s),y:n*L(s)})+R({x:e*F(s),y:e*L(s)})+ft(s,f,e)+R({x:n*F(s+f),y:n*L(s+f)})+ft(s+f,-f,n)}}l||(l=W({x:n*F(s),y:n*L(s)})+R({x:e*F(s),y:e*L(s)})),this.lineX.path=l}}},r.prototype.updateLineY=function(t){if(this.lineY&&this.lineY.visible){var e=this.startAngle,i=this.endAngle,a=this.truePixelRadius,n=Y(K(t),0,this.truePixelRadius);if(g(n)&&g(e)){this.lineY.moveTo({x:0,y:0});var s=void 0,l=i-e;if(this.yAxis&&this.fullWidthLineY){var h=this.yAxis.currentItemStartPoint,d=this.yAxis.currentItemEndPoint;if(h&&d){var u=Y(K(h),0,a);n=Y(K(d),0,a),s=W({x:n*F(e),y:n*L(e)})+ft(e,l,n),s+=W({x:u*F(i),y:u*L(i)})+ft(i,-l,u)}}s||(s=W({x:n*F(e),y:n*L(e)})+ft(e,i-e,n)),this.lineY.path=s}}},r.prototype.updateSelection=function(){if(this._usesSelection){var t=this.downPoint;if(t){var e=this.point,i=this.pixelRadius,a=this.truePixelRadius,n=this.pixelInnerRadius,s=Math.min(this.startAngle,this.endAngle),l=Math.max(this.startAngle,this.endAngle),h=Mt(_t(t),s,l),d=Mt(_t(e),s,l),u=K(t);if(u<a){var p=Y(K(e),0,a);this._prevAngle=d;var f=W({x:0,y:0}),c=L(h),y=F(h),v=L(d),m=F(d),x=this.behavior;x=="zoomX"||x=="selectX"?f+=R({x:i*y,y:i*c})+ft(h,d-h,i)+R({x:n*m,y:n*v})+ft(d,h-d,n):x=="zoomY"||x=="selectY"?f=W({x:p*F(s),y:p*L(s)})+ft(s,l-s,p)+R({x:u*F(l),y:u*L(l)})+ft(l,s-l,u)+se():x=="zoomXY"&&(f=W({x:p*F(h),y:p*L(h)})+ft(h,d-h,p)+R({x:u*F(d),y:u*L(d)})+ft(d,h-d,u)+se()),this.selection.path=f}this.selection.moveTo({x:0,y:0})}}},r.prototype.getPositions=function(){var t=this.chart;if(t){var e=this.pixelInnerRadius,i=this.truePixelRadius-e,a=this.startAngle,n=this.endAngle,s=Mt(_t(this.point),a,n),l=(s-a)/(n-a);this.xPosition=l,this.yPosition=Y((K(this.point)-e)/i,0,1)}},r.prototype.updatePoint=function(t){},r.prototype.handleXTooltipPosition=function(t){if(this.xAxis.cursorTooltipEnabled){var e=this.xAxis.tooltip;this.updateLineX(Gt({x:e.pixelX,y:e.pixelY},this))}},r.prototype.handleYTooltipPosition=function(t){if(this.yAxis.cursorTooltipEnabled){var e=this.yAxis.tooltip;this.updateLineY(Gt({x:e.pixelX,y:e.pixelY},this))}},r.prototype.updateLinePositions=function(t){},r.prototype.getRanges=function(){var t=this.downPoint;if(t){var e=this.upPoint,i=this.chart;if(i){var a=this.pixelRadius,n=this.startAngle,s=this.endAngle,l=Mt(_t(t),this.startAngle,this.endAngle),h=Mt(_t(e),this.startAngle,this.endAngle),d=Y(K(t),0,a),u=Y(K(e),0,a),p=0,f=1,c=0,y=1,v=this.behavior;if(v=="zoomX"||v=="selectX"||v=="zoomXY"||v=="selectXY"){var m=s-n;p=j((l-n)/m,5),f=j((h-n)/m,5)}(v=="zoomY"||v=="selectY"||v=="zoomXY"||v=="selectXY")&&(c=j(d/a,5),y=j(u/a,5)),this.xRange={start:Math.min(p,f),end:Math.max(p,f)},this.yRange={start:Math.min(c,y),end:Math.max(c,y)},this.behavior=="selectX"||this.behavior=="selectY"||this.behavior=="selectXY"||this.selection.hide()}}},r.prototype.updateSize=function(){},Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelRadius",{get:function(){return it(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"truePixelRadius",{get:function(){return ot(O(100),U(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelInnerRadius",{get:function(){var t=this.innerRadius;return t instanceof ct&&(t=O(100*t.value*this.chart.innerRadiusModifyer)),it(t,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),r.prototype.fixPoint=function(t){return t},r}(ea);_.registeredClasses.RadarCursor=Bn;const Nn="DonutChart--titleLabel",zn="DonutChart--sumLabel",ar="rgba(41, 11, 83, 0.75)",Hn="#19A654",Un="#BF1330",Gn="#F2A230",nr=()=>[{category:"Empty",disabled:!0,labelDisabled:!0,tooltipDisabled:!0,value:1,fill:"#dadada",fillOpacity:.3,strokeColor:"#dadada",strokeDasharray:"4,4",strokeWidth:2}],ia={props:{data:{type:Array,required:!0},displayAmChartsLogo:{type:Boolean},url:{type:[String,Object],default:null},title:{type:[String,Object],required:!0},subtitle:{type:String},hideSliceLabels:{type:Boolean},emptySubTitle:{type:String,default:"NO"},reverseTitles:{type:Boolean},subTitleProps:{type:Object},titleProps:{type:Object},isLoading:{type:Boolean},saveChart:{type:Boolean}},data(){return{labels:[]}},computed:{defaultConfig(){const o=this;return{startAngle:0,endAngle:360,radius:"90%",innerRadius:"60%",data:nr(),series:[{type:"PieSeries",dataFields:{value:"value",category:"category"},colors:{step:2},alignLabels:!1,labels:{fontWeight:"500",fontSize:11,bent:!0,radius:0,verticalCenter:"middle",fill:"#ffffff",paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,text:"{category}",interactionsEnabled:!1,userClassName:"pie-chart-label",propertyFields:{disabled:"labelDisabled"},adapter:{radius:this.labelRadiusAdapter,disabled(r,{dataItem:t}){if(t){const e=t.dataContext.minSizeForLabel||.1;return t.values.value.percent/100<e}return r}}},ticks:{disabled:!0},tooltip:{pointerOrientation:"down",background:{callback(){this.filters.clear()},strokeWidth:0,pointerBaseWidth:0},propertyFields:{disabled:"tooltipDisabled"}},hiddenState:{properties:{opacity:1,startAngle:-90,endAngle:-90}},slices:{cornerRadius:5,propertyFields:{fill:"fill",fillOpacity:"fillOpacity",stroke:"strokeColor",strokeDasharray:"strokeDasharray",strokeWidth:"strokeWidth",url:"url"},stroke:"#ffffff",strokeWidth:2,strokeOpacity:1,tooltipPosition:"pointer",callback(){this.states.getKey("hover").properties.scale=1,this.states.getKey("active").properties.shiftRadius=0,this.states.getKey("hover").properties.fillOpacity=1}},children:[{type:"Container",forceCreate:!0,horizontalCenter:"middle",verticalCenter:"middle",layout:"vertical",background:{fill:"#ffffff"},callback(){this.toBack(),o.titleContainer=this},children:[{type:"Label",forceCreate:!0,fontSize:22,fill:ar,text:"{values.value.sum}",horizontalCenter:"middle",verticalCenter:"middle",fontWeight:"700",userClassName:zn,callback(){o.subTitleLabel=this}},{type:"Label",forceCreate:!0,fontSize:13,fill:ar,text:"TOTAL",horizontalCenter:"middle",verticalCenter:"middle",fontWeight:"400",userClassName:Nn,callback(){o.reverseTitles&&this.toBack(),o.titleLabel=this,o.setTitle()}}]}],callback(){o.series=this},events:{dataitemsvalidated:this.dataItemsValidatedHandler.bind(this)}}],adapter:{data:this.dataAdapter.bind(this)}}}},watch:{data:{handler(o){this.applyData(o)},deep:!0},isLoading(o){var r,t,e,i;o?((r=this.series)==null||r.hide(0),(t=this.titleContainer)==null||t.hide(0)):((e=this.series)==null||e.show(),(i=this.titleContainer)==null||i.show())}},beforeUnmount(){var o;(o=this.chart)==null||o.dispose()},mounted(){this.createChart(),this.applyData(this.data)},methods:{applyData(o){!this.chart||(o.length||this.chart.invalidateData(),this.chart.data=o)},dataAdapter(o,r){return o.length?o.map(t=>{const{route:e}=t,i=e||r.url?{...t,fillOpacity:.7}:t;if(e){const{href:a,meta:n}=this.$router.resolve(e),{title:s}=n;return{url:a,urlTitle:s,...i}}return i}).map(t=>{const{category:e=""}=t;switch(e.toLowerCase()){case"online":return{fill:Hn,minSizeForLabel:.13,...t};case"offline":return{fill:Un,minSizeForLabel:.14,...t};case"partially degraded":return{fill:Gn,minSizeForLabel:.3,...t};default:return t}}):nr()},labelRadiusAdapter(o,r){const{fontSize:t}=r.properties,e=r.parent.parent,i=e.pixelRadius-e.pixelInnerRadius;return e.labels.template.fontSize=Math.ceil(i/3),(2-i-t)/2},setTitle(){const o=this.data.reduce((r,{value:t})=>r+t,0);typeof this.title=="object"&&this.title.singular&&this.title.plural&&(this.titleLabel.text=o===1?this.title.singular:this.title.plural),typeof this.title=="string"&&(this.titleLabel.text=this.title),this.titleContainer.invalidateLabels()},dataItemsValidatedHandler(){this.setTitle(),!this.data.length&&this.subTitleLabel.currentText!==this.emptySubTitle&&(this.titleLabel.fontWeight="400",this.titleLabel.fontSize=13,this.subTitleLabel.text=this.emptySubTitle,this.subTitleLabel.fontWeight="400",this.subTitleLabel.fontSize=13,this.titleContainer.invalidateLabels()),this.data.length&&this.subTitleLabel.currentText===this.emptySubTitle&&(this.titleLabel.fontWeight=this.titleProps&&this.titleProps.fontWeight?this.titleProps.fontWeight:"400",this.titleLabel.fontSize=this.titleProps&&this.titleProps.fontSize?this.titleProps.fontSize:13,this.subTitleLabel.text=this.subTitleProps&&this.subTitleProps.text?this.subTitleProps.text:"{values.value.sum}",this.subTitleLabel.fontWeight=this.subTitleProps&&this.subTitleProps.fontWeight?this.subTitleProps.fontWeight:"700",this.subTitleLabel.fontSize=this.subTitleProps&&this.subTitleProps.fontSize?this.subTitleProps.fontSize:22,this.titleContainer.invalidateLabels())},createChart(){if(this.chart=Za(this.defaultConfig,this.$refs.chart,Wi),this.saveChart&&(window.chart=this.chart,window.series=this.series),this.chart.logo&&(this.chart.logo.disabled=!this.displayAmChartsLogo,this.displayAmChartsLogo&&(this.chart.logo.properties.align="right")),this.series.labels.template.disabled=this.hideSliceLabels,this.url&&(this.chart.url=this.$router.resolve(this.url).href),this.titleProps&&this.titleLabel)for(const o in this.titleProps)this.titleLabel[o]=this.titleProps[o];if(this.subTitleProps&&this.subTitleLabel)for(const o in this.subTitleProps)this.subTitleLabel[o]=this.subTitleProps[o];return this.chart}}},Kn={name:"DonutChart",mixins:[ia]},Zn={ref:"chart"};function qn(o,r,t,e,i,a){return Tt(),ae("div",Zn,null,512)}const $n=Se(Kn,[["render",qn]]),Jn={name:"VersionsDonutChart",mixins:[ia],props:{titleProps:{type:Object,default(){return{fontSize:18,fontWeight:"400"}}},subTitleProps:{type:Object,default(){return{fontSize:12,fontWeight:"300",text:"VERSIONS"}}},reverseTitles:{type:Boolean,default:!0},emptySubTitle:{type:String,default:"NOT FOUND"}}},Qn={ref:"chart"};function ts(o,r,t,e,i,a){return Tt(),ae("div",Qn,null,512)}const es=Se(Jn,[["render",ts]]);const is={name:"OverviewView",components:{DonutChart:$n,VersionsDonutChart:es,CardSkeleton:nn,ResourcesList:un},data(){return{productName:sr}},computed:{...qa({selectedMesh:o=>o.selectedMesh}),...or({title:"config/getTagline",environment:"config/getEnvironment",multicluster:"config/getMulticlusterStatus",areMeshInsightsLoading:"getMeshInsightsFetching",areZonesInsightsLoading:"getZonesInsightsFetching",areServicesLoading:"getServiceResourcesFetching",getChart:"getChart"}),cardActionPoliciesRoute(){return"https://kuma.io/policies/?utm_source=Kuma&utm_medium=Kuma-GUI"},dataplanesChart(){return this.getChart("dataplanes")},servicesChart(){return this.getChart("services")},zonesChart(){return this.getChart("zones")},zonesCPVersionsChart(){return this.getChart("zonesCPVersions")},kumaDPVersionsChart(){return this.getChart("kumaDPVersions")},envoyVersionsChart(){return this.getChart("envoyVersions")},zonesForChart(){return this.multicluster?this.$store.state.totalClusters:1},dataplaneWizardRoute(){return{name:this.environment==="universal"?"universal-dataplane":"kubernetes-dataplane"}},chartClass(){const o=this.selectedMesh==="all";return["flex","flex-1","md:flex-1/2",o&&"xl:flex-1/3",!o&&"xl:flex-1","md:w-1/2",o&&"xl:w-1/3",!o&&"xl:w-auto"].filter(r=>r).join(" ")},chartContainerClass(){const o=this.selectedMesh==="all";return["flex","flex-col","md:flex-row","md:flex-wrap",o&&"md:h-540p",!o&&"md:h-400p",o&&"xl:h-400p",!o&&"xl:h-200p","my-2","py-2"].filter(r=>r).join(" ")}},watch:{selectedMesh(){this.init()}},beforeMount(){this.init()},methods:{...$a(["fetchMeshInsights","fetchTotalClusterCount","fetchZonesInsights","fetchServices"]),init(){this.fetchMeshInsights(this.selectedMesh),this.fetchServices(this.selectedMesh),this.fetchZonesInsights(this.multicluster),this.multicluster&&this.fetchTotalClusterCount()}}},ra=o=>(Ja("data-v-9fb5b142"),o=o(),Qa(),o),rs={class:"overview mt-32"},as={class:"card-wrapper"},ns=ra(()=>gt("p",null,[Ee(" We can create multiple isolated Mesh resources (i.e. per application/"),gt("wbr"),Ee("team/"),gt("wbr"),Ee("business unit). ")],-1)),ss=ra(()=>gt("p",null," We need a data plane proxy for each replica of our services within a Mesh resource. ",-1));function os(o,r,t,e,i,a){const n=ee("DonutChart"),s=ee("VersionsDonutChart"),l=ee("CardSkeleton"),h=ee("ResourcesList");return Tt(),ae("div",rs,[gt("div",{class:Jt(a.chartContainerClass)},[o.selectedMesh==="all"?(Tt(),be(n,{key:0,class:Jt(a.chartClass),title:{singular:"ZONE",plural:"ZONES"},data:a.zonesChart.data,url:{name:"zones"},"is-loading":o.areZonesInsightsLoading},null,8,["class","data","is-loading"])):Be("",!0),Et(n,{class:Jt(a.chartClass),title:{singular:"SERVICE",plural:"SERVICES"},data:a.servicesChart.data,"is-loading":o.areServicesLoading,"save-chart":""},null,8,["class","data","is-loading"]),Et(n,{class:Jt(a.chartClass),title:{singular:"DP PROXY",plural:"DP PROXIES"},data:a.dataplanesChart.data,url:{name:"data-plane-list-view"},"is-loading":o.areMeshInsightsLoading},null,8,["class","data","is-loading"]),o.selectedMesh==="all"?(Tt(),be(s,{key:1,class:Jt(a.chartClass),title:"ZONE CP",data:a.zonesCPVersionsChart.data,url:{name:"zones"},"is-loading":o.areZonesInsightsLoading},null,8,["class","data","is-loading"])):Be("",!0),Et(s,{class:Jt(a.chartClass),title:"KUMA DP",data:a.kumaDPVersionsChart.data,"is-loading":o.areMeshInsightsLoading},null,8,["class","data","is-loading"]),Et(s,{class:Jt(a.chartClass),title:"ENVOY",data:a.envoyVersionsChart.data,"is-loading":o.areMeshInsightsLoading,"display-am-charts-logo":""},null,8,["class","data","is-loading"])],2),gt("div",as,[gt("div",null,[Et(l,{class:"card-item","card-action-route":{name:"create-mesh"},"card-title":"Create a virtual Mesh","card-action-button-text":"Create Mesh"},{cardContent:ce(()=>[ns]),_:1})]),gt("div",null,[Et(l,{class:"card-item","card-action-route":a.dataplaneWizardRoute,"card-title":"Connect data plane proxies","card-action-button-text":"Get Started"},{cardContent:ce(()=>[ss]),_:1},8,["card-action-route"])]),gt("div",null,[Et(l,{class:"card-item","card-action-route":a.cardActionPoliciesRoute,"card-title":`Apply ${o.title} policies`,"card-action-button-text":"Explore Policies"},{cardContent:ce(()=>[gt("p",null," We can apply "+Pe(i.productName)+" policies to secure, observe, route and manage the Mesh and its data plane proxies. ",1)]),_:1},8,["card-action-route","card-title"])]),gt("div",null,[Et(h,{class:"card-item"})])])])}const hs=Se(is,[["render",os],["__scopeId","data-v-9fb5b142"]]);export{hs as default};
