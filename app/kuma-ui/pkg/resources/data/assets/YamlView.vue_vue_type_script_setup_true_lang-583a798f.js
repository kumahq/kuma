import{t as B}from"./kongponents.es-79677c68.js";import{u as E}from"./store-3df31b4b.js";import{_ as y}from"./CodeBlock.vue_vue_type_style_index_0_lang-65c4c937.js";import{_ as S}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-01ce080a.js";import{E as V}from"./ErrorBlock-6baedf31.js";import{_ as w}from"./LoadingBlock.vue_vue_type_script_setup_true_lang-d0e41aae.js";import{t as k}from"./toYaml-4e00099e.js";import{d as j,r as H,c as C,h as g,a as s,w as b,u as o,o as n,e as p}from"./runtime-dom.esm-bundler-062436f2.js";const L={class:"yaml-view"},M={key:3,class:"yaml-view-content"},F=j({__name:"YamlView",props:{id:{type:String,required:!0},content:{type:Object,required:!1,default:null},isLoading:{type:Boolean,required:!1,default:!1},hasError:{type:Boolean,required:!1,default:!1},isEmpty:{type:Boolean,required:!1,default:!1},codeMaxHeight:{type:String,required:!1,default:null},isSearchable:{type:Boolean,required:!1,default:!1}},setup(e){const t=e,v=E(),c=[{hash:"#universal",title:"Universal"},{hash:"#kubernetes",title:"Kubernetes"}],i=H(c[0].hash),r=v.getters["config/getEnvironment"];typeof r=="string"&&(i.value="#"+r);const m=C(()=>{var f;const a={};if(a.apiVersion="kuma.io/v1alpha1",a.kind=t.content.type,t.content.mesh!==void 0&&(a.mesh=t.content.mesh),(f=t.content.name)!=null&&f.includes(".")){const h=t.content.name.split("."),q=h.pop(),x=h.join(".");a.metadata={name:x,namespace:q}}else a.metadata={name:t.content.name};const{type:l,name:d,mesh:O,...u}=t.content;return Object.keys(u).length>0&&(a.spec=u),{universal:k(t.content),kubernetes:k(a)}});return(a,l)=>(n(),g("div",L,[e.isLoading?(n(),s(w,{key:0})):e.hasError?(n(),s(V,{key:1})):e.isEmpty?(n(),s(S,{key:2})):(n(),g("div",M,[(n(),s(o(B),{key:o(r),modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=d=>i.value=d),tabs:c},{universal:b(()=>[p(y,{id:e.id,language:"yaml",code:o(m).universal,"is-searchable":e.isSearchable,"query-key":e.id,"code-max-height":e.codeMaxHeight},null,8,["id","code","is-searchable","query-key","code-max-height"])]),kubernetes:b(()=>[p(y,{id:e.id,language:"yaml",code:o(m).kubernetes,"is-searchable":e.isSearchable,"query-key":e.id,"code-max-height":e.codeMaxHeight},null,8,["id","code","is-searchable","query-key","code-max-height"])]),_:1},8,["modelValue"]))]))]))}});export{F as _};
