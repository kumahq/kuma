(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["wizard-dataplane-universal"],{"14aa":function(e,t,a){"use strict";var n=a("6219"),r=a.n(n);r.a},"2ada":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wizard"},[a("div",{staticClass:"wizard__content"},[a("StepSkeleton",{ref:"stepSystem",attrs:{steps:e.steps,"advance-check":!0,"sidebar-content":e.sidebarContent,"next-disabled":e.nextDisabled}},[a("template",{slot:"general"},[a("p",[e._v(" Welcome to the wizard to create a new Dataplane resource in "+e._s(e.title)+". We will be providing you with a few steps that will get you started. ")]),a("p",[e._v(" As you know, the Kuma GUI is read-only. ")]),a("Switcher"),a("h3",[e._v(" To get started, please select on what Mesh you would like to add the Dataplane: ")]),a("p",[e._v(" If you've got an existing Mesh that you would like to associate with your Dataplane, you can select it below, or create a new one using our Mesh Wizard. ")]),a("KCard",{staticClass:"my-6",attrs:{"has-shadow":""}},[a("template",{slot:"body"},[a("FormFragment",{attrs:{title:"Choose a Mesh","for-attr":"dp-mesh","all-inline":""}},[a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.validate.meshName,expression:"validate.meshName"}],staticClass:"k-input w-100",attrs:{id:"dp-mesh"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.validate,"meshName",t.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[e._v(" Select an existing Mesh… ")]),e._l(e.meshes.items,(function(t){return a("option",{key:t.name,domProps:{value:t.name}},[e._v(" "+e._s(t.name)+" ")])}))],2)]),a("div",[a("label",{staticClass:"k-input-label mr-4"},[e._v(" or ")]),a("KButton",{attrs:{to:{name:"create-mesh"},appearance:"primary"}},[e._v(" Create a new Mesh ")])],1)])],1)],2)],1),a("template",{slot:"topology"},[a("h3",[e._v(" Setup Dataplane Mode ")]),a("p",[e._v(" You can create a data plane for a service or a data plane for a Gateway. ")]),a("FormFragment",{attrs:{"all-inline":"","equal-cols":"","hide-label-col":"","shift-right":""}},[a("div",[a("label",{attrs:{for:"service-dataplane"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.validate.univDataplaneType,expression:"validate.univDataplaneType"}],staticClass:"k-input",attrs:{id:"service-dataplane",type:"radio",name:"dataplane-type",value:"dataplane-type-service",checked:""},domProps:{checked:e._q(e.validate.univDataplaneType,"dataplane-type-service")},on:{change:function(t){return e.$set(e.validate,"univDataplaneType","dataplane-type-service")}}}),a("span",[e._v(" Service Dataplane ")])]),a("label",{attrs:{for:"gateway-dataplane"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.validate.univDataplaneType,expression:"validate.univDataplaneType"}],staticClass:"k-input",attrs:{id:"gateway-dataplane",type:"radio",name:"dataplane-type",value:"dataplane-type-gateway"},domProps:{checked:e._q(e.validate.univDataplaneType,"dataplane-type-gateway")},on:{change:function(t){return e.$set(e.validate,"univDataplaneType","dataplane-type-gateway")}}}),a("span",[e._v(" Gateway Dataplane ")])])])]),a("FormFragment",{attrs:{"all-inline":"",title:"Service name"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.validate.univDataplaneServiceName,expression:"validate.univDataplaneServiceName"}],staticClass:"k-input w-100 mr-4",attrs:{id:"service-name",type:"text"},domProps:{value:e.validate.univDataplaneServiceName},on:{input:function(t){t.target.composing||e.$set(e.validate,"univDataplaneServiceName",t.target.value)}}})]),a("FormFragment",{attrs:{"all-inline":"",title:"Dataplane ID","for-attr":"dataplane-id"}},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.validate.univDataplaneId,expression:"validate.univDataplaneId"}],staticClass:"k-input w-100",attrs:{id:"dataplane-id",type:"text",disabled:e.validate.univDataplaneCustomIdDisabled},domProps:{value:e.validate.univDataplaneId},on:{input:function(t){t.target.composing||e.$set(e.validate,"univDataplaneId",t.target.value)}}})]),a("div",[a("KButton",{attrs:{appearance:"primary"},on:{click:function(t){e.validate.univDataplaneCustomIdDisabled=!1}}},[e._v(" Edit ")]),a("HelperTooltip",[e._v(" This is a unique ID for the Dataplane instance. ")])],1)])],1),a("template",{slot:"networking"},[a("h3",[e._v(" Networking ")]),a("p",[e._v(" It's time to now configure the networking settings so that the Dataplane can connect to the local service, and other data planes can consume your service. ")]),a("p",[a("strong",[e._v("All fields below are required to proceed.")])]),a("FormFragment",{attrs:{"all-inline":"",title:"Data Plane IP Address","for-attr":"network-address"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.validate.univDataplaneNetworkAddress,expression:"validate.univDataplaneNetworkAddress"}],staticClass:"k-input w-100",attrs:{id:"network-address",type:"text"},domProps:{value:e.validate.univDataplaneNetworkAddress},on:{input:function(t){t.target.composing||e.$set(e.validate,"univDataplaneNetworkAddress",t.target.value)}}}),a("HelperTooltip",[e._v(" The IP address that other services will use to consume this data plane. ")])],1),a("FormFragment",{attrs:{"all-inline":"","fill-first":"",title:"Data Plane Port","for-attr":"network-dataplane-port"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.validate.univDataplaneNetworkDPPort,expression:"validate.univDataplaneNetworkDPPort"}],staticClass:"k-input w-100",attrs:{id:"network-dataplane-port",type:"text"},domProps:{value:e.validate.univDataplaneNetworkDPPort},on:{input:function(t){t.target.composing||e.$set(e.validate,"univDataplaneNetworkDPPort",t.target.value)}}}),a("HelperTooltip",[e._v(" The data plane port (that other services will use to consume this service). ")])],1),a("FormFragment",{attrs:{"all-inline":"",title:"Service IP Address","for-attr":"network-service-address"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.validate.univDataplaneNetworkServiceAddress,expression:"validate.univDataplaneNetworkServiceAddress"}],staticClass:"k-input w-100",attrs:{id:"network-service-address",type:"text"},domProps:{value:e.validate.univDataplaneNetworkServiceAddress},on:{input:function(t){t.target.composing||e.$set(e.validate,"univDataplaneNetworkServiceAddress",t.target.value)}}}),a("HelperTooltip",[e._v(" The address where your service is listening on the machine. ")])],1),a("FormFragment",{attrs:{"all-inline":"",title:"Service Port","for-attr":"network-service-port"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.validate.univDataplaneNetworkServicePort,expression:"validate.univDataplaneNetworkServicePort"}],staticClass:"k-input w-100",attrs:{id:"network-service-port",type:"text"},domProps:{value:e.validate.univDataplaneNetworkServicePort},on:{input:function(t){t.target.composing||e.$set(e.validate,"univDataplaneNetworkServicePort",t.target.value)}}}),a("HelperTooltip",[e._v(" The port where your service is listening on the machine. ")])],1),a("FormFragment",{attrs:{"all-inline":"",title:"Protocol","for-attr":"network-dataplane-protocol"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.validate.univDataplaneNetworkProtocol,expression:"validate.univDataplaneNetworkProtocol"}],staticClass:"k-input w-100",attrs:{id:"network-dataplane-protocol",name:"network-dataplane-protocol"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.validate,"univDataplaneNetworkProtocol",t.target.multiple?a:a[0])}}},e._l(e.formFields.protocols,(function(t,n){return a("option",{key:n,domProps:{value:t,selected:e.validate.univDataplaneNetworkProtocol===t}},[e._v(" "+e._s(t)+" ")])})),0),a("HelperTooltip",[e._v(" The protocol of the service. ")])],1)],1),a("template",{slot:"complete"},[e.validate.meshName?a("div",[!1===e.hideScannerSiblings?a("div",[a("h3",[e._v(" Install a new Dataplane ")]),a("p",[e._v(" You can now execute the following commands to automatically inject the sidecar proxy in every Pod, and by doing so creating the Dataplane. ")]),a("Tabs",{attrs:{loaders:!1,tabs:e.tabs,"has-border":!0,"initial-tab-override":"universal"}},[a("template",{slot:"universal"},[a("CodeView",{attrs:{title:"Universal","copy-button-text":"Copy Command to Clipboard",lang:"bash",content:e.codeOutput}})],1)],2)],1):e._e(),a("Scanner",{attrs:{"loader-function":e.scanForEntity,"should-start":!0,"has-error":e.scanError,"can-complete":e.scanFound},on:{hideSiblings:e.hideSiblings}},[a("template",{slot:"loading-title"},[a("h3",[e._v("Searching…")])]),a("template",{slot:"loading-content"},[a("p",[e._v("We are looking for your dataplane.")])]),a("template",{slot:"complete-title"},[a("h3",[e._v("Done!")])]),a("template",{slot:"complete-content"},[a("p",[e._v(" Your Dataplane "),e.validate.univDataplaneId?a("strong",[e._v(" "+e._s(e.validate.univDataplaneId)+" ")]):e._e(),e._v(" was found! ")]),a("p",[e._v(" Proceed to the next step where we will explain how to start your new Dataplane. ")]),a("p",[a("KButton",{attrs:{appearance:"primary"},on:{click:function(t){return e.$refs.stepSystem.goToNextStep()}}},[e._v(" Start Your Dataplane ")])],1)]),a("template",{slot:"error-title"},[a("h3",[e._v("Mesh not found")])]),a("template",{slot:"error-content"},[a("p",[e._v("We were unable to find your mesh.")])])],2)],1):a("KAlert",{attrs:{appearance:"danger"}},[a("template",{slot:"alertMessage"},[a("p",[e._v(" Please return to the first step and make sure to select an existing Mesh, or create a new one. ")])])],2)],1),a("template",{slot:"start"},[e.validate.meshName?a("div",[a("h3",[e._v(" Start your Dataplane ")]),a("p",[e._v(" Now that "+e._s(e.title)+" knows that the configured Dataplane will eventually connect to it, it's time to first generate the credentials that will allow the Dataplane to successfully authenticate itself with the control plane, and then finally start the Dataplane process (powered by Envoy). ")]),a("Tabs",{attrs:{loaders:!1,tabs:e.tabs,"has-border":!0,"initial-tab-override":"universal"}},[a("template",{slot:"universal"},[a("CodeView",{attrs:{title:"Generate Dataplane Token","copy-button-text":"Copy Command to Clipboard",lang:"bash",content:e.generateDpTokenCodeOutput}}),a("CodeView",{attrs:{title:"Start Dataplane Process","copy-button-text":"Copy Command to Clipboard",lang:"bash",content:e.startDpCodeOutput}})],1)],2)],1):a("KAlert",{attrs:{appearance:"danger"}},[a("template",{slot:"alertMessage"},[a("p",[e._v(" Please return to the first step and make sure to select an existing Mesh, or create a new one. ")])])],2)],1),a("template",{slot:"dataplane"},[a("h3",[e._v("Dataplane")]),a("p",[e._v(" In "+e._s(e.title)+", a Dataplane resource represents a data plane proxy running alongside one of your services. Data plane proxies can be added in any Mesh that you may have created, and in Kubernetes, they will be auto-injected by "+e._s(e.title)+". ")])]),a("template",{slot:"example"},[a("h3",[e._v("Example")]),a("p",[e._v(" Below is an example of a Dataplane resource output: ")]),a("code",[a("pre",[e._v("type: Dataplane\nmesh: default\nname: dp-echo-1\nnetworking:\n  address: 10.0.0.1\n  inbound:\n  - port: 10000\n    servicePort: 9000\n    tags:\n      kuma.io/service: echo")])])])],2)],1)])},r=[],i=(a("99af"),a("b0c0"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("498a"),a("5530")),o=a("2f62"),s=a("7e88"),l=a("cfb0"),u=a("ad2f"),c=a("2791"),p=a("251b"),d=a("4c4d"),v=a("e108"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("KPop",{staticClass:"help-icon",attrs:{trigger:"hover"}},[a("a",[e._v("?")]),a("div",{attrs:{slot:"content"},slot:"content"},[e._t("default")],2)])},h=[],g={},f=g,w=a("2877"),D=Object(w["a"])(f,m,h,!1,null,null,null),b=D.exports,y=a("12d5"),k=a("c3b5"),_=a("9ef1"),N=a.n(_),S={name:"DataplaneWizardUniversal",metaInfo:{title:"Create a new Dataplane on Universal"},components:{FormFragment:c["a"],Tabs:p["a"],StepSkeleton:d["a"],Switcher:v["a"],HelperTooltip:b,CodeView:y["a"],Scanner:k["a"]},mixins:[u["a"],l["a"]],data:function(){return{schema:N.a,steps:[{label:"General",slug:"general"},{label:"Topology",slug:"topology"},{label:"Networking",slug:"networking"},{label:"Install",slug:"complete"},{label:"Start",slug:"start"}],tabs:[{hash:"#universal",title:"Universal"}],sidebarContent:[{name:"dataplane"},{name:"example"}],startScanner:!1,scanFound:!1,hideScannerSiblings:!1,scanError:!1,isComplete:!1,nextDisabled:!0,validate:{meshName:"",univDataplaneType:"dataplane-type-service",univDataplaneServiceName:"",univDataplaneId:"",univDataplaneCustomIdDisabled:!0,univDataplaneNetworkAddress:null,univDataplaneNetworkServicePort:null,univDataplaneNetworkServiceAddress:"127.0.0.1",univDataplaneNetworkDPPort:null,univDataplaneNetworkProtocol:"tcp"},vmsg:[],formFields:{protocols:["tcp","http","grpc"]}}},computed:Object(i["a"])(Object(i["a"])({},Object(o["b"])({title:"getTagline",version:"getVersion",environment:"getEnvironment",formData:"getStoredWizardData",selectedTab:"getSelectedTab",meshes:"getMeshList"})),{},{randString:function(){return Math.random().toString(36).substring(2,8)},getConfigUrl:function(){var e=Object(s["a"])().replace("gui","/").replace("config","");return e},codeOutput:function(){var e=Object.assign({},this.schema),t=this.validate,a=t.meshName,n=t.univDataplaneType,r=t.univDataplaneServiceName,i=t.univDataplaneId,o=t.univDataplaneNetworkAddress,s=t.univDataplaneNetworkServicePort,l=t.univDataplaneNetworkServiceAddress,u=t.univDataplaneNetworkDPPort,c=t.univDataplaneNetworkProtocol;if(a){e.name=i,e.mesh=a,"dataplane-type-service"===n?(e.networking.gateway&&delete e.networking.gateway,e.networking={address:o,inbound:[{port:u,servicePort:s,serviceAddress:l,tags:{"kuma.io/service":r,"kuma.io/protocol":c}}]}):"dataplane-type-gateway"===n&&(e.networking.inbound&&delete e.networking.inbound,e.networking={address:o,gateway:{tags:{"kuma.io/service":r}}});var p='" | kumactl apply -f -',d=this.formatForCLI(e,p);return d}},generateDpTokenCodeOutput:function(){var e=this.validate,t=(e.meshName,e.univDataplaneId),a="kumactl generate dataplane-token --dataplane=".concat(t," > kuma-token-").concat(t);return a},startDpCodeOutput:function(){var e=this.validate,t=e.meshName,a=e.univDataplaneId,n="kuma-dp run \\\n      --name=".concat(a," \\\n      --mesh=").concat(t," \\\n      --cp-address=").concat(this.getConfigUrl," \\\n      --dataplane-token-file=kuma-token-").concat(a);return n}}),watch:{validate:{handler:function(){var e=JSON.stringify(this.validate),t=this.validate.meshName,a=this.validate,n=a.univDataplaneServiceName,r=a.univDataplaneId,i=a.univDataplaneNetworkAddress,o=a.univDataplaneNetworkServicePort,s=a.univDataplaneNetworkDPPort,l=a.univDataplaneNetworkProtocol;localStorage.setItem("storedFormData",e),t.length?this.nextDisabled=!1:this.nextDisabled=!0,2===this.$route.query.step&&(this.nextDisabled=!(i&&o&&s&&l)),1===this.$route.query.step&&(this.nextDisabled=!n||!r)},deep:!0},$route:function(){var e=this.$route.query.step,t=this.validate,a=t.univDataplaneServiceName,n=t.univDataplaneId,r=t.univDataplaneNetworkAddress,i=t.univDataplaneNetworkServicePort,o=t.univDataplaneNetworkDPPort,s=t.univDataplaneNetworkProtocol;1===e&&(this.nextDisabled=!a||!n),2===e&&(this.nextDisabled=!(r&&i&&o&&s))},"validate.univDataplaneId":function(e){var t=e.replace(/[^a-zA-Z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();this.validate.univDataplaneId=t},"validate.univDataplaneServiceName":function(e){var t=e.replace(/[^a-zA-Z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),a="".concat(e,"-").concat(this.randString).replace(/\s+/g,"-").replace(/-+/g,"-").trim();this.validate.univDataplaneServiceName=t,""===this.validate.univDataplaneServiceName?this.validate.univDataplaneId="":this.validate.univDataplaneId=a},"validate.univDataplaneNetworkServicePort":function(e){var t=e.replace(/[a-zA-Z]*$/g,"").trim();this.validate.univDataplaneNetworkServicePort=t},"validate.univDataplaneNetworkDPPort":function(e){var t=e.replace(/[a-zA-Z]*$/g,"").trim();this.validate.univDataplaneNetworkDPPort=t}},methods:{hideSiblings:function(){this.hideScannerSiblings=!0},scanForEntity:function(){var e=this,t=this.validate,a=t.meshName,n=t.univDataplaneId;this.scanComplete=!1,this.scanError=!1,a&&n&&this.$api.getDataplaneFromMesh(a,n).then((function(t){t&&t.name.length>0?(e.isRunning=!0,e.scanFound=!0):e.scanError=!0})).catch((function(t){e.scanError=!0,console.error(t)})).finally((function(){e.scanComplete=!0}))}}},C=S,P=Object(w["a"])(C,n,r,!1,null,null,null);t["default"]=P.exports},"42e1":function(e,t,a){"use strict";var n=a("5417"),r=a.n(n);r.a},"498a":function(e,t,a){"use strict";var n=a("23e7"),r=a("58a8").trim,i=a("c8d2");n({target:"String",proto:!0,forced:i("trim")},{trim:function(){return r(this)}})},5417:function(e,t,a){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("1d80"),r=a("5899"),i="["+r+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),l=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(o,"")),2&e&&(a=a.replace(s,"")),a}};e.exports={start:l(1),end:l(2),trim:l(3)}},6219:function(e,t,a){},"66d7":function(e,t,a){},7156:function(e,t,a){var n=a("861d"),r=a("d2bb");e.exports=function(e,t,a){var i,o;return r&&"function"==typeof(i=t.constructor)&&i!==a&&n(o=i.prototype)&&o!==a.prototype&&r(e,o),e}},"8a1f":function(e,t,a){"use strict";var n=a("8a91"),r=a.n(n);r.a},"8a91":function(e,t,a){},"9ef1":function(e,t){e.exports={type:"Dataplane",mesh:null,name:null,networking:{}}},a9e3:function(e,t,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("94ca"),o=a("6eeb"),s=a("5135"),l=a("c6b6"),u=a("7156"),c=a("c04e"),p=a("d039"),d=a("7c73"),v=a("241c").f,m=a("06cf").f,h=a("9bf2").f,g=a("58a8").trim,f="Number",w=r[f],D=w.prototype,b=l(d(D))==f,y=function(e){var t,a,n,r,i,o,s,l,u=c(e,!1);if("string"==typeof u&&u.length>2)if(u=g(u),t=u.charCodeAt(0),43===t||45===t){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(i=u.slice(2),o=i.length,s=0;s<o;s++)if(l=i.charCodeAt(s),l<48||l>r)return NaN;return parseInt(i,n)}return+u};if(i(f,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var k,_=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof _&&(b?p((function(){D.valueOf.call(a)})):l(a)!=f)?u(new w(y(t)),a,_):y(t)},N=n?v(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;N.length>S;S++)s(w,k=N[S])&&!s(_,k)&&h(_,k,m(w,k));_.prototype=D,D.constructor=_,o(r,f,_)}},bcd8:function(e,t,a){"use strict";var n=a("df1e"),r=a.n(n);r.a},c3b5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.shouldStart?a("div",{staticClass:"scanner"},[a("div",{staticClass:"scanner-content"},[a("KEmptyState",{attrs:{"cta-is-hidden":""}},[a("template",{slot:"title"},[e.isRunning?a("div",{staticClass:"card-icon mb-3"},[a("KIcon",{attrs:{icon:"spinner",color:"rgba(0, 0, 0, 0.1)",size:"42"}})],1):e._e(),e.isComplete&&!1===e.hasError&&!1===e.isRunning?a("div",{staticClass:"card-icon mb-3"},[a("IconSuccess")],1):e._e(),e.isRunning?e._t("loading-title"):e._e(),!1===e.isRunning?a("div",[e.hasError?e._t("error-title"):e._e(),e.isComplete&&!1===e.hasError?e._t("complete-title"):e._e()],2):e._e()],2),a("template",{slot:"message"},[e.isRunning?e._t("loading-content"):e._e(),!1===e.isRunning?a("div",[e.hasError?e._t("error-content"):e._e(),e.isComplete&&!1===e.hasError?e._t("complete-content"):e._e()],2):e._e()],2)],2)],1)]):e._e()},r=[],i=(a("a9e3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("i",{staticClass:"card-icon icon-success mb-3",attrs:{role:"img"}},[e._v(" ✓ ")])}),o=[],s={},l=s,u=(a("8a1f"),a("2877")),c=Object(u["a"])(l,i,o,!1,null,"c70a6732",null),p=c.exports,d={name:"Scanner",components:{IconSuccess:p},props:{interval:{type:Number,required:!1,default:1e3},retries:{type:Number,required:!1,default:3600},shouldStart:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},loaderFunction:{type:Function,required:!0},canComplete:{type:Boolean,default:!1}},data:function(){return{i:0,isRunning:!1,isComplete:!1,intervalId:null}},watch:{shouldStart:function(e,t){e!==t&&!0===e&&this.runScanner()}},mounted:function(){!0===this.shouldStart&&this.runScanner()},beforeDestroy:function(){clearInterval(this.intervalId)},methods:{runScanner:function(){var e=this;this.isRunning=!0,this.isComplete=!1,this.intervalId=setInterval((function(){e.i++,e.loaderFunction(),e.i!==e.retries&&!0!==e.canComplete||(clearInterval(e.intervalId),e.isRunning=!1,e.isComplete=!0,e.$emit("hideSiblings",!0))}),this.interval)}}},v=d,m=(a("d929"),a("42e1"),Object(u["a"])(v,n,r,!1,null,"3bf16e1f",null));t["a"]=m.exports},c8d2:function(e,t,a){var n=a("d039"),r=a("5899"),i="​᠎";e.exports=function(e){return n((function(){return!!r[e]()||i[e]()!=i||r[e].name!==e}))}},d929:function(e,t,a){"use strict";var n=a("66d7"),r=a.n(n);r.a},df1e:function(e,t,a){},e108:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wizard-switcher"},[a("KEmptyState",{ref:"emptyState",staticClass:"my-6 wizard-empty-state",attrs:{"cta-is-hidden":"","is-error":!e.environment}},["kubernetes"===e.environment||"universal"===e.environment?a("template",{slot:"title"},[e._v(" Running on "),a("span",{staticClass:"env-name"},[e._v(e._s(e.environment))])]):e._e(),a("template",{slot:"message"},["kubernetes"===e.environment?a("div",[this.$route.name===e.wizardRoutes.kubernetes?a("div",[a("p",[e._v(" We have detected that you are running on a "),a("strong",[e._v("Kubernetes environment")]),e._v(", and we are going to be showing you instructions for Kubernetes unless you decide to visualize the instructions for Universal. ")]),a("p",[a("KButton",{attrs:{to:{name:e.wizardRoutes.universal},appearance:"primary"}},[e._v(" Switch to Universal instructions ")])],1)]):this.$route.name===e.wizardRoutes.universal?a("div",[a("p",[e._v(" We have detected that you are running on a "),a("strong",[e._v("Kubernetes environment")]),e._v(", but you are viewing instructions for Universal. ")]),a("p",[a("KButton",{attrs:{to:{name:e.wizardRoutes.kubernetes},appearance:"primary"}},[e._v(" Switch back to Kubernetes instructions ")])],1)]):e._e()]):"universal"===e.environment?a("div",[this.$route.name===e.wizardRoutes.kubernetes?a("div",[a("p",[e._v(" We have detected that you are running on a "),a("strong",[e._v("Universal environment")]),e._v(", but you are viewing instructions for Kubernetes. ")]),a("p",[a("KButton",{attrs:{to:{name:e.wizardRoutes.universal},appearance:"primary"}},[e._v(" Switch back to Universal instructions ")])],1)]):this.$route.name===e.wizardRoutes.universal?a("div",[a("p",[e._v(" We have detected that you are running on a "),a("strong",[e._v("Universal environment")]),e._v(", and we are going to be showing you instructions for Universal unless you decide to visualize the instructions for Kubernetes. ")]),a("p",[a("KButton",{attrs:{to:{name:e.wizardRoutes.kubernetes},appearance:"primary"}},[e._v(" Switch to Kubernetes instructions ")])],1)]):e._e()]):e._e()])],2)],1)},r=[],i=a("5530"),o=a("2f62"),s={name:"Switcher",data:function(){return{wizardRoutes:{kubernetes:"kubernetes-dataplane",universal:"universal-dataplane"}}},computed:Object(i["a"])(Object(i["a"])({},Object(o["b"])({environment:"getEnvironment"})),{},{instructionsCtaText:function(){return"universal"===this.environment?"Switch to Kubernetes instructions":"Switch to Universal instructions"},instructionsCtaRoute:function(){return"kubernetes"===this.environment?{name:"universal-dataplane"}:{name:"kubernetes-dataplane"}}})},l=s,u=(a("bcd8"),a("14aa"),a("2877")),c=Object(u["a"])(l,n,r,!1,null,"15cab173",null);t["a"]=c.exports}}]);