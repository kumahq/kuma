(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a5534110"],{"12e7":function(t,a,e){"use strict";var n=e("3b59"),s=e.n(n);s.a},"1af6":function(t,a,e){var n=e("63b6");n(n.S,"Array",{isArray:e("9003")})},"20fd":function(t,a,e){"use strict";var n=e("d9f6"),s=e("aebd");t.exports=function(t,a,e){a in t?n.f(t,a,s(0,e)):t[a]=e}},2699:function(t,a,e){},2778:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"data-overview"},[t.displayRefreshControl?n("div",{staticClass:"data-table-controls mb-2"},[n("KButton",{attrs:{appearance:"secondary",size:"small",disabled:t.isLoading},on:{click:function(a){return t.$emit("reloadData")}}},[t.isLoading?n("KIcon",{attrs:{icon:"spinner",color:"rgba(0, 0, 0, 5)",size:"48"}}):t._e(),n("span",[t._v("Refresh")])],1)],1):t._e(),t.isReady?n("div",{staticClass:"data-overview-content"},[!t.isLoading&&t.displayMetrics&&t.metricsData?n("MetricGrid",{attrs:{metrics:t.metricsData}}):t._e(),t.displayDataTable&&!t.tableDataIsEmpty&&t.tableData?n("div",[n("KTable",{class:{"data-table-is-hidden":t.tableDataIsEmpty},attrs:{options:t.tableDataFiltered,"has-hover":""},scopedSlots:t._u([t.displayTableDataStatus?{key:"status",fn:function(a){var e=a.rowValue;return[n("div",{staticClass:"entity-status",class:{"is-offline":"offline"===e.toLowerCase()}},[n("span",{staticClass:"entity-status__dot"}),n("span",{staticClass:"entity-status__label"},[t._v(t._s(e))])])]}}:null,{key:"tags",fn:function(a){var e=a.rowValue;return t._l(e,(function(a,e){return n("span",{key:e,staticClass:"entity-tags",class:"entity-tags--"+e},[n("span",{staticClass:"entity-tags__label",class:"entity-tags__label--"+a.label.toLowerCase(),style:"color: var("+t.tagColors[e].text+") background-color: var("+t.tagColors[e].fill+")"},[t._v("\n              "+t._s(a.label)+"\n            ")]),n("span",{staticClass:"entity-tags__value",class:"entity-tags__value--"+a.value},[t._v("\n              "+t._s(a.value)+"\n            ")])])}))}},{key:"actions",fn:function(a){var e=a.row;return[n("router-link",{attrs:{to:{name:t.tableActionsRouteName,params:{mesh:"mesh"===e.type.toLowerCase()?e.name:e.mesh,dataplane:"dataplane"===e.type.toLowerCase()?e.name:null,trafficpermission:"trafficpermission"===e.type.toLowerCase()?e.name:null,trafficroute:"trafficroute"===e.type.toLowerCase()?e.name:null,trafficlog:"trafficlog"===e.type.toLowerCase()?e.name:null,traffictrace:"traffictrace"===e.type.toLowerCase()?e.name:null,healthcheck:"healthcheck"===e.type.toLowerCase()?e.name:null,proxytemplate:"proxytemplate"===e.type.toLowerCase()?e.name:null,service:"service"===e.type.toLowerCase()?e.name:null}}}},[t._t("tableDataActionsLinkText")],2)]}}],null,!0)}),t.tableData&&t.tableRowCount>t.pageSize?n("Pagination",{staticClass:"ml-2 mr-2 mb-2",attrs:{"has-previous":t.pageNumber>0,"has-next":t.pageNumber<t.pageCount-1},on:{next:t.goToNextPage,previous:t.goToPreviousPage}}):t._e()],1):t._e(),t.displayDataTable&&t.tableDataIsEmpty&&t.tableData?n("KEmptyState",{attrs:{"cta-is-hidden":""}},[n("template",{slot:"title"},[n("div",{staticClass:"card-icon mb-3"},[n("img",{attrs:{src:e("a448")}})]),t._v("\n        No Items Found\n      ")])],2):t._e(),t.$slots.content?n("div",{staticClass:"data-overview-content mt-6"},[t._t("content")],2):t._e()],1):t._e(),t.isLoading?n("KEmptyState",{attrs:{"cta-is-hidden":""}},[n("template",{slot:"title"},[n("div",{staticClass:"card-icon mb-3"},[n("KIcon",{attrs:{icon:"spinner",color:"rgba(0, 0, 0, 0.1)",size:"42"}})],1),t._v("\n      Data Loading...\n    ")])],2):t._e(),t.isEmpty?n("KEmptyState",{attrs:{"cta-is-hidden":""}},[n("template",{slot:"title"},[t._v("\n      "+t._s(t.emptyState.title)+"\n    ")]),t.showCta?n("template",{slot:"message"},[t.ctaAction&&t.ctaAction.length?n("router-link",{attrs:{to:t.ctaAction}},[t._v("\n        "+t._s(t.emptyState.ctaText)+"\n      ")]):t._e(),t._v("\n      "+t._s(t.emptyState.message)+"\n    ")],1):t._e()],2):t._e(),t.hasError?n("KEmptyState",{attrs:{"cta-is-hidden":""}},[n("template",{slot:"title"},[n("div",{staticClass:"card-icon mb-3"},[n("KIcon",{staticClass:"kong-icon--centered",attrs:{color:"var(--yellow-base)",icon:"warning",size:"42"}})],1),t._v("\n      An error has occurred while trying to load this data.\n    ")])],2):t._e()],1)},s=[],i=e("75fc"),r=(e("ac6a"),e("ffc1"),e("be10")),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pagination"},[e("KButton",{attrs:{disabled:!t.hasPrevious,appearance:"primary","data-testid":"previous"},on:{click:function(a){return t.$emit("previous")}}},[t._v("\n    ‹ Previous\n  ")]),e("KButton",{attrs:{disabled:!t.hasNext,appearance:"primary","data-testid":"next"},on:{click:function(a){return t.$emit("next")}}},[t._v("\n    Next ›\n  ")])],1)},l=[],c={name:"Pagination",props:{hasPrevious:{type:Boolean,default:!1},hasNext:{type:Boolean,default:!1}}},u=c,d=(e("12e7"),e("2877")),f=Object(d["a"])(u,o,l,!1,null,"336ceb96",null),p=f.exports,m={name:"DataOverview",components:{MetricGrid:r["a"],Pagination:p},props:{displayMetrics:{type:Boolean,default:!1},metricsData:{type:Array,default:null},isLoading:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},emptyState:{type:Object,default:null},ctaAction:{type:Object,default:function(){}},showCta:{type:Boolean,default:!0},displayDataTable:{type:Boolean,default:!1},tableData:{type:Object,default:null},tableDataIsEmpty:{type:Boolean,default:!1},tableDataActionsLink:{type:String,default:null},tableActionsRouteName:{type:String,default:null},displayTableDataStatus:{type:Boolean,default:!0},displayRefreshControl:{type:Boolean,default:!0}},data:function(){return{pageSize:12,pageNumber:0,lightText:"#fff",darkText:"#000",tagColors:[{fill:"--green-1",text:this.darkText},{fill:"--blue-2",text:this.lightText},{fill:"--blue-4",text:this.lightText},{fill:"--logo-coral",text:this.darkText},{fill:"--logo-mint",text:this.darkText},{fill:"--logo-navy",text:this.lightText},{fill:"--logo-green",text:this.darkText}]}},computed:{isReady:function(){return!this.isEmpty&&!this.hasError&&!this.isLoading},tableRowCount:function(){return Object.entries(this.tableData.data).length},pageCount:function(){var t=Object.entries(this.tableData.data).length,a=this.pageSize;return Math.ceil(t/a)},tableDataFiltered:function(){var t=this.tableData.data,a=this.tableData.headers,e=this.pageNumber*this.pageSize,n=e+this.pageSize,s=t.slice(e,n),r={headers:a,data:Object(i["a"])(s)};return r}},methods:{goToPreviousPage:function(){this.pageNumber--},goToNextPage:function(){this.pageNumber++}}},g=m,y=(e("9947"),Object(d["a"])(g,n,s,!1,null,null,null));a["a"]=y.exports},"2f21":function(t,a,e){"use strict";var n=e("79e5");t.exports=function(t,a){return!!t&&n((function(){a?t.call(null,(function(){}),1):t.call(null)}))}},"3b59":function(t,a,e){},"549b":function(t,a,e){"use strict";var n=e("d864"),s=e("63b6"),i=e("241e"),r=e("b0dc"),o=e("3702"),l=e("b447"),c=e("20fd"),u=e("7cd6");s(s.S+s.F*!e("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var a,e,s,d,f=i(t),p="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,y=void 0!==g,b=0,h=u(f);if(y&&(g=n(g,m>2?arguments[2]:void 0,2)),void 0==h||p==Array&&o(h))for(a=l(f.length),e=new p(a);a>b;b++)c(e,b,y?g(f[b],b):f[b]);else for(d=h.call(f),e=new p;!(s=d.next()).done;b++)c(e,b,y?r(d,g,[s.value,b],!0):s.value);return e.length=b,e}})},"54a1":function(t,a,e){e("6c1c"),e("1654"),t.exports=e("95d5")},"55dd":function(t,a,e){"use strict";var n=e("5ca1"),s=e("d8e8"),i=e("4bf8"),r=e("79e5"),o=[].sort,l=[1,2,3];n(n.P+n.F*(r((function(){l.sort(void 0)}))||!r((function(){l.sort(null)}))||!e("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(i(this)):o.call(i(this),s(t))}})},"75fc":function(t,a,e){"use strict";var n=e("a745"),s=e.n(n);function i(t){if(s()(t)){for(var a=0,e=new Array(t.length);a<t.length;a++)e[a]=t[a];return e}}var r=e("774e"),o=e.n(r),l=e("c8bb"),c=e.n(l);function u(t){if(c()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return o()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){return i(t)||u(t)||d()}e.d(a,"a",(function(){return f}))},"774e":function(t,a,e){t.exports=e("d2d5")},"79b0":function(t,a,e){"use strict";var n=e("9e30"),s=e.n(n);s.a},8897:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"traffic-permissions"},[e("DataOverview",{attrs:{"has-error":t.hasError,"is-loading":t.isLoading,"is-empty":t.isEmpty,"empty-state":t.empty_state,"display-data-table":!0,"table-data":t.tableData,"table-data-is-empty":t.tableDataIsEmpty,"table-actions-route-name":"traffic-routes-details"},on:{reloadData:t.bootstrap}},[e("template",{slot:"tableDataActionsLinkText"},[t._v("\n      View\n    ")])],2)],1)},s=[],i=e("75fc"),r=(e("7f7f"),e("55dd"),e("2778")),o={name:"TrafficRoutes",metaInfo:{title:"Traffic Routes"},components:{DataOverview:r["a"]},data:function(){return{isLoading:!0,isEmpty:!1,hasError:!1,tableDataIsEmpty:!1,empty_state:{title:"No Data",message:"There are no Traffic Routes present."},tableData:{headers:[{label:"Name",key:"name"},{label:"Mesh",key:"mesh"},{label:"Type",key:"type"},{key:"actions",hideLabel:!0}],data:[]}}},watch:{$route:function(t,a){this.bootstrap()}},beforeMount:function(){this.bootstrap()},methods:{bootstrap:function(){var t=this;this.isLoading=!0,this.isEmpty=!1;var a=this.$route.params.mesh,e=function(){return t.$api.getTrafficRoutes(a).then((function(a){if(a.items.length>0){var e=a.items;e.sort((function(t,a){return t.name>a.name?1:t.name===a.name&&t.mesh>a.mesh?1:-1})),t.tableData.data=Object(i["a"])(e),t.tableDataIsEmpty=!1}else t.tableData.data=[],t.tableDataIsEmpty=!0})).catch((function(a){t.hasError=!0,console.error(a)})).finally((function(){setTimeout((function(){t.isLoading=!1}),"500")}))};e()}}},l=o,c=e("2877"),u=Object(c["a"])(l,n,s,!1,null,null,null);a["default"]=u.exports},"95d5":function(t,a,e){var n=e("40c3"),s=e("5168")("iterator"),i=e("481b");t.exports=e("584a").isIterable=function(t){var a=Object(t);return void 0!==a[s]||"@@iterator"in a||i.hasOwnProperty(n(a))}},9947:function(t,a,e){"use strict";var n=e("2699"),s=e.n(n);s.a},"9e30":function(t,a,e){},a448:function(t,a){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0MiI+CiAgPHBhdGggZmlsbD0iI0Q5RDlEOSIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNDggNHY1aC0yVjZIMnYzSDBWMkMwIC44OTU0MzA1Ljg5NTQzMSAwIDIgMGg0NGMxLjEwNDU2OSAwIDIgLjg5NTQzMDUgMiAydjJ6bS0yIDI2aC00di0yaDR2LTNoMnY4aC0ydi0zek0yIDMwdjNIMHYtOGgydjNoNHYySDJ6bTQ0LTEyaC00di0yaDR2LTNoMnY4aC0ydi0zek0yIDE4djNIMHYtOGgydjNoNHYySDJ6bTgtMmg0djJoLTR2LTJ6bTggMGg0djJoLTR2LTJ6bTggMGg0djJoLTR2LTJ6bTggMGg0djJoLTR2LTJ6TTEwIDI4aDR2MmgtNHYtMnptOCAwaDR2MmgtNHYtMnptOCAwaDR2MmgtNHYtMnptOCAwaDR2MmgtNHYtMnptMTIgMTRoLTR2LTJoNHYtM2gydjNjMCAxLjEwNDU2OTUtLjg5NTQzMSAyLTIgMnpNMiA0MGg0djJIMmMtMS4xMDQ1NjkgMC0yLS44OTU0MzA1LTItMnYtM2gydjN6bTggMGg0djJoLTR2LTJ6bTggMGg0djJoLTR2LTJ6bTggMGg0djJoLTR2LTJ6bTggMGg0djJoLTR2LTJ6TTIgMnYyaDQ0VjJIMnoiLz4KPC9zdmc+Cg=="},a745:function(t,a,e){t.exports=e("f410")},be10:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.metrics?e("div",{staticClass:"info-grid"},t._l(t.metrics,(function(a,n){return null!==a.value?e("div",{key:n,staticClass:"metric",class:a.status,attrs:{"data-testid":a.metric}},[e("span",{staticClass:"metric-title"},[t._v(t._s(a.metric))]),e("span",{staticClass:"metric-value",class:{"has-error":n===t.hasError[n]}},[t._v(t._s(t._f("formatError")(t._f("formatValue")(a.value))))])]):t._e()})),0):t._e()},s=[],i=(e("456d"),e("ac6a"),e("6b54"),{name:"MetricsGrid",filters:{formatValue:function(t){return t?t.toLocaleString("en").toString():0},formatError:function(t){return"--"===t?"error calculating":t}},props:{metrics:{type:Array,required:!0,default:function(){}}},computed:{hasError:function(){var t=this,a={};return Object.keys(this.metrics).forEach((function(e){"--"===t.metrics[e].value&&(a[e]=e)})),a}}}),r=i,o=(e("79b0"),e("2877")),l=Object(o["a"])(r,n,s,!1,null,null,null);a["a"]=l.exports},c8bb:function(t,a,e){t.exports=e("54a1")},d2d5:function(t,a,e){e("1654"),e("549b"),t.exports=e("584a").Array.from},f410:function(t,a,e){e("1af6"),t.exports=e("584a").Array.isArray},ffc1:function(t,a,e){var n=e("5ca1"),s=e("504c")(!0);n(n.S,"Object",{entries:function(t){return s(t)}})}}]);