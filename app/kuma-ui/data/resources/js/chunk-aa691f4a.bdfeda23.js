(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aa691f4a"],{"0327":function(t,e,a){"use strict";var s=a("9fd9"),n=a.n(s);n.a},"12e7":function(t,e,a){"use strict";var s=a("3b59"),n=a.n(s);n.a},"1af6":function(t,e,a){var s=a("63b6");s(s.S,"Array",{isArray:a("9003")})},"20fd":function(t,e,a){"use strict";var s=a("d9f6"),n=a("aebd");t.exports=function(t,e,a){e in t?s.f(t,e,n(0,a)):t[e]=a}},2699:function(t,e,a){},2778:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"data-overview"},[t.displayRefreshControl?s("div",{staticClass:"data-table-controls mb-2"},[s("KButton",{attrs:{appearance:"secondary",size:"small",disabled:t.isLoading},on:{click:function(e){return t.$emit("reloadData")}}},[t.isLoading?s("KIcon",{attrs:{icon:"spinner",color:"rgba(0, 0, 0, 5)",size:"48"}}):t._e(),s("span",[t._v("Refresh")])],1)],1):t._e(),t.isReady?s("div",{staticClass:"data-overview-content"},[!t.isLoading&&t.displayMetrics&&t.metricsData?s("MetricGrid",{attrs:{metrics:t.metricsData}}):t._e(),t.displayDataTable&&!t.tableDataIsEmpty&&t.tableData?s("div",[s("KTable",{class:{"data-table-is-hidden":t.tableDataIsEmpty},attrs:{options:t.tableDataFiltered,"has-hover":""},scopedSlots:t._u([t.displayTableDataStatus?{key:"status",fn:function(e){var a=e.rowValue;return[s("div",{staticClass:"entity-status",class:{"is-offline":"offline"===a.toLowerCase()}},[s("span",{staticClass:"entity-status__dot"}),s("span",{staticClass:"entity-status__label"},[t._v(t._s(a))])])]}}:null,{key:"tags",fn:function(e){var a=e.rowValue;return t._l(a,(function(e,a){return s("span",{key:a,staticClass:"entity-tags",class:"entity-tags--"+a},[s("span",{staticClass:"entity-tags__label",class:"entity-tags__label--"+e.label.toLowerCase(),style:"color: var("+t.tagColors[a].text+") background-color: var("+t.tagColors[a].fill+")"},[t._v("\n              "+t._s(e.label)+"\n            ")]),s("span",{staticClass:"entity-tags__value",class:"entity-tags__value--"+e.value},[t._v("\n              "+t._s(e.value)+"\n            ")])])}))}},{key:"actions",fn:function(e){var a=e.row;return[s("router-link",{attrs:{to:{name:t.tableActionsRouteName,params:{mesh:"mesh"===a.type.toLowerCase()?a.name:a.mesh,dataplane:"dataplane"===a.type.toLowerCase()?a.name:null,trafficpermission:"trafficpermission"===a.type.toLowerCase()?a.name:null,trafficroute:"trafficroute"===a.type.toLowerCase()?a.name:null,trafficlog:"trafficlog"===a.type.toLowerCase()?a.name:null,traffictrace:"traffictrace"===a.type.toLowerCase()?a.name:null,healthcheck:"healthcheck"===a.type.toLowerCase()?a.name:null,proxytemplate:"proxytemplate"===a.type.toLowerCase()?a.name:null,service:"service"===a.type.toLowerCase()?a.name:null}}}},[t._t("tableDataActionsLinkText")],2)]}}],null,!0)}),t.tableData&&t.tableRowCount>t.pageSize?s("Pagination",{staticClass:"ml-2 mr-2 mb-2",attrs:{"has-previous":t.pageNumber>0,"has-next":t.pageNumber<t.pageCount-1},on:{next:t.goToNextPage,previous:t.goToPreviousPage}}):t._e()],1):t._e(),t.displayDataTable&&t.tableDataIsEmpty&&t.tableData?s("KEmptyState",{attrs:{"cta-is-hidden":""}},[s("template",{slot:"title"},[s("div",{staticClass:"card-icon mb-3"},[s("img",{attrs:{src:a("a448")}})]),t._v("\n        No Items Found\n      ")])],2):t._e(),t.$slots.content?s("div",{staticClass:"data-overview-content mt-6"},[t._t("content")],2):t._e()],1):t._e(),t.isLoading?s("KEmptyState",{attrs:{"cta-is-hidden":""}},[s("template",{slot:"title"},[s("div",{staticClass:"card-icon mb-3"},[s("KIcon",{attrs:{icon:"spinner",color:"rgba(0, 0, 0, 0.1)",size:"42"}})],1),t._v("\n      Data Loading...\n    ")])],2):t._e(),t.isEmpty?s("KEmptyState",{attrs:{"cta-is-hidden":""}},[s("template",{slot:"title"},[t._v("\n      "+t._s(t.emptyState.title)+"\n    ")]),t.showCta?s("template",{slot:"message"},[t.ctaAction&&t.ctaAction.length?s("router-link",{attrs:{to:t.ctaAction}},[t._v("\n        "+t._s(t.emptyState.ctaText)+"\n      ")]):t._e(),t._v("\n      "+t._s(t.emptyState.message)+"\n    ")],1):t._e()],2):t._e(),t.hasError?s("KEmptyState",{attrs:{"cta-is-hidden":""}},[s("template",{slot:"title"},[s("div",{staticClass:"card-icon mb-3"},[s("KIcon",{staticClass:"kong-icon--centered",attrs:{color:"var(--yellow-base)",icon:"warning",size:"42"}})],1),t._v("\n      An error has occurred while trying to load this data.\n    ")])],2):t._e()],1)},n=[],i=a("75fc"),r=(a("ac6a"),a("ffc1"),a("be10")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination"},[a("KButton",{attrs:{disabled:!t.hasPrevious,appearance:"primary","data-testid":"previous"},on:{click:function(e){return t.$emit("previous")}}},[t._v("\n    ‹ Previous\n  ")]),a("KButton",{attrs:{disabled:!t.hasNext,appearance:"primary","data-testid":"next"},on:{click:function(e){return t.$emit("next")}}},[t._v("\n    Next ›\n  ")])],1)},l=[],c={name:"Pagination",props:{hasPrevious:{type:Boolean,default:!1},hasNext:{type:Boolean,default:!1}}},u=c,f=(a("12e7"),a("2877")),d=Object(f["a"])(u,o,l,!1,null,"336ceb96",null),p=d.exports,m={name:"DataOverview",components:{MetricGrid:r["a"],Pagination:p},props:{displayMetrics:{type:Boolean,default:!1},metricsData:{type:Array,default:null},isLoading:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},emptyState:{type:Object,default:null},ctaAction:{type:Object,default:function(){}},showCta:{type:Boolean,default:!0},displayDataTable:{type:Boolean,default:!1},tableData:{type:Object,default:null},tableDataIsEmpty:{type:Boolean,default:!1},tableDataActionsLink:{type:String,default:null},tableActionsRouteName:{type:String,default:null},displayTableDataStatus:{type:Boolean,default:!0},displayRefreshControl:{type:Boolean,default:!0}},data:function(){return{pageSize:12,pageNumber:0,lightText:"#fff",darkText:"#000",tagColors:[{fill:"--green-1",text:this.darkText},{fill:"--blue-2",text:this.lightText},{fill:"--blue-4",text:this.lightText},{fill:"--logo-coral",text:this.darkText},{fill:"--logo-mint",text:this.darkText},{fill:"--logo-navy",text:this.lightText},{fill:"--logo-green",text:this.darkText}]}},computed:{isReady:function(){return!this.isEmpty&&!this.hasError&&!this.isLoading},tableRowCount:function(){return Object.entries(this.tableData.data).length},pageCount:function(){var t=Object.entries(this.tableData.data).length,e=this.pageSize;return Math.ceil(t/e)},tableDataFiltered:function(){var t=this.tableData.data,e=this.tableData.headers,a=this.pageNumber*this.pageSize,s=a+this.pageSize,n=t.slice(a,s),r={headers:e,data:Object(i["a"])(n)};return r}},methods:{goToPreviousPage:function(){this.pageNumber--},goToNextPage:function(){this.pageNumber++}}},h=m,g=(a("9947"),Object(f["a"])(h,s,n,!1,null,null,null));e["a"]=g.exports},"3b59":function(t,e,a){},"549b":function(t,e,a){"use strict";var s=a("d864"),n=a("63b6"),i=a("241e"),r=a("b0dc"),o=a("3702"),l=a("b447"),c=a("20fd"),u=a("7cd6");n(n.S+n.F*!a("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,a,n,f,d=i(t),p="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,g=void 0!==h,y=0,v=u(d);if(g&&(h=s(h,m>2?arguments[2]:void 0,2)),void 0==v||p==Array&&o(v))for(e=l(d.length),a=new p(e);e>y;y++)c(a,y,g?h(d[y],y):d[y]);else for(f=v.call(d),a=new p;!(n=f.next()).done;y++)c(a,y,g?r(f,h,[n.value,y],!0):n.value);return a.length=y,a}})},"54a1":function(t,e,a){a("6c1c"),a("1654"),t.exports=a("95d5")},"75fc":function(t,e,a){"use strict";var s=a("a745"),n=a.n(s);function i(t){if(n()(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var r=a("774e"),o=a.n(r),l=a("c8bb"),c=a.n(l);function u(t){if(c()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return o()(t)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){return i(t)||u(t)||f()}a.d(e,"a",(function(){return d}))},"774e":function(t,e,a){t.exports=a("d2d5")},"79b0":function(t,e,a){"use strict";var s=a("9e30"),n=a.n(s);n.a},"95d5":function(t,e,a){var s=a("40c3"),n=a("5168")("iterator"),i=a("481b");t.exports=a("584a").isIterable=function(t){var e=Object(t);return void 0!==e[n]||"@@iterator"in e||i.hasOwnProperty(s(e))}},9947:function(t,e,a){"use strict";var s=a("2699"),n=a.n(s);n.a},"9e30":function(t,e,a){},"9fd9":function(t,e,a){},a448:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0MiI+CiAgPHBhdGggZmlsbD0iI0Q5RDlEOSIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNDggNHY1aC0yVjZIMnYzSDBWMkMwIC44OTU0MzA1Ljg5NTQzMSAwIDIgMGg0NGMxLjEwNDU2OSAwIDIgLjg5NTQzMDUgMiAydjJ6bS0yIDI2aC00di0yaDR2LTNoMnY4aC0ydi0zek0yIDMwdjNIMHYtOGgydjNoNHYySDJ6bTQ0LTEyaC00di0yaDR2LTNoMnY4aC0ydi0zek0yIDE4djNIMHYtOGgydjNoNHYySDJ6bTgtMmg0djJoLTR2LTJ6bTggMGg0djJoLTR2LTJ6bTggMGg0djJoLTR2LTJ6bTggMGg0djJoLTR2LTJ6TTEwIDI4aDR2MmgtNHYtMnptOCAwaDR2MmgtNHYtMnptOCAwaDR2MmgtNHYtMnptOCAwaDR2MmgtNHYtMnptMTIgMTRoLTR2LTJoNHYtM2gydjNjMCAxLjEwNDU2OTUtLjg5NTQzMSAyLTIgMnpNMiA0MGg0djJIMmMtMS4xMDQ1NjkgMC0yLS44OTU0MzA1LTItMnYtM2gydjN6bTggMGg0djJoLTR2LTJ6bTggMGg0djJoLTR2LTJ6bTggMGg0djJoLTR2LTJ6bTggMGg0djJoLTR2LTJ6TTIgMnYyaDQ0VjJIMnoiLz4KPC9zdmc+Cg=="},a745:function(t,e,a){t.exports=a("f410")},be10:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.metrics?a("div",{staticClass:"info-grid"},t._l(t.metrics,(function(e,s){return null!==e.value?a("div",{key:s,staticClass:"metric",class:e.status,attrs:{"data-testid":e.metric}},[a("span",{staticClass:"metric-title"},[t._v(t._s(e.metric))]),a("span",{staticClass:"metric-value",class:{"has-error":s===t.hasError[s]}},[t._v(t._s(t._f("formatError")(t._f("formatValue")(e.value))))])]):t._e()})),0):t._e()},n=[],i=(a("456d"),a("ac6a"),a("6b54"),{name:"MetricsGrid",filters:{formatValue:function(t){return t?t.toLocaleString("en").toString():0},formatError:function(t){return"--"===t?"error calculating":t}},props:{metrics:{type:Array,required:!0,default:function(){}}},computed:{hasError:function(){var t=this,e={};return Object.keys(this.metrics).forEach((function(a){"--"===t.metrics[a].value&&(e[a]=a)})),e}}}),r=i,o=(a("79b0"),a("2877")),l=Object(o["a"])(r,s,n,!1,null,null,null);e["a"]=l.exports},c8bb:function(t,e,a){t.exports=a("54a1")},d2d5:function(t,e,a){a("1654"),a("549b"),t.exports=a("584a").Array.from},f391:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overview"},[a("DataOverview",{attrs:{"has-error":t.hasError,"is-loading":t.isLoading,"is-empty":t.isEmpty,"display-metrics":!0,"metrics-data":t.metricsData,"empty-state":t.empty_state,"display-refresh-control":!1}}),a("YamlView",{attrs:{title:"Entity Overview",content:t.entity}})],1)},n=[],i=a("ff9d"),r=a("2778"),o={name:"Overview",metaInfo:function(){return{title:"".concat(this.$route.meta.title," for ").concat(this.$route.params.mesh)}},components:{DataOverview:r["a"],YamlView:i["a"]},data:function(){return{isLoading:!0,isEmpty:!1,hasError:!1,tableDataIsEmpty:!1,empty_state:{title:"No Data",message:"There are no meshes present."},entity:null}},computed:{metricsData:function(){return[{metric:"Dataplanes",value:this.$store.state.totalDataplaneCountFromMesh},{metric:"Health Checks",value:this.$store.state.totalHealthChecksCountFromMesh},{metric:"Proxy Templates",value:this.$store.state.totalProxyTemplatesCountFromMesh},{metric:"Traffic Logs",value:this.$store.state.totalTrafficLogsCountFromMesh},{metric:"Traffic Permissions",value:this.$store.state.totalTrafficPermissionsCountFromMesh},{metric:"Traffic Routes",value:this.$store.state.totalTrafficRoutesCountFromMesh},{metric:"Traffic Traces",value:this.$store.state.totalTrafficTracesCountFromMesh}]}},watch:{$route:function(t,e){this.bootstrap()}},beforeMount:function(){this.bootstrap()},methods:{getEntity:function(){var t=this,e=this.$route.params.mesh||this.$store.getters.getSelectedMesh;this.$api.getMesh(e).then((function(e){e?t.entity=e:t.$router.push("/404")})).catch((function(e){t.hasError=!0,console.error(e)})).finally((function(){setTimeout((function(){t.isLoading=!1}),"500")}))},bootstrap:function(){this.isLoading=!0,this.isEmpty=!1;var t=this.$route.params.mesh;this.getEntity(),this.$store.dispatch("getDataplaneFromMeshTotalCount",t),this.$store.dispatch("getTrafficRoutesFromMeshTotalCount",t),this.$store.dispatch("getTrafficPermissionsFromMeshTotalCount",t),this.$store.dispatch("getTrafficLogsFromMeshTotalCount",t),this.$store.dispatch("getTrafficTracesFromMeshTotalCount",t),this.$store.dispatch("getHealthChecksFromMeshTotalCount",t),this.$store.dispatch("getProxyTemplatesTotalCount",t)}}},l=o,c=(a("0327"),a("2877")),u=Object(c["a"])(l,s,n,!1,null,null,null);e["default"]=u.exports},f410:function(t,e,a){a("1af6"),t.exports=a("584a").Array.isArray},ffc1:function(t,e,a){var s=a("5ca1"),n=a("504c")(!0);s(s.S,"Object",{entries:function(t){return n(t)}})}}]);